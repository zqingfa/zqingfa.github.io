<!doctype html>
<html lang="zh" dir="ltr" class="docs-wrapper docs-doc-page docs-version-current plugin-docs plugin-id-default docs-doc-id-linux/test/linux-test-2">
<head>
<meta charset="UTF-8">
<meta name="generator" content="Docusaurus v2.2.0">
<title data-rh="true">第 2 章 STREAM 内存测试 - Linux技术分享</title><meta data-rh="true" name="viewport" content="width=device-width,initial-scale=1"><meta data-rh="true" name="twitter:card" content="summary_large_image"><meta data-rh="true" property="og:image" content="https://zhangqf.com/img/logo.png"><meta data-rh="true" name="twitter:image" content="https://zhangqf.com/img/logo.png"><meta data-rh="true" property="og:url" content="https://zhangqf.com/docs/linux-test-2"><meta data-rh="true" name="docusaurus_locale" content="zh"><meta data-rh="true" name="docsearch:language" content="zh"><meta data-rh="true" name="docusaurus_version" content="current"><meta data-rh="true" name="docusaurus_tag" content="docs-default-current"><meta data-rh="true" name="docsearch:version" content="current"><meta data-rh="true" name="docsearch:docusaurus_tag" content="docs-default-current"><meta data-rh="true" property="og:title" content="第 2 章 STREAM 内存测试 - Linux技术分享"><meta data-rh="true" name="description" content="STREAM 软件是内存带宽性能测试的基准工具，也是衡量服务器内存性能指标的通用工具。随着处理器处理核心数量的增多，内存带宽对于提升整个系统性能越发重要，如果某个系统不能足够迅速地将内存中的数据传输到处理器当中，若干处理核心就会处于等待数据的闲置状态，而这其中所产生的闲置时间不仅会降低系统的效率，还会抵消多核心和高主频所带来的性能提升。"><meta data-rh="true" property="og:description" content="STREAM 软件是内存带宽性能测试的基准工具，也是衡量服务器内存性能指标的通用工具。随着处理器处理核心数量的增多，内存带宽对于提升整个系统性能越发重要，如果某个系统不能足够迅速地将内存中的数据传输到处理器当中，若干处理核心就会处于等待数据的闲置状态，而这其中所产生的闲置时间不仅会降低系统的效率，还会抵消多核心和高主频所带来的性能提升。"><meta data-rh="true" name="keywords" content="linux,stream"><link data-rh="true" rel="icon" href="/img/favicon.ico"><link data-rh="true" rel="canonical" href="https://zhangqf.com/docs/linux-test-2"><link data-rh="true" rel="alternate" href="https://zhangqf.com/en/docs/linux-test-2" hreflang="en-GB"><link data-rh="true" rel="alternate" href="https://zhangqf.com/docs/linux-test-2" hreflang="zh"><link data-rh="true" rel="alternate" href="https://zhangqf.com/docs/linux-test-2" hreflang="x-default"><link data-rh="true" rel="preconnect" href="https://9B0V5WT2X8-dsn.algolia.net" crossorigin="anonymous"><link rel="preconnect" href="https://www.google-analytics.com">
<link rel="preconnect" href="https://www.googletagmanager.com">
<script async src="https://www.googletagmanager.com/gtag/js?id=G-S4SD5NXWXF"></script>
<script>function gtag(){dataLayer.push(arguments)}window.dataLayer=window.dataLayer||[],gtag("js",new Date),gtag("config","G-S4SD5NXWXF",{anonymize_ip:!0})</script>


<link rel="search" type="application/opensearchdescription+xml" title="Linux技术分享" href="/opensearch.xml">
<link rel="preconnect" href="https://zhangqf.com/">
<script>var _paq=window._paq=window._paq||[];_paq.push(["setRequestMethod","POST"]),_paq.push(["trackPageView"]),_paq.push(["enableLinkTracking"]),_paq.push(["enableHeartBeatTimer"]),function(){var e="https://zhangqf.com/";_paq.push(["setRequestMethod","POST"]),_paq.push(["setTrackerUrl",e+"matomo.php"]),_paq.push(["setSiteId","1"]);var a=document,t=a.createElement("script"),p=a.getElementsByTagName("script")[0];t.type="text/javascript",t.async=!0,t.src=e+"matomo.js",p.parentNode.insertBefore(t,p)}()</script>


<script>var _hmt=_hmt||[];!function(){var e=document.createElement("script");e.src="https://hm.baidu.com/hm.js?77dc6b24cf1d939292e9fe13be271a96",e.defer=!0;var t=document.getElementsByTagName("script")[0];t.parentNode.insertBefore(e,t)}()</script>
<meta name="baidu-site-verification" content="code-rqLUw5reVS">
<script>!function(){var t=document.createElement("script"),e=window.location.protocol.split(":")[0];t.src="https"===e?"https://zz.bdstatic.com/linksubmit/push.js":"http://push.zhanzhang.baidu.com/push.js",t.defer=!0;var s=document.getElementsByTagName("script")[0];s.parentNode.insertBefore(t,s)}()</script>
<link rel="alternate" type="application/rss+xml" href="/rss.xml" title="zhangqf RSS Feed">
<link rel="alternate" type="application/atom+xml" href="/atom.xml" title="zhangqf Atom Feed">
<link rel="alternate" type="application/json" href="/feed.json" title="zhangqf JSON Feed">

<link rel="icon" href="/img/logo.png">
<link rel="manifest" href="/manifest.json">
<meta name="theme-color" content="rgb(51 139 255)"><link rel="stylesheet" href="/assets/css/styles.86c9ae18.css">
<link rel="preload" href="/assets/js/runtime~main.9e73f1b3.js" as="script">
<link rel="preload" href="/assets/js/main.39d37d57.js" as="script">
</head>
<body class="navigation-with-keyboard">
<script>!function(){function t(t){document.documentElement.setAttribute("data-theme",t)}var e=function(){var t=null;try{t=localStorage.getItem("theme")}catch(t){}return t}();t(null!==e?e:"light")}(),document.documentElement.setAttribute("data-announcement-bar-initially-dismissed",function(){try{return"true"===localStorage.getItem("docusaurus.announcement.dismiss")}catch(t){}return!1}())</script><div id="__docusaurus">
<div role="region" aria-label="跳到主要内容"><a class="skipToContent_fXgn" href="#docusaurus_skipToContent_fallback">跳到主要内容</a></div><div class="announcementBar_mb4j" role="banner"><div class="announcementBarPlaceholder_vyr4"></div><div class="content_knG7 announcementBarContent_xLdY"><span>更新 <a href="/website">网址导航</a> 带你发现感兴趣的技术</span></div><button type="button" aria-label="关闭" class="clean-btn close closeButton_CVFx announcementBarClose_gvF7"><svg viewBox="0 0 15 15" width="14" height="14"><g stroke="currentColor" stroke-width="3.1"><path d="M.75.75l13.5 13.5M14.25.75L.75 14.25"></path></g></svg></button></div><nav class="navbar navbar--fixed-top navbarHideable_m1mJ"><div class="navbar__inner"><div class="navbar__items"><button aria-label="Toggle navigation bar" aria-expanded="false" class="navbar__toggle clean-btn" type="button"><svg width="30" height="30" viewBox="0 0 30 30" aria-hidden="true"><path stroke="currentColor" stroke-linecap="round" stroke-miterlimit="10" stroke-width="2" d="M4 7h22M4 15h22M4 23h22"></path></svg></button><a class="navbar__brand" href="/"><div class="navbar__logo"><img src="/img/logo.webp" alt="zhangqf" class="themedImage_ToTc themedImage--light_HNdA"><img src="/img/logo.webp" alt="zhangqf" class="themedImage_ToTc themedImage--dark_i4oU"></div><b class="navbar__title text--truncate">zhangqf</b></a></div><div class="navbar__items navbar__items--right"><div class="navbar__item dropdown dropdown--hoverable dropdown--right"><a class="navbar__link" aria-haspopup="true" aria-expanded="false" role="button" href="/docs/linux">Linux</a><ul class="dropdown__menu"><li><a class="dropdown__link" href="/docs/category/Linux基础">Linux 基础</a></li><li><a class="dropdown__link" href="/docs/category/Linux进阶">Linux 进阶</a></li><li><a class="dropdown__link" href="/docs/category/Linux测试">Linux 测试</a></li><li><a class="dropdown__link" href="/docs/category/LinuxCICD">Linux CICD研发</a></li></ul></div><div class="navbar__item dropdown dropdown--hoverable dropdown--right"><a href="#" aria-haspopup="true" aria-expanded="false" role="button" class="navbar__link">Blog</a><ul class="dropdown__menu"><li><a class="dropdown__link" href="/tags">标签</a></li><li><a class="dropdown__link" href="/archive">归档</a></li></ul></div><a class="navbar__item navbar__link" href="/docs/skill/">笔记</a><div class="navbar__item dropdown dropdown--hoverable dropdown--right"><a href="#" aria-haspopup="true" aria-expanded="false" role="button" class="navbar__link">工具</a><ul class="dropdown__menu"><li><a class="dropdown__link" href="/docs/tools/">工具推荐</a></li><li><a href="https://api.kuizuo.cn" target="_blank" rel="noopener noreferrer" class="dropdown__link">API服务</a></li><li><a href="https://js-de-obfuscator.vercel.app" target="_blank" rel="noopener noreferrer" class="dropdown__link">JS代码还原</a></li><li><a href="https://cipher.kuizuo.cn" target="_blank" rel="noopener noreferrer" class="dropdown__link">CyberChef加密</a></li></ul></div><a class="navbar__item navbar__link" href="/website">导航</a><a class="navbar__item navbar__link" href="/project">项目</a><div class="navbar__item dropdown dropdown--hoverable dropdown--right"><a href="#" aria-haspopup="true" aria-expanded="false" role="button" class="navbar__link"><svg viewBox="0 0 24 24" width="20" height="20" aria-hidden="true" class="iconLanguage_nlXk"><path fill="currentColor" d="M12.87 15.07l-2.54-2.51.03-.03c1.74-1.94 2.98-4.17 3.71-6.53H17V4h-7V2H8v2H1v1.99h11.17C11.5 7.92 10.44 9.75 9 11.35 8.07 10.32 7.3 9.19 6.69 8h-2c.73 1.63 1.73 3.17 2.98 4.56l-5.09 5.02L4 19l5-5 3.11 3.11.76-2.04zM18.5 10h-2L12 22h2l1.12-3h4.75L21 22h2l-4.5-12zm-2.62 7l1.62-4.33L19.12 17h-3.24z"></path></svg>中文</a><ul class="dropdown__menu"><li><a href="/en/docs/linux-test-2" target="_self" rel="noopener noreferrer" class="dropdown__link" lang="en-GB">English</a></li><li><a href="/docs/linux-test-2" target="_self" rel="noopener noreferrer" class="dropdown__link dropdown__link--active" lang="zh">中文</a></li></ul></div><div class="toggle_vylO colorModeToggle_DEke"><button class="clean-btn toggleButton_gllP toggleButtonDisabled_aARS" type="button" disabled="" title="切换浅色/暗黑模式（当前为浅色模式）" aria-label="切换浅色/暗黑模式（当前为浅色模式）" aria-live="polite"><svg viewBox="0 0 24 24" width="24" height="24" class="lightToggleIcon_pyhR"><path fill="currentColor" d="M12,9c1.65,0,3,1.35,3,3s-1.35,3-3,3s-3-1.35-3-3S10.35,9,12,9 M12,7c-2.76,0-5,2.24-5,5s2.24,5,5,5s5-2.24,5-5 S14.76,7,12,7L12,7z M2,13l2,0c0.55,0,1-0.45,1-1s-0.45-1-1-1l-2,0c-0.55,0-1,0.45-1,1S1.45,13,2,13z M20,13l2,0c0.55,0,1-0.45,1-1 s-0.45-1-1-1l-2,0c-0.55,0-1,0.45-1,1S19.45,13,20,13z M11,2v2c0,0.55,0.45,1,1,1s1-0.45,1-1V2c0-0.55-0.45-1-1-1S11,1.45,11,2z M11,20v2c0,0.55,0.45,1,1,1s1-0.45,1-1v-2c0-0.55-0.45-1-1-1C11.45,19,11,19.45,11,20z M5.99,4.58c-0.39-0.39-1.03-0.39-1.41,0 c-0.39,0.39-0.39,1.03,0,1.41l1.06,1.06c0.39,0.39,1.03,0.39,1.41,0s0.39-1.03,0-1.41L5.99,4.58z M18.36,16.95 c-0.39-0.39-1.03-0.39-1.41,0c-0.39,0.39-0.39,1.03,0,1.41l1.06,1.06c0.39,0.39,1.03,0.39,1.41,0c0.39-0.39,0.39-1.03,0-1.41 L18.36,16.95z M19.42,5.99c0.39-0.39,0.39-1.03,0-1.41c-0.39-0.39-1.03-0.39-1.41,0l-1.06,1.06c-0.39,0.39-0.39,1.03,0,1.41 s1.03,0.39,1.41,0L19.42,5.99z M7.05,18.36c0.39-0.39,0.39-1.03,0-1.41c-0.39-0.39-1.03-0.39-1.41,0l-1.06,1.06 c-0.39,0.39-0.39,1.03,0,1.41s1.03,0.39,1.41,0L7.05,18.36z"></path></svg><svg viewBox="0 0 24 24" width="24" height="24" class="darkToggleIcon_wfgR"><path fill="currentColor" d="M9.37,5.51C9.19,6.15,9.1,6.82,9.1,7.5c0,4.08,3.32,7.4,7.4,7.4c0.68,0,1.35-0.09,1.99-0.27C17.45,17.19,14.93,19,12,19 c-3.86,0-7-3.14-7-7C5,9.07,6.81,6.55,9.37,5.51z M12,3c-4.97,0-9,4.03-9,9s4.03,9,9,9s9-4.03,9-9c0-0.46-0.04-0.92-0.1-1.36 c-0.98,1.37-2.58,2.26-4.4,2.26c-2.98,0-5.4-2.42-5.4-5.4c0-1.81,0.89-3.42,2.26-4.4C12.92,3.04,12.46,3,12,3L12,3z"></path></svg></button></div><div class="searchBox_ZlJk"><button type="button" class="DocSearch DocSearch-Button" aria-label="搜索"><span class="DocSearch-Button-Container"><svg width="20" height="20" class="DocSearch-Search-Icon" viewBox="0 0 20 20"><path d="M14.386 14.386l4.0877 4.0877-4.0877-4.0877c-2.9418 2.9419-7.7115 2.9419-10.6533 0-2.9419-2.9418-2.9419-7.7115 0-10.6533 2.9418-2.9419 7.7115-2.9419 10.6533 0 2.9419 2.9418 2.9419 7.7115 0 10.6533z" stroke="currentColor" fill="none" fill-rule="evenodd" stroke-linecap="round" stroke-linejoin="round"></path></svg><span class="DocSearch-Button-Placeholder">搜索</span></span><span class="DocSearch-Button-Keys"></span></button></div></div></div><div role="presentation" class="navbar-sidebar__backdrop"></div></nav><div id="docusaurus_skipToContent_fallback" class="main-wrapper mainWrapper_z2l0 docsWrapper_BCFX"><button aria-label="回到顶部" class="clean-btn theme-back-to-top-button backToTopButton_sjWU" type="button"></button><div class="docPage__5DB"><aside class="theme-doc-sidebar-container docSidebarContainer_b6E3"><div class="sidebar_njMd sidebarWithHideableNavbar_wUlq"><a tabindex="-1" class="sidebarLogo_isFc" href="/"><img src="/img/logo.webp" alt="zhangqf" class="themedImage_ToTc themedImage--light_HNdA"><img src="/img/logo.webp" alt="zhangqf" class="themedImage_ToTc themedImage--dark_i4oU"><b>zhangqf</b></a><nav class="menu thin-scrollbar menu_SIkG menuWithAnnouncementBar_GW3s"><ul class="theme-doc-sidebar-menu menu__list"><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-1 menu__list-item"><a class="menu__link" href="/docs/linux">linux</a></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist" aria-expanded="false" href="/docs/category/linux基础">Linux基础</a><button aria-label="打开/收起侧边栏菜单「Linux基础」" type="button" class="clean-btn menu__caret"></button></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist" aria-expanded="false" href="/docs/category/linux进阶">Linux进阶</a><button aria-label="打开/收起侧边栏菜单「Linux进阶」" type="button" class="clean-btn menu__caret"></button></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist menu__link--active" aria-expanded="true" href="/docs/category/linux测试">Linux测试</a><button aria-label="打开/收起侧边栏菜单「Linux测试」" type="button" class="clean-btn menu__caret"></button></div><ul style="display:block;overflow:visible;height:auto" class="menu__list"><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/docs/linux-test-1">第 1 章 SPEC CPU 2017 测试</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link menu__link--active" aria-current="page" tabindex="0" href="/docs/linux-test-2">第 2 章 STREAM 内存测试</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/docs/linux-test-3">第 3 章 FIO 磁盘性能测试</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/docs/linux-test-4">第 4 章 Netperf 网络测试</a></li></ul></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist" aria-expanded="false" href="/docs/category/linuxcicd">Linux CICD研发</a><button aria-label="打开/收起侧边栏菜单「Linux CICD研发」" type="button" class="clean-btn menu__caret"></button></div></li></ul></nav><button type="button" title="收起侧边栏" aria-label="收起侧边栏" class="button button--secondary button--outline collapseSidebarButton_PEFL"><svg width="20" height="20" aria-hidden="true" class="collapseSidebarButtonIcon_kv0_"><g fill="#7a7a7a"><path d="M9.992 10.023c0 .2-.062.399-.172.547l-4.996 7.492a.982.982 0 01-.828.454H1c-.55 0-1-.453-1-1 0-.2.059-.403.168-.551l4.629-6.942L.168 3.078A.939.939 0 010 2.528c0-.548.45-.997 1-.997h2.996c.352 0 .649.18.828.45L9.82 9.472c.11.148.172.347.172.55zm0 0"></path><path d="M19.98 10.023c0 .2-.058.399-.168.547l-4.996 7.492a.987.987 0 01-.828.454h-3c-.547 0-.996-.453-.996-1 0-.2.059-.403.168-.551l4.625-6.942-4.625-6.945a.939.939 0 01-.168-.55 1 1 0 01.996-.997h3c.348 0 .649.18.828.45l4.996 7.492c.11.148.168.347.168.55zm0 0"></path></g></svg></button></div></aside><main class="docMainContainer_gTbr"><div class="container padding-top--md padding-bottom--lg"><div class="row"><div class="col docItemCol_VOVn"><div class="docItemContainer_Djhp"><article><nav class="theme-doc-breadcrumbs breadcrumbsContainer_Z_bl" aria-label="页面路径"><ul class="breadcrumbs" itemscope="" itemtype="https://schema.org/BreadcrumbList"><li class="breadcrumbs__item"><a aria-label="主页面" class="breadcrumbs__link" href="/"><svg viewBox="0 0 24 24" class="breadcrumbHomeIcon_OVgt"><path d="M10 19v-5h4v5c0 .55.45 1 1 1h3c.55 0 1-.45 1-1v-7h1.7c.46 0 .68-.57.33-.87L12.67 3.6c-.38-.34-.96-.34-1.34 0l-8.36 7.53c-.34.3-.13.87.33.87H5v7c0 .55.45 1 1 1h3c.55 0 1-.45 1-1z" fill="currentColor"></path></svg></a></li><li itemscope="" itemprop="itemListElement" itemtype="https://schema.org/ListItem" class="breadcrumbs__item"><a class="breadcrumbs__link" itemprop="item" href="/docs/category/linux测试"><span itemprop="name">Linux测试</span></a><meta itemprop="position" content="1"></li><li itemscope="" itemprop="itemListElement" itemtype="https://schema.org/ListItem" class="breadcrumbs__item breadcrumbs__item--active"><span class="breadcrumbs__link" itemprop="name">第 2 章 STREAM 内存测试</span><meta itemprop="position" content="2"></li></ul></nav><div class="tocCollapsible_ETCw theme-doc-toc-mobile tocMobile_ITEo"><button type="button" class="clean-btn tocCollapsibleButton_TO0P">本页总览</button></div><div class="theme-doc-markdown markdown"><header><h1>第 2 章 STREAM 内存测试</h1></header><p>STREAM 软件是内存带宽性能测试的基准工具，也是衡量服务器内存性能指标的通用工具。随着处理器处理核心数量的增多，内存带宽对于提升整个系统性能越发重要，如果某个系统不能足够迅速地将内存中的数据传输到处理器当中，若干处理核心就会处于等待数据的闲置状态，而这其中所产生的闲置时间不仅会降低系统的效率，还会抵消多核心和高主频所带来的性能提升。</p><p>STREAM 软件具有良好的空间局部性，是对转换检测缓冲区 TLB（Translation Lookaside Buffer）友好、缓存友好的一款软件。STREAM 软件支持复制（Copy）、尺度变换（Scale）、矢量求和（Add）、复合矢量求和（Triad）四种运算方式测试内存带宽的性能。</p><h2 class="anchor anchorWithHideOnScrollNavbar_WYt5" id="21stream-安装">2.1、Stream 安装<a class="hash-link" href="#21stream-安装" title="标题的直接链接">​</a></h2><p>官方源码地址：<a href="http://www.cs.virginia.edu/stream/FTP/Code/stream.c" target="_blank" rel="noopener noreferrer">http://www.cs.virginia.edu/stream/FTP/Code/stream.c</a></p><div class="language-bash codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#000000;--prism-background-color:#ffffff"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-bash codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#000000"><span class="token punctuation" style="color:rgb(4, 81, 165)">[</span><span class="token plain">root@brinnatt ~</span><span class="token punctuation" style="color:rgb(4, 81, 165)">]</span><span class="token comment" style="color:rgb(0, 128, 0)"># wget http://www.cs.virginia.edu/stream/FTP/Code/stream.c</span><span class="token plain"></span><br></span><span class="token-line" style="color:#000000"><span class="token plain"></span><span class="token punctuation" style="color:rgb(4, 81, 165)">[</span><span class="token plain">root@brinnatt ~</span><span class="token punctuation" style="color:rgb(4, 81, 165)">]</span><span class="token comment" style="color:rgb(0, 128, 0)"># yum install gcc -y</span><span class="token plain"></span><br></span><span class="token-line" style="color:#000000"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#000000"><span class="token plain"></span><span class="token comment" style="color:rgb(0, 128, 0)"># stream 版本 5.9 使用</span><span class="token plain"></span><br></span><span class="token-line" style="color:#000000"><span class="token plain"></span><span class="token punctuation" style="color:rgb(4, 81, 165)">[</span><span class="token plain">root@brinnatt ~</span><span class="token punctuation" style="color:rgb(4, 81, 165)">]</span><span class="token comment" style="color:rgb(0, 128, 0)"># gcc -O3 -fopenmp -DN=2000000 -DNTIMES=10 stream.c -o stream</span><span class="token plain"></span><br></span><span class="token-line" style="color:#000000"><span class="token plain"></span><span class="token comment" style="color:rgb(0, 128, 0)"># stream 版本 5.10 使用</span><span class="token plain"></span><br></span><span class="token-line" style="color:#000000"><span class="token plain"></span><span class="token punctuation" style="color:rgb(4, 81, 165)">[</span><span class="token plain">root@brinnatt ~</span><span class="token punctuation" style="color:rgb(4, 81, 165)">]</span><span class="token comment" style="color:rgb(0, 128, 0)"># gcc -O3 -fopenmp -DSTREAM_ARRAY_SIZE=10000000 -DNTIMES=10 stream.c -o stream</span><span class="token plain"></span><br></span><span class="token-line" style="color:#000000"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#000000"><span class="token plain"></span><span class="token punctuation" style="color:rgb(4, 81, 165)">[</span><span class="token plain">root@brinnatt ~</span><span class="token punctuation" style="color:rgb(4, 81, 165)">]</span><span class="token comment" style="color:rgb(0, 128, 0)"># ls stream*</span><span class="token plain"></span><br></span><span class="token-line" style="color:#000000"><span class="token plain">stream  stream.c</span><br></span><span class="token-line" style="color:#000000"><span class="token plain"></span><span class="token punctuation" style="color:rgb(4, 81, 165)">[</span><span class="token plain">root@brinnatt ~</span><span class="token punctuation" style="color:rgb(4, 81, 165)">]</span><span class="token comment" style="color:rgb(0, 128, 0)">#</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="复制代码到剪贴板" title="复制" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg class="copyButtonIcon_y97N" viewBox="0 0 24 24"><path d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg class="copyButtonSuccessIcon_LjdS" viewBox="0 0 24 24"><path d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><ul><li>-<!-- -->O3：指定最高编译优化级别，即 3</li><li>-<!-- -->fopenmp：启用 OpenMP，适应多处理器环境，更能得到内存带宽实际最大值。开启后，程序默认运行线程为 CPU 线程数</li><li>-<!-- -->DN=2000000：指定测试数组 <code>a[]、b[]、c[]</code> 的大小（Array size）。该值对测试结果影响较大（5.9 版本默认值 2000000，若 stream.c 为 5.10 版本，参数名变为 -DSTREAM<!-- -->_<!-- -->ARRAY<!-- -->_<!-- -->SIZE，默认值 10000000）。<ul><li>注意：必须设置测试数组大小远大于 CPU 最高级缓存（一般为 L3 Cache）的大小，否则就是测试 CPU 缓存的吞吐性能，而非内存吞吐性能。</li></ul></li><li>-<!-- -->DNTIMES=10：执行的次数，并从这些结果中选最优值。</li><li>stream.c：待编译的源码文件</li><li>stream：输出的可执行文件名</li><li>其他参数：<ul><li>-<!-- -->mtune=native -march=native：针对 CPU 指令的优化，-mtune=native会在已选指令集约束下生成本地机器优化代码；使用-march=native将启用本地机器支持的所有指令子集。更多编译器对 CPU 的<a href="http://gcc.gnu.org/onlinedocs/gcc-4.5.3/gcc/i386-and-x86_002d64-Options.html" target="_blank" rel="noopener noreferrer">优化参考</a></li><li>-<!-- -->mcmodel=medium ：当单个 Memory Array Size 大于 2GB 时需要设置此参数</li><li>-<!-- -->DOFFSET=4096 ：数组的偏移，一般可以不定义</li></ul></li></ul><p>推荐计算公式：<strong>{最高级缓存X MB}×1024×1024×4.1×CPU路数/8</strong>，结果取整数。</p><p>解释：由于 stream.c 源码推荐设置至少 4 倍最高级缓存，且 STREAM<!-- -->_<!-- -->ARRAY<!-- -->_<!-- -->SIZE 为 double 类型 = 8 Byte。所以公式为：最高级缓存(单位：Byte)×4.1倍×CPU路数/8。</p><p>例如：测试机器是双路 CPU，最高级缓存 32MB，则计算值为 32×1024×1024×4.1×2/8≈34393292。</p><p><img loading="lazy" alt="stream" src="/assets/images/stream-a24ac34d87fb54ad985c9f80c3e9b3e5.png" width="802" height="543" class="img_ev3q"></p><h2 class="anchor anchorWithHideOnScrollNavbar_WYt5" id="22stream-使用">2.2、Stream 使用<a class="hash-link" href="#22stream-使用" title="标题的直接链接">​</a></h2><h3 class="anchor anchorWithHideOnScrollNavbar_WYt5" id="221硬件环境准备">2.2.1、硬件环境准备<a class="hash-link" href="#221硬件环境准备" title="标题的直接链接">​</a></h3><table><thead><tr><th>配置</th><th>x86</th><th>arm64-single</th><th>arm64-double</th></tr></thead><tbody><tr><td>CPU</td><td>X86(Gold 6138)</td><td>arm64-64core</td><td>arm64-128core</td></tr><tr><td>CPU L3 Cache</td><td>40MB</td><td>35MB</td><td>35MB</td></tr><tr><td>MEM Brand</td><td>same brand</td><td>same brand</td><td>same brand</td></tr><tr><td>MEM Frequency</td><td>2666</td><td>2666</td><td>2666</td></tr><tr><td>MEM Size</td><td>256G</td><td>256G</td><td>256G</td></tr><tr><td>DISK</td><td>480G(SSD)</td><td>480G(SSD)</td><td>480G(SSD)</td></tr></tbody></table><h3 class="anchor anchorWithHideOnScrollNavbar_WYt5" id="222开始测试">2.2.2、开始测试<a class="hash-link" href="#222开始测试" title="标题的直接链接">​</a></h3><p>使用命令指定运行线程为 X：export OMP<!-- -->_<!-- -->NUM<!-- -->_<!-- -->THREADS=X</p><p>在编译输出的可执行文件（stream）所在目录下运行：</p><div class="language-bash codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#000000;--prism-background-color:#ffffff"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-bash codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#000000"><span class="token punctuation" style="color:rgb(4, 81, 165)">[</span><span class="token plain">root@brinnatt ~</span><span class="token punctuation" style="color:rgb(4, 81, 165)">]</span><span class="token comment" style="color:rgb(0, 128, 0)"># export OMP_NUM_THREADS=4</span><span class="token plain"></span><br></span><span class="token-line" style="color:#000000"><span class="token plain"></span><span class="token punctuation" style="color:rgb(4, 81, 165)">[</span><span class="token plain">root@brinnatt ~</span><span class="token punctuation" style="color:rgb(4, 81, 165)">]</span><span class="token comment" style="color:rgb(0, 128, 0)"># ./stream </span><span class="token plain"></span><br></span><span class="token-line" style="color:#000000"><span class="token plain">-------------------------------------------------------------</span><br></span><span class="token-line" style="color:#000000"><span class="token plain">STREAM version </span><span class="token variable" style="color:rgb(9, 134, 88)">$Revision</span><span class="token builtin class-name" style="color:rgb(38, 127, 153)">:</span><span class="token plain"> </span><span class="token number" style="color:rgb(9, 134, 88)">5.10</span><span class="token plain"> $</span><br></span><span class="token-line" style="color:#000000"><span class="token plain">-------------------------------------------------------------</span><br></span><span class="token-line" style="color:#000000"><span class="token plain">This system uses </span><span class="token number" style="color:rgb(9, 134, 88)">8</span><span class="token plain"> bytes per array element.</span><br></span><span class="token-line" style="color:#000000"><span class="token plain">-------------------------------------------------------------</span><br></span><span class="token-line" style="color:#000000"><span class="token plain">Array size </span><span class="token operator" style="color:rgb(0, 0, 0)">=</span><span class="token plain"> </span><span class="token number" style="color:rgb(9, 134, 88)">10000000</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(4, 81, 165)">(</span><span class="token plain">elements</span><span class="token punctuation" style="color:rgb(4, 81, 165)">)</span><span class="token plain">, Offset </span><span class="token operator" style="color:rgb(0, 0, 0)">=</span><span class="token plain"> </span><span class="token number" style="color:rgb(9, 134, 88)">0</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(4, 81, 165)">(</span><span class="token plain">elements</span><span class="token punctuation" style="color:rgb(4, 81, 165)">)</span><span class="token plain"></span><br></span><span class="token-line" style="color:#000000"><span class="token plain">Memory per array </span><span class="token operator" style="color:rgb(0, 0, 0)">=</span><span class="token plain"> </span><span class="token number" style="color:rgb(9, 134, 88)">76.3</span><span class="token plain"> MiB </span><span class="token punctuation" style="color:rgb(4, 81, 165)">(</span><span class="token operator" style="color:rgb(0, 0, 0)">=</span><span class="token plain"> </span><span class="token number" style="color:rgb(9, 134, 88)">0.1</span><span class="token plain"> GiB</span><span class="token punctuation" style="color:rgb(4, 81, 165)">)</span><span class="token plain">.</span><br></span><span class="token-line" style="color:#000000"><span class="token plain">Total memory required </span><span class="token operator" style="color:rgb(0, 0, 0)">=</span><span class="token plain"> </span><span class="token number" style="color:rgb(9, 134, 88)">228.9</span><span class="token plain"> MiB </span><span class="token punctuation" style="color:rgb(4, 81, 165)">(</span><span class="token operator" style="color:rgb(0, 0, 0)">=</span><span class="token plain"> </span><span class="token number" style="color:rgb(9, 134, 88)">0.2</span><span class="token plain"> GiB</span><span class="token punctuation" style="color:rgb(4, 81, 165)">)</span><span class="token plain">.</span><br></span><span class="token-line" style="color:#000000"><span class="token plain">Each kernel will be executed </span><span class="token number" style="color:rgb(9, 134, 88)">10</span><span class="token plain"> times.</span><br></span><span class="token-line" style="color:#000000"><span class="token plain"> The *best* </span><span class="token function" style="color:rgb(0, 0, 255)">time</span><span class="token plain"> </span><span class="token keyword" style="color:rgb(0, 0, 255)">for</span><span class="token plain"> each kernel </span><span class="token punctuation" style="color:rgb(4, 81, 165)">(</span><span class="token plain">excluding the first iteration</span><span class="token punctuation" style="color:rgb(4, 81, 165)">)</span><span class="token plain"></span><br></span><span class="token-line" style="color:#000000"><span class="token plain"> will be used to compute the reported bandwidth.</span><br></span><span class="token-line" style="color:#000000"><span class="token plain">-------------------------------------------------------------</span><br></span><span class="token-line" style="color:#000000"><span class="token plain">Number of Threads requested </span><span class="token operator" style="color:rgb(0, 0, 0)">=</span><span class="token plain"> </span><span class="token number" style="color:rgb(9, 134, 88)">4</span><span class="token plain"></span><br></span><span class="token-line" style="color:#000000"><span class="token plain">Number of Threads counted </span><span class="token operator" style="color:rgb(0, 0, 0)">=</span><span class="token plain"> </span><span class="token number" style="color:rgb(9, 134, 88)">4</span><span class="token plain"></span><br></span><span class="token-line" style="color:#000000"><span class="token plain">-------------------------------------------------------------</span><br></span><span class="token-line" style="color:#000000"><span class="token plain">Your clock granularity/precision appears to be </span><span class="token number" style="color:rgb(9, 134, 88)">1</span><span class="token plain"> microseconds.</span><br></span><span class="token-line" style="color:#000000"><span class="token plain">Each </span><span class="token builtin class-name" style="color:rgb(38, 127, 153)">test</span><span class="token plain"> below will take on the order of </span><span class="token number" style="color:rgb(9, 134, 88)">11300</span><span class="token plain"> microseconds.</span><br></span><span class="token-line" style="color:#000000"><span class="token plain">   </span><span class="token punctuation" style="color:rgb(4, 81, 165)">(</span><span class="token operator" style="color:rgb(0, 0, 0)">=</span><span class="token plain"> </span><span class="token number" style="color:rgb(9, 134, 88)">11300</span><span class="token plain"> clock ticks</span><span class="token punctuation" style="color:rgb(4, 81, 165)">)</span><span class="token plain"></span><br></span><span class="token-line" style="color:#000000"><span class="token plain">Increase the size of the arrays </span><span class="token keyword" style="color:rgb(0, 0, 255)">if</span><span class="token plain"> this shows that</span><br></span><span class="token-line" style="color:#000000"><span class="token plain">you are not getting at least </span><span class="token number" style="color:rgb(9, 134, 88)">20</span><span class="token plain"> clock ticks per test.</span><br></span><span class="token-line" style="color:#000000"><span class="token plain">-------------------------------------------------------------</span><br></span><span class="token-line" style="color:#000000"><span class="token plain">WARNING -- The above is only a rough guideline.</span><br></span><span class="token-line" style="color:#000000"><span class="token plain">For best results, please be sure you know the</span><br></span><span class="token-line" style="color:#000000"><span class="token plain">precision of your system timer.</span><br></span><span class="token-line" style="color:#000000"><span class="token plain">-------------------------------------------------------------</span><br></span><span class="token-line" style="color:#000000"><span class="token plain">Function    Best Rate MB/s  Avg </span><span class="token function" style="color:rgb(0, 0, 255)">time</span><span class="token plain">     Min </span><span class="token function" style="color:rgb(0, 0, 255)">time</span><span class="token plain">     Max </span><span class="token function" style="color:rgb(0, 0, 255)">time</span><span class="token plain"></span><br></span><span class="token-line" style="color:#000000"><span class="token plain">Copy:            </span><span class="token number" style="color:rgb(9, 134, 88)">7714.9</span><span class="token plain">     </span><span class="token number" style="color:rgb(9, 134, 88)">0.021200</span><span class="token plain">     </span><span class="token number" style="color:rgb(9, 134, 88)">0.020739</span><span class="token plain">     </span><span class="token number" style="color:rgb(9, 134, 88)">0.021659</span><span class="token plain"></span><br></span><span class="token-line" style="color:#000000"><span class="token plain">Scale:           </span><span class="token number" style="color:rgb(9, 134, 88)">9229.3</span><span class="token plain">     </span><span class="token number" style="color:rgb(9, 134, 88)">0.018590</span><span class="token plain">     </span><span class="token number" style="color:rgb(9, 134, 88)">0.017336</span><span class="token plain">     </span><span class="token number" style="color:rgb(9, 134, 88)">0.027080</span><span class="token plain"></span><br></span><span class="token-line" style="color:#000000"><span class="token plain">Add:             </span><span class="token number" style="color:rgb(9, 134, 88)">9798.3</span><span class="token plain">     </span><span class="token number" style="color:rgb(9, 134, 88)">0.024819</span><span class="token plain">     </span><span class="token number" style="color:rgb(9, 134, 88)">0.024494</span><span class="token plain">     </span><span class="token number" style="color:rgb(9, 134, 88)">0.025226</span><span class="token plain"></span><br></span><span class="token-line" style="color:#000000"><span class="token plain">Triad:           </span><span class="token number" style="color:rgb(9, 134, 88)">9795.6</span><span class="token plain">     </span><span class="token number" style="color:rgb(9, 134, 88)">0.026176</span><span class="token plain">     </span><span class="token number" style="color:rgb(9, 134, 88)">0.024501</span><span class="token plain">     </span><span class="token number" style="color:rgb(9, 134, 88)">0.038130</span><span class="token plain"></span><br></span><span class="token-line" style="color:#000000"><span class="token plain">-------------------------------------------------------------</span><br></span><span class="token-line" style="color:#000000"><span class="token plain">Solution Validates: avg error </span><span class="token function" style="color:rgb(0, 0, 255)">less</span><span class="token plain"> than </span><span class="token number" style="color:rgb(9, 134, 88)">1</span><span class="token plain">.000000e-13 on all three arrays</span><br></span><span class="token-line" style="color:#000000"><span class="token plain">-------------------------------------------------------------</span><br></span><span class="token-line" style="color:#000000"><span class="token plain"></span><span class="token punctuation" style="color:rgb(4, 81, 165)">[</span><span class="token plain">root@brinnatt ~</span><span class="token punctuation" style="color:rgb(4, 81, 165)">]</span><span class="token comment" style="color:rgb(0, 128, 0)">#</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="复制代码到剪贴板" title="复制" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg class="copyButtonIcon_y97N" viewBox="0 0 24 24"><path d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg class="copyButtonSuccessIcon_LjdS" viewBox="0 0 24 24"><path d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><h2 class="anchor anchorWithHideOnScrollNavbar_WYt5" id="23测试结果">2.3、测试结果<a class="hash-link" href="#23测试结果" title="标题的直接链接">​</a></h2><p><img loading="lazy" alt="stream data" src="/assets/images/stream data-d5cefa81a3541ffcfdefc68b339e8a75.png" width="836" height="141" class="img_ev3q"></p><h2 class="anchor anchorWithHideOnScrollNavbar_WYt5" id="a附录">A、附录<a class="hash-link" href="#a附录" title="标题的直接链接">​</a></h2><h3 class="anchor anchorWithHideOnScrollNavbar_WYt5" id="a1memtester-测试">A1、memtester 测试<a class="hash-link" href="#a1memtester-测试" title="标题的直接链接">​</a></h3><p>memtester 是 Simon Kirby 在 1999 年编写的测试程序（v1 版），后来由 Charles Cazabon 一直维护更新（v2及之后版本），主要面向 Unix-like 系统，官方主页上介绍的是 &quot;A userspace utility for testing the memory subsystem for faults.&quot;，其实就是为了测试内存（主要DDR）的读写访问可靠性（仅正确性，与速度性能无关），这是验证板级硬件设备必不可少的一项测试。</p><p>整个 memtester 测试的视角就是从用户的角度来看的，从用户角度设立不同的测试场景即测试用例，然后针对性地进行功能测试，注意是从系统级来测试，也就是说关注的不单单是内存颗粒了，还有系统板级的连线、IO 性能、PCB 等等相关的因素，在这些因素的影响下，内存是否还能正常工作。</p><p>官方地址：<a href="https://pyropus.ca./software/memtester/" target="_blank" rel="noopener noreferrer">https://pyropus.ca./software/memtester/</a></p><p>下载安装：</p><div class="language-bash codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#000000;--prism-background-color:#ffffff"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-bash codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#000000"><span class="token punctuation" style="color:rgb(4, 81, 165)">[</span><span class="token plain">root@brinnatt ~</span><span class="token punctuation" style="color:rgb(4, 81, 165)">]</span><span class="token comment" style="color:rgb(0, 128, 0)"># wget --no-check-certificate https://pyropus.ca./software/memtester/old-versions/memtester-4.5.1.tar.gz</span><span class="token plain"></span><br></span><span class="token-line" style="color:#000000"><span class="token plain"></span><span class="token punctuation" style="color:rgb(4, 81, 165)">[</span><span class="token plain">root@brinnatt ~</span><span class="token punctuation" style="color:rgb(4, 81, 165)">]</span><span class="token comment" style="color:rgb(0, 128, 0)"># tar xf memtester-4.5.1.tar.gz </span><span class="token plain"></span><br></span><span class="token-line" style="color:#000000"><span class="token plain"></span><span class="token punctuation" style="color:rgb(4, 81, 165)">[</span><span class="token plain">root@brinnatt ~</span><span class="token punctuation" style="color:rgb(4, 81, 165)">]</span><span class="token comment" style="color:rgb(0, 128, 0)"># cd memtester-4.5.1/</span><span class="token plain"></span><br></span><span class="token-line" style="color:#000000"><span class="token plain"></span><span class="token punctuation" style="color:rgb(4, 81, 165)">[</span><span class="token plain">root@brinnatt memtester-4.5.1</span><span class="token punctuation" style="color:rgb(4, 81, 165)">]</span><span class="token comment" style="color:rgb(0, 128, 0)"># ls</span><span class="token plain"></span><br></span><span class="token-line" style="color:#000000"><span class="token plain">BUGS       COPYING          Makefile         memtester.c   sizes.h   types.h</span><br></span><span class="token-line" style="color:#000000"><span class="token plain">CHANGELOG  extra-libs.sh    make-load.sh     memtester.h   tests.c   warn-auto.sh</span><br></span><span class="token-line" style="color:#000000"><span class="token plain">conf-cc    find-systype.sh  make-makelib.sh  README        tests.h</span><br></span><span class="token-line" style="color:#000000"><span class="token plain">conf-ld    make-compile.sh  memtester.8      README.tests  trycpp.c</span><br></span><span class="token-line" style="color:#000000"><span class="token plain"></span><span class="token punctuation" style="color:rgb(4, 81, 165)">[</span><span class="token plain">root@brinnatt memtester-4.5.1</span><span class="token punctuation" style="color:rgb(4, 81, 165)">]</span><span class="token comment" style="color:rgb(0, 128, 0)">#</span><span class="token plain"></span><br></span><span class="token-line" style="color:#000000"><span class="token plain"></span><span class="token punctuation" style="color:rgb(4, 81, 165)">[</span><span class="token plain">root@brinnatt memtester-4.5.1</span><span class="token punctuation" style="color:rgb(4, 81, 165)">]</span><span class="token comment" style="color:rgb(0, 128, 0)"># yum install gcc -y</span><span class="token plain"></span><br></span><span class="token-line" style="color:#000000"><span class="token plain"></span><span class="token punctuation" style="color:rgb(4, 81, 165)">[</span><span class="token plain">root@brinnatt memtester-4.5.1</span><span class="token punctuation" style="color:rgb(4, 81, 165)">]</span><span class="token comment" style="color:rgb(0, 128, 0)"># make &amp;&amp; make install</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="复制代码到剪贴板" title="复制" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg class="copyButtonIcon_y97N" viewBox="0 0 24 24"><path d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg class="copyButtonSuccessIcon_LjdS" viewBox="0 0 24 24"><path d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><p>测试：</p><div class="language-bash codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#000000;--prism-background-color:#ffffff"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-bash codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#000000"><span class="token punctuation" style="color:rgb(4, 81, 165)">[</span><span class="token plain">root@brinnatt ~</span><span class="token punctuation" style="color:rgb(4, 81, 165)">]</span><span class="token comment" style="color:rgb(0, 128, 0)"># memtester -h</span><span class="token plain"></span><br></span><span class="token-line" style="color:#000000"><span class="token plain">memtester version </span><span class="token number" style="color:rgb(9, 134, 88)">4.5</span><span class="token plain">.1 </span><span class="token punctuation" style="color:rgb(4, 81, 165)">(</span><span class="token number" style="color:rgb(9, 134, 88)">64</span><span class="token plain">-bit</span><span class="token punctuation" style="color:rgb(4, 81, 165)">)</span><span class="token plain"></span><br></span><span class="token-line" style="color:#000000"><span class="token plain">Copyright </span><span class="token punctuation" style="color:rgb(4, 81, 165)">(</span><span class="token plain">C</span><span class="token punctuation" style="color:rgb(4, 81, 165)">)</span><span class="token plain"> </span><span class="token number" style="color:rgb(9, 134, 88)">2001</span><span class="token plain">-2020 Charles Cazabon.</span><br></span><span class="token-line" style="color:#000000"><span class="token plain">Licensed under the GNU General Public License version </span><span class="token number" style="color:rgb(9, 134, 88)">2</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(4, 81, 165)">(</span><span class="token plain">only</span><span class="token punctuation" style="color:rgb(4, 81, 165)">)</span><span class="token plain">.</span><br></span><span class="token-line" style="color:#000000"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#000000"><span class="token plain">pagesize is </span><span class="token number" style="color:rgb(9, 134, 88)">65536</span><span class="token plain"></span><br></span><span class="token-line" style="color:#000000"><span class="token plain">pagesizemask is 0xffffffffffff0000</span><br></span><span class="token-line" style="color:#000000"><span class="token plain">memtester: invalid option -- </span><span class="token string" style="color:rgb(163, 21, 21)">&#x27;h&#x27;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#000000"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#000000"><span class="token plain">Usage: memtester </span><span class="token punctuation" style="color:rgb(4, 81, 165)">[</span><span class="token plain">-p physaddrbase </span><span class="token punctuation" style="color:rgb(4, 81, 165)">[</span><span class="token plain">-d device</span><span class="token punctuation" style="color:rgb(4, 81, 165)">]</span><span class="token punctuation" style="color:rgb(4, 81, 165)">]</span><span class="token plain"> </span><span class="token operator" style="color:rgb(0, 0, 0)">&lt;</span><span class="token plain">mem</span><span class="token operator" style="color:rgb(0, 0, 0)">&gt;</span><span class="token punctuation" style="color:rgb(4, 81, 165)">[</span><span class="token plain">B</span><span class="token operator" style="color:rgb(0, 0, 0)">|</span><span class="token plain">K</span><span class="token operator" style="color:rgb(0, 0, 0)">|</span><span class="token plain">M</span><span class="token operator" style="color:rgb(0, 0, 0)">|</span><span class="token plain">G</span><span class="token punctuation" style="color:rgb(4, 81, 165)">]</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(4, 81, 165)">[</span><span class="token plain">loops</span><span class="token punctuation" style="color:rgb(4, 81, 165)">]</span><span class="token plain"></span><br></span><span class="token-line" style="color:#000000"><span class="token plain"></span><span class="token punctuation" style="color:rgb(4, 81, 165)">[</span><span class="token plain">root@brinnatt ~</span><span class="token punctuation" style="color:rgb(4, 81, 165)">]</span><span class="token comment" style="color:rgb(0, 128, 0)">#</span><span class="token plain"></span><br></span><span class="token-line" style="color:#000000"><span class="token plain"></span><span class="token punctuation" style="color:rgb(4, 81, 165)">[</span><span class="token plain">root@brinnatt ~</span><span class="token punctuation" style="color:rgb(4, 81, 165)">]</span><span class="token comment" style="color:rgb(0, 128, 0)"># memtester 1G 1</span><span class="token plain"></span><br></span><span class="token-line" style="color:#000000"><span class="token plain">memtester version </span><span class="token number" style="color:rgb(9, 134, 88)">4.5</span><span class="token plain">.1 </span><span class="token punctuation" style="color:rgb(4, 81, 165)">(</span><span class="token number" style="color:rgb(9, 134, 88)">64</span><span class="token plain">-bit</span><span class="token punctuation" style="color:rgb(4, 81, 165)">)</span><span class="token plain"></span><br></span><span class="token-line" style="color:#000000"><span class="token plain">Copyright </span><span class="token punctuation" style="color:rgb(4, 81, 165)">(</span><span class="token plain">C</span><span class="token punctuation" style="color:rgb(4, 81, 165)">)</span><span class="token plain"> </span><span class="token number" style="color:rgb(9, 134, 88)">2001</span><span class="token plain">-2020 Charles Cazabon.</span><br></span><span class="token-line" style="color:#000000"><span class="token plain">Licensed under the GNU General Public License version </span><span class="token number" style="color:rgb(9, 134, 88)">2</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(4, 81, 165)">(</span><span class="token plain">only</span><span class="token punctuation" style="color:rgb(4, 81, 165)">)</span><span class="token plain">.</span><br></span><span class="token-line" style="color:#000000"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#000000"><span class="token plain">pagesize is </span><span class="token number" style="color:rgb(9, 134, 88)">65536</span><span class="token plain"></span><br></span><span class="token-line" style="color:#000000"><span class="token plain">pagesizemask is 0xffffffffffff0000</span><br></span><span class="token-line" style="color:#000000"><span class="token plain">want 1024MB </span><span class="token punctuation" style="color:rgb(4, 81, 165)">(</span><span class="token number" style="color:rgb(9, 134, 88)">1073741824</span><span class="token plain"> bytes</span><span class="token punctuation" style="color:rgb(4, 81, 165)">)</span><span class="token plain"></span><br></span><span class="token-line" style="color:#000000"><span class="token plain">got  1024MB </span><span class="token punctuation" style="color:rgb(4, 81, 165)">(</span><span class="token number" style="color:rgb(9, 134, 88)">1073741824</span><span class="token plain"> bytes</span><span class="token punctuation" style="color:rgb(4, 81, 165)">)</span><span class="token plain">, trying mlock </span><span class="token punctuation" style="color:rgb(4, 81, 165)">..</span><span class="token plain">.locked.</span><br></span><span class="token-line" style="color:#000000"><span class="token plain">Loop </span><span class="token number" style="color:rgb(9, 134, 88)">1</span><span class="token plain">/1:</span><br></span><span class="token-line" style="color:#000000"><span class="token plain">  Stuck Address       </span><span class="token builtin class-name" style="color:rgb(38, 127, 153)">:</span><span class="token plain"> ok         </span><br></span><span class="token-line" style="color:#000000"><span class="token plain">  Random Value        </span><span class="token builtin class-name" style="color:rgb(38, 127, 153)">:</span><span class="token plain"> ok</span><br></span><span class="token-line" style="color:#000000"><span class="token plain">  Compare XOR         </span><span class="token builtin class-name" style="color:rgb(38, 127, 153)">:</span><span class="token plain"> ok</span><br></span><span class="token-line" style="color:#000000"><span class="token plain">  Compare SUB         </span><span class="token builtin class-name" style="color:rgb(38, 127, 153)">:</span><span class="token plain"> ok</span><br></span><span class="token-line" style="color:#000000"><span class="token plain">  Compare MUL         </span><span class="token builtin class-name" style="color:rgb(38, 127, 153)">:</span><span class="token plain"> ok</span><br></span><span class="token-line" style="color:#000000"><span class="token plain">  Compare DIV         </span><span class="token builtin class-name" style="color:rgb(38, 127, 153)">:</span><span class="token plain"> ok</span><br></span><span class="token-line" style="color:#000000"><span class="token plain">  Compare OR          </span><span class="token builtin class-name" style="color:rgb(38, 127, 153)">:</span><span class="token plain"> ok</span><br></span><span class="token-line" style="color:#000000"><span class="token plain">  Compare AND         </span><span class="token builtin class-name" style="color:rgb(38, 127, 153)">:</span><span class="token plain"> ok</span><br></span><span class="token-line" style="color:#000000"><span class="token plain">  Sequential Increment: ok</span><br></span><span class="token-line" style="color:#000000"><span class="token plain">  Solid Bits          </span><span class="token builtin class-name" style="color:rgb(38, 127, 153)">:</span><span class="token plain"> ok         </span><br></span><span class="token-line" style="color:#000000"><span class="token plain">  Block Sequential    </span><span class="token builtin class-name" style="color:rgb(38, 127, 153)">:</span><span class="token plain"> ok         </span><br></span><span class="token-line" style="color:#000000"><span class="token plain">  Checkerboard        </span><span class="token builtin class-name" style="color:rgb(38, 127, 153)">:</span><span class="token plain"> ok         </span><br></span><span class="token-line" style="color:#000000"><span class="token plain">  Bit Spread          </span><span class="token builtin class-name" style="color:rgb(38, 127, 153)">:</span><span class="token plain"> ok         </span><br></span><span class="token-line" style="color:#000000"><span class="token plain">  Bit Flip            </span><span class="token builtin class-name" style="color:rgb(38, 127, 153)">:</span><span class="token plain"> ok         </span><br></span><span class="token-line" style="color:#000000"><span class="token plain">  Walking Ones        </span><span class="token builtin class-name" style="color:rgb(38, 127, 153)">:</span><span class="token plain"> ok         </span><br></span><span class="token-line" style="color:#000000"><span class="token plain">  Walking Zeroes      </span><span class="token builtin class-name" style="color:rgb(38, 127, 153)">:</span><span class="token plain"> ok         </span><br></span><span class="token-line" style="color:#000000"><span class="token plain">  </span><span class="token number" style="color:rgb(9, 134, 88)">8</span><span class="token plain">-bit Writes        </span><span class="token builtin class-name" style="color:rgb(38, 127, 153)">:</span><span class="token plain"> ok</span><br></span><span class="token-line" style="color:#000000"><span class="token plain">  </span><span class="token number" style="color:rgb(9, 134, 88)">16</span><span class="token plain">-bit Writes       </span><span class="token builtin class-name" style="color:rgb(38, 127, 153)">:</span><span class="token plain"> ok</span><br></span><span class="token-line" style="color:#000000"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#000000"><span class="token plain">Done.</span><br></span><span class="token-line" style="color:#000000"><span class="token plain"></span><span class="token punctuation" style="color:rgb(4, 81, 165)">[</span><span class="token plain">root@brinnatt ~</span><span class="token punctuation" style="color:rgb(4, 81, 165)">]</span><span class="token comment" style="color:rgb(0, 128, 0)">#</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="复制代码到剪贴板" title="复制" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg class="copyButtonIcon_y97N" viewBox="0 0 24 24"><path d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg class="copyButtonSuccessIcon_LjdS" viewBox="0 0 24 24"><path d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><h3 class="anchor anchorWithHideOnScrollNavbar_WYt5" id="a2bandwidth-测试">A2、bandwidth 测试<a class="hash-link" href="#a2bandwidth-测试" title="标题的直接链接">​</a></h3><p>官方地址：<a href="https://zsmith.co/bandwidth.php" target="_blank" rel="noopener noreferrer">https://zsmith.co/bandwidth.php</a></p><p>下载安装：</p><div class="language-bash codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#000000;--prism-background-color:#ffffff"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-bash codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#000000"><span class="token punctuation" style="color:rgb(4, 81, 165)">[</span><span class="token plain">root@arm64v8 ~</span><span class="token punctuation" style="color:rgb(4, 81, 165)">]</span><span class="token comment" style="color:rgb(0, 128, 0)"># uname -a</span><span class="token plain"></span><br></span><span class="token-line" style="color:#000000"><span class="token plain">Linux arm64v8 </span><span class="token number" style="color:rgb(9, 134, 88)">4.19</span><span class="token plain">.90-17.ky10.aarch64 </span><span class="token comment" style="color:rgb(0, 128, 0)">#1 SMP Sun Jun 28 14:27:40 CST 2020 aarch64 aarch64 aarch64 GNU/Linux</span><span class="token plain"></span><br></span><span class="token-line" style="color:#000000"><span class="token plain"></span><span class="token punctuation" style="color:rgb(4, 81, 165)">[</span><span class="token plain">root@arm64v8 ~</span><span class="token punctuation" style="color:rgb(4, 81, 165)">]</span><span class="token comment" style="color:rgb(0, 128, 0)"># gcc -v</span><span class="token plain"></span><br></span><span class="token-line" style="color:#000000"><span class="token plain">使用内建 specs。</span><br></span><span class="token-line" style="color:#000000"><span class="token plain"></span><span class="token assign-left variable" style="color:rgb(9, 134, 88)">COLLECT_GCC</span><span class="token operator" style="color:rgb(0, 0, 0)">=</span><span class="token plain">gcc</span><br></span><span class="token-line" style="color:#000000"><span class="token plain"></span><span class="token assign-left variable" style="color:rgb(9, 134, 88)">COLLECT_LTO_WRAPPER</span><span class="token operator" style="color:rgb(0, 0, 0)">=</span><span class="token plain">/usr/libexec/gcc/aarch64-linux-gnu/7.3.0/lto-wrapper</span><br></span><span class="token-line" style="color:#000000"><span class="token plain">目标：aarch64-linux-gnu</span><br></span><span class="token-line" style="color:#000000"><span class="token plain">配置为：</span><span class="token punctuation" style="color:rgb(4, 81, 165)">..</span><span class="token plain">/configure --prefix</span><span class="token operator" style="color:rgb(0, 0, 0)">=</span><span class="token plain">/usr --mandir</span><span class="token operator" style="color:rgb(0, 0, 0)">=</span><span class="token plain">/usr/share/man --infodir</span><span class="token operator" style="color:rgb(0, 0, 0)">=</span><span class="token plain">/usr/share/info --enable-shared --enable-threads</span><span class="token operator" style="color:rgb(0, 0, 0)">=</span><span class="token plain">posix --enable-checking</span><span class="token operator" style="color:rgb(0, 0, 0)">=</span><span class="token plain">release --with-system-zlib --enable-__cxa_atexit --disable-libunwind-exceptions --enable-gnu-unique-object --enable-linker-build-id --with-linker-hash-style</span><span class="token operator" style="color:rgb(0, 0, 0)">=</span><span class="token plain">gnu --enable-languages</span><span class="token operator" style="color:rgb(0, 0, 0)">=</span><span class="token plain">c,c++,objc,obj-c++,fortran,lto --enable-plugin --enable-initfini-array --disable-libgcj --without-isl --without-cloog --enable-gnu-indirect-function --build</span><span class="token operator" style="color:rgb(0, 0, 0)">=</span><span class="token plain">aarch64-linux-gnu --with-stage1-ldflags</span><span class="token operator" style="color:rgb(0, 0, 0)">=</span><span class="token string" style="color:rgb(163, 21, 21)">&#x27; -Wl,-z,relro,-z,now&#x27;</span><span class="token plain"> --with-boot-ldflags</span><span class="token operator" style="color:rgb(0, 0, 0)">=</span><span class="token string" style="color:rgb(163, 21, 21)">&#x27; -Wl,-z,relro,-z,now&#x27;</span><span class="token plain"> --with-multilib-list</span><span class="token operator" style="color:rgb(0, 0, 0)">=</span><span class="token plain">lp64</span><br></span><span class="token-line" style="color:#000000"><span class="token plain">线程模型：posix</span><br></span><span class="token-line" style="color:#000000"><span class="token plain">gcc 版本 </span><span class="token number" style="color:rgb(9, 134, 88)">7.3</span><span class="token plain">.0 </span><span class="token punctuation" style="color:rgb(4, 81, 165)">(</span><span class="token plain">GCC</span><span class="token punctuation" style="color:rgb(4, 81, 165)">)</span><span class="token plain"> </span><br></span><span class="token-line" style="color:#000000"><span class="token plain"></span><span class="token punctuation" style="color:rgb(4, 81, 165)">[</span><span class="token plain">root@arm64v8 ~</span><span class="token punctuation" style="color:rgb(4, 81, 165)">]</span><span class="token comment" style="color:rgb(0, 128, 0)">#</span><span class="token plain"></span><br></span><span class="token-line" style="color:#000000"><span class="token plain"></span><span class="token punctuation" style="color:rgb(4, 81, 165)">[</span><span class="token plain">root@brinnatt ~</span><span class="token punctuation" style="color:rgb(4, 81, 165)">]</span><span class="token comment" style="color:rgb(0, 128, 0)"># wget https://zsmith.co/archives/bandwidth-1.11.2.tar.gz</span><span class="token plain"></span><br></span><span class="token-line" style="color:#000000"><span class="token plain"></span><span class="token punctuation" style="color:rgb(4, 81, 165)">[</span><span class="token plain">root@arm64v8 ~</span><span class="token punctuation" style="color:rgb(4, 81, 165)">]</span><span class="token comment" style="color:rgb(0, 128, 0)"># tar xf bandwidth-1.11.2.tar.gz </span><span class="token plain"></span><br></span><span class="token-line" style="color:#000000"><span class="token plain"></span><span class="token punctuation" style="color:rgb(4, 81, 165)">[</span><span class="token plain">root@arm64v8 ~</span><span class="token punctuation" style="color:rgb(4, 81, 165)">]</span><span class="token comment" style="color:rgb(0, 128, 0)"># cd bandwidth-1.11.2/</span><span class="token plain"></span><br></span><span class="token-line" style="color:#000000"><span class="token plain"></span><span class="token punctuation" style="color:rgb(4, 81, 165)">[</span><span class="token plain">root@arm64v8 bandwidth-1.11.2</span><span class="token punctuation" style="color:rgb(4, 81, 165)">]</span><span class="token comment" style="color:rgb(0, 128, 0)">#</span><span class="token plain"></span><br></span><span class="token-line" style="color:#000000"><span class="token plain"></span><span class="token punctuation" style="color:rgb(4, 81, 165)">[</span><span class="token plain">root@arm64v8 bandwidth-1.11.2</span><span class="token punctuation" style="color:rgb(4, 81, 165)">]</span><span class="token comment" style="color:rgb(0, 128, 0)"># make</span><span class="token plain"></span><br></span><span class="token-line" style="color:#000000"><span class="token plain"></span><span class="token punctuation" style="color:rgb(4, 81, 165)">(</span><span class="token plain"> </span><span class="token builtin class-name" style="color:rgb(38, 127, 153)">cd</span><span class="token plain"> OOC</span><span class="token punctuation" style="color:rgb(4, 81, 165)">;</span><span class="token plain"> </span><span class="token function" style="color:rgb(0, 0, 255)">make</span><span class="token plain"> ARMOOC64 </span><span class="token punctuation" style="color:rgb(4, 81, 165)">)</span><span class="token plain"></span><br></span><span class="token-line" style="color:#000000"><span class="token plain">make</span><span class="token punctuation" style="color:rgb(4, 81, 165)">[</span><span class="token number" style="color:rgb(9, 134, 88)">1</span><span class="token punctuation" style="color:rgb(4, 81, 165)">]</span><span class="token plain">: 进入目录“/root/bandwidth-1.11.2/OOC”</span><br></span><span class="token-line" style="color:#000000"><span class="token plain">gcc -Wall -g -Wno-conditional-type-mismatch  -c ObjectOriented.c Object.c Image.c MutableImage.c Double.c Int.c Array.c MutableArray.c SimpleGraphing.c String.c MutableString.c Font.c FontBuiltin.c Console.c DateTime.c FontPK.c cmr5.c cmr6.c cmr9.c cmr12.c Log.c</span><br></span><span class="token-line" style="color:#000000"><span class="token plain">ar rvs OOC64.a ObjectOriented.o Object.o Image.o MutableImage.o Double.o Int.o Array.o MutableArray.o SimpleGraphing.o String.o MutableString.o Font.o FontBuiltin.o Console.o DateTime.o FontPK.o cmr5.o cmr6.o cmr9.o cmr12.o Log.o</span><br></span><span class="token-line" style="color:#000000"><span class="token plain">ar: 正在创建 OOC64.a</span><br></span><span class="token-line" style="color:#000000"><span class="token plain">a - ObjectOriented.o</span><br></span><span class="token-line" style="color:#000000"><span class="token plain">a - Object.o</span><br></span><span class="token-line" style="color:#000000"><span class="token plain">a - Image.o</span><br></span><span class="token-line" style="color:#000000"><span class="token plain">a - MutableImage.o</span><br></span><span class="token-line" style="color:#000000"><span class="token plain">a - Double.o</span><br></span><span class="token-line" style="color:#000000"><span class="token plain">a - Int.o</span><br></span><span class="token-line" style="color:#000000"><span class="token plain">a - Array.o</span><br></span><span class="token-line" style="color:#000000"><span class="token plain">a - MutableArray.o</span><br></span><span class="token-line" style="color:#000000"><span class="token plain">a - SimpleGraphing.o</span><br></span><span class="token-line" style="color:#000000"><span class="token plain">a - String.o</span><br></span><span class="token-line" style="color:#000000"><span class="token plain">a - MutableString.o</span><br></span><span class="token-line" style="color:#000000"><span class="token plain">a - Font.o</span><br></span><span class="token-line" style="color:#000000"><span class="token plain">a - FontBuiltin.o</span><br></span><span class="token-line" style="color:#000000"><span class="token plain">a - Console.o</span><br></span><span class="token-line" style="color:#000000"><span class="token plain">a - DateTime.o</span><br></span><span class="token-line" style="color:#000000"><span class="token plain">a - FontPK.o</span><br></span><span class="token-line" style="color:#000000"><span class="token plain">a - cmr5.o</span><br></span><span class="token-line" style="color:#000000"><span class="token plain">a - cmr6.o</span><br></span><span class="token-line" style="color:#000000"><span class="token plain">a - cmr9.o</span><br></span><span class="token-line" style="color:#000000"><span class="token plain">a - cmr12.o</span><br></span><span class="token-line" style="color:#000000"><span class="token plain">a - Log.o</span><br></span><span class="token-line" style="color:#000000"><span class="token plain">make</span><span class="token punctuation" style="color:rgb(4, 81, 165)">[</span><span class="token number" style="color:rgb(9, 134, 88)">1</span><span class="token punctuation" style="color:rgb(4, 81, 165)">]</span><span class="token plain">: 离开目录“/root/bandwidth-1.11.2/OOC”</span><br></span><span class="token-line" style="color:#000000"><span class="token plain">as -march</span><span class="token operator" style="color:rgb(0, 0, 0)">=</span><span class="token plain">armv8-a routines-arm-64bit.asm -o routines-arm-64bit.o</span><br></span><span class="token-line" style="color:#000000"><span class="token plain">gcc -g -Wno-conditional-type-mismatch -c -I ./OOC Testing.c</span><br></span><span class="token-line" style="color:#000000"><span class="token plain">gcc -g -Wno-conditional-type-mismatch -c -I ./OOC CPUCharacteristics.c</span><br></span><span class="token-line" style="color:#000000"><span class="token plain">gcc routines-arm-64bit.o CPUCharacteristics.o Testing.o main.c  -g -Wno-conditional-type-mismatch OOC/OOC64.a -lm -o bandwidth64</span><br></span><span class="token-line" style="color:#000000"><span class="token plain"></span><span class="token punctuation" style="color:rgb(4, 81, 165)">[</span><span class="token plain">root@arm64v8 bandwidth-1.11.2</span><span class="token punctuation" style="color:rgb(4, 81, 165)">]</span><span class="token comment" style="color:rgb(0, 128, 0)">#</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="复制代码到剪贴板" title="复制" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg class="copyButtonIcon_y97N" viewBox="0 0 24 24"><path d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg class="copyButtonSuccessIcon_LjdS" viewBox="0 0 24 24"><path d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><ul><li>官网中有介绍，bandwidth v1.10 开始支持 aarch64 架构，不过 gcc 版本太低的话需要升级才能编译通过。</li></ul><p>测试：</p><div class="language-bash codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#000000;--prism-background-color:#ffffff"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-bash codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#000000"><span class="token punctuation" style="color:rgb(4, 81, 165)">[</span><span class="token plain">root@arm64v8 bandwidth-1.11.2</span><span class="token punctuation" style="color:rgb(4, 81, 165)">]</span><span class="token comment" style="color:rgb(0, 128, 0)"># ./bandwidth64 -h</span><span class="token plain"></span><br></span><span class="token-line" style="color:#000000"><span class="token plain">Usage: bandwidth </span><span class="token punctuation" style="color:rgb(4, 81, 165)">[</span><span class="token plain">--slow</span><span class="token punctuation" style="color:rgb(4, 81, 165)">]</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(4, 81, 165)">[</span><span class="token plain">--fast</span><span class="token punctuation" style="color:rgb(4, 81, 165)">]</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(4, 81, 165)">[</span><span class="token plain">--faster</span><span class="token punctuation" style="color:rgb(4, 81, 165)">]</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(4, 81, 165)">[</span><span class="token plain">--fastest</span><span class="token punctuation" style="color:rgb(4, 81, 165)">]</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(4, 81, 165)">[</span><span class="token plain">--limit</span><span class="token punctuation" style="color:rgb(4, 81, 165)">]</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(4, 81, 165)">[</span><span class="token plain">--title string</span><span class="token punctuation" style="color:rgb(4, 81, 165)">]</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(4, 81, 165)">[</span><span class="token plain">--csv file</span><span class="token punctuation" style="color:rgb(4, 81, 165)">]</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(4, 81, 165)">[</span><span class="token plain">--nice</span><span class="token punctuation" style="color:rgb(4, 81, 165)">]</span><span class="token plain"></span><br></span><span class="token-line" style="color:#000000"><span class="token plain"></span><span class="token punctuation" style="color:rgb(4, 81, 165)">[</span><span class="token plain">root@arm64v8 bandwidth-1.11.2</span><span class="token punctuation" style="color:rgb(4, 81, 165)">]</span><span class="token comment" style="color:rgb(0, 128, 0)">#</span><span class="token plain"></span><br></span><span class="token-line" style="color:#000000"><span class="token plain"></span><span class="token punctuation" style="color:rgb(4, 81, 165)">[</span><span class="token plain">root@arm64v8 bandwidth-1.11.2</span><span class="token punctuation" style="color:rgb(4, 81, 165)">]</span><span class="token comment" style="color:rgb(0, 128, 0)"># ./bandwidth64</span><span class="token plain"></span><br></span><span class="token-line" style="color:#000000"><span class="token plain">This is bandwidth version </span><span class="token number" style="color:rgb(9, 134, 88)">1.11</span><span class="token plain">.2</span><br></span><span class="token-line" style="color:#000000"><span class="token plain">Copyright </span><span class="token punctuation" style="color:rgb(4, 81, 165)">(</span><span class="token plain">C</span><span class="token punctuation" style="color:rgb(4, 81, 165)">)</span><span class="token plain"> </span><span class="token number" style="color:rgb(9, 134, 88)">2005</span><span class="token plain">-2021 by Zack T Smith.</span><br></span><span class="token-line" style="color:#000000"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#000000"><span class="token plain">This software is covered by the GNU Public License.</span><br></span><span class="token-line" style="color:#000000"><span class="token plain">It is provided AS-IS, use at your own risk.</span><br></span><span class="token-line" style="color:#000000"><span class="token plain">See the </span><span class="token function" style="color:rgb(0, 0, 255)">file</span><span class="token plain"> COPYING </span><span class="token keyword" style="color:rgb(0, 0, 255)">for</span><span class="token plain"> </span><span class="token function" style="color:rgb(0, 0, 255)">more</span><span class="token plain"> information.</span><br></span><span class="token-line" style="color:#000000"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#000000"><span class="token plain">CPU family: ARM </span><span class="token number" style="color:rgb(9, 134, 88)">64</span><span class="token plain">-bit</span><br></span><span class="token-line" style="color:#000000"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#000000"><span class="token plain">System: Phytium,FT-2000+/64 GNU/Linux </span><br></span><span class="token-line" style="color:#000000"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#000000"><span class="token plain">Notation: B </span><span class="token operator" style="color:rgb(0, 0, 0)">=</span><span class="token plain"> byte, kB </span><span class="token operator" style="color:rgb(0, 0, 0)">=</span><span class="token plain"> </span><span class="token number" style="color:rgb(9, 134, 88)">1024</span><span class="token plain"> B, MB </span><span class="token operator" style="color:rgb(0, 0, 0)">=</span><span class="token plain"> </span><span class="token number" style="color:rgb(9, 134, 88)">1048576</span><span class="token plain"> B.</span><br></span><span class="token-line" style="color:#000000"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#000000"><span class="token plain">Sequential </span><span class="token builtin class-name" style="color:rgb(38, 127, 153)">read</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(4, 81, 165)">(</span><span class="token number" style="color:rgb(9, 134, 88)">64</span><span class="token plain">-bit</span><span class="token punctuation" style="color:rgb(4, 81, 165)">)</span><span class="token plain">, size </span><span class="token operator" style="color:rgb(0, 0, 0)">=</span><span class="token plain"> </span><span class="token number" style="color:rgb(9, 134, 88)">256</span><span class="token plain"> B, loops </span><span class="token operator" style="color:rgb(0, 0, 0)">=</span><span class="token plain"> </span><span class="token number" style="color:rgb(9, 134, 88)">635437056</span><span class="token plain">, </span><span class="token number" style="color:rgb(9, 134, 88)">30976.2</span><span class="token plain"> MB/s</span><br></span><span class="token-line" style="color:#000000"><span class="token plain">Sequential </span><span class="token builtin class-name" style="color:rgb(38, 127, 153)">read</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(4, 81, 165)">(</span><span class="token number" style="color:rgb(9, 134, 88)">64</span><span class="token plain">-bit</span><span class="token punctuation" style="color:rgb(4, 81, 165)">)</span><span class="token plain">, size </span><span class="token operator" style="color:rgb(0, 0, 0)">=</span><span class="token plain"> </span><span class="token number" style="color:rgb(9, 134, 88)">512</span><span class="token plain"> B, loops </span><span class="token operator" style="color:rgb(0, 0, 0)">=</span><span class="token plain"> </span><span class="token number" style="color:rgb(9, 134, 88)">327155712</span><span class="token plain">, </span><span class="token number" style="color:rgb(9, 134, 88)">31896.5</span><span class="token plain"> MB/s</span><br></span><span class="token-line" style="color:#000000"><span class="token plain"></span><span class="token punctuation" style="color:rgb(4, 81, 165)">..</span><span class="token punctuation" style="color:rgb(4, 81, 165)">..</span><span class="token punctuation" style="color:rgb(4, 81, 165)">..</span><span class="token plain"></span><br></span><span class="token-line" style="color:#000000"><span class="token plain"></span><span class="token number" style="color:rgb(9, 134, 88)">64</span><span class="token plain">-bit register-to-register transfers per second: </span><span class="token number" style="color:rgb(9, 134, 88)">4.26</span><span class="token plain"> billion</span><br></span><span class="token-line" style="color:#000000"><span class="token plain"></span><span class="token number" style="color:rgb(9, 134, 88)">128</span><span class="token plain">-bit vector register to vector register transfers per second: </span><span class="token number" style="color:rgb(9, 134, 88)">0.92</span><span class="token plain"> billion</span><br></span><span class="token-line" style="color:#000000"><span class="token plain"></span><span class="token number" style="color:rgb(9, 134, 88)">64</span><span class="token plain">-bit register increments per second: </span><span class="token number" style="color:rgb(9, 134, 88)">4.27</span><span class="token plain"> billion</span><br></span><span class="token-line" style="color:#000000"><span class="token plain"></span><span class="token number" style="color:rgb(9, 134, 88)">64</span><span class="token plain">-bit stack value increments per second: </span><span class="token number" style="color:rgb(9, 134, 88)">1.60</span><span class="token plain"> billion</span><br></span><span class="token-line" style="color:#000000"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#000000"><span class="token plain">Library: memset </span><span class="token number" style="color:rgb(9, 134, 88)">14024.3</span><span class="token plain"> MB/s</span><br></span><span class="token-line" style="color:#000000"><span class="token plain">Library: memcpy </span><span class="token number" style="color:rgb(9, 134, 88)">10925.7</span><span class="token plain"> MB/s</span><br></span><span class="token-line" style="color:#000000"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#000000"><span class="token plain">Wrote graph to: bandwidth.bmp</span><br></span><span class="token-line" style="color:#000000"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#000000"><span class="token plain">Done.</span><br></span><span class="token-line" style="color:#000000"><span class="token plain">All objects that were allocated were deallocated.</span><br></span><span class="token-line" style="color:#000000"><span class="token plain">Deallocating class </span><span class="token string" style="color:rgb(163, 21, 21)">&quot;Testing&quot;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#000000"><span class="token plain">Deallocating class </span><span class="token string" style="color:rgb(163, 21, 21)">&quot;Object&quot;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#000000"><span class="token plain">Deallocating class </span><span class="token string" style="color:rgb(163, 21, 21)">&quot;Console&quot;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#000000"><span class="token plain">Deallocating class </span><span class="token string" style="color:rgb(163, 21, 21)">&quot;CPUCharacteristics&quot;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#000000"><span class="token plain">Deallocating class </span><span class="token string" style="color:rgb(163, 21, 21)">&quot;SimpleGraphing&quot;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#000000"><span class="token plain">Deallocating class </span><span class="token string" style="color:rgb(163, 21, 21)">&quot;MutableArray&quot;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#000000"><span class="token plain">Deallocating class </span><span class="token string" style="color:rgb(163, 21, 21)">&quot;Font&quot;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#000000"><span class="token plain">Deallocating class </span><span class="token string" style="color:rgb(163, 21, 21)">&quot;FontPK&quot;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#000000"><span class="token plain">Deallocating class </span><span class="token string" style="color:rgb(163, 21, 21)">&quot;MutableImage&quot;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#000000"><span class="token plain">Deallocating class </span><span class="token string" style="color:rgb(163, 21, 21)">&quot;String&quot;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#000000"><span class="token plain">Deallocating class </span><span class="token string" style="color:rgb(163, 21, 21)">&quot;Int&quot;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#000000"><span class="token plain"></span><span class="token punctuation" style="color:rgb(4, 81, 165)">[</span><span class="token plain">root@arm64v8 bandwidth-1.11.2</span><span class="token punctuation" style="color:rgb(4, 81, 165)">]</span><span class="token comment" style="color:rgb(0, 128, 0)">#</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="复制代码到剪贴板" title="复制" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg class="copyButtonIcon_y97N" viewBox="0 0 24 24"><path d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg class="copyButtonSuccessIcon_LjdS" viewBox="0 0 24 24"><path d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><ul><li>打开 bandwidth.bmp 图，非常直观。</li></ul><h3 class="anchor anchorWithHideOnScrollNavbar_WYt5" id="a3mbw-测试">A3、mbw 测试<a class="hash-link" href="#a3mbw-测试" title="标题的直接链接">​</a></h3><p>mbw 是一个内存带宽测试工具，通常用来评估用户层应用程序进行内存拷贝操作所能达到的带宽，可测试在内存拷贝(memcpy)、字符串拷贝(dumb)、和内存块拷贝(mcblock)三种方式下的内存拷贝速度。</p><p>下载安装：</p><div class="language-bash codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#000000;--prism-background-color:#ffffff"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-bash codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#000000"><span class="token punctuation" style="color:rgb(4, 81, 165)">[</span><span class="token plain">root@brinnatt ~</span><span class="token punctuation" style="color:rgb(4, 81, 165)">]</span><span class="token comment" style="color:rgb(0, 128, 0)"># yum install git -y</span><span class="token plain"></span><br></span><span class="token-line" style="color:#000000"><span class="token plain"></span><span class="token punctuation" style="color:rgb(4, 81, 165)">[</span><span class="token plain">root@brinnatt ~</span><span class="token punctuation" style="color:rgb(4, 81, 165)">]</span><span class="token comment" style="color:rgb(0, 128, 0)"># git clone https://github.com/raas/mbw.git</span><span class="token plain"></span><br></span><span class="token-line" style="color:#000000"><span class="token plain">Cloning into </span><span class="token string" style="color:rgb(163, 21, 21)">&#x27;mbw&#x27;</span><span class="token punctuation" style="color:rgb(4, 81, 165)">..</span><span class="token plain">.</span><br></span><span class="token-line" style="color:#000000"><span class="token plain">remote: Enumerating objects: </span><span class="token number" style="color:rgb(9, 134, 88)">89</span><span class="token plain">, done.</span><br></span><span class="token-line" style="color:#000000"><span class="token plain">remote: Counting objects: </span><span class="token number" style="color:rgb(9, 134, 88)">100</span><span class="token plain">% </span><span class="token punctuation" style="color:rgb(4, 81, 165)">(</span><span class="token number" style="color:rgb(9, 134, 88)">4</span><span class="token plain">/4</span><span class="token punctuation" style="color:rgb(4, 81, 165)">)</span><span class="token plain">, done.</span><br></span><span class="token-line" style="color:#000000"><span class="token plain">remote: Compressing objects: </span><span class="token number" style="color:rgb(9, 134, 88)">100</span><span class="token plain">% </span><span class="token punctuation" style="color:rgb(4, 81, 165)">(</span><span class="token number" style="color:rgb(9, 134, 88)">4</span><span class="token plain">/4</span><span class="token punctuation" style="color:rgb(4, 81, 165)">)</span><span class="token plain">, done.</span><br></span><span class="token-line" style="color:#000000"><span class="token plain">remote: Total </span><span class="token number" style="color:rgb(9, 134, 88)">89</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(4, 81, 165)">(</span><span class="token plain">delta </span><span class="token number" style="color:rgb(9, 134, 88)">0</span><span class="token punctuation" style="color:rgb(4, 81, 165)">)</span><span class="token plain">, reused </span><span class="token number" style="color:rgb(9, 134, 88)">1</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(4, 81, 165)">(</span><span class="token plain">delta </span><span class="token number" style="color:rgb(9, 134, 88)">0</span><span class="token punctuation" style="color:rgb(4, 81, 165)">)</span><span class="token plain">, pack-reused </span><span class="token number" style="color:rgb(9, 134, 88)">85</span><span class="token plain"></span><br></span><span class="token-line" style="color:#000000"><span class="token plain">Unpacking objects: </span><span class="token number" style="color:rgb(9, 134, 88)">100</span><span class="token plain">% </span><span class="token punctuation" style="color:rgb(4, 81, 165)">(</span><span class="token number" style="color:rgb(9, 134, 88)">89</span><span class="token plain">/89</span><span class="token punctuation" style="color:rgb(4, 81, 165)">)</span><span class="token plain">, done.</span><br></span><span class="token-line" style="color:#000000"><span class="token plain"></span><span class="token punctuation" style="color:rgb(4, 81, 165)">[</span><span class="token plain">root@brinnatt ~</span><span class="token punctuation" style="color:rgb(4, 81, 165)">]</span><span class="token comment" style="color:rgb(0, 128, 0)"># </span><span class="token plain"></span><br></span><span class="token-line" style="color:#000000"><span class="token plain"></span><span class="token punctuation" style="color:rgb(4, 81, 165)">[</span><span class="token plain">root@brinnatt ~</span><span class="token punctuation" style="color:rgb(4, 81, 165)">]</span><span class="token comment" style="color:rgb(0, 128, 0)"># cd mbw/</span><span class="token plain"></span><br></span><span class="token-line" style="color:#000000"><span class="token plain"></span><span class="token punctuation" style="color:rgb(4, 81, 165)">[</span><span class="token plain">root@brinnatt mbw</span><span class="token punctuation" style="color:rgb(4, 81, 165)">]</span><span class="token comment" style="color:rgb(0, 128, 0)"># make</span><span class="token plain"></span><br></span><span class="token-line" style="color:#000000"><span class="token plain">cc     mbw.c   -o mbw</span><br></span><span class="token-line" style="color:#000000"><span class="token plain"></span><span class="token punctuation" style="color:rgb(4, 81, 165)">[</span><span class="token plain">root@brinnatt mbw</span><span class="token punctuation" style="color:rgb(4, 81, 165)">]</span><span class="token comment" style="color:rgb(0, 128, 0)">#</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="复制代码到剪贴板" title="复制" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg class="copyButtonIcon_y97N" viewBox="0 0 24 24"><path d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg class="copyButtonSuccessIcon_LjdS" viewBox="0 0 24 24"><path d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><p>先清理一下内存：</p><div class="language-bash codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#000000;--prism-background-color:#ffffff"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-bash codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#000000"><span class="token comment" style="color:rgb(0, 128, 0)"># 相应的关于内存的管理方式是在/proc/sys/vm/drop_chches文件中，一定要注意这个文件中存放的并不是具体的内存内容，而是0-3这几个数字</span><span class="token plain"></span><br></span><span class="token-line" style="color:#000000"><span class="token plain"></span><span class="token punctuation" style="color:rgb(4, 81, 165)">[</span><span class="token plain">root@arm64v8 mbw</span><span class="token punctuation" style="color:rgb(4, 81, 165)">]</span><span class="token comment" style="color:rgb(0, 128, 0)"># sync</span><span class="token plain"></span><br></span><span class="token-line" style="color:#000000"><span class="token plain"></span><span class="token punctuation" style="color:rgb(4, 81, 165)">[</span><span class="token plain">root@arm64v8 mbw</span><span class="token punctuation" style="color:rgb(4, 81, 165)">]</span><span class="token comment" style="color:rgb(0, 128, 0)"># echo 3 &gt; /proc/sys/vm/drop_caches</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="复制代码到剪贴板" title="复制" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg class="copyButtonIcon_y97N" viewBox="0 0 24 24"><path d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg class="copyButtonSuccessIcon_LjdS" viewBox="0 0 24 24"><path d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><ul><li><p>0：0 是系统默认值，默认情况下表示不释放内存，由操作系统自动管理</p><div class="language-bash codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#000000;--prism-background-color:#ffffff"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-bash codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#000000"><span class="token punctuation" style="color:rgb(4, 81, 165)">[</span><span class="token plain">root@arm64v8 mbw</span><span class="token punctuation" style="color:rgb(4, 81, 165)">]</span><span class="token comment" style="color:rgb(0, 128, 0)"># echo 0 &gt; /proc/sys/vm/drop_caches</span><span class="token plain"></span><br></span><span class="token-line" style="color:#000000"><span class="token plain">-bash: echo: 写错误: 无效的参数</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="复制代码到剪贴板" title="复制" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg class="copyButtonIcon_y97N" viewBox="0 0 24 24"><path d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg class="copyButtonSuccessIcon_LjdS" viewBox="0 0 24 24"><path d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><ul><li>注意这里的数值只是触发相应清理指令，0 只是默认值，由操作系统管理，没有相应动作指令。</li></ul></li><li><p>1：释放页缓存</p></li><li><p>2：释放 dentries 和 inodes</p></li><li><p>3：释放所有缓存</p></li></ul><p>测试：</p><div class="language-bash codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#000000;--prism-background-color:#ffffff"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-bash codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#000000"><span class="token punctuation" style="color:rgb(4, 81, 165)">[</span><span class="token plain">root@brinnatt mbw</span><span class="token punctuation" style="color:rgb(4, 81, 165)">]</span><span class="token comment" style="color:rgb(0, 128, 0)"># ./mbw -h</span><span class="token plain"></span><br></span><span class="token-line" style="color:#000000"><span class="token plain">mbw memory benchmark v1.4, https://github.com/raas/mbw</span><br></span><span class="token-line" style="color:#000000"><span class="token plain">Usage: mbw </span><span class="token punctuation" style="color:rgb(4, 81, 165)">[</span><span class="token plain">options</span><span class="token punctuation" style="color:rgb(4, 81, 165)">]</span><span class="token plain"> array_size_in_MiB</span><br></span><span class="token-line" style="color:#000000"><span class="token plain">Options:</span><br></span><span class="token-line" style="color:#000000"><span class="token plain">    -n: number of runs per </span><span class="token builtin class-name" style="color:rgb(38, 127, 153)">test</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(4, 81, 165)">(</span><span class="token number" style="color:rgb(9, 134, 88)">0</span><span class="token plain"> to run forever</span><span class="token punctuation" style="color:rgb(4, 81, 165)">)</span><span class="token plain"></span><br></span><span class="token-line" style="color:#000000"><span class="token plain">    -a: Don</span><span class="token string" style="color:rgb(163, 21, 21)">&#x27;t display average</span><br></span><span class="token-line" style="color:#000000"><span class="token string" style="color:rgb(163, 21, 21)">    -t0: memcpy test</span><br></span><span class="token-line" style="color:#000000"><span class="token string" style="color:rgb(163, 21, 21)">    -t1: dumb (b[i]=a[i] style) test</span><br></span><span class="token-line" style="color:#000000"><span class="token string" style="color:rgb(163, 21, 21)">    -t2: memcpy test with fixed block size</span><br></span><span class="token-line" style="color:#000000"><span class="token string" style="color:rgb(163, 21, 21)">    -b &lt;size&gt;: block size in bytes for -t2 (default: 262144)</span><br></span><span class="token-line" style="color:#000000"><span class="token string" style="color:rgb(163, 21, 21)">    -q: quiet (print statistics only)</span><br></span><span class="token-line" style="color:#000000"><span class="token string" style="color:rgb(163, 21, 21)">(will then use two arrays, watch out for swapping)</span><br></span><span class="token-line" style="color:#000000"><span class="token string" style="color:rgb(163, 21, 21)">&#x27;</span><span class="token plain">Bandwidth&#x27; is amount of data copied over the </span><span class="token function" style="color:rgb(0, 0, 255)">time</span><span class="token plain"> this operation took.</span><br></span><span class="token-line" style="color:#000000"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#000000"><span class="token plain">The default is to run all tests available.</span><br></span><span class="token-line" style="color:#000000"><span class="token plain"></span><span class="token punctuation" style="color:rgb(4, 81, 165)">[</span><span class="token plain">root@brinnatt mbw</span><span class="token punctuation" style="color:rgb(4, 81, 165)">]</span><span class="token comment" style="color:rgb(0, 128, 0)">#</span><span class="token plain"></span><br></span><span class="token-line" style="color:#000000"><span class="token plain"></span><span class="token punctuation" style="color:rgb(4, 81, 165)">[</span><span class="token plain">root@arm64v8 mbw</span><span class="token punctuation" style="color:rgb(4, 81, 165)">]</span><span class="token comment" style="color:rgb(0, 128, 0)"># ./mbw  -n 10 104000</span><span class="token plain"></span><br></span><span class="token-line" style="color:#000000"><span class="token plain">Long uses </span><span class="token number" style="color:rgb(9, 134, 88)">8</span><span class="token plain"> bytes. Allocating </span><span class="token number" style="color:rgb(9, 134, 88)">2</span><span class="token plain">*13631488000 elements </span><span class="token operator" style="color:rgb(0, 0, 0)">=</span><span class="token plain"> </span><span class="token number" style="color:rgb(9, 134, 88)">218103808000</span><span class="token plain"> bytes of memory.</span><br></span><span class="token-line" style="color:#000000"><span class="token plain">Using </span><span class="token number" style="color:rgb(9, 134, 88)">262144</span><span class="token plain"> bytes as blocks </span><span class="token keyword" style="color:rgb(0, 0, 255)">for</span><span class="token plain"> memcpy block copy test.</span><br></span><span class="token-line" style="color:#000000"><span class="token plain">Getting down to business</span><span class="token punctuation" style="color:rgb(4, 81, 165)">..</span><span class="token plain">. Doing </span><span class="token number" style="color:rgb(9, 134, 88)">10</span><span class="token plain"> runs per test.</span><br></span><span class="token-line" style="color:#000000"><span class="token plain"></span><span class="token number" style="color:rgb(9, 134, 88)">0</span><span class="token plain">   Method: MEMCPY  Elapsed: </span><span class="token number" style="color:rgb(9, 134, 88)">33.68961</span><span class="token plain">   MiB: </span><span class="token number" style="color:rgb(9, 134, 88)">104000.00000</span><span class="token plain">   Copy: </span><span class="token number" style="color:rgb(9, 134, 88)">3087.005</span><span class="token plain"> MiB/s</span><br></span><span class="token-line" style="color:#000000"><span class="token plain"></span><span class="token number" style="color:rgb(9, 134, 88)">1</span><span class="token plain">   Method: MEMCPY  Elapsed: </span><span class="token number" style="color:rgb(9, 134, 88)">29.87790</span><span class="token plain">   MiB: </span><span class="token number" style="color:rgb(9, 134, 88)">104000.00000</span><span class="token plain">   Copy: </span><span class="token number" style="color:rgb(9, 134, 88)">3480.834</span><span class="token plain"> MiB/s</span><br></span><span class="token-line" style="color:#000000"><span class="token plain"></span><span class="token number" style="color:rgb(9, 134, 88)">2</span><span class="token plain">   Method: MEMCPY  Elapsed: </span><span class="token number" style="color:rgb(9, 134, 88)">28.86381</span><span class="token plain">   MiB: </span><span class="token number" style="color:rgb(9, 134, 88)">104000.00000</span><span class="token plain">   Copy: </span><span class="token number" style="color:rgb(9, 134, 88)">3603.128</span><span class="token plain"> MiB/s</span><br></span><span class="token-line" style="color:#000000"><span class="token plain"></span><span class="token number" style="color:rgb(9, 134, 88)">3</span><span class="token plain">   Method: MEMCPY  Elapsed: </span><span class="token number" style="color:rgb(9, 134, 88)">28.44751</span><span class="token plain">   MiB: </span><span class="token number" style="color:rgb(9, 134, 88)">104000.00000</span><span class="token plain">   Copy: </span><span class="token number" style="color:rgb(9, 134, 88)">3655.856</span><span class="token plain"> MiB/s</span><br></span><span class="token-line" style="color:#000000"><span class="token plain"></span><span class="token number" style="color:rgb(9, 134, 88)">4</span><span class="token plain">   Method: MEMCPY  Elapsed: </span><span class="token number" style="color:rgb(9, 134, 88)">36.57824</span><span class="token plain">   MiB: </span><span class="token number" style="color:rgb(9, 134, 88)">104000.00000</span><span class="token plain">   Copy: </span><span class="token number" style="color:rgb(9, 134, 88)">2843.220</span><span class="token plain"> MiB/s</span><br></span><span class="token-line" style="color:#000000"><span class="token plain"></span><span class="token number" style="color:rgb(9, 134, 88)">5</span><span class="token plain">   Method: MEMCPY  Elapsed: </span><span class="token number" style="color:rgb(9, 134, 88)">31.98422</span><span class="token plain">   MiB: </span><span class="token number" style="color:rgb(9, 134, 88)">104000.00000</span><span class="token plain">   Copy: </span><span class="token number" style="color:rgb(9, 134, 88)">3251.604</span><span class="token plain"> MiB/s</span><br></span><span class="token-line" style="color:#000000"><span class="token plain"></span><span class="token number" style="color:rgb(9, 134, 88)">6</span><span class="token plain">   Method: MEMCPY  Elapsed: </span><span class="token number" style="color:rgb(9, 134, 88)">32.79171</span><span class="token plain">   MiB: </span><span class="token number" style="color:rgb(9, 134, 88)">104000.00000</span><span class="token plain">   Copy: </span><span class="token number" style="color:rgb(9, 134, 88)">3171.533</span><span class="token plain"> MiB/s</span><br></span><span class="token-line" style="color:#000000"><span class="token plain"></span><span class="token number" style="color:rgb(9, 134, 88)">7</span><span class="token plain">   Method: MEMCPY  Elapsed: </span><span class="token number" style="color:rgb(9, 134, 88)">33.92301</span><span class="token plain">   MiB: </span><span class="token number" style="color:rgb(9, 134, 88)">104000.00000</span><span class="token plain">   Copy: </span><span class="token number" style="color:rgb(9, 134, 88)">3065.766</span><span class="token plain"> MiB/s</span><br></span><span class="token-line" style="color:#000000"><span class="token plain"></span><span class="token number" style="color:rgb(9, 134, 88)">8</span><span class="token plain">   Method: MEMCPY  Elapsed: </span><span class="token number" style="color:rgb(9, 134, 88)">28.34530</span><span class="token plain">   MiB: </span><span class="token number" style="color:rgb(9, 134, 88)">104000.00000</span><span class="token plain">   Copy: </span><span class="token number" style="color:rgb(9, 134, 88)">3669.038</span><span class="token plain"> MiB/s</span><br></span><span class="token-line" style="color:#000000"><span class="token plain"></span><span class="token number" style="color:rgb(9, 134, 88)">9</span><span class="token plain">   Method: MEMCPY  Elapsed: </span><span class="token number" style="color:rgb(9, 134, 88)">29.81308</span><span class="token plain">   MiB: </span><span class="token number" style="color:rgb(9, 134, 88)">104000.00000</span><span class="token plain">   Copy: </span><span class="token number" style="color:rgb(9, 134, 88)">3488.402</span><span class="token plain"> MiB/s</span><br></span><span class="token-line" style="color:#000000"><span class="token plain">AVG Method: MEMCPY  Elapsed: </span><span class="token number" style="color:rgb(9, 134, 88)">31.43144</span><span class="token plain">   MiB: </span><span class="token number" style="color:rgb(9, 134, 88)">104000.00000</span><span class="token plain">   Copy: </span><span class="token number" style="color:rgb(9, 134, 88)">3308.789</span><span class="token plain"> MiB/s</span><br></span><span class="token-line" style="color:#000000"><span class="token plain"></span><span class="token number" style="color:rgb(9, 134, 88)">0</span><span class="token plain">   Method: DUMB    Elapsed: </span><span class="token number" style="color:rgb(9, 134, 88)">102.77777</span><span class="token plain">  MiB: </span><span class="token number" style="color:rgb(9, 134, 88)">104000.00000</span><span class="token plain">   Copy: </span><span class="token number" style="color:rgb(9, 134, 88)">1011.892</span><span class="token plain"> MiB/s</span><br></span><span class="token-line" style="color:#000000"><span class="token plain"></span><span class="token number" style="color:rgb(9, 134, 88)">1</span><span class="token plain">   Method: DUMB    Elapsed: </span><span class="token number" style="color:rgb(9, 134, 88)">102.69878</span><span class="token plain">  MiB: </span><span class="token number" style="color:rgb(9, 134, 88)">104000.00000</span><span class="token plain">   Copy: </span><span class="token number" style="color:rgb(9, 134, 88)">1012.670</span><span class="token plain"> MiB/s</span><br></span><span class="token-line" style="color:#000000"><span class="token plain"></span><span class="token number" style="color:rgb(9, 134, 88)">2</span><span class="token plain">   Method: DUMB    Elapsed: </span><span class="token number" style="color:rgb(9, 134, 88)">105.48950</span><span class="token plain">  MiB: </span><span class="token number" style="color:rgb(9, 134, 88)">104000.00000</span><span class="token plain">   Copy: </span><span class="token number" style="color:rgb(9, 134, 88)">985.880</span><span class="token plain"> MiB/s</span><br></span><span class="token-line" style="color:#000000"><span class="token plain"></span><span class="token number" style="color:rgb(9, 134, 88)">3</span><span class="token plain">   Method: DUMB    Elapsed: </span><span class="token number" style="color:rgb(9, 134, 88)">102.63031</span><span class="token plain">  MiB: </span><span class="token number" style="color:rgb(9, 134, 88)">104000.00000</span><span class="token plain">   Copy: </span><span class="token number" style="color:rgb(9, 134, 88)">1013.346</span><span class="token plain"> MiB/s</span><br></span><span class="token-line" style="color:#000000"><span class="token plain"></span><span class="token number" style="color:rgb(9, 134, 88)">4</span><span class="token plain">   Method: DUMB    Elapsed: </span><span class="token number" style="color:rgb(9, 134, 88)">102.61790</span><span class="token plain">  MiB: </span><span class="token number" style="color:rgb(9, 134, 88)">104000.00000</span><span class="token plain">   Copy: </span><span class="token number" style="color:rgb(9, 134, 88)">1013.468</span><span class="token plain"> MiB/s</span><br></span><span class="token-line" style="color:#000000"><span class="token plain"></span><span class="token number" style="color:rgb(9, 134, 88)">5</span><span class="token plain">   Method: DUMB    Elapsed: </span><span class="token number" style="color:rgb(9, 134, 88)">102.47518</span><span class="token plain">  MiB: </span><span class="token number" style="color:rgb(9, 134, 88)">104000.00000</span><span class="token plain">   Copy: </span><span class="token number" style="color:rgb(9, 134, 88)">1014.880</span><span class="token plain"> MiB/s</span><br></span><span class="token-line" style="color:#000000"><span class="token plain"></span><span class="token number" style="color:rgb(9, 134, 88)">6</span><span class="token plain">   Method: DUMB    Elapsed: </span><span class="token number" style="color:rgb(9, 134, 88)">102.50904</span><span class="token plain">  MiB: </span><span class="token number" style="color:rgb(9, 134, 88)">104000.00000</span><span class="token plain">   Copy: </span><span class="token number" style="color:rgb(9, 134, 88)">1014.545</span><span class="token plain"> MiB/s</span><br></span><span class="token-line" style="color:#000000"><span class="token plain"></span><span class="token number" style="color:rgb(9, 134, 88)">7</span><span class="token plain">   Method: DUMB    Elapsed: </span><span class="token number" style="color:rgb(9, 134, 88)">102.48936</span><span class="token plain">  MiB: </span><span class="token number" style="color:rgb(9, 134, 88)">104000.00000</span><span class="token plain">   Copy: </span><span class="token number" style="color:rgb(9, 134, 88)">1014.739</span><span class="token plain"> MiB/s</span><br></span><span class="token-line" style="color:#000000"><span class="token plain"></span><span class="token number" style="color:rgb(9, 134, 88)">8</span><span class="token plain">   Method: DUMB    Elapsed: </span><span class="token number" style="color:rgb(9, 134, 88)">102.60059</span><span class="token plain">  MiB: </span><span class="token number" style="color:rgb(9, 134, 88)">104000.00000</span><span class="token plain">   Copy: </span><span class="token number" style="color:rgb(9, 134, 88)">1013.639</span><span class="token plain"> MiB/s</span><br></span><span class="token-line" style="color:#000000"><span class="token plain"></span><span class="token number" style="color:rgb(9, 134, 88)">9</span><span class="token plain">   Method: DUMB    Elapsed: </span><span class="token number" style="color:rgb(9, 134, 88)">105.59219</span><span class="token plain">  MiB: </span><span class="token number" style="color:rgb(9, 134, 88)">104000.00000</span><span class="token plain">   Copy: </span><span class="token number" style="color:rgb(9, 134, 88)">984.921</span><span class="token plain"> MiB/s</span><br></span><span class="token-line" style="color:#000000"><span class="token plain">AVG Method: DUMB    Elapsed: </span><span class="token number" style="color:rgb(9, 134, 88)">103.18806</span><span class="token plain">  MiB: </span><span class="token number" style="color:rgb(9, 134, 88)">104000.00000</span><span class="token plain">   Copy: </span><span class="token number" style="color:rgb(9, 134, 88)">1007.869</span><span class="token plain"> MiB/s</span><br></span><span class="token-line" style="color:#000000"><span class="token plain"></span><span class="token number" style="color:rgb(9, 134, 88)">0</span><span class="token plain">   Method: MCBLOCK Elapsed: </span><span class="token number" style="color:rgb(9, 134, 88)">31.21951</span><span class="token plain">   MiB: </span><span class="token number" style="color:rgb(9, 134, 88)">104000.00000</span><span class="token plain">   Copy: </span><span class="token number" style="color:rgb(9, 134, 88)">3331.250</span><span class="token plain"> MiB/s</span><br></span><span class="token-line" style="color:#000000"><span class="token plain"></span><span class="token number" style="color:rgb(9, 134, 88)">1</span><span class="token plain">   Method: MCBLOCK Elapsed: </span><span class="token number" style="color:rgb(9, 134, 88)">30.37540</span><span class="token plain">   MiB: </span><span class="token number" style="color:rgb(9, 134, 88)">104000.00000</span><span class="token plain">   Copy: </span><span class="token number" style="color:rgb(9, 134, 88)">3423.823</span><span class="token plain"> MiB/s</span><br></span><span class="token-line" style="color:#000000"><span class="token plain"></span><span class="token number" style="color:rgb(9, 134, 88)">2</span><span class="token plain">   Method: MCBLOCK Elapsed: </span><span class="token number" style="color:rgb(9, 134, 88)">31.82063</span><span class="token plain">   MiB: </span><span class="token number" style="color:rgb(9, 134, 88)">104000.00000</span><span class="token plain">   Copy: </span><span class="token number" style="color:rgb(9, 134, 88)">3268.320</span><span class="token plain"> MiB/s</span><br></span><span class="token-line" style="color:#000000"><span class="token plain"></span><span class="token number" style="color:rgb(9, 134, 88)">3</span><span class="token plain">   Method: MCBLOCK Elapsed: </span><span class="token number" style="color:rgb(9, 134, 88)">29.16408</span><span class="token plain">   MiB: </span><span class="token number" style="color:rgb(9, 134, 88)">104000.00000</span><span class="token plain">   Copy: </span><span class="token number" style="color:rgb(9, 134, 88)">3566.031</span><span class="token plain"> MiB/s</span><br></span><span class="token-line" style="color:#000000"><span class="token plain"></span><span class="token number" style="color:rgb(9, 134, 88)">4</span><span class="token plain">   Method: MCBLOCK Elapsed: </span><span class="token number" style="color:rgb(9, 134, 88)">30.10628</span><span class="token plain">   MiB: </span><span class="token number" style="color:rgb(9, 134, 88)">104000.00000</span><span class="token plain">   Copy: </span><span class="token number" style="color:rgb(9, 134, 88)">3454.429</span><span class="token plain"> MiB/s</span><br></span><span class="token-line" style="color:#000000"><span class="token plain"></span><span class="token number" style="color:rgb(9, 134, 88)">5</span><span class="token plain">   Method: MCBLOCK Elapsed: </span><span class="token number" style="color:rgb(9, 134, 88)">31.05401</span><span class="token plain">   MiB: </span><span class="token number" style="color:rgb(9, 134, 88)">104000.00000</span><span class="token plain">   Copy: </span><span class="token number" style="color:rgb(9, 134, 88)">3349.004</span><span class="token plain"> MiB/s</span><br></span><span class="token-line" style="color:#000000"><span class="token plain"></span><span class="token number" style="color:rgb(9, 134, 88)">6</span><span class="token plain">   Method: MCBLOCK Elapsed: </span><span class="token number" style="color:rgb(9, 134, 88)">31.77311</span><span class="token plain">   MiB: </span><span class="token number" style="color:rgb(9, 134, 88)">104000.00000</span><span class="token plain">   Copy: </span><span class="token number" style="color:rgb(9, 134, 88)">3273.208</span><span class="token plain"> MiB/s</span><br></span><span class="token-line" style="color:#000000"><span class="token plain"></span><span class="token number" style="color:rgb(9, 134, 88)">7</span><span class="token plain">   Method: MCBLOCK Elapsed: </span><span class="token number" style="color:rgb(9, 134, 88)">29.97938</span><span class="token plain">   MiB: </span><span class="token number" style="color:rgb(9, 134, 88)">104000.00000</span><span class="token plain">   Copy: </span><span class="token number" style="color:rgb(9, 134, 88)">3469.051</span><span class="token plain"> MiB/s</span><br></span><span class="token-line" style="color:#000000"><span class="token plain"></span><span class="token number" style="color:rgb(9, 134, 88)">8</span><span class="token plain">   Method: MCBLOCK Elapsed: </span><span class="token number" style="color:rgb(9, 134, 88)">28.67741</span><span class="token plain">   MiB: </span><span class="token number" style="color:rgb(9, 134, 88)">104000.00000</span><span class="token plain">   Copy: </span><span class="token number" style="color:rgb(9, 134, 88)">3626.548</span><span class="token plain"> MiB/s</span><br></span><span class="token-line" style="color:#000000"><span class="token plain"></span><span class="token number" style="color:rgb(9, 134, 88)">9</span><span class="token plain">   Method: MCBLOCK Elapsed: </span><span class="token number" style="color:rgb(9, 134, 88)">33.57305</span><span class="token plain">   MiB: </span><span class="token number" style="color:rgb(9, 134, 88)">104000.00000</span><span class="token plain">   Copy: </span><span class="token number" style="color:rgb(9, 134, 88)">3097.723</span><span class="token plain"> MiB/s</span><br></span><span class="token-line" style="color:#000000"><span class="token plain">AVG Method: MCBLOCK Elapsed: </span><span class="token number" style="color:rgb(9, 134, 88)">30.77429</span><span class="token plain">   MiB: </span><span class="token number" style="color:rgb(9, 134, 88)">104000.00000</span><span class="token plain">   Copy: </span><span class="token number" style="color:rgb(9, 134, 88)">3379.445</span><span class="token plain"> MiB/s</span><br></span><span class="token-line" style="color:#000000"><span class="token plain"></span><span class="token punctuation" style="color:rgb(4, 81, 165)">[</span><span class="token plain">root@arm64v8 mbw</span><span class="token punctuation" style="color:rgb(4, 81, 165)">]</span><span class="token comment" style="color:rgb(0, 128, 0)">#</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="复制代码到剪贴板" title="复制" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg class="copyButtonIcon_y97N" viewBox="0 0 24 24"><path d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg class="copyButtonSuccessIcon_LjdS" viewBox="0 0 24 24"><path d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><ul><li><p>-<!-- -->n 10：表示运行 10 次。</p></li><li><p>104000(MB)：表示测试时手动分配的内存大小，实际 Allocationg 的内存大小大致是手动分配内存大小的 2 倍，测试时以实际 Allocationg 的大小为准。</p><ul><li>注意：<strong>Allocating 的内存大小不能超过物理内存大小</strong>，否则报错 <code>Error allocating memory: Cannot allocate memory</code>。</li></ul></li><li><p>结果分析：只需关注平均值(AVG)，内存分配速率越大，性能越好，三次 AVG 分别对应内存拷贝，字符串拷贝，内存块拷贝。</p><ul><li>测试开头中的 Long uses 8 bytes 指的是 64 位操作系统寻址，64 位内存寻址跟 32 位完全不同，记忆中 32 位操作系统内存寻址最大 4G，这也是上个世纪的事了。</li></ul></li></ul></div></article><nav class="pagination-nav docusaurus-mt-lg" aria-label="文档分页导航"><a class="pagination-nav__link pagination-nav__link--prev" href="/docs/linux-test-1"><div class="pagination-nav__sublabel">上一页</div><div class="pagination-nav__label">第 1 章 SPEC CPU 2017 测试</div></a><a class="pagination-nav__link pagination-nav__link--next" href="/docs/linux-test-3"><div class="pagination-nav__sublabel">下一页</div><div class="pagination-nav__label">第 3 章 FIO 磁盘性能测试</div></a></nav></div></div><div class="col col--3"><div class="tableOfContents_bqdL thin-scrollbar theme-doc-toc-desktop"><ul class="table-of-contents table-of-contents__left-border"><li><a href="#21stream-安装" class="table-of-contents__link toc-highlight">2.1、Stream 安装</a></li><li><a href="#22stream-使用" class="table-of-contents__link toc-highlight">2.2、Stream 使用</a><ul><li><a href="#221硬件环境准备" class="table-of-contents__link toc-highlight">2.2.1、硬件环境准备</a></li><li><a href="#222开始测试" class="table-of-contents__link toc-highlight">2.2.2、开始测试</a></li></ul></li><li><a href="#23测试结果" class="table-of-contents__link toc-highlight">2.3、测试结果</a></li><li><a href="#a附录" class="table-of-contents__link toc-highlight">A、附录</a><ul><li><a href="#a1memtester-测试" class="table-of-contents__link toc-highlight">A1、memtester 测试</a></li><li><a href="#a2bandwidth-测试" class="table-of-contents__link toc-highlight">A2、bandwidth 测试</a></li><li><a href="#a3mbw-测试" class="table-of-contents__link toc-highlight">A3、mbw 测试</a></li></ul></li></ul></div></div></div></div></main></div></div><footer class="footer footer--dark"><div class="container container-fluid"><div class="row footer__links"><div class="col footer__col"><div class="footer__title">学习</div><ul class="footer__items clean-list"><li class="footer__item"><a class="footer__link-item" href="/tags">标签</a></li><li class="footer__item"><a class="footer__link-item" href="/archive">归档</a></li><li class="footer__item"><a class="footer__link-item" href="/docs/skill">技术笔记</a></li><li class="footer__item"><a class="footer__link-item" href="/project">实战项目</a></li><li class="footer__item"><a class="footer__link-item" href="/docs/linux">Linux</a></li></ul></div><div class="col footer__col"><div class="footer__title">社交媒体</div><ul class="footer__items clean-list"><li class="footer__item"><a class="footer__link-item" href="/about">关于我</a></li><li class="footer__item"><a href="https://github.com/zqingfa" target="_blank" rel="noopener noreferrer" class="footer__link-item">GitHub<svg width="13.5" height="13.5" aria-hidden="true" viewBox="0 0 24 24" class="iconExternalLink_nPIU"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"></path></svg></a></li><li class="footer__item"><a href="https://juejin.cn/" target="_blank" rel="noopener noreferrer" class="footer__link-item">掘金<svg width="13.5" height="13.5" aria-hidden="true" viewBox="0 0 24 24" class="iconExternalLink_nPIU"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"></path></svg></a></li><li class="footer__item"><a href="https://discord.gg/" target="_blank" rel="noopener noreferrer" class="footer__link-item">Discord<svg width="13.5" height="13.5" aria-hidden="true" viewBox="0 0 24 24" class="iconExternalLink_nPIU"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"></path></svg></a></li></ul></div><div class="col footer__col"><div class="footer__title">更多</div><ul class="footer__items clean-list"><li class="footer__item"><a class="footer__link-item" position="right" href="/friends">友链</a></li><li class="footer__item"><a class="footer__link-item" position="right" href="/website">导航</a></li><li class="footer__item"><a href="https://docusaurus.io/zh-CN/" target="_blank"><img style="height:50px;margin-top:0.5rem" src="/img/buildwith.png"><a></a></li></ul></div></div><div class="footer__bottom text--center"><div class="footer__copyright"><p><a href="http://beian.miit.gov.cn/">浙ICP备20024502号-1</a></p><p>Copyright © 2022 - PRESENT zhangqf Built with Docusaurus.</p></div></div></div></footer></div>
<script src="/assets/js/runtime~main.9e73f1b3.js"></script>
<script src="/assets/js/main.39d37d57.js"></script>
</body>
</html>