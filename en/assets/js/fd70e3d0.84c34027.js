"use strict";(self.webpackChunkblog=self.webpackChunkblog||[]).push([[2229],{3905:function(e,t,n){n.d(t,{Zo:function(){return i},kt:function(){return c}});var a=n(67294);function r(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function l(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,a)}return n}function p(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?l(Object(n),!0).forEach((function(t){r(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):l(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function o(e,t){if(null==e)return{};var n,a,r=function(e,t){if(null==e)return{};var n,a,r={},l=Object.keys(e);for(a=0;a<l.length;a++)n=l[a],t.indexOf(n)>=0||(r[n]=e[n]);return r}(e,t);if(Object.getOwnPropertySymbols){var l=Object.getOwnPropertySymbols(e);for(a=0;a<l.length;a++)n=l[a],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}var s=a.createContext({}),u=function(e){var t=a.useContext(s),n=t;return e&&(n="function"==typeof e?e(t):p(p({},t),e)),n},i=function(e){var t=u(e.components);return a.createElement(s.Provider,{value:t},e.children)},m={inlineCode:"code",wrapper:function(e){var t=e.children;return a.createElement(a.Fragment,{},t)}},k=a.forwardRef((function(e,t){var n=e.components,r=e.mdxType,l=e.originalType,s=e.parentName,i=o(e,["components","mdxType","originalType","parentName"]),k=u(n),c=r,d=k["".concat(s,".").concat(c)]||k[c]||m[c]||l;return n?a.createElement(d,p(p({ref:t},i),{},{components:n})):a.createElement(d,p({ref:t},i))}));function c(e,t){var n=arguments,r=t&&t.mdxType;if("string"==typeof e||r){var l=n.length,p=new Array(l);p[0]=k;var o={};for(var s in t)hasOwnProperty.call(t,s)&&(o[s]=t[s]);o.originalType=e,o.mdxType="string"==typeof e?e:r,p[1]=o;for(var u=2;u<l;u++)p[u]=n[u];return a.createElement.apply(null,p)}return a.createElement.apply(null,n)}k.displayName="MDXCreateElement"},65861:function(e,t,n){n.r(t),n.d(t,{assets:function(){return i},contentTitle:function(){return s},default:function(){return c},frontMatter:function(){return o},metadata:function(){return u},toc:function(){return m}});var a=n(87462),r=n(63366),l=(n(67294),n(3905)),p=["components"],o={id:"linux-primary-10",slug:"/linux-primary-10",title:"\u7b2c 10 \u7ae0 Linux \u7cfb\u7edf\u8d44\u6e90\u76d1\u63a7",authors:"zhangqf",keywords:["linux","Monitor"]},s=void 0,u={unversionedId:"linux/primary/linux-primary-10",id:"linux/primary/linux-primary-10",title:"\u7b2c 10 \u7ae0 Linux \u7cfb\u7edf\u8d44\u6e90\u76d1\u63a7",description:"Linux \u64cd\u4f5c\u7cfb\u7edf\u5b9e\u9645\u4e0a\u53ef\u4ee5\u770b\u4f5c\u662f\u4e00\u4e2a\u8d44\u6e90\u7ba1\u5bb6\uff0c\u90a3\u4e48\u7ba1\u7406\u54ea\u4e9b\u8d44\u6e90\u5462\uff0c\u5f53\u7136\u662f\u5e95\u5c42\u786c\u4ef6\u8d44\u6e90\uff0c\u6bd4\u5982 CPU\u3001\u5185\u5b58\u3001\u786c\u76d8\u3001\u663e\u5361\u3001\u7f51\u5361\u4ee5\u53ca\u5404\u79cd\u6269\u5c55\u5916\u8bbe\u3002",source:"@site/docs/linux/primary/\u7b2c 10 \u7ae0 Linux \u7cfb\u7edf\u8d44\u6e90\u76d1\u63a7.md",sourceDirName:"linux/primary",slug:"/linux-primary-10",permalink:"/en/docs/linux-primary-10",draft:!1,tags:[],version:"current",frontMatter:{id:"linux-primary-10",slug:"/linux-primary-10",title:"\u7b2c 10 \u7ae0 Linux \u7cfb\u7edf\u8d44\u6e90\u76d1\u63a7",authors:"zhangqf",keywords:["linux","Monitor"]},sidebar:"linux",previous:{title:"\u7b2c 9 \u7ae0 Linux \u8fdb\u7a0b\u548c\u4fe1\u53f7",permalink:"/en/docs/linux-primary-9"},next:{title:"\u7b2c 11 \u7ae0 Linux \u670d\u52a1\u7ba1\u7406",permalink:"/en/docs/linux-primary-11"}},i={},m=[{value:"10.1\u3001\u4f2a\u6587\u4ef6\u7cfb\u7edf",id:"101\u4f2a\u6587\u4ef6\u7cfb\u7edf",level:2},{value:"10.2\u3001\u67e5\u770b\u8fdb\u7a0b\u4fe1\u606f",id:"102\u67e5\u770b\u8fdb\u7a0b\u4fe1\u606f",level:2},{value:"10.2.1\u3001pstree \u547d\u4ee4",id:"1021pstree-\u547d\u4ee4",level:3},{value:"10.2.2\u3001ps \u547d\u4ee4",id:"1022ps-\u547d\u4ee4",level:3},{value:"10.2.3\u3001ps \u540e grep \u95ee\u9898",id:"1023ps-\u540e-grep-\u95ee\u9898",level:3},{value:"10.2.4\u3001uptime \u547d\u4ee4",id:"1024uptime-\u547d\u4ee4",level:3},{value:"10.2.5\u3001top\u3001htop \u548c iftop \u547d\u4ee4",id:"1025tophtop-\u548c-iftop-\u547d\u4ee4",level:3},{value:"10.2.6\u3001\u5206\u6790\u7cfb\u7edf\u8d1f\u8f7d",id:"1026\u5206\u6790\u7cfb\u7edf\u8d1f\u8f7d",level:3},{value:"10.3\u3001vmstat \u547d\u4ee4",id:"103vmstat-\u547d\u4ee4",level:2},{value:"10.4\u3001iostat \u547d\u4ee4",id:"104iostat-\u547d\u4ee4",level:2},{value:"10.5\u3001sar \u547d\u4ee4",id:"105sar-\u547d\u4ee4",level:2},{value:"10.5.1\u3001CPU \u8d44\u6e90\u76d1\u63a7",id:"1051cpu-\u8d44\u6e90\u76d1\u63a7",level:3},{value:"10.5.2\u3001inode\u3001\u6587\u4ef6\u548c\u5176\u4ed6\u5185\u6838\u8868\u76d1\u63a7",id:"1052inode\u6587\u4ef6\u548c\u5176\u4ed6\u5185\u6838\u8868\u76d1\u63a7",level:3},{value:"10.5.3\u3001\u5185\u5b58\u548c\u4ea4\u6362\u7a7a\u95f4\u76d1\u63a7",id:"1053\u5185\u5b58\u548c\u4ea4\u6362\u7a7a\u95f4\u76d1\u63a7",level:3},{value:"10.5.4\u3001\u5185\u5b58\u5206\u9875\u76d1\u63a7",id:"1054\u5185\u5b58\u5206\u9875\u76d1\u63a7",level:3},{value:"10.5.5\u3001I/O \u548c\u4f20\u9001\u901f\u7387\u76d1\u63a7",id:"1055io-\u548c\u4f20\u9001\u901f\u7387\u76d1\u63a7",level:3},{value:"10.5.6\u3001\u8fdb\u7a0b\u961f\u5217\u957f\u5ea6\u548c\u5e73\u5747\u8d1f\u8f7d\u72b6\u6001\u76d1\u63a7",id:"1056\u8fdb\u7a0b\u961f\u5217\u957f\u5ea6\u548c\u5e73\u5747\u8d1f\u8f7d\u72b6\u6001\u76d1\u63a7",level:3},{value:"10.5.7\u3001\u7cfb\u7edf\u4ea4\u6362\u6d3b\u52a8\u4fe1\u606f\u76d1\u63a7",id:"1057\u7cfb\u7edf\u4ea4\u6362\u6d3b\u52a8\u4fe1\u606f\u76d1\u63a7",level:3},{value:"10.5.8\u3001\u7edf\u8ba1\u7f51\u7edc\u4fe1\u606f",id:"1058\u7edf\u8ba1\u7f51\u7edc\u4fe1\u606f",level:3},{value:"10.5.8.1\u3001sar -n DEV 1 3",id:"10581sar--n-dev-1-3",level:4},{value:"10.5.8.2\u3001sar -n EDEV 1 1",id:"10582sar--n-edev-1-1",level:4},{value:"10.5.8.3\u3001sar -n SOCK 1 1",id:"10583sar--n-sock-1-1",level:4},{value:"10.5.8.4\u3001sar -n TCP 1 3",id:"10584sar--n-tcp-1-3",level:4},{value:"10.5.9\u3001\u8bbe\u5907\u4f7f\u7528\u60c5\u51b5\u76d1\u63a7",id:"1059\u8bbe\u5907\u4f7f\u7528\u60c5\u51b5\u76d1\u63a7",level:3},{value:"10.6\u3001free \u547d\u4ee4",id:"106free-\u547d\u4ee4",level:2}],k={toc:m};function c(e){var t=e.components,o=(0,r.Z)(e,p);return(0,l.kt)("wrapper",(0,a.Z)({},k,o,{components:t,mdxType:"MDXLayout"}),(0,l.kt)("p",null,"Linux \u64cd\u4f5c\u7cfb\u7edf\u5b9e\u9645\u4e0a\u53ef\u4ee5\u770b\u4f5c\u662f\u4e00\u4e2a\u8d44\u6e90\u7ba1\u5bb6\uff0c\u90a3\u4e48\u7ba1\u7406\u54ea\u4e9b\u8d44\u6e90\u5462\uff0c\u5f53\u7136\u662f\u5e95\u5c42\u786c\u4ef6\u8d44\u6e90\uff0c\u6bd4\u5982 CPU\u3001\u5185\u5b58\u3001\u786c\u76d8\u3001\u663e\u5361\u3001\u7f51\u5361\u4ee5\u53ca\u5404\u79cd\u6269\u5c55\u5916\u8bbe\u3002"),(0,l.kt)("p",null,"\u8fd9\u4e9b\u786c\u4ef6\u8bbe\u5907\u5982\u4f55\u88ab\u4f7f\u7528\u3001\u4f7f\u7528\u60c5\u51b5\u5982\u4f55\u90fd\u7531 Linux \u64cd\u4f5c\u7cfb\u7edf\u6765\u51b3\u5b9a\uff0c\u5b9e\u9645\u4e0a\u8fd9\u662f\u4e00\u4e2a\u975e\u5e38\u590d\u6742\u7684\u8fc7\u7a0b\u3002\u7ecf\u8fc7\u5386\u53f2\u6f14\u53d8\uff0cLinux \u5185\u6838\u529f\u80fd\u8d8a\u6765\u8d8a\u591a\uff0c\u4e5f\u8d8a\u6765\u8d8a\u5f3a\u5927\uff0c\u6211\u4eec\u4e5f\u4e0d\u5f97\u4e0d\u66f4\u52a0\u52aa\u529b\u5730\u5b66\u4e60\u3002\u672c\u7ae0\u8282\u4f1a\u4ecb\u7ecd\u5982\u4f55\u67e5\u770b\u8fd9\u4e9b\u786c\u4ef6\u8d44\u6e90\uff0c\u4ee5\u4fbf\u901a\u8fc7\u6570\u636e\u5206\u6790\u66f4\u52a0\u5408\u7406\u5730\u5206\u914d\u8d44\u6e90\u3002"),(0,l.kt)("h2",{id:"101\u4f2a\u6587\u4ef6\u7cfb\u7edf"},"10.1\u3001\u4f2a\u6587\u4ef6\u7cfb\u7edf"),(0,l.kt)("p",null,"\u5728 Linux \u4e2d\u67e5\u770b\u5404\u79cd\u72b6\u6001\uff0c\u5176\u5b9e\u8d28\u662f\u67e5\u770b\u5185\u6838\u4e2d\u76f8\u5173\u8fdb\u7a0b\u7684\u6570\u636e\u7ed3\u6784\u4e2d\u7684\u9879\uff0c\u901a\u8fc7\u5de5\u5177\u5c06\u5176\u683c\u5f0f\u5316\u540e\u8f93\u51fa\u51fa\u6765\u3002"),(0,l.kt)("p",null,"\u4f46\u662f\u5185\u6838\u7684\u6570\u636e\u662f\u7edd\u5bf9\u4e0d\u80fd\u968f\u610f\u67e5\u770b\u6216\u66f4\u6539\u7684\uff0c\u81f3\u5c11\u4e0d\u80fd\u76f4\u63a5\u53bb\u4fee\u6539\u3002\u6240\u4ee5\uff0c\u5728 linux \u4e0a\u51fa\u73b0\u4e86\u4f2a\u6587\u4ef6\u7cfb\u7edf /proc\uff0c\u5b83\u662f\u5185\u6838\u4e2d\u5404\u5c5e\u6027\u6216\u72b6\u6001\u5411\u5916\u63d0\u4f9b\u8bbf\u95ee\u548c\u4fee\u6539\u7684\u63a5\u53e3\u3002"),(0,l.kt)("p",null,"\u5728 /proc \u4e0b\uff0c\u8bb0\u5f55\u4e86\u5185\u6838\u81ea\u5df1\u7684\u6570\u636e\u4fe1\u606f\uff0c\u5404\u8fdb\u7a0b\u72ec\u7acb\u7684\u6570\u636e\u4fe1\u606f\uff0c\u7edf\u8ba1\u4fe1\u606f\u7b49\u3002\u7edd\u5927\u591a\u6570\u6587\u4ef6\u90fd\u662f\u53ea\u8bfb\u4e0d\u53ef\u6539\u7684\uff0c\u5373\u4f7f\u5bf9 root \u4e5f\u4e00\u6837\uff0c\u4f46 /proc/sys \u9664\u5916\uff0c\u4e3a\u4f55\u5982\u6b64\u7a0d\u540e\u89e3\u91ca\u3002"),(0,l.kt)("pre",null,(0,l.kt)("code",{parentName:"pre",className:"language-bash"},"[root@computer1 ~]# ls /proc/\n1       14       210      2444     2898     3152411  3219322  365      49      916\n10      140      211      2445042  29       3157718  3219761  366      49308   918\n101     142      213      245      290      316      3219763  3671528  49309   92\n1010    143      214      246      2901     3161233  3219965  369      49487   922\n1011    144      215      247      2904     3161412  3219966  37       497     924\n1012    145      2157892  2477     291      3161628  322      370      498     93\n102     147      216      2479     292      3162463  3220776  3707987  499     939\n1026    148      2166228  2483     293      3167151  3220973  3708052  50      95\n103     1484289  2166605  249      2933337  3167349  3220974  371      500     965894\n1030    149      2172873  2491     2942473  3167804  3221784  37148    501     965940\n1032    15       2172952  2492920  2943058  3167994  3222825  372      502     97\n104     150      2174302  2493740  2943701  3168644  3222954  373      503     977\n1044    152      218      2498     295      3169031  3223256  374      504     98\n1045    153      2187021  2499     296      3169645  3223259  375      505     99\n1046    154      2187301  25       2964786  317      3223494  376      506     acpi\n1057    155      2187350  250      297      3170504  323      37620    507     buddyinfo\n106     157      22       2507     2974466  3170660  324      377      508     bus\n107     158      220      2507753  2975052  3170860  326      3825     509     cgroups\n108     159      2209896  2507840  2976725  3172803  327      3829     51      cmdline\n109     16       221      251      2977555  3179791  328      3830     510     config.gz\n11      160      2218775  2514755  298      318      329      3831     511     consoles\n111     162      222      2514917  2997448  3180167  3308060  3832     516     cpuinfo\n112     163      224      252      2997861  3180374  331      3833     52      crypto\n113     164      2247991  2522146  3        3180601  331292   3834     54      devices\n114     1643190  225      2527     30       3181420  3313620  3835     56      diskstats\n11513   1643234  226      254      300      3182232  3313748  3836     57      driver\n116     165      2261     255      3000087  3183478  332      383638   58      execdomains\n117     167      2262     256      302      3184083  333      3837     584745  fb\n118     168      2263     257      3020071  3184924  334      3838     586435  filesystems\n")),(0,l.kt)("ul",null,(0,l.kt)("li",{parentName:"ul"},(0,l.kt)("p",{parentName:"li"},"\u5176\u4e2d\u6570\u5b57\u547d\u540d\u7684\u76ee\u5f55\u5bf9\u5e94\u7684\u662f\u5404\u8fdb\u7a0b\u7684 pid \u53f7\uff0c\u5176\u5185\u7684\u6587\u4ef6\u8bb0\u5f55\u7684\u90fd\u662f\u8be5\u8fdb\u7a0b\u5f53\u524d\u7684\u6570\u636e\u4fe1\u606f\uff0c\u4e14\u90fd\u662f\u53ea\u8bfb\u7684\u3002")),(0,l.kt)("li",{parentName:"ul"},(0,l.kt)("p",{parentName:"li"},"\u4f8b\u5982\u8bb0\u5f55\u547d\u4ee4\u4fe1\u606f\u7684 cmdline \u6587\u4ef6\uff0c\u8fdb\u7a0b\u4f7f\u7528\u54ea\u9897 cpu \u4fe1\u606f cpuset\uff0c\u8fdb\u7a0b\u5360\u7528\u5185\u5b58\u7684\u4fe1\u606f mem \u6587\u4ef6\uff0c\u8fdb\u7a0b IO \u4fe1\u606f io \u6587\u4ef6\u7b49\u5176\u4ed6\u5404\u79cd\u4fe1\u606f\u6587\u4ef6\u3002"),(0,l.kt)("pre",{parentName:"li"},(0,l.kt)("code",{parentName:"pre",className:"language-bash"},"[root@computer1 ~]# ls /proc/62923/\nattr             cpuset   io         mounts      oom_score_adj  setgroups     syscall\nauxv             cwd      limits     mountstats  pagemap        smaps         task\ncgroup           environ  loginuid   net         personality    smaps_rollup  timers\nclear_refs       exe      map_files  ns          projid_map     stack         timerslack_ns\ncmdline          fd       maps       numa_maps   root           stat          uid_map\ncomm             fdinfo   mem        oom_adj     schedstat      statm         wchan\ncoredump_filter  gid_map  mountinfo  oom_score   sessionid      status\n[root@computer1 ~]#\n")))),(0,l.kt)("p",null,"\u975e\u6570\u5b57\u547d\u540d\u7684\u76ee\u5f55\u5404\u6709\u7528\u9014\uff0c\u4f8b\u5982 bus \u8868\u793a\u603b\u7ebf\u4fe1\u606f\uff0cdriver \u8868\u793a\u9a71\u52a8\u4fe1\u606f\uff0cfs \u8868\u793a\u6587\u4ef6\u7cfb\u7edf\u7279\u6b8a\u4fe1\u606f\uff0cnet \u8868\u793a\u7f51\u7edc\u4fe1\u606f\uff0ctty \u8868\u793a\u8ddf\u7269\u7406\u7ec8\u7aef\u6709\u5173\u7684\u4fe1\u606f\uff0c\u6700\u7279\u6b8a\u7684\u4e24\u4e2a\u662f /proc/self \u548c /proc/sys\u3002"),(0,l.kt)("ul",null,(0,l.kt)("li",{parentName:"ul"},(0,l.kt)("p",{parentName:"li"},"\u5148\u8bf4 /proc/self \u76ee\u5f55\uff0c\u5b83\u8868\u793a\u7684\u662f\u5f53\u524d\u6b63\u5728\u8bbf\u95ee /proc \u76ee\u5f55\u7684\u8fdb\u7a0b\uff0c\u56e0\u4e3a /proc \u76ee\u5f55\u662f\u5185\u6838\u6570\u636e\u5411\u5916\u8bb0\u5f55\u7684\u63a5\u53e3\uff0c\u6240\u4ee5\u5f53\u524d\u8bbf\u95ee /proc \u76ee\u5f55\u7684\u8fdb\u7a0b\u8868\u793a\u7684\u5c31\u662f\u5f53\u524d cpu \u6b63\u5728\u6267\u884c\u7684\u8fdb\u7a0b\u3002"),(0,l.kt)("p",{parentName:"li"},"\u5982\u679c\u6267\u884c cat /proc/self/cmdline\uff0c\u4f1a\u53d1\u73b0\u5176\u7ed3\u679c\u603b\u662f\u8be5\u547d\u4ee4\u672c\u8eab\uff0c\u56e0\u4e3a cat \u662f\u624b\u52a8\u6572\u5165\u7684\u547d\u4ee4\uff0c\u5b83\u662f\u91cd\u8981\u6027\u8fdb\u7a0b\uff0ccpu \u4f1a\u7acb\u5373\u6267\u884c\u8be5\u547d\u4ee4\u3002")),(0,l.kt)("li",{parentName:"ul"},(0,l.kt)("p",{parentName:"li"},"\u518d\u8bf4 /proc/sys \u8fd9\u4e2a\u76ee\u5f55\uff0c\u8be5\u76ee\u5f55\u662f\u4e3a\u7ba1\u7406\u5458\u63d0\u4f9b\u7528\u6765\u4fee\u6539\u5185\u6838\u8fd0\u884c\u53c2\u6570\u7684\uff0c\u6240\u4ee5\u8be5\u76ee\u5f55\u4e2d\u7684\u6587\u4ef6\u5bf9 root \u90fd\u662f\u53ef\u5199\u7684\uff0c\u4f8b\u5982\u7ba1\u7406\u6570\u636e\u5305\u8f6c\u53d1\u529f\u80fd\u7684 /proc/sys/net/ipv4/ip","_","forward \u6587\u4ef6\u3002"),(0,l.kt)("p",{parentName:"li"},"\u4f7f\u7528 sysctl \u547d\u4ee4\u4fee\u6539\u5185\u6838\u8fd0\u884c\u53c2\u6570\uff0c\u5176\u672c\u8d28\u4e5f\u662f\u4fee\u6539 /proc/sys \u76ee\u5f55\u4e2d\u7684\u6587\u4ef6\u3002"))),(0,l.kt)("h2",{id:"102\u67e5\u770b\u8fdb\u7a0b\u4fe1\u606f"},"10.2\u3001\u67e5\u770b\u8fdb\u7a0b\u4fe1\u606f"),(0,l.kt)("h3",{id:"1021pstree-\u547d\u4ee4"},"10.2.1\u3001pstree \u547d\u4ee4"),(0,l.kt)("p",null,"pstree \u547d\u4ee4\u5c06\u4ee5\u6811\u7684\u5f62\u5f0f\u663e\u793a\u8fdb\u7a0b\u4fe1\u606f\uff0c\u9ed8\u8ba4\u6811\u7684\u5206\u652f\u662f\u6536\u62e2\u7684\uff0c\u4e5f\u4e0d\u663e\u793a pid\uff0c\u8981\u663e\u793a\u8fd9\u4e9b\u4fe1\u606f\u9700\u8981\u6307\u5b9a\u5bf9\u5e94\u7684\u9009\u9879\u3002"),(0,l.kt)("pre",null,(0,l.kt)("code",{parentName:"pre",className:"language-bash"},"pstree [-a] [-c] [-h] [-l] [-p] [pid]\n\n\u9009\u9879\u8bf4\u660e\uff1a\n-a\uff1a\u663e\u793a\u8fdb\u7a0b\u7684\u547d\u4ee4\u884c\n-c\uff1a\u5c55\u5f00\u5206\u652f\n-h\uff1a\u9ad8\u4eae\u5f53\u524d\u6b63\u5728\u8fd0\u884c\u7684\u8fdb\u7a0b\u53ca\u5176\u7236\u8fdb\u7a0b\n-p\uff1a\u663e\u793a\u8fdb\u7a0bpid\uff0c\u6b64\u9009\u9879\u4e5f\u5c06\u5c55\u5f00\u5206\u652f\n-l\uff1a\u5141\u8bb8\u663e\u793a\u957f\u683c\u5f0f\u8fdb\u7a0b\u3002\u9ed8\u8ba4\u5728\u663e\u793a\u7ed3\u679c\u4e2d\u8d85\u8fc7132\u4e2a\u5b57\u7b26\u65f6\u5c06\u622a\u65ad\u540e\u9762\u7684\u5b57\u7b26\u3002\n")),(0,l.kt)("pre",null,(0,l.kt)("code",{parentName:"pre",className:"language-bash"},"[root@computer1 ~]# pstree -h\nsystemd\u2500\u252c\u25003*[agetty]\n        \u251c\u2500auditd\u2500\u2500\u2500{auditd}\n        \u251c\u2500chronyd\n        \u251c\u2500collectdmon\u2500\u2500\u2500collectd\u2500\u2500\u250011*[{collectd}]\n        \u251c\u2500containerd\u2500\u252c\u2500containerd-shim\u2500\u252c\u2500openresty\u2500\u2500\u25004*[openresty]\n        \u2502            \u2502                 \u2514\u250011*[{containerd-shim}]\n        \u2502            \u251c\u2500containerd-shim\u2500\u252c\u2500npm\u2500\u252c\u2500sh\u2500\u2500\u2500node\u2500\u2500\u250010*[{node}]\n        \u2502            \u2502                 \u2502     \u2514\u250010*[{npm}]\n        \u2502            \u2502                 \u2514\u250011*[{containerd-shim}]\n        \u2502            \u2514\u250076*[{containerd}]\n        \u251c\u2500crond\n        \u251c\u2500dbus-daemon\n        \u251c\u25002*[dnsmasq]\n        \u251c\u2500dockerd\u2500\u2500\u250074*[{dockerd}]\n        \u251c\u2500etcd\u2500\u2500\u250076*[{etcd}]\n        \u251c\u2500gssproxy\u2500\u2500\u25005*[{gssproxy}]\n        \u251c\u2500irqbalance\u2500\u2500\u2500{irqbalance}\n        \u251c\u2500kylin-security-\u2500\u2500\u2500{kylin-security-}\n        \u251c\u2500libvirtd\u2500\u2500\u250017*[{libvirtd}]\n        \u251c\u25002*[lighttpd]\n        \u251c\u2500mdadm\n        ......\n")),(0,l.kt)("h3",{id:"1022ps-\u547d\u4ee4"},"10.2.2\u3001ps \u547d\u4ee4"),(0,l.kt)("p",null,"ps \u547d\u4ee4\u67e5\u770b\u5f53\u524d\u8fd9\u4e00\u523b\u7684\u8fdb\u7a0b\u4fe1\u606f\uff0c\u6ce8\u610f\u67e5\u770b\u7684\u662f\u9759\u6001\u8fdb\u7a0b\u4fe1\u606f\uff0c\u8981\u67e5\u770b\u968f\u65f6\u5237\u65b0\u7684\u52a8\u6001\u8fdb\u7a0b\u4fe1\u606f(\u5982windows\u7684\u8fdb\u7a0b\u7ba1\u7406\u5668\u90a3\u6837\uff0c\u6bcf\u79d2\u5237\u65b0\u4e00\u6b21)\uff0c\u4f7f\u7528 top \u6216 htop \u547d\u4ee4\u3002"),(0,l.kt)("p",null,'\u8fd9\u4e2a\u547d\u4ee4\u7684 man \u6587\u6863\u53ca\u5176\u590d\u6742\uff0c\u5b83\u540c\u65f6\u652f\u6301 3 \u79cd\u7c7b\u578b\u7684\u9009\u9879\uff1aGUN/BSD/UNIX\uff0c\u4e0d\u540c\u7c7b\u578b\u7684\u9009\u9879\u5176\u5c55\u793a\u7684\u4fe1\u606f\u683c\u5f0f\u4e0d\u4e00\u6837\u3002\u6709\u4e9b\u52a0\u4e86 "-" \u7684\u662f SysV \u98ce\u683c\u7684\u9009\u9879\uff0c\u4e0d\u52a0 "-" \u7684\u662f BSD \u9009\u9879\uff0c\u52a0\u4e0d\u52a0 "-" \u5b83\u4eec\u7684\u610f\u4e49\u662f\u4e0d\u4e00\u6837\u7684\uff0c\u4f8b\u5982 ps aux \u548c ps -aux \u662f\u4e0d\u540c\u7684\u3002'),(0,l.kt)("p",null,"\u5176\u5b9e\u53ea\u9700\u638c\u63e1\u5c11\u6570\u51e0\u4e2a\u9009\u9879\u5373\u53ef\uff0c\u5173\u952e\u7684\u662f\u8981\u4e86\u89e3 ps \u663e\u793a\u51fa\u7684\u8fdb\u7a0b\u4fe1\u606f\u4e2d\u6bcf\u4e00\u5217\u4ee3\u8868\u4ec0\u4e48\u5c5e\u6027\u3002"),(0,l.kt)("p",null,"\u5bf9\u4e8e BSD \u98ce\u683c\u7684\u9009\u9879\uff0c\u53ea\u9700\u77e5\u9053\u4e00\u4e2a\u7528\u6cd5 ps aux \u8db3\u4ee5\uff1a"),(0,l.kt)("ul",null,(0,l.kt)("li",{parentName:"ul"},'\u9009\u9879 "a" \u8868\u793a\u5217\u51fa\u4f9d\u8d56\u4e8e\u7ec8\u7aef\u7684\u8fdb\u7a0b'),(0,l.kt)("li",{parentName:"ul"},'\u9009\u9879 "x" \u8868\u793a\u5217\u51fa\u4e0d\u4f9d\u8d56\u4e8e\u7ec8\u7aef\u7684\u8fdb\u7a0b\uff0c\u6240\u4ee5\u4e24\u8005\u7ed3\u5408\u5c31\u8868\u793a\u5217\u51fa\u6240\u6709\u8fdb\u7a0b'),(0,l.kt)("li",{parentName:"ul"},'\u9009\u9879 "u" \u8868\u793a\u5c55\u73b0\u7684\u8fdb\u7a0b\u4fe1\u606f\u662f\u4ee5\u7528\u6237\u4e3a\u5bfc\u5411\u7684\uff0c\u4e0d\u7528\u7ba1\u5b83\u4ec0\u4e48\u662f\u4ee5\u7528\u6237\u4e3a\u5bfc\u5411\uff0c\u7528 ps aux \u5c31\u6ca1\u9519\u3002')),(0,l.kt)("pre",null,(0,l.kt)("code",{parentName:"pre",className:"language-bash"},"[root@computer1 ~]# ps aux | tail\nUSER         PID %CPU %MEM    VSZ   RSS TTY      STAT START   TIME COMMAND\nroot     3819329  0.0  0.0      0     0 ?        I    20:35   0:00 [kworker/25:3-cgroup_destroy]\nroot     3819915  0.0  0.0      0     0 ?        I    20:35   0:00 [kworker/0:2]\nroot     3820740  0.0  0.0      0     0 ?        I    20:36   0:00 [kworker/24:1-cgroup_pidlist_destroy]\nroot     3820741  0.0  0.0      0     0 ?        I    20:36   0:00 [kworker/24:2-cgroup_pidlist_destroy]\nroot     3822389  0.0  0.0      0     0 ?        I    20:37   0:00 [kworker/27:0-cgroup_pidlist_destroy]\nroot     3822390  0.0  0.0      0     0 ?        I    20:37   0:00 [kworker/27:3-cgroup_destroy]\nroot     3822812  0.0  0.0      0     0 ?        I    20:37   0:00 [kworker/14:0-mm_percpu_wq]\nroot     3822878  0.0  0.0 218816  6272 pts/16   R+   20:37   0:00 ps aux\nroot     3822879  0.0  0.0 213056   960 pts/16   S+   20:37   0:00 tail\nnobody   4119590  0.0  0.0   5312  1536 ?        S    7\u670812   0:00 /usr/local/zstack/dnsmasq --conf-file=/var/lib/zstack/dnsmasq/br_bond2_4002_533d732ae8fa49e89b24b384cb869a71/dnsmasq.conf\n[root@computer1 ~]#\n")),(0,l.kt)("ul",null,(0,l.kt)("li",{parentName:"ul"},(0,l.kt)("p",{parentName:"li"},'%CPU\uff1a\u8868\u793a CPU \u5360\u7528\u767e\u5206\u6bd4\uff0c\u6ce8\u610f\uff0cCPU \u7684\u8861\u91cf\u65b9\u5f0f\u662f\u5360\u7528\u65f6\u95f4\uff0c\u6240\u4ee5\u767e\u5206\u6bd4\u7684\u8ba1\u7b97\u65b9\u5f0f\u662f "\u8fdb\u7a0b\u5360\u7528 cpu \u65f6\u95f4 / cpu \u603b\u65f6\u95f4"\uff0c\u800c\u4e0d\u662f cpu \u5de5\u4f5c\u5f3a\u5ea6\u7684\u72b6\u6001\u3002')),(0,l.kt)("li",{parentName:"ul"},(0,l.kt)("p",{parentName:"li"},"%MEM\uff1a\u8868\u793a\u5404\u8fdb\u7a0b\u6240\u5360\u7269\u7406\u5185\u5b58\u767e\u5206\u6bd4\u3002")),(0,l.kt)("li",{parentName:"ul"},(0,l.kt)("p",{parentName:"li"},"VSZ\uff1a\u8868\u793a\u5404\u8fdb\u7a0b\u5360\u7528\u7684\u865a\u62df\u5185\u5b58\uff0c\u4e5f\u5c31\u662f\u5176\u5728\u7ebf\u6027\u5730\u5740\u7a7a\u95f4\u4e2d\u5b9e\u9645\u5360\u7528\u7684\u5185\u5b58\u3002\u5355\u4f4d\u4e3a kb\u3002")),(0,l.kt)("li",{parentName:"ul"},(0,l.kt)("p",{parentName:"li"},"RSS\uff1a\u8868\u793a\u5404\u8fdb\u7a0b\u5360\u7528\u7684\u5b9e\u9645\u7269\u7406\u5185\u5b58\u3002\u5355\u4f4d\u4e3a Kb\u3002")),(0,l.kt)("li",{parentName:"ul"},(0,l.kt)("p",{parentName:"li"},'TTY\uff1a\u8868\u793a\u5c5e\u4e8e\u54ea\u4e2a\u7ec8\u7aef\u7684\u8fdb\u7a0b\uff0c"?" \u8868\u793a\u4e0d\u4f9d\u8d56\u4e8e\u7ec8\u7aef\u7684\u8fdb\u7a0b\u3002')),(0,l.kt)("li",{parentName:"ul"},(0,l.kt)("p",{parentName:"li"},"STAT\uff1a\u8fdb\u7a0b\u6240\u5904\u7684\u72b6\u6001\u3002"),(0,l.kt)("ul",{parentName:"li"},(0,l.kt)("li",{parentName:"ul"},"D\uff1a\u4e0d\u53ef\u4e2d\u65ad\u7761\u7720"),(0,l.kt)("li",{parentName:"ul"},"R\uff1a\u8fd0\u884c\u4e2d\u6216\u7b49\u5f85\u961f\u5217\u4e2d\u7684\u8fdb\u7a0b(running/runnable)"),(0,l.kt)("li",{parentName:"ul"},"S\uff1a\u53ef\u4e2d\u65ad\u7761\u7720"),(0,l.kt)("li",{parentName:"ul"},"T\uff1a\u8fdb\u7a0b\u5904\u4e8e stopped \u72b6\u6001"),(0,l.kt)("li",{parentName:"ul"},"Z\uff1a\u50f5\u5c38\u8fdb\u7a0b")),(0,l.kt)("p",{parentName:"li"},"\u5bf9\u4e8e BSD \u98ce\u683c\u7684 ps \u9009\u9879\uff0c\u8fdb\u7a0b\u7684\u72b6\u6001\u8fd8\u4f1a\u663e\u793a\u4e0b\u9762\u51e0\u4e2a\u7ec4\u5408\u4fe1\u606f\u3002"),(0,l.kt)("ul",{parentName:"li"},(0,l.kt)("li",{parentName:"ul"},"<\uff1a\u9ad8\u4f18\u5148\u7ea7\u8fdb\u7a0b"),(0,l.kt)("li",{parentName:"ul"},"N\uff1a\u4f4e\u4f18\u5148\u7ea7\u8fdb\u7a0b"),(0,l.kt)("li",{parentName:"ul"},"L\uff1a\u8be5\u8fdb\u7a0b\u5728\u5185\u5b58\u4e2d\u6709\u88ab\u9501\u5b9a\u7684\u9875"),(0,l.kt)("li",{parentName:"ul"},"s\uff1a\u8868\u793a\u8be5\u8fdb\u7a0b\u662f session leader\uff0c\u5373\u8fdb\u7a0b\u7ec4\u7684\u9996\u8fdb\u7a0b\u3002\u4f8b\u5982\u7ba1\u9053\u5de6\u8fb9\u7684\u8fdb\u7a0b\uff0cshell \u811a\u672c\u4e2d\u7684 shell \u8fdb\u7a0b"),(0,l.kt)("li",{parentName:"ul"},"l\uff1a\u8868\u793a\u8be5\u8fdb\u7a0b\u662f\u4e00\u4e2a\u7ebf\u7a0b"),(0,l.kt)("li",{parentName:"ul"},"+\uff1a\u8868\u793a\u662f\u524d\u7aef\u8fdb\u7a0b\u3002\u524d\u7aef\u8fdb\u7a0b\u4e00\u822c\u6765\u8bf4\u90fd\u662f\u4f9d\u8d56\u4e8e\u7ec8\u7aef\u7684"))),(0,l.kt)("li",{parentName:"ul"},(0,l.kt)("p",{parentName:"li"},"START\uff1a\u8868\u793a\u8fdb\u7a0b\u662f\u4f55\u65f6\u88ab\u521b\u5efa\u7684")),(0,l.kt)("li",{parentName:"ul"},(0,l.kt)("p",{parentName:"li"},"TIME\uff1a\u8868\u793a\u5404\u8fdb\u7a0b\u5360\u7528\u7684 CPU \u65f6\u95f4")),(0,l.kt)("li",{parentName:"ul"},(0,l.kt)("p",{parentName:"li"},'COMMAND\uff1a\u8868\u793a\u8fdb\u7a0b\u7684\u547d\u4ee4\u884c\u3002\u5982\u679c\u662f\u5185\u6838\u7ebf\u7a0b\uff0c\u5219\u4f7f\u7528\u65b9\u62ec\u53f7 "',"[","]",'" \u5305\u56f4'))),(0,l.kt)("p",null,"\u6ce8\u610f\u5230\u4e86\u6ca1\uff0c",(0,l.kt)("strong",{parentName:"p"},"ps aux \u6ca1\u6709\u663e\u793a\u51fa ppid"),"\u3002"),(0,l.kt)("p",null,'\u53e6\u5916\u5e38\u7528\u7684 ps \u9009\u9879\u662f ps -elf\u3002\u5176\u4e2d "-e" \u8868\u793a\u8f93\u51fa\u5168\u90e8\u8fdb\u7a0b\u4fe1\u606f\uff0c"-f" \u548c "-l" \u5206\u522b\u8868\u793a\u5168\u683c\u5f0f\u8f93\u51fa\u548c\u957f\u683c\u5f0f\u8f93\u51fa\u3002\u5168\u683c\u5f0f\u4f1a\u8f93\u51fa cmd \u7684\u5168\u90e8\u53c2\u6570\u3002'),(0,l.kt)("pre",null,(0,l.kt)("code",{parentName:"pre",className:"language-bash"},"[root@computer1 ~]# ps -elf | tail\nF S UID          PID    PPID  C PRI  NI ADDR SZ WCHAN  STIME TTY          TIME CMD\n1 I root     3850806       2  0  80   0 -     0 worker 20:48 ?        00:00:00 [kworker/48:0-cgroup_destroy]\n1 I root     3852226       2  0  80   0 -     0 worker 20:49 ?        00:00:00 [kworker/51:2-cgroup_destroy]\n1 I root     3854390       2  0  80   0 -     0 worker 20:50 ?        00:00:00 [kworker/0:0]\n1 I root     3855361       2  0  80   0 -     0 worker 20:50 ?        00:00:00 [kworker/53:0]\n1 I root     3855430       2  0  80   0 -     0 worker 20:50 ?        00:00:00 [kworker/u128:0-bond1]\n1 I root     3857251       2  0  80   0 -     0 worker 20:51 ?        00:00:00 [kworker/54:1]\n0 S root     3857779  339964  0  80   0 -    78 do_wai 20:51 ?        00:00:00 /bin/bash\n0 R root     3857782 3809064  0  80   0 -  3419 -      20:51 pts/16   00:00:00 ps -elf\n0 S root     3857783 3809064  0  80   0 -  3329 pipe_w 20:51 pts/16   00:00:00 tail\n5 S nobody   4119590       1  0  80   0 -    83 do_sys 7\u670812 ?       00:00:00 /usr/local/zstack/dnsmasq --conf-file=/var/lib/zstack/dnsmasq/br_bond2_4002_533d732ae8fa49e89b24b384cb869a71/dnsmasq.conf\n[root@computer1 ~]#\n")),(0,l.kt)("ul",null,(0,l.kt)("li",{parentName:"ul"},"F\uff1a\u7a0b\u5e8f\u7684\u6807\u5fd7\u4f4d\u30020 \u8868\u793a\u8be5\u7a0b\u5e8f\u53ea\u6709\u666e\u901a\u6743\u9650\uff0c4 \u8868\u793a\u5177\u6709 root \u8d85\u7ea7\u7ba1\u7406\u5458\u6743\u9650\uff0c1 \u8868\u793a\u8be5\u8fdb\u7a0b\u88ab\u521b\u5efa\u7684\u65f6\u5019\u53ea\u8fdb\u884c\u4e86 fork\uff0c\u6ca1\u6709\u8fdb\u884c exec"),(0,l.kt)("li",{parentName:"ul"},'S\uff1a\u8fdb\u7a0b\u7684\u72b6\u6001\u4f4d\uff0c\u6ce8\u610f ps \u9009\u9879\u52a0\u4e86 "-" \u7684\u662f\u975e BSD \u98ce\u683c\u9009\u9879\uff0c\u4e0d\u4f1a\u6709 "s" "<" "N" "+" \u7b49\u7684\u72b6\u6001\u6807\u8bc6\u4f4d'),(0,l.kt)("li",{parentName:"ul"},"C\uff1aCPU \u7684\u767e\u5206\u6bd4\uff0c\u6ce8\u610f\u8861\u91cf\u65b9\u5f0f\u662f\u65f6\u95f4"),(0,l.kt)("li",{parentName:"ul"},"PRI\uff1a\u8fdb\u7a0b\u7684\u4f18\u5148\u7ea7\uff0c\u503c\u8d8a\u5c0f\uff0c\u4f18\u5148\u7ea7\u8d8a\u9ad8\uff0c\u8d8a\u65e9\u88ab\u8c03\u5ea6\u7c7b\u9009\u4e2d\u8fd0\u884c"),(0,l.kt)("li",{parentName:"ul"},"NI\uff1a\u8fdb\u7a0b\u7684 NICE \u503c\uff0c\u503c\u4e3a -20 \u5230 19\uff0c\u5f71\u54cd\u4f18\u5148\u7ea7\u7684\u65b9\u5f0f\u662f PRI(new)=PRI(old)+NI\uff0c\u6240\u4ee5 NI \u4e3a\u8d1f\u6570\u7684\u65f6\u5019\uff0c\u8d8a\u5c0f\u5c06\u5bfc\u81f4\u8fdb\u7a0b\u4f18\u5148\u7ea7\u8d8a\u9ad8\u3002",(0,l.kt)("ul",{parentName:"li"},(0,l.kt)("li",{parentName:"ul"},"\u4f46\u8981\u6ce8\u610f\uff0cNICE \u503c\u53ea\u80fd\u5f71\u54cd\u975e\u5b9e\u65f6\u8fdb\u7a0b\u3002"))),(0,l.kt)("li",{parentName:"ul"},"ADDR\uff1a\u8fdb\u7a0b\u5728\u7269\u7406\u5185\u5b58\u4e2d\u54ea\u4e2a\u5730\u65b9\u3002"),(0,l.kt)("li",{parentName:"ul"},"SZ\uff1a\u8fdb\u7a0b\u5360\u7528\u7684\u5b9e\u9645\u7269\u7406\u5185\u5b58"),(0,l.kt)("li",{parentName:"ul"},'WCHAN\uff1a\u82e5\u8fdb\u7a0b\u5904\u4e8e\u7761\u7720\u72b6\u6001\uff0c\u5c06\u663e\u793a\u5176\u5bf9\u5e94\u5185\u6838\u7ebf\u7a0b\u7684\u540d\u79f0\uff0c\u82e5\u8fdb\u7a0b\u4e3a R \u72b6\u6001\uff0c\u5219\u663e\u793a "-"')),(0,l.kt)("h3",{id:"1023ps-\u540e-grep-\u95ee\u9898"},"10.2.3\u3001ps \u540e grep \u95ee\u9898"),(0,l.kt)("p",null,"\u5728 ps \u540e\u52a0\u4e0a grep \u7b5b\u9009\u76ee\u6807\u8fdb\u7a0b\u65f6\uff0c\u603b\u4f1a\u53d1\u73b0 grep \u81ea\u8eab\u8fdb\u7a0b\u4e5f\u88ab\u663e\u793a\u51fa\u6765\u3002"),(0,l.kt)("pre",null,(0,l.kt)("code",{parentName:"pre",className:"language-bash"},'[root@computer1 ~]# ps aux | grep "crond"\nroot        2483  0.0  0.0 216128  4544 ?        Ss   4\u670827   0:12 /usr/sbin/crond -n\nroot     3894948  0.0  0.0 214080  1536 pts/16   S+   21:07   0:00 grep crond\n[root@computer1 ~]# \n')),(0,l.kt)("p",null,"\u5148\u89e3\u91ca\u4e0b\u4e3a\u4f55\u4f1a\u5982\u6b64\u3002"),(0,l.kt)("ul",null,(0,l.kt)("li",{parentName:"ul"},"\u7ba1\u9053\u662f bash \u521b\u5efa\u7684\uff0cbash \u521b\u5efa\u7ba1\u9053\u540e fork \u4e24\u4e2a\u5b50\u8fdb\u7a0b\uff0c\u7136\u540e\u4e24\u5b50\u8fdb\u7a0b\u5404\u81ea exec \u52a0\u8f7d ps \u7a0b\u5e8f\u548c grep \u7a0b\u5e8f\uff0cexec \u4e4b\u540e\u8fd9\u4e24\u4e2a\u5b50\u8fdb\u7a0b\u5c31\u79f0\u4e3a ps \u8fdb\u7a0b\u548c grep \u8fdb\u7a0b\uff0c\u6240\u4ee5 ps \u548c grep \u8fdb\u7a0b\u51e0\u4e4e\u53ef\u4ee5\u8ba4\u4e3a\u662f\u540c\u65f6\u51fa\u73b0\u7684\u3002"),(0,l.kt)("li",{parentName:"ul"},"\u5c3d\u7ba1 ps \u8fdb\u7a0b\u4f5c\u4e3a\u7ba1\u9053\u7684\u9996\u8fdb\u7a0b\uff08\u8fdb\u7a0b\u7ec4\u9996\u8fdb\u7a0b\uff09\u5b83\u662f\u5148\u51fa\u73b0\u7684\uff0c\u4f46\u662f\u5728 ps \u51fa\u73b0\u4e4b\u524d\u786e\u5b9e\u4e24\u4e2a\u8fdb\u7a0b\u90fd\u5df2\u7ecf fork \u5b8c\u6210\u4e86\u3002\u4e5f\u5c31\u662f\u8bf4\uff0c\u7ba1\u9053\u5de6\u53f3\u4e24\u7aef\u7684\u8fdb\u7a0b\u662f\u540c\u65f6\u88ab\u521b\u5efa\u7684(\u4e0d\u8003\u8651\u7236\u8fdb\u7a0b\u521b\u5efa\u8fdb\u7a0b\u6d88\u8017\u7684\u90a3\u70b9\u65f6\u95f4)\uff0c\u4f46\u6570\u636e\u4f20\u8f93\u662f\u6709\u5148\u540e\u987a\u5e8f\u7684\uff0c\u5de6\u8fb9\u5148\u4f20\uff0c\u53f3\u8fb9\u540e\u6536\u3002")),(0,l.kt)("p",null,"\u8981\u5c06 grep \u81ea\u8eab\u8fdb\u7a0b\u6392\u9664\u5728\u7ed3\u679c\u4e4b\u5916\u4e5f\u7b80\u5355\uff1a"),(0,l.kt)("pre",null,(0,l.kt)("code",{parentName:"pre",className:"language-bash"},'[root@computer1 ~]# ps aux | grep "crond" | grep -v "grep"\nroot        2483  0.0  0.0 216128  4544 ?        Ss   4\u670827   0:12 /usr/sbin/crond -n\n[root@computer1 ~]#\n')),(0,l.kt)("h3",{id:"1024uptime-\u547d\u4ee4"},"10.2.4\u3001uptime \u547d\u4ee4"),(0,l.kt)("pre",null,(0,l.kt)("code",{parentName:"pre",className:"language-bash"},"[root@computer1 ~]# uptime \n 21:11:52 up 90 days,  5:40,  1 user,  load average: 9.48, 7.70, 7.06\n[root@computer1 ~]#\n")),(0,l.kt)("ul",null,(0,l.kt)("li",{parentName:"ul"},"\u663e\u793a\u5f53\u524d\u65f6\u95f4\uff0c\u5df2\u5f00\u673a\u8fd0\u884c\u591a\u5c11\u65f6\u95f4\uff0c\u5f53\u524d\u6709\u591a\u5c11\u7528\u6237\u5df2\u767b\u5f55\u7cfb\u7edf\uff0c\u4ee5\u53ca 3 \u4e2a\u5e73\u5747\u8d1f\u8f7d\u503c\u3002")),(0,l.kt)("p",null,"\u6240\u8c13\u8d1f\u8f7d\u7387(load)\uff0c\u5373\u7279\u5b9a\u65f6\u95f4\u957f\u5ea6\u5185\uff0ccpu \u8fd0\u884c\u961f\u5217\u4e2d\u7684\u5e73\u5747\u8fdb\u7a0b\u6570(\u5305\u62ec\u7ebf\u7a0b)\uff0c\u4e00\u822c\u5e73\u5747\u6bcf\u5206\u949f\u6bcf\u6838\u7684\u8fdb\u7a0b\u6570\u5c0f\u4e8e 3 \u90fd\u8ba4\u4e3a\u6b63\u5e38\uff0c\u5927\u4e8e 5 \u65f6\u8d1f\u8f7d\u5df2\u7ecf\u975e\u5e38\u9ad8\u3002"),(0,l.kt)("p",null,"\u5728 UNIX \u7cfb\u7edf\u4e2d\uff0c\u8fd0\u884c\u961f\u5217\u5305\u62ec cpu \u6b63\u5728\u6267\u884c\u7684\u8fdb\u7a0b\u548c\u7b49\u5f85 cpu \u7684\u8fdb\u7a0b(\u5373\u6240\u8c13\u7684\u53ef\u8fd0\u884c runable)\u3002"),(0,l.kt)("p",null,"\u5728 Linux \u7cfb\u7edf\u4e2d\uff0c\u8fd8\u5305\u62ec\u4e0d\u53ef\u4e2d\u65ad\u7761\u7720\u6001(IO\u7b49\u5f85)\u7684\u8fdb\u7a0b\u3002\u8fd0\u884c\u961f\u5217\u4e2d\u6bcf\u51fa\u73b0\u4e00\u4e2a\u8fdb\u7a0b\uff0cload \u5c31\u52a0 1\uff0c\u8fdb\u7a0b\u6bcf\u9000\u51fa\u8fd0\u884c\u961f\u5217\uff0cLoad \u5c31\u51cf 1\u3002\u5982\u679c\u662f\u591a\u6838 cpu\uff0c\u5219\u8fd8\u8981\u9664\u4ee5\u6838\u6570\u3002"),(0,l.kt)("p",null,'\u4e3e\u4e2a\u4f8b\u5b50\uff1a\u5355\u6838 cpu \u4e0a\u7684\u8d1f\u8f7d\u503c\u4e3a "1.73 0.60 7.98" \u65f6'),(0,l.kt)("ul",null,(0,l.kt)("li",{parentName:"ul"},"\u6700\u8fd1 1 \u5206\u949f\uff1a1.73 \u8868\u793a\u5e73\u5747\u53ef\u8fd0\u884c\u7684\u8fdb\u7a0b\u6570\uff0c\u8fd9\u4e00\u5206\u949f\u8981\u4e00\u76f4\u4e0d\u65ad\u5730\u6267\u884c\u8fd9 1.73 \u4e2a\u8fdb\u7a0b\u30020.73\u4e2a\u8fdb\u7a0b\u7b49\u5f85\u8be5\u6838 cpu\u3002"),(0,l.kt)("li",{parentName:"ul"},"\u6700\u8fd1 5 \u5206\u949f\uff1a\u5e73\u5747\u8fdb\u7a0b\u6570\u8fd8\u4e0d\u8db3 1\uff0c\u8868\u793a\u8be5\u6838 cpu \u5728\u8fc7\u53bb 5 \u5206\u949f\u7a7a\u95f2\u4e86 40% \u7684\u65f6\u95f4\u3002"),(0,l.kt)("li",{parentName:"ul"},"\u6700\u8fd1 15 \u5206\u949f\uff1a7.98 \u8868\u793a\u5e73\u5747\u53ef\u8fd0\u884c\u7684\u8fdb\u7a0b\u6570\uff0c\u8fd9 15 \u5206\u949f\u8981\u4e00\u76f4\u4e0d\u65ad\u5730\u6267\u884c\u8fd9 7.98 \u4e2a\u8fdb\u7a0b\u3002"),(0,l.kt)("li",{parentName:"ul"},"\u7ed3\u5408\u524d 5 \u5206\u949f\u7684\u7ed3\u679c\uff0c\u8bf4\u660e\u524d15 - \u524d10\u5206\u949f\u65f6\u95f4\u95f4\u9694\u5185\uff0c\u8be5\u6838 cpu \u7684\u8d1f\u8f7d\u975e\u5e38\u9ad8\u3002")),(0,l.kt)("p",null,"\u5982\u679c\u662f\u591a\u6838 cpu\uff0c\u5219\u8fd8\u8981\u5c06\u7ed3\u679c\u9664\u4ee5\u6838\u6570\u3002\u4f8b\u5982 4 \u6838\u65f6\uff0c\u67d0\u4e2a\u6700\u8fd1\u4e00\u5206\u949f\u7684\u8d1f\u8f7d\u503c\u4e3a 3.73\uff0c\u5219\u610f\u5473\u7740\u6709 3.73 \u4e2a\u8fdb\u7a0b\u5728\u8fd0\u884c\u961f\u5217\u4e2d\uff0c\u8fd9\u4e9b\u8fdb\u7a0b\u53ef\u88ab\u8c03\u5ea6\u81f3 4 \u6838\u4e2d\u7684\u4efb\u4f55\u4e00\u4e2a\u6838\u4e0a\u8fd0\u884c\u3002\u6700\u8fd1 1 \u5206\u949f\u7684\u8d1f\u8f7d\u503c\u4e3a 1.6\uff0c\u8868\u793a\u8fd9\u4e00\u5206\u949f\u5185\u6bcf\u6838 cpu \u90fd\u7a7a\u95f2 (1-1.6/4) = 60% \u7684\u65f6\u95f4\u3002"),(0,l.kt)("p",null,"\u6240\u4ee5\uff0cload \u7684\u7406\u60f3\u503c\u662f\u6b63\u597d\u7b49\u4e8e CPU \u7684\u6838\u6570\uff0c\u5c0f\u4e8e\u6838\u6570\u7684\u65f6\u5019\u8868\u793a cpu \u6709\u7a7a\u95f2\uff0c\u8d85\u51fa\u6838\u6570\u7684\u65f6\u5019\u8868\u793a\u6709\u8fdb\u7a0b\u5728\u7b49\u5f85 cpu\uff0c\u5373\u7cfb\u7edf\u8d44\u6e90\u4e0d\u8db3\u3002"),(0,l.kt)("h3",{id:"1025tophtop-\u548c-iftop-\u547d\u4ee4"},"10.2.5\u3001top\u3001htop \u548c iftop \u547d\u4ee4"),(0,l.kt)("p",null,"top \u547d\u4ee4\u67e5\u770b\u52a8\u6001\u8fdb\u7a0b\u72b6\u6001\uff0c\u9ed8\u8ba4\u6bcf 5 \u79d2\u5237\u65b0\u4e00\u6b21\u3002"),(0,l.kt)("pre",null,(0,l.kt)("code",{parentName:"pre",className:"language-bash"},"top\u9009\u9879\u8bf4\u660e\uff1a\n-d\uff1a\u6307\u5b9atop\u5237\u65b0\u7684\u65f6\u95f4\u95f4\u9694\uff0c\u9ed8\u8ba4\u662f5 \u79d2\n-b\uff1a\u6279\u5904\u7406\u6a21\u5f0f\uff0c\u6bcf\u6b21\u5237\u65b0\u5206\u6279\u663e\u793a\n-n\uff1a\u6307\u5b9atop\u5237\u65b0\u51e0\u6b21\u5c31\u9000\u51fa\uff0c\u53ef\u4ee5\u914d\u5408-b\u4f7f\u7528\n-p\uff1a\u6307\u5b9a\u76d1\u63a7\u7684pid\uff0c\u6307\u5b9a\u65b9\u5f0f\u4e3a-pN1 -pN2 ...\u6216-pN1, N2 [,...]\n-u\uff1a\u6307\u5b9a\u8981\u76d1\u63a7\u7684\u7528\u6237\u7684\u8fdb\u7a0b\uff0c\u53ef\u4ee5\u662fuid\u4e5f\u53ef\u4ee5\u662fuser_name\n")),(0,l.kt)("p",null,'\u5728 top \u52a8\u6001\u6a21\u5f0f\u4e0b\uff0c\u6309\u4e0b\u5404\u79cd\u952e\u53ef\u4ee5\u8fdb\u884c\u4e0d\u540c\u64cd\u4f5c\u3002\u4f7f\u7528 "h" \u6216 "?" \u53ef\u4ee5\u67e5\u770b\u76f8\u5173\u952e\u7684\u8bf4\u660e\u3002'),(0,l.kt)("ul",null,(0,l.kt)("li",{parentName:"ul"},"1 \uff1a(\u6570\u5b57\u4e00)\u8868\u793a\u662f\u5426\u8981\u5728 top \u7684\u5934\u90e8\u663e\u793a\u51fa\u591a\u4e2a cpu \u4fe1\u606f"),(0,l.kt)("li",{parentName:"ul"},"H \uff1a\u8868\u793a\u662f\u5426\u8981\u663e\u793a\u7ebf\u7a0b\uff0c\u9ed8\u8ba4\u4e0d\u663e\u793a"),(0,l.kt)("li",{parentName:"ul"},"c,S \uff1a c \u8868\u793a\u662f\u5426\u8981\u5c55\u5f00\u8fdb\u7a0b\u7684\u547d\u4ee4\u884c\uff0cS \u8868\u793a\u663e\u793a\u7684 cpu \u65f6\u95f4\u662f\u5426\u662f\u7d2f\u79ef\u6a21\u5f0f\uff0ccpu \u7d2f\u79ef\u6a21\u5f0f\u4e0b\u5df2\u6b7b\u53bb\u7684\u5b50\u8fdb\u7a0b cpu \u65f6\u95f4\u4f1a\u7d2f\u79ef\u5230\u7236\u8fdb\u7a0b\u4e2d"),(0,l.kt)("li",{parentName:"ul"},"x,y \uff1ax \u9ad8\u4eae\u6392\u5e8f\u7684\u5217\uff0cy \u8868\u793a\u9ad8\u4eae running \u8fdb\u7a0b"),(0,l.kt)("li",{parentName:"ul"},"u \uff1a\u4ec5\u663e\u793a\u6307\u5b9a\u7528\u6237\u7684\u8fdb\u7a0b"),(0,l.kt)("li",{parentName:"ul"},"n or #\uff1a\u8bbe\u7f6e\u8981\u663e\u793a\u6700\u5927\u7684\u8fdb\u7a0b\u6570\u91cf"),(0,l.kt)("li",{parentName:"ul"},"k \uff1a\u6740\u8fdb\u7a0b"),(0,l.kt)("li",{parentName:"ul"},"q \uff1a\u9000\u51fa top"),(0,l.kt)("li",{parentName:"ul"},"P \uff1a\u4ee5 CPU \u7684\u4f7f\u7528\u8d44\u6e90\u6392\u5e8f\u663e\u793a"),(0,l.kt)("li",{parentName:"ul"},"M \uff1a\u4ee5 Memory \u7684\u4f7f\u7528\u8d44\u6e90\u6392\u5e8f\u663e\u793a"),(0,l.kt)("li",{parentName:"ul"},"N \uff1a\u4ee5 PID \u6765\u6392\u5e8f")),(0,l.kt)("p",null,"\u4ee5\u4e0b\u662f top \u7684\u4e00\u6b21\u7ed3\u679c"),(0,l.kt)("pre",null,(0,l.kt)("code",{parentName:"pre",className:"language-bash"},"top - 22:14:25 up 90 days,  6:42,  1 user,  load average: 8.03, 7.75, 7.47\nTasks: 684 total,   1 running, 683 sleeping,   0 stopped,   0 zombie\n%Cpu(s):  7.1 us,  3.0 sy,  0.4 ni, 89.1 id,  0.0 wa,  0.3 hi,  0.2 si,  0.0 st\nMiB Mem : 258904.8 total,  27806.9 free, 212285.7 used,  18812.2 buff/cache\nMiB Swap:   4095.9 total,    843.4 free,   3252.6 used.  40057.7 avail Mem \n\n    PID USER      PR  NI    VIRT    RES    SHR S  %CPU  %MEM     TIME+ COMMAND            \n2741972 root      20   0   35.9g  28.2g  67264 S 106.9  11.1   6878:55 qemu-kvm           \n 965894 root      20   0   18.4g  15.4g  49152 S 100.7   6.1 144804:03 qemu-kvm           \n 411643 root      29   9   35.2g  32.3g  48384 S  75.2  12.8 115823:39 qemu-kvm           \n 410344 root      20   0   10.4g   8.3g  46208 S  66.0   3.3  56623:49 qemu-kvm           \n2507753 root      21   1   19.4g   8.5g  66688 S  53.1   3.4   3674:36 qemu-kvm           \n 411734 root      20   0   35.2g  31.9g  49664 S  46.9  12.6  66581:37 qemu-kvm           \n 759742 root      20   0   20.5g  14.6g  59392 S  43.2   5.8  31980:38 qemu-kvm\n")),(0,l.kt)("ul",null,(0,l.kt)("li",{parentName:"ul"},'\u7b2c 1 \u884c\uff1a\u548c w \u547d\u4ee4\u7684\u7b2c\u4e00\u884c\u4e00\u6837\uff0c\u4e5f\u548c uptime \u547d\u4ee4\u7684\u7ed3\u679c\u4e00\u6837\u3002\u6b64\u884c\u5404\u5217\u5206\u522b\u8868\u793a "\u5f53\u524d\u65f6\u95f4"\u3001"\u5df2\u5f00\u673a\u65f6\u957f"\u3001"\u5f53\u524d\u5728\u7ebf\u7528\u6237"\u3001"\u524d 1\u30015\u300115 \u5206\u949f\u5e73\u5747\u8d1f\u8f7d\u7387"\u3002'),(0,l.kt)("li",{parentName:"ul"},"\u7b2c 2 \u884c\uff1a\u5206\u522b\u8868\u793a\u603b\u8fdb\u7a0b\u6570\u3001running \u72b6\u6001\u7684\u8fdb\u7a0b\u6570\u3001\u7761\u7720\u72b6\u6001\u7684\u8fdb\u7a0b\u6570\u3001\u505c\u6b62\u72b6\u6001\u8fdb\u7a0b\u6570\u3001\u50f5\u5c38\u8fdb\u7a0b\u6570\u3002"),(0,l.kt)("li",{parentName:"ul"},"\u7b2c 3 \u884c\uff1acpu \u7684\u72b6\u51b5\u3002\u6309\u6570\u5b57 1 \u53ef\u4ee5\u663e\u793a\u6240\u6709 CPU \u7684\u60c5\u51b5",(0,l.kt)("ul",{parentName:"li"},(0,l.kt)("li",{parentName:"ul"},"us = user mode"),(0,l.kt)("li",{parentName:"ul"},"sy = system mode"),(0,l.kt)("li",{parentName:"ul"},"ni = low priority user mode (nice)(\u7528\u6237\u7a7a\u95f4\u4e2d\u4f4e\u4f18\u5148\u7ea7\u8fdb\u7a0b\u7684cpu\u5360\u7528\u767e\u5206\u6bd4)"),(0,l.kt)("li",{parentName:"ul"},"id = idle task"),(0,l.kt)("li",{parentName:"ul"},"wa = I/O waiting"),(0,l.kt)("li",{parentName:"ul"},"hi = servicing IRQs(\u4e0d\u53ef\u4e2d\u65ad\u7761\u7720\uff0chard interruptible)"),(0,l.kt)("li",{parentName:"ul"},"si = servicing soft IRQs(\u53ef\u4e2d\u65ad\u7761\u7720\uff0csoft interruptible)"),(0,l.kt)("li",{parentName:"ul"},"st = steal (time given to other DomU instances)(\u88ab\u5077\u8d70\u7684cpu\u65f6\u95f4\uff0c\u4e00\u822c\u88ab\u865a\u62df\u5316\u8f6f\u4ef6\u5077\u8d70)"))),(0,l.kt)("li",{parentName:"ul"},"\u7b2c 4 - 5 \u884c\uff1a\u4ece\u5b57\u9762\u610f\u601d\u7406\u89e3\u5373\u53ef\u3002"),(0,l.kt)("li",{parentName:"ul"},"VIRT\uff1a\u865a\u62df\u5185\u5b58\u603b\u91cf"),(0,l.kt)("li",{parentName:"ul"},"RES\uff1a\u5b9e\u9645\u5185\u5b58\u603b\u91cf"),(0,l.kt)("li",{parentName:"ul"},"SHR\uff1a\u5171\u4eab\u5185\u5b58\u91cf"),(0,l.kt)("li",{parentName:"ul"},"TIME\uff1a\u8fdb\u7a0b\u5360\u7528\u7684 cpu \u65f6\u95f4(\u82e5\u5f00\u542f\u4e86\u65f6\u95f4\u7d2f\u79ef\u6a21\u5f0f\uff0c\u5219\u6b64\u5904\u663e\u793a\u7684\u662f\u7d2f\u79ef\u65f6\u95f4)")),(0,l.kt)("p",null,"top \u547d\u4ee4\u867d\u7136\u975e\u5e38\u5f3a\u5927\uff0c\u4f46\u662f\u592a\u8001\u4e86\u3002\u6240\u4ee5\u6709\u4e86\u65b0\u751f\u4ee3\u7684 top \u547d\u4ee4 htop\u3002htop \u9ed8\u8ba4\u6ca1\u6709\u5b89\u88c5\uff0c\u9700\u8981\u624b\u52a8\u5b89\u88c5\u3002"),(0,l.kt)("p",null,(0,l.kt)("em",{parentName:"p"},"\u6ce8\u610f\uff1a\u6211\u7684\u5b9e\u9a8c\u73af\u5883\u662f arm64 \u67b6\u6784\u670d\u52a1\u5668\uff0c\u4f7f\u7528\u7684\u4e5f\u662f\u56fd\u4ea7\u5316\u64cd\u4f5c\u7cfb\u7edf\uff0crpm \u6e90\u6ca1\u6709 htop \u5305\uff0c\u53ef\u4ee5\u624b\u52a8\u4e0b\u8f7d\u4e00\u4e2a aarch64 \u67b6\u6784\u7684 htop \u5305\u3002")),(0,l.kt)("pre",null,(0,l.kt)("code",{parentName:"pre",className:"language-bash"},"[root@computer1 ~]# wget https://download-ib01.fedoraproject.org/pub/epel/7/aarch64/Packages/h/htop-2.2.0-3.el7.aarch64.rpm\n--2021-07-26 22:23:16--  https://download-ib01.fedoraproject.org/pub/epel/7/aarch64/Packages/h/htop-2.2.0-3.el7.aarch64.rpm\n\u6b63\u5728\u89e3\u6790\u4e3b\u673a download-ib01.fedoraproject.org (download-ib01.fedoraproject.org)... 152.19.134.145, 2610:28:3090:3001:dead:beef:cafe:fed6\n\u6b63\u5728\u8fde\u63a5 download-ib01.fedoraproject.org (download-ib01.fedoraproject.org)|152.19.134.145|:443... \u5df2\u8fde\u63a5\u3002\n\u5df2\u53d1\u51fa HTTP \u8bf7\u6c42\uff0c\u6b63\u5728\u7b49\u5f85\u56de\u5e94... 200 OK\n\u957f\u5ea6\uff1a103092 (101K) [application/x-rpm]\n\u6b63\u5728\u4fdd\u5b58\u81f3: \u201chtop-2.2.0-3.el7.aarch64.rpm\u201d\n\nhtop-2.2.0-3.el7.aarch6 100%[============================>] 100.68K   129KB/s  \u7528\u65f6 0.8s  \n\n2021-07-26 22:23:18 (129 KB/s) - \u5df2\u4fdd\u5b58 \u201chtop-2.2.0-3.el7.aarch64.rpm\u201d [103092/103092])\n\n[root@computer1 ~]# rpm -ivh htop-2.2.0-3.el7.aarch64.rpm \n\u8b66\u544a\uff1ahtop-2.2.0-3.el7.aarch64.rpm: \u5934V3 RSA/SHA256 Signature, \u5bc6\u94a5 ID 352c64e5: NOKEY\nVerifying...                          ################################# [100%]\n\u51c6\u5907\u4e2d...                          ################################# [100%]\n    \u8f6f\u4ef6\u5305 htop-2.2.0-3.el7.aarch64 \u5df2\u7ecf\u5b89\u88c5\n[root@computer1 ~]#\n[root@computer1 ~]# htop\n")),(0,l.kt)("p",null,"htop \u53ef\u4ee5\u4f7f\u7528\u9f20\u6807\u5b8c\u6210\u70b9\u51fb\u9009\u4e2d\u3002\u5176\u4ed6\u4f7f\u7528\u65b9\u6cd5\u548c top \u7c7b\u4f3c\uff0c\u4f7f\u7528 h \u67e5\u770b\u5404\u6309\u952e\u610f\u4e49\u5373\u53ef\u3002"),(0,l.kt)("p",null,"iftop \u7528\u4e8e\u52a8\u6001\u663e\u793a\u7f51\u7edc\u63a5\u53e3\u7684\u6570\u636e\u6d41\u91cf\u3002\u7528\u6cd5\u4e5f\u5f88\u7b80\u5355\uff0c\u6309\u4e0b h \u952e\u5373\u53ef\u83b7\u53d6\u5e2e\u52a9\u3002"),(0,l.kt)("pre",null,(0,l.kt)("code",{parentName:"pre",className:"language-bash"},"[root@computer1 ~]# wget https://download-ib01.fedoraproject.org/pub/epel/7/aarch64/Packages/i/iftop-1.0-0.21.pre4.el7.aarch64.rpm\n--2021-07-26 22:26:27--  https://download-ib01.fedoraproject.org/pub/epel/7/aarch64/Packages/i/iftop-1.0-0.21.pre4.el7.aarch64.rpm\n\u6b63\u5728\u89e3\u6790\u4e3b\u673a download-ib01.fedoraproject.org (download-ib01.fedoraproject.org)... 152.19.134.145, 2610:28:3090:3001:dead:beef:cafe:fed6\n\u6b63\u5728\u8fde\u63a5 download-ib01.fedoraproject.org (download-ib01.fedoraproject.org)|152.19.134.145|:443... \u5df2\u8fde\u63a5\u3002\n\u5df2\u53d1\u51fa HTTP \u8bf7\u6c42\uff0c\u6b63\u5728\u7b49\u5f85\u56de\u5e94... 200 OK\n\u957f\u5ea6\uff1a58521 (57K) [application/x-rpm]\n\u6b63\u5728\u4fdd\u5b58\u81f3: \u201ciftop-1.0-0.21.pre4.el7.aarch64.rpm\u201d\n\niftop-1.0-0.21.pre4.el7 100%[============================>]  57.15K   113KB/s  \u7528\u65f6 0.5s  \n\n2021-07-26 22:26:29 (113 KB/s) - \u5df2\u4fdd\u5b58 \u201ciftop-1.0-0.21.pre4.el7.aarch64.rpm\u201d [58521/58521])\n\n[root@computer1 ~]# rpm -ivh iftop-1.0-0.21.pre4.el7.aarch64.rpm \n\u8b66\u544a\uff1aiftop-1.0-0.21.pre4.el7.aarch64.rpm: \u5934V3 RSA/SHA256 Signature, \u5bc6\u94a5 ID 352c64e5: NOKEY\nVerifying...                          ################################# [100%]\n\u51c6\u5907\u4e2d...                          ################################# [100%]\n\u6b63\u5728\u5347\u7ea7/\u5b89\u88c5...\n   1:iftop-1.0-0.21.pre4.el7          ################################# [100%]\n[root@computer1 ~]#\n[root@computer1 ~]# iftop\n")),(0,l.kt)("h3",{id:"1026\u5206\u6790\u7cfb\u7edf\u8d1f\u8f7d"},"10.2.6\u3001\u5206\u6790\u7cfb\u7edf\u8d1f\u8f7d"),(0,l.kt)("p",null,"\u6839\u636e\u524d\u6587 uptime \u4e2d\u5bf9\u7cfb\u7edf\u8d1f\u8f7d(system load)\u7684\u63cf\u8ff0\uff0c\u5206\u6790\u4e00\u4e0b\u8fd9\u4e2a top \u7684\u7ed3\u679c\u3002"),(0,l.kt)("pre",null,(0,l.kt)("code",{parentName:"pre",className:"language-bash"},"top - 22:43:43 up 90 days,  7:11,  1 user,  load average: 224.02, 215.13, 115.86\nTasks: 676 total,   1 running, 675 sleeping,   0 stopped,   0 zombie\n%Cpu(s):  6.6 us,  2.3 sy,  0.2 ni, 90.5 id,  0.0 wa,  0.3 hi,  0.1 si,  0.0 st\nMiB Mem : 258904.8 total,  27779.5 free, 212293.6 used,  18831.8 buff/cache\nMiB Swap:   4095.9 total,    843.4 free,   3252.6 used.  40048.4 avail Mem \n\n    PID USER      PR  NI    VIRT    RES    SHR S  %CPU  %MEM     TIME+ COMMAND            \n 965894 root      20   0   18.4g  15.4g  49152 S  99.3   6.1 144842:23 qemu-kvm           \n2741972 root      20   0   35.9g  28.2g  67264 S  94.4  11.1   6910:46 qemu-kvm           \n2507753 root      21   1   19.4g   8.5g  66688 S  73.8   3.4   3691:52 qemu-kvm           \n 411643 root      29   9   35.2g  32.3g  48384 S  70.5  12.8 115845:21 qemu-kvm           \n 411734 root      20   0   35.2g  31.9g  48000 S  60.3  12.6  66597:18 qemu-kvm           \n 410344 root      20   0   10.4g   8.3g  46208 S  51.3   3.3  56637:55 qemu-kvm           \n3313620 root      20   0   19.6g  10.8g  54784 S  42.1   4.3  65953:40 qemu-kvm           \n 759742 root      20   0   20.5g  14.6g  59392 S  40.7   5.8  31990:35 qemu-kvm           \n2187301 root      20   0   10.2g   5.8g  54144 S  14.6   2.3  82:58.59 qemu-kvm           \n3707987 root      20   0   10.7g   7.3g  50432 S   7.0   2.9   3687:12 qemu-kvm      \n")),(0,l.kt)("p",null,"\u6839\u636e top \u6570\u636e\u663e\u793a\uff0cload average \u7cfb\u7edf\u8d1f\u8f7d\u975e\u5e38\u4e4b\u9ad8\uff0c\u6700\u8fd1\u4e00\u5206\u949f\u7684\u8d1f\u8f7d\u91cf\u9ad8\u8fbe 224.02\uff0c\u8fd9\u8868\u793a\u8fd9\u4e00\u5206\u949f\u6709 224.02 \u4e2a\u8fdb\u7a0b\u6b63\u5728\u8fd0\u884c\u6216\u7b49\u5f85\u8c03\u5ea6\uff0c\u5982\u679c\u662f\u5355\u6838 CPU\uff0c\u8868\u793a\u8fd9\u4e00\u5206\u949f\u8981\u6beb\u4e0d\u505c\u7559\u5730\u6267\u884c\u8fd9\u4e48\u591a\u8fdb\u7a0b\uff0c\u5982\u679c\u662f 8 \u6838 CPU\uff0c\u8868\u793a\u8fd9\u4e00\u5206\u949f\u5185\u5e73\u5747\u6bcf\u6838\u5fc3 CPU \u8981\u6267\u884c\u5927\u6982 30 \u4e2a\u8fdb\u7a0b\u3002"),(0,l.kt)("p",null,"\u4ece load average \u4e0a\u770b\uff0c\u786e\u5b9e\u662f\u975e\u5e38\u7e41\u5fd9\u7684\u573a\u666f\u3002\u4f46\u662f\u770b CPU \u7684 idle \u503c\u4e3a 90.5\uff0c\u8bf4\u660e CPU \u975e\u5e38\u95f2\u3002\u4e3a\u4ec0\u4e48\u7cfb\u7edf\u8d1f\u8f7d\u5982\u6b64\u9ad8\uff0cCPU \u5374\u5982\u6b64\u95f2\uff1f"),(0,l.kt)("p",null,"\u524d\u9762\u89e3\u91ca system load average \u7684\u65f6\u5019\uff0c\u5df2\u7ecf\u8bf4\u660e\u8fc7\u53ef\u8fd0\u884c\u7684(\u5c31\u7eea\u6001\uff0c\u5373\u5c31\u7eea\u961f\u5217\u7684\u957f\u5ea6)\u3001\u6b63\u5728\u8fd0\u884c\u7684(\u8fd0\u884c\u6001)\u548c\u4e0d\u53ef\u4e2d\u65ad\u7761\u7720(\u5982IO\u7b49\u5f85)\u7684\u8fdb\u7a0b\u4efb\u52a1\u90fd\u4f1a\u8ba1\u7b97\u5230\u8d1f\u8f7d\u4e2d\u3002\u73b0\u5728",(0,l.kt)("strong",{parentName:"p"},"\u8d1f\u8f7d\u9ad8\u3001CPU \u7a7a\u95f2\uff0c\u8bf4\u660e\u5f53\u524d\u6b63\u5728\u6267\u884c\u7684\u4efb\u52a1\u57fa\u672c\u4e0d\u6d88\u8017 CPU \u8d44\u6e90\uff0c\u5927\u91cf\u7684\u8d1f\u8f7d\u8fdb\u7a0b\u90fd\u5728 IO \u7b49\u5f85\u4e2d"),"\u3002"),(0,l.kt)("p",null,"\u53ef\u4ee5\u4ece ps \u7684\u8fdb\u7a0b\u72b6\u6001\u4e2d\u83b7\u53d6\u54ea\u4e9b\u8fdb\u7a0b\u662f\u6b63\u5728\u8fd0\u884c\u6216\u8fd0\u884c\u961f\u5217\u4e2d\u7684(\u72b6\u6001\u4e3a R)\uff0c\u54ea\u4e9b\u8fdb\u7a0b\u662f\u5728\u4e0d\u53ef\u4e2d\u65ad\u7761\u7720\u4e2d\u7684(\u72b6\u6001\u4e3a D)\u3002"),(0,l.kt)("pre",null,(0,l.kt)("code",{parentName:"pre",className:"language-bash"},'[root@computer1 ~]# ps -eo stat,pid,ppid,comm --no-header | grep -E "^(D|R)"\nR    4141039  130875 du\nR+   4141085 3809064 ps\n[root@computer1 ~]# \n')),(0,l.kt)("h2",{id:"103vmstat-\u547d\u4ee4"},"10.3\u3001vmstat \u547d\u4ee4"),(0,l.kt)("p",null,"\u6ce8\u610f vmstat \u7684\u7b2c\u4e00\u6b21\u7edf\u8ba1\u662f\u81ea\u5f00\u673a\u8d77\u7684\u5e73\u5747\u503c\u4fe1\u606f\uff0c\u4ece\u7b2c\u4e8c\u6b21\u5f00\u59cb\u7684\u7edf\u8ba1\u624d\u662f\u6307\u5b9a\u5237\u65b0\u65f6\u95f4\u95f4\u9694\u5185\u7684\u8d44\u6e90\u5229\u7528\u4fe1\u606f\uff0c\u82e5\u4e0d\u6307\u5b9a\u5237\u65b0\u65f6\u95f4\u95f4\u9694\uff0c\u5219\u9ed8\u8ba4\u53ea\u663e\u793a\u4e00\u6b21\u7edf\u8ba1\u4fe1\u606f\u3002"),(0,l.kt)("pre",null,(0,l.kt)("code",{parentName:"pre",className:"language-bash"},"vmstat [-d] [delay [ count]]\nvmstat [-f]\n\n\u9009\u9879\u8bf4\u660e\uff1a\n-f\uff1a\u7edf\u8ba1\u81ea\u5f00\u673a\u8d77fork\u7684\u6b21\u6570\u3002\u5305\u62ecfork\u3001clone\u3001vfork\u7684\u6b21\u6570\u3002\u4f46\u4e0d\u5305\u62ecexec\u6b21\u6570\u3002\n-d\uff1a\u663e\u793a\u78c1\u76d8\u7edf\u8ba1\u4fe1\u606f\u3002\ndelay\uff1a\u5237\u65b0\u65f6\u95f4\u95f4\u9694\uff0c\u82e5\u4e0d\u6307\u5b9a\uff0c\u5219\u53ea\u7edf\u8ba1\u4e00\u6b21\u4fe1\u606f\u5c31\u9000\u51favmstat\u3002\ncount\uff1a\u603b\u5171\u8981\u7edf\u8ba1\u7684\u6b21\u6570\u3002\n")),(0,l.kt)("p",null,"\u4f8b\u5982\uff0c\u53ea\u7edf\u8ba1\u4e00\u6b21\u4fe1\u606f\u3002"),(0,l.kt)("pre",null,(0,l.kt)("code",{parentName:"pre",className:"language-bash"},"[root@computer1 ~]# vmstat \nprocs -----------memory---------- ---swap-- -----io---- -system-- ------cpu-----\n r  b   swpd   free   buff  cache   si   so    bi    bo   in   cs us sy id wa st\n15  1 3328960 28476288 1216320 18014592    0    0     0     6    0    0  9  2 88  0  0\n[root@computer1 ~]#\n")),(0,l.kt)("ul",null,(0,l.kt)("li",{parentName:"ul"},"procs",(0,l.kt)("ul",{parentName:"li"},(0,l.kt)("li",{parentName:"ul"},"r: \u7b49\u5f85\u961f\u5217\u4e2d\u7684\u8fdb\u7a0b\u6570"),(0,l.kt)("li",{parentName:"ul"},"b: \u4e0d\u53ef\u4e2d\u65ad\u7761\u7720\u7684\u8fdb\u7a0b\u6570"))),(0,l.kt)("li",{parentName:"ul"},"Memory",(0,l.kt)("ul",{parentName:"li"},(0,l.kt)("li",{parentName:"ul"},"swpd: \u865a\u62df\u5185\u5b58\u4f7f\u7528\u603b\u91cf"),(0,l.kt)("li",{parentName:"ul"},"free: \u7a7a\u95f2\u5185\u5b58\u91cf"),(0,l.kt)("li",{parentName:"ul"},"buff: buffer\u5360\u7528\u7684\u5185\u5b58\u91cf(buffer \u7528\u4e8e\u7f13\u51b2)"),(0,l.kt)("li",{parentName:"ul"},"cache: cache \u5360\u7528\u7684\u5185\u5b58\u91cf(cache \u7528\u4e8e\u7f13\u5b58)"))),(0,l.kt)("li",{parentName:"ul"},"Swap",(0,l.kt)("ul",{parentName:"li"},(0,l.kt)("li",{parentName:"ul"},'si: \u4ece\u78c1\u76d8\u52a0\u8f7d\u5230swap\u5206\u533a\u7684\u6570\u636e\u6d41\u91cf\uff0c\u5355\u4f4d\u4e3a "kb/s"'),(0,l.kt)("li",{parentName:"ul"},'so: \u4ece swap \u5206\u533a\u5199\u5230\u78c1\u76d8\u7684\u6570\u636e\u6d41\u91cf\uff0c\u5355\u4f4d\u4e3a"kb/s"'))),(0,l.kt)("li",{parentName:"ul"},"IO",(0,l.kt)("ul",{parentName:"li"},(0,l.kt)("li",{parentName:"ul"},"bi: \u4ece\u5757\u8bbe\u5907\u63a5\u53d7\u5230\u6570\u636e\u7684\u901f\u7387\uff0c\u5355\u4f4d\u4e3a blocks/s"),(0,l.kt)("li",{parentName:"ul"},"bo: \u53d1\u9001\u6570\u636e\u5230\u5757\u8bbe\u5907\u7684\u901f\u7387\uff0c\u5355\u4f4d\u4e3a blocks/s"))),(0,l.kt)("li",{parentName:"ul"},"System",(0,l.kt)("ul",{parentName:"li"},(0,l.kt)("li",{parentName:"ul"},"in: \u6bcf\u79d2\u4e2d\u65ad\u6570\uff0c\u5305\u62ec\u65f6\u949f\u4e2d\u65ad\u6570\u91cf"),(0,l.kt)("li",{parentName:"ul"},"cs: \u6bcf\u79d2\u4e0a\u4e0b\u6587\u5207\u6362\u6b21\u6570"))),(0,l.kt)("li",{parentName:"ul"},"CPU\uff1a\u7edf\u8ba1\u7684\u662f cpu \u65f6\u95f4\u767e\u5206\u6bd4\uff0c\u5177\u4f53\u4fe1\u606f\u548c top \u7684 cpu \u7edf\u8ba1\u5217\u4e00\u6837",(0,l.kt)("ul",{parentName:"li"},(0,l.kt)("li",{parentName:"ul"},"us: Time spent running non-kernel code. (user time, including nice time)"),(0,l.kt)("li",{parentName:"ul"},"sy: Time spent running kernel code. (system time)"),(0,l.kt)("li",{parentName:"ul"},"id: Time spent idle. Prior to Linux 2.5.41, this includes IO-wait time."),(0,l.kt)("li",{parentName:"ul"},"wa: Time spent waiting for IO. Prior to Linux 2.5.41, included in idle."),(0,l.kt)("li",{parentName:"ul"},"st: Time stolen from a virtual machine. Prior to Linux 2.6.11, unknown.")))),(0,l.kt)("h2",{id:"104iostat-\u547d\u4ee4"},"10.4\u3001iostat \u547d\u4ee4"),(0,l.kt)("p",null,"iostat \u4e3b\u8981\u7edf\u8ba1\u78c1\u76d8\u6216\u5206\u533a\u7684\u6574\u4f53\u4f7f\u7528\u60c5\u51b5\u3002\u4e5f\u53ef\u4ee5\u8f93\u51fa cpu \u4fe1\u606f\uff0c\u751a\u81f3\u662f NFS \u7f51\u7edc\u6587\u4ef6\u7cfb\u7edf\u7684\u4fe1\u606f\u3002\u540c vmstat/sar \u4e00\u6837\uff0c",(0,l.kt)("strong",{parentName:"p"},"\u7b2c\u4e00\u6b21\u7edf\u8ba1\u7684\u90fd\u662f\u81ea\u7cfb\u7edf\u5f00\u673a\u8d77\u7684\u5e73\u5747\u7edf\u8ba1\u4fe1\u606f"),"\u3002"),(0,l.kt)("p",null,(0,l.kt)("img",{alt:"linux_observability_tools",src:n(64754).Z,width:"2400",height:"1800"})),(0,l.kt)("pre",null,(0,l.kt)("code",{parentName:"pre",className:"language-bash"},"iostat [\u9009\u9879] [ device  [...]| ALL ] [ interval [ count ] ]\n\n\u9009\u9879\uff1a\n    -c:                 \u663e\u793a CPU \u5229\u7528\u7387\u62a5\u544a\n    -d:                 \u663e\u793a device \u5229\u7528\u7387\u62a5\u544a\n    --dec={ 0|1|2 }:    \u6307\u5b9a\u8981\u4f7f\u7528\u7684\u5c0f\u6570\u4f4d\u6570(0 \u5230 2\uff0c\u9ed8\u8ba4\u503c\u662f 2)\u3002\n    -h/--human:         \u7528\u4eba\u7c7b\u53ef\u8bfb\u7684\u683c\u5f0f\u6253\u5370\u5927\u5c0f(\u4f8b\u5982 1.0k\u30011.2M \u7b49)\n    -k:                 \u4ee5 Kb/s \u663e\u793a\n    -m:                 \u4ee5 mb/s \u663e\u793a\n    -N:                 \u663e\u793a\u5df2\u6ce8\u518c\u7684 device mapper \u540d\u79f0\uff0c\u5bf9\u4e8e\u67e5\u770b LVM2 \u62a5\u544a\u7279\u522b\u6709\u7528\n    -o JSON:            \u7528 JSON \u683c\u5f0f\u663e\u793a\u62a5\u544a\n    -p [device|ALL]:    \u663e\u793a\u7cfb\u7edf\u6240\u6709\u5757\u8bbe\u5907\u53ca\u5757\u8bbe\u5907\u5206\u533a\u7684\u62a5\u544a\uff0c\u5982\u679c\u6307\u5b9adevice\uff0c\u5219\u53ea\u663e\u793adevice\u548c\u5176\u5206\u533a\u62a5\u544a\u3002\n    -t:                 \u4e3a\u6bcf\u6b21\u62a5\u544a\u663e\u793a\u589e\u52a0\u65f6\u95f4\u6233\uff0c\u65f6\u95f4\u6233\u7684\u683c\u5f0f\u4f9d\u8d56\u4e8e S_TIME_FORMAT \u73af\u5883\u53d8\u91cf\u7684\u503c\n    -V:                 \u6253\u5370\u7248\u672c\u53f7\u7136\u540e\u9000\u51fa\n    -x:                 \u663e\u793a\u6269\u5c55\u62a5\u544a\n    -y:                 \u5982\u679c\u7ed9\u4e86interval\u663e\u793a\u591a\u6b21\u62a5\u544a\uff0c\u8be5\u9009\u9879\u53ef\u4ee5\u5ffd\u7565\u7b2c\u4e00\u6b21\u62a5\u544a(\u7cfb\u7edf\u542f\u52a8\u81f3\u4eca\u7684\u7edf\u8ba1)\u3002\n    -z:                 \u5982\u679c\u76f8\u540c\u7684\u671f\u95f4\u8bbe\u5907\u6ca1\u6709\u6d3b\u52a8\u7684\u6570\u636e\uff0ciostat \u4f1a\u4e0d\u663e\u793a\u8bbe\u5907\u76f8\u540c\u7684\u8f93\u51fa\u6570\u636e\u3002\n\n\u73af\u5883\u53d8\u91cf\uff1aiostat \u4f1a\u628a\u4e0b\u9762\u7684\u73af\u5883\u53d8\u91cf\u8003\u8651\u8fdb\u53bb\u7528\u6765\u589e\u5f3a\u7279\u6b8a\u529f\u80fd\n    POSIXLY_CORRECT:    \u8bbe\u7f6e\u8fd9\u4e2a\u53d8\u91cf\u4f20\u8f93\u901f\u7387\u5c06\u4ee5512\u5b57\u8282\u5757\u5c55\u793a\u800c\u4e0d\u662f\u9ed8\u8ba4\u76841K\u5757\u5c55\u793a\n    S_COLORS:           \u8bbe\u7f6e\u8fd9\u4e2a\u53d8\u91cf\u53ef\u4ee5\u4f7f\u663e\u793a\u62a5\u544a\u4e2d\u7684\u6570\u636e\u5e26\u989c\u8272\n    S_COLORS_SGR:       \u6307\u5b9a\u989c\u8272\u548c\u5176\u5b83\u5c5e\u6027\u7528\u6765\u663e\u793a\u62a5\u544a\uff0c\u5b83\u7684\u503c\u662f\u4e00\u4e2a\u5192\u53f7\u5206\u9694\u7684\u529f\u80fd\u5217\u8868\uff0c\u9ed8\u8ba4\u503c\u4e3a H=31;1:I=32;22:M=35;1:N=34;1:Z=34;22.\n                        \u652f\u6301\u7684\u80fd\u529b\u6709\uff1a\n                        H= SGR (Select Graphic Rendition)\u5b50\u5b57\u7b26\u4e32\u7528\u4e8e\u5927\u4e8e\u6216\u7b49\u4e8e75%\u7684\u767e\u5206\u6bd4\u503c\u3002  \n                        I= SGR\u5b50\u5b57\u7b26\u4e32\u7528\u4e8e\u8bbe\u5907\u540d\u79f0\u3002  \n                        M= SGR\u5b50\u5b57\u7b26\u4e32\uff0c\u7528\u4e8e\u767e\u5206\u6bd4\u503c\u572850%\u523075%\u4e4b\u95f4\u3002  \n                        N= SGR\u5b50\u4e32\u7528\u4e8e\u975e\u96f6\u7edf\u8ba1\u503c\u3002  \n                        Z= SGR\u5b50\u4e32\u4e3a\u96f6\u503c\u3002\n    S_TIME_FORMAT:      \u5982\u679c\u8fd9\u4e2a\u53d8\u91cf\u5b58\u5728\u5e76\u4e14\u5b83\u7684\u503c\u662fISO\uff0c\u90a3\u4e48\u5f53\u5728\u62a5\u544a\u6807\u9898\u4e2d\u6253\u5370\u65e5\u671f\u65f6\uff0c\u5f53\u524d\u533a\u57df\u8bbe\u7f6e\u5c06\u88ab\u5ffd\u7565\u3002\n                        iostat\u547d\u4ee4\u5c06\u4f7f\u7528ISO 8601\u683c\u5f0f(YYYY-MM-DD)\u3002 \u9009\u9879-t\u663e\u793a\u7684\u65f6\u95f4\u6233\u4e5f\u7b26\u5408ISO 8601\u683c\u5f0f\u3002\n")),(0,l.kt)("p",null,"\u4e3e\u4f8b\uff1a"),(0,l.kt)("pre",null,(0,l.kt)("code",{parentName:"pre",className:"language-bash"},"# iostat                    \u4e3a\u6240\u6709\u7684CPU\u548c\u8bbe\u5907\u663e\u793a\u7cfb\u7edf\u542f\u52a8\u81f3\u4eca\u7684\u5386\u53f2\u62a5\u544a\n# iostat -d 2               \u6bcf\u96942\u79d2\u949f\u8fde\u7eed\u663e\u793a\u8bbe\u5907\u62a5\u544a\n# iostat -d 2 6             \u6bcf\u96942\u79d2\u949f\u8fde\u7eed\u663e\u793a\u8bbe\u5907\u62a5\u544a\uff0c\u5171\u663e\u793a6\u6b21\n# iostat -x sda sdb 2 6     \u4e3a\u8bbe\u5907 sda sdb \u6bcf\u96942\u79d2\u949f\u8fde\u7eed\u663e\u793a6\u6b21\u6269\u5c55\u62a5\u544a\n# iostat -p sda 2 6         \u6bcf\u96942\u79d2\u8fde\u7eed\u663e\u793a6\u6b21sda\u548c\u5176\u5206\u533a\u7684\u62a5\u544a\n")),(0,l.kt)("pre",null,(0,l.kt)("code",{parentName:"pre",className:"language-bash"},"[root@computer1 ~]# iostat -c\nLinux 4.19.90-17.ky10.aarch64 (computer1)   2021\u5e7407\u670827\u65e5     _aarch64_   (64 CPU)\n\navg-cpu:  %user   %nice %system %iowait  %steal   %idle\n           9.21    0.00    2.37    0.02    0.00   88.41\n")),(0,l.kt)("ul",null,(0,l.kt)("li",{parentName:"ul"},"%user",(0,l.kt)("ul",{parentName:"li"},(0,l.kt)("li",{parentName:"ul"},"\u663e\u793a\u7528\u6237\u7a7a\u95f4 CPU \u4f7f\u7528\u7387\u767e\u5206\u6bd4\u3002"))),(0,l.kt)("li",{parentName:"ul"},"%nice",(0,l.kt)("ul",{parentName:"li"},(0,l.kt)("li",{parentName:"ul"},"\u663e\u793a\u62e5\u6709 nice \u503c\u7528\u6237\u7a7a\u95f4 CPU \u4f7f\u7528\u7387\u767e\u5206\u6bd4\u3002"))),(0,l.kt)("li",{parentName:"ul"},"%system",(0,l.kt)("ul",{parentName:"li"},(0,l.kt)("li",{parentName:"ul"},"\u663e\u793a\u5185\u6838\u7a7a\u95f4 CPU \u4f7f\u7528\u7387\u767e\u5206\u6bd4\u3002"))),(0,l.kt)("li",{parentName:"ul"},"%iowait",(0,l.kt)("ul",{parentName:"li"},(0,l.kt)("li",{parentName:"ul"},"\u53d1\u751f IO \u8bf7\u6c42\u65f6\uff0cCPU \u7a7a\u95f2\u7b49\u5f85\u767e\u5206\u6bd4\u3002"))),(0,l.kt)("li",{parentName:"ul"},"%steal",(0,l.kt)("ul",{parentName:"li"},(0,l.kt)("li",{parentName:"ul"},"\u7269\u7406 CPU \u4e3a\u865a\u62df\u673a\u670d\u52a1\u7684\u65f6\u95f4\u6240\u5360\u7684\u767e\u5206\u6bd4\u3002"))),(0,l.kt)("li",{parentName:"ul"},"%idle",(0,l.kt)("ul",{parentName:"li"},(0,l.kt)("li",{parentName:"ul"},"\u4e0d\u7b97 IO \u7b49\u5f85\uff0cCPU \u5b8c\u5168\u7a7a\u95f2\u65f6\u95f4\u767e\u5206\u6bd4\u3002")))),(0,l.kt)("p",null,(0,l.kt)("em",{parentName:"p"},"\u6ce8\u610f\uff1a\u5982\u679c\u662f\u591a\u6838 CPU\uff0c\u8fd9\u91cc\u663e\u793a\u7684\u662f\u5168\u5c40\u591a\u6838\u5e73\u5747\u503c\u3002")),(0,l.kt)("pre",null,(0,l.kt)("code",{parentName:"pre",className:"language-bash"},"[root@computer1 ~]# iostat -d -x\nLinux 4.19.90-17.ky10.aarch64 (computer1)   2021\u5e7407\u670827\u65e5     _aarch64_   (64 CPU)\n\nDevice            r/s     rkB/s   rrqm/s  %rrqm r_await rareq-sz     w/s     wkB/s   wrqm/s  %wrqm w_await wareq-sz     d/s     dkB/s   drqm/s  %drqm d_await dareq-sz  aqu-sz  %util\nsda              0.01      0.34     0.00  24.08    5.27    51.90    5.37    411.65     3.45  39.09   34.68    76.64    0.00      0.00     0.00   0.00    0.00     0.00    0.17   2.09\n\n[root@computer1 ~]#\n")),(0,l.kt)("ul",null,(0,l.kt)("li",{parentName:"ul"},"Device",(0,l.kt)("ul",{parentName:"li"},(0,l.kt)("li",{parentName:"ul"},"\u8fd9\u4e00\u5217\u7ed9\u51fa\u4e86 /dev \u76ee\u5f55\u4e2d\u5217\u51fa\u7684\u8bbe\u5907(\u6216\u5206\u533a)\u540d\u79f0\u3002"))),(0,l.kt)("li",{parentName:"ul"},"r/s",(0,l.kt)("ul",{parentName:"li"},(0,l.kt)("li",{parentName:"ul"},"\u8bbe\u5907\u6bcf\u79d2\u5b8c\u6210\u7684\u8bfb\u8bf7\u6c42\u6570(\u5408\u5e76\u540e)"))),(0,l.kt)("li",{parentName:"ul"},"rkB/s",(0,l.kt)("ul",{parentName:"li"},(0,l.kt)("li",{parentName:"ul"},"\u6bcf\u79d2\u4ece\u8bbe\u5907\u8bfb\u53d6\u7684 KB \u5927\u5c0f"))),(0,l.kt)("li",{parentName:"ul"},"rrqm/s",(0,l.kt)("ul",{parentName:"li"},(0,l.kt)("li",{parentName:"ul"},"\u6bcf\u79d2\u8bbe\u5907\u961f\u5217\u4e2d\u8bfb\u53d6\u8bf7\u6c42\u7684\u5408\u5e76\u6570\u91cf"))),(0,l.kt)("li",{parentName:"ul"},"%rrqm",(0,l.kt)("ul",{parentName:"li"},(0,l.kt)("li",{parentName:"ul"},"\u53d1\u9001\u5230\u8bbe\u5907\u524d\u7684\u8bfb\u8bf7\u6c42\u5408\u5e76\u6570\u6240\u5360\u767e\u5206\u6bd4"))),(0,l.kt)("li",{parentName:"ul"},"r","_","await",(0,l.kt)("ul",{parentName:"li"},(0,l.kt)("li",{parentName:"ul"},"\u5411\u63d0\u4f9b\u670d\u52a1\u7684\u8bbe\u5907\u53d1\u8d77\u8bfb\u8bf7\u6c42\u7684\u5e73\u5747\u65f6\u95f4\uff08\u4ee5\u6beb\u79d2\u4e3a\u5355\u4f4d\uff09\uff0c\u8fd9\u5305\u62ec\u5728\u8bf7\u6c42\u961f\u5217\u4e2d\u82b1\u8d39\u7684\u65f6\u95f4\u548c\u670d\u52a1\u5b83\u4eec\u7684\u65f6\u95f4"))),(0,l.kt)("li",{parentName:"ul"},"rareq-sz",(0,l.kt)("ul",{parentName:"li"},(0,l.kt)("li",{parentName:"ul"},"\u5411\u8bbe\u5907\u53d1\u8d77\u8bfb\u8bf7\u6c42\u7684\u5e73\u5747\u5927\u5c0f\uff0c\u4ee5 kb \u4e3a\u5355\u4f4d"))),(0,l.kt)("li",{parentName:"ul"},"w/s",(0,l.kt)("ul",{parentName:"li"},(0,l.kt)("li",{parentName:"ul"},"\u8bbe\u5907\u6bcf\u79d2\u5b8c\u6210\u7684\u5199\u8bf7\u6c42\u6570(\u5408\u5e76\u540e)"))),(0,l.kt)("li",{parentName:"ul"},"wkB/s",(0,l.kt)("ul",{parentName:"li"},(0,l.kt)("li",{parentName:"ul"},"\u6bcf\u79d2\u5411\u8bbe\u5907\u5199\u5165\u7684 KB \u5927\u5c0f"))),(0,l.kt)("li",{parentName:"ul"},"wrqm/s",(0,l.kt)("ul",{parentName:"li"},(0,l.kt)("li",{parentName:"ul"},"\u6bcf\u79d2\u8bbe\u5907\u961f\u5217\u4e2d\u5199\u5165\u8bf7\u6c42\u7684\u5408\u5e76\u6570\u91cf"))),(0,l.kt)("li",{parentName:"ul"},"%wrqm",(0,l.kt)("ul",{parentName:"li"},(0,l.kt)("li",{parentName:"ul"},"\u53d1\u9001\u5230\u8bbe\u5907\u524d\u7684\u5199\u8bf7\u6c42\u5408\u5e76\u6570\u6240\u5360\u767e\u5206\u6bd4"))),(0,l.kt)("li",{parentName:"ul"},"w","_","await",(0,l.kt)("ul",{parentName:"li"},(0,l.kt)("li",{parentName:"ul"},"\u5411\u63d0\u4f9b\u670d\u52a1\u7684\u8bbe\u5907\u53d1\u8d77\u5199\u8bf7\u6c42\u7684\u5e73\u5747\u65f6\u95f4\uff08\u4ee5\u6beb\u79d2\u4e3a\u5355\u4f4d\uff09\uff0c\u8fd9\u5305\u62ec\u5728\u8bf7\u6c42\u961f\u5217\u4e2d\u82b1\u8d39\u7684\u65f6\u95f4\u548c\u670d\u52a1\u5b83\u4eec\u7684\u65f6\u95f4"))),(0,l.kt)("li",{parentName:"ul"},"wareq-sz",(0,l.kt)("ul",{parentName:"li"},(0,l.kt)("li",{parentName:"ul"},"\u5411\u8bbe\u5907\u53d1\u8d77\u5199\u8bf7\u6c42\u7684\u5e73\u5747\u5927\u5c0f\uff0c\u4ee5 kb \u4e3a\u5355\u4f4d"))),(0,l.kt)("li",{parentName:"ul"},"d/s",(0,l.kt)("ul",{parentName:"li"},(0,l.kt)("li",{parentName:"ul"},"\u8bbe\u5907\u6bcf\u79d2\u5b8c\u6210\u7684\u4e22\u5f03\u8bf7\u6c42\u6570(\u5408\u5e76\u540e)"))),(0,l.kt)("li",{parentName:"ul"},"dkB/s",(0,l.kt)("ul",{parentName:"li"},(0,l.kt)("li",{parentName:"ul"},"\u6bcf\u79d2\u4e3a\u8bbe\u5907\u4e22\u5f03\u7684 KB \u5927\u5c0f"))),(0,l.kt)("li",{parentName:"ul"},"drqm/s",(0,l.kt)("ul",{parentName:"li"},(0,l.kt)("li",{parentName:"ul"},"\u6bcf\u79d2\u8bbe\u5907\u961f\u5217\u4e2d\u4e22\u5f03\u8bf7\u6c42\u7684\u5408\u5e76\u6570\u91cf"))),(0,l.kt)("li",{parentName:"ul"},"%drqm",(0,l.kt)("ul",{parentName:"li"},(0,l.kt)("li",{parentName:"ul"},"\u53d1\u9001\u5230\u8bbe\u5907\u524d\u7684\u4e22\u5f03\u8bf7\u6c42\u5408\u5e76\u6570\u6240\u5360\u767e\u5206\u6bd4"))),(0,l.kt)("li",{parentName:"ul"},"d","_","await",(0,l.kt)("ul",{parentName:"li"},(0,l.kt)("li",{parentName:"ul"},"\u5411\u63d0\u4f9b\u670d\u52a1\u7684\u8bbe\u5907\u53d1\u8d77\u4e22\u5f03\u8bf7\u6c42\u7684\u5e73\u5747\u65f6\u95f4\uff08\u4ee5\u6beb\u79d2\u4e3a\u5355\u4f4d\uff09\uff0c\u8fd9\u5305\u62ec\u5728\u8bf7\u6c42\u961f\u5217\u4e2d\u82b1\u8d39\u7684\u65f6\u95f4\u548c\u670d\u52a1\u5b83\u4eec\u7684\u65f6\u95f4"))),(0,l.kt)("li",{parentName:"ul"},"dareq-sz",(0,l.kt)("ul",{parentName:"li"},(0,l.kt)("li",{parentName:"ul"},"\u5411\u8bbe\u5907\u53d1\u8d77\u4e22\u5f03\u8bf7\u6c42\u7684\u5e73\u5747\u5927\u5c0f\uff0c\u4ee5 kb \u4e3a\u5355\u4f4d"))),(0,l.kt)("li",{parentName:"ul"},"aqu-sz",(0,l.kt)("ul",{parentName:"li"},(0,l.kt)("li",{parentName:"ul"},"\u5411\u8bbe\u5907\u53d1\u8d77\u8bf7\u6c42\u7684\u5e73\u5747\u961f\u5217\u957f\u5ea6\uff08\u8001\u7248\u672c\u53eb avgqu-sz\uff09"))),(0,l.kt)("li",{parentName:"ul"},"%util",(0,l.kt)("ul",{parentName:"li"},(0,l.kt)("li",{parentName:"ul"},"\u8bbe\u5907\u5e26\u5bbd\u767e\u5206\u6bd4\uff0c\u4e32\u884c\u670d\u52a1\u7684\u8bbe\u5907\u6b64\u767e\u5206\u6bd4\u63a5\u8fd1 100% \u65f6\u4f1a\u8fbe\u5230\u9971\u548c\uff1b\u4f46\u662f\u5bf9\u4e8e\u5e76\u884c\u8bbe\u5907\uff0c\u6bd4\u5982 RAID \u548c\u73b0\u4ee3 SSD\uff0c\u8fd9\u4e2a\u503c\u8fd8\u4e0d\u80fd\u53cd\u6620\u5b83\u4eec\u7684\u6027\u80fd\u74f6\u9888\u3002")))),(0,l.kt)("pre",null,(0,l.kt)("code",{parentName:"pre",className:"language-bash"},"[root@computer1 ~]# iostat -d\nLinux 4.19.90-17.ky10.aarch64 (computer1)   2021\u5e7407\u670827\u65e5     _aarch64_   (64 CPU)\n\nDevice             tps    kB_read/s    kB_wrtn/s    kB_dscd/s    kB_read    kB_wrtn    kB_dscd\nsda               5.38         0.34       411.62         0.00    2694156 3237630625          0\n\n[root@computer1 ~]#\n")),(0,l.kt)("ul",null,(0,l.kt)("li",{parentName:"ul"},"Device",(0,l.kt)("ul",{parentName:"li"},(0,l.kt)("li",{parentName:"ul"},"\u8fd9\u4e00\u5217\u7ed9\u51fa\u4e86 /dev \u76ee\u5f55\u4e2d\u5217\u51fa\u7684\u8bbe\u5907(\u6216\u5206\u533a)\u540d\u79f0\u3002"))),(0,l.kt)("li",{parentName:"ul"},"tps",(0,l.kt)("ul",{parentName:"li"},(0,l.kt)("li",{parentName:"ul"},"\u6bcf\u79d2\u5411\u8bbe\u5907\u53d1\u8d77\u7684\u4f20\u8f93\u6570\u91cf\uff0c\u4e00\u6b21\u4f20\u8f93\u662f\u4e00\u6b21\u5411\u8bbe\u5907\u53d1\u8d77\u7684 IO \u8bf7\u6c42\uff0c\u591a\u4e2a\u903b\u8f91\u8bf7\u6c42\u53ef\u4ee5\u5408\u5e76\u6210\u4e00\u4e2a\u5230\u8bbe\u5907\u7684 IO \u8bf7\u6c42\uff1b\u4f20\u8f93\u7684\u5927\u5c0f\u662f\u4e0d\u786e\u5b9a\u7684\u3002"))),(0,l.kt)("li",{parentName:"ul"},"kB","_","read/s",(0,l.kt)("ul",{parentName:"li"},(0,l.kt)("li",{parentName:"ul"},"\u6bcf\u79d2\u4ece\u8bbe\u5907\u8bfb\u591a\u5c11 KB \u6570\u636e"))),(0,l.kt)("li",{parentName:"ul"},"kB","_","wrtn/s",(0,l.kt)("ul",{parentName:"li"},(0,l.kt)("li",{parentName:"ul"},"\u6bcf\u79d2\u5411\u8bbe\u5907\u5199\u591a\u5c11 KB \u6570\u636e"))),(0,l.kt)("li",{parentName:"ul"},"kB","_","dscd/s",(0,l.kt)("ul",{parentName:"li"},(0,l.kt)("li",{parentName:"ul"},"\u6bcf\u79d2\u4e3a\u8bbe\u5907\u4e22\u5f03\u591a\u5c11 KB \u6570\u636e"))),(0,l.kt)("li",{parentName:"ul"},"kB","_","read",(0,l.kt)("ul",{parentName:"li"},(0,l.kt)("li",{parentName:"ul"},"\u8bfb\u7684\u603b KB \u5927\u5c0f"))),(0,l.kt)("li",{parentName:"ul"},"kB","_","wrtn",(0,l.kt)("ul",{parentName:"li"},(0,l.kt)("li",{parentName:"ul"},"\u5199\u7684\u603b KB \u5927\u5c0f"))),(0,l.kt)("li",{parentName:"ul"},"kB","_","dscd",(0,l.kt)("ul",{parentName:"li"},(0,l.kt)("li",{parentName:"ul"},"\u4e22\u5f03\u7684\u603b KB \u5927\u5c0f")))),(0,l.kt)("h2",{id:"105sar-\u547d\u4ee4"},"10.5\u3001sar \u547d\u4ee4"),(0,l.kt)("p",null,"sar \u547d\u4ee4\u5f88\u5f3a\u5927\uff0c\u662f\u5206\u6790\u7cfb\u7edf\u6027\u80fd\u7684\u91cd\u8981\u5de5\u5177\u4e4b\u4e00\uff0c\u901a\u8fc7\u8be5\u547d\u4ee4\u53ef\u4ee5\u5168\u9762\u5730\u83b7\u53d6\u7cfb\u7edf\u7684 CPU\u3001\u8fd0\u884c\u961f\u5217\u3001\u78c1\u76d8\u8bfb\u5199\uff08I/O\uff09\u3001\u5206\u533a\uff08\u4ea4\u6362\u533a\uff09\u3001\u5185\u5b58\u3001CPU \u4e2d\u65ad\u548c\u7f51\u7edc\u7b49\u6027\u80fd\u6570\u636e\u3002"),(0,l.kt)("p",null,(0,l.kt)("img",{alt:"linux_observability_sar",src:n(54849).Z,width:"1500",height:"1050"})),(0,l.kt)("p",null,"sar \u547d\u4ee4\u7684\u57fa\u672c\u683c\u5f0f\u5982\u4e0b\uff1a"),(0,l.kt)("pre",null,(0,l.kt)("code",{parentName:"pre",className:"language-bash"},"sar [options] [-o filename] interval [count]\n\n\u6b64\u547d\u4ee4\u683c\u5f0f\u4e2d\uff0c\u5404\u4e2a\u53c2\u6570\u7684\u542b\u4e49\u5982\u4e0b\uff1a\n-o filename:    \u5176\u4e2d\uff0cfilename \u4e3a\u6587\u4ef6\u540d\uff0c\u6b64\u9009\u9879\u8868\u793a\u5c06\u547d\u4ee4\u7ed3\u679c\u4ee5\u4e8c\u8fdb\u5236\u683c\u5f0f\u5b58\u653e\u5728\u6587\u4ef6\u4e2d\uff1b\ninterval:       \u8868\u793a\u91c7\u6837\u95f4\u9694\u65f6\u95f4\uff0c\u8be5\u53c2\u6570\u5fc5\u987b\u624b\u52a8\u8bbe\u7f6e\uff1b\ncount:          \u8868\u793a\u91c7\u6837\u6b21\u6570\uff0c\u662f\u53ef\u9009\u53c2\u6570\uff0c\u5176\u9ed8\u8ba4\u503c\u4e3a 1\uff1b\noptions:        \u4e3a\u547d\u4ee4\u884c\u9009\u9879\uff0c\u7531\u4e8e sar \u547d\u4ee4\u63d0\u4f9b\u7684\u9009\u9879\u5f88\u591a\uff0c\u8fd9\u91cc\u4e0d\u518d\u4e00\u4e00\u4ecb\u7ecd\uff0c\u4ec5\u5217\u4e3e\u51fa\u5e38\u7528\u7684\u4e00\u4e9b\u9009\u9879\u53ca\u5bf9\u5e94\u7684\u529f\u80fd\uff0c\u5982\u8868 1 \u6240\u793a\u3002\n")),(0,l.kt)("p",null,"\u8868 1 sar \u547d\u4ee4\u884c\u9009\u9879\u53ca\u529f\u80fd"),(0,l.kt)("table",null,(0,l.kt)("thead",{parentName:"table"},(0,l.kt)("tr",{parentName:"thead"},(0,l.kt)("th",{parentName:"tr",align:null},"sar\u547d\u4ee4\u9009\u9879"),(0,l.kt)("th",{parentName:"tr",align:null},"\u529f\u80fd"))),(0,l.kt)("tbody",{parentName:"table"},(0,l.kt)("tr",{parentName:"tbody"},(0,l.kt)("td",{parentName:"tr",align:null},"-","A"),(0,l.kt)("td",{parentName:"tr",align:null},"\u663e\u793a\u6240\u6709\u7684\u62a5\u544a\u4fe1\u606f")),(0,l.kt)("tr",{parentName:"tbody"},(0,l.kt)("td",{parentName:"tr",align:null},"-","b"),(0,l.kt)("td",{parentName:"tr",align:null},"\u663e\u793aI/O\u901f\u7387")),(0,l.kt)("tr",{parentName:"tbody"},(0,l.kt)("td",{parentName:"tr",align:null},"-","B"),(0,l.kt)("td",{parentName:"tr",align:null},"\u663e\u793a\u6362\u9875\u72b6\u6001")),(0,l.kt)("tr",{parentName:"tbody"},(0,l.kt)("td",{parentName:"tr",align:null},"-","c"),(0,l.kt)("td",{parentName:"tr",align:null},"\u663e\u793a\u8fdb\u7a0b\u521b\u5efa\u6d3b\u52a8")),(0,l.kt)("tr",{parentName:"tbody"},(0,l.kt)("td",{parentName:"tr",align:null},"-","d"),(0,l.kt)("td",{parentName:"tr",align:null},"\u663e\u793a\u6bcf\u4e2a\u5757\u8bbe\u5907\u7684\u72b6\u6001")),(0,l.kt)("tr",{parentName:"tbody"},(0,l.kt)("td",{parentName:"tr",align:null},"-","e"),(0,l.kt)("td",{parentName:"tr",align:null},"\u8bbe\u7f6e\u663e\u793a\u62a5\u544a\u7684\u7ed3\u675f\u65f6\u95f4")),(0,l.kt)("tr",{parentName:"tbody"},(0,l.kt)("td",{parentName:"tr",align:null},"-","f"),(0,l.kt)("td",{parentName:"tr",align:null},"\u4ece\u6307\u5b9a\u6587\u4ef6\u63d0\u53d6\u62a5\u544a")),(0,l.kt)("tr",{parentName:"tbody"},(0,l.kt)("td",{parentName:"tr",align:null},"-","i"),(0,l.kt)("td",{parentName:"tr",align:null},"\u8bbe\u72b6\u6001\u4fe1\u606f\u5237\u65b0\u7684\u95f4\u9694\u65f6\u95f4")),(0,l.kt)("tr",{parentName:"tbody"},(0,l.kt)("td",{parentName:"tr",align:null},"-","P"),(0,l.kt)("td",{parentName:"tr",align:null},"\u62a5\u544a\u6bcf\u4e2aCPU\u7684\u72b6\u6001")),(0,l.kt)("tr",{parentName:"tbody"},(0,l.kt)("td",{parentName:"tr",align:null},"-","R"),(0,l.kt)("td",{parentName:"tr",align:null},"\u663e\u793a\u5185\u5b58\u72b6\u6001")),(0,l.kt)("tr",{parentName:"tbody"},(0,l.kt)("td",{parentName:"tr",align:null},"-","u"),(0,l.kt)("td",{parentName:"tr",align:null},"\u663e\u793aCPU\u5229\u7528\u7387")),(0,l.kt)("tr",{parentName:"tbody"},(0,l.kt)("td",{parentName:"tr",align:null},"-","v"),(0,l.kt)("td",{parentName:"tr",align:null},"\u663e\u793a\u7d22\u5f15\u8282\u70b9\uff0c\u6587\u4ef6\u548c\u5176\u4ed6\u5185\u6838\u8868\u7684\u72b6\u6001")),(0,l.kt)("tr",{parentName:"tbody"},(0,l.kt)("td",{parentName:"tr",align:null},"-","w"),(0,l.kt)("td",{parentName:"tr",align:null},"\u663e\u793a\u4ea4\u6362\u5206\u533a\u72b6\u6001")),(0,l.kt)("tr",{parentName:"tbody"},(0,l.kt)("td",{parentName:"tr",align:null},"-","x"),(0,l.kt)("td",{parentName:"tr",align:null},"\u663e\u793a\u7ed9\u5b9a\u8fdb\u7a0b\u7684\u72b6\u6001")))),(0,l.kt)("h3",{id:"1051cpu-\u8d44\u6e90\u76d1\u63a7"},"10.5.1\u3001CPU \u8d44\u6e90\u76d1\u63a7"),(0,l.kt)("p",null,"\u6bcf 5s \u91c7\u6837\u4e00\u6b21\uff0c\u8fde\u7eed\u91c7\u6837 3 \u6b21\uff0c\u89c2\u5bdf cpu \u4f7f\u7528\u60c5\u51b5\uff0c\u5e76\u5c06\u91c7\u6837\u7ed3\u679c\u4ee5\u4e8c\u8fdb\u5236\u5f62\u5f0f\u5b58\u5165 sar.bin \u4e2d\uff1a"),(0,l.kt)("pre",null,(0,l.kt)("code",{parentName:"pre",className:"language-bash"},"[root@computer1 ~]# sar -u -o sar.bin 5 3\nLinux 4.19.90-17.ky10.aarch64 (computer1)   2021\u5e7407\u670827\u65e5     _aarch64_   (64 CPU)\n\n20\u65f611\u520656\u79d2     CPU     %user     %nice   %system   %iowait    %steal     %idle\n20\u65f612\u520601\u79d2     all      6.79      0.27      3.15      0.02      0.00     89.76\n20\u65f612\u520606\u79d2     all      7.37      0.23      3.01      0.01      0.00     89.37\n20\u65f612\u520611\u79d2     all      5.58      0.23      2.96      0.04      0.00     91.19\n\u5e73\u5747\u65f6\u95f4:     all      6.58      0.24      3.04      0.02      0.00     90.11\n[root@computer1 ~]#\n")),(0,l.kt)("p",null,"\u67e5\u770b\u4e8c\u8fdb\u5236\u6587\u4ef6 sar.bin \u4e2d\u7684\u5185\u5bb9\uff1a"),(0,l.kt)("pre",null,(0,l.kt)("code",{parentName:"pre",className:"language-bash"},"[root@computer1 ~]# sar -u -f sar.bin \nLinux 4.19.90-17.ky10.aarch64 (computer1)   2021\u5e7407\u670827\u65e5     _aarch64_   (64 CPU)\n\n20\u65f611\u520656\u79d2     CPU     %user     %nice   %system   %iowait    %steal     %idle\n20\u65f612\u520601\u79d2     all      6.79      0.27      3.15      0.02      0.00     89.76\n20\u65f612\u520606\u79d2     all      7.37      0.23      3.01      0.01      0.00     89.37\n20\u65f612\u520611\u79d2     all      5.58      0.23      2.96      0.04      0.00     91.19\n\u5e73\u5747\u65f6\u95f4:   all      6.58      0.24      3.04      0.02      0.00     90.11\n[root@computer1 ~]#\n")),(0,l.kt)("p",null,"\u8f93\u51fa\u9879\u8bf4\u660e\uff1a"),(0,l.kt)("pre",null,(0,l.kt)("code",{parentName:"pre",className:"language-bash"},"CPU:        all \u8868\u793a\u7edf\u8ba1\u4fe1\u606f\u4e3a\u6240\u6709 CPU \u7684\u5e73\u5747\u503c\u3002\n\n%user:      \u663e\u793a\u5728\u7528\u6237\u7a7a\u95f4\u4f7f\u7528 CPU \u65f6\u95f4\u5360\u603b CPU \u65f6\u95f4\u7684\u767e\u5206\u6bd4\u3002\n\n%nice:      \u663e\u793a\u5728\u7528\u6237\u7a7a\u95f4\uff0c\u7528\u4e8e nice \u64cd\u4f5c\uff0c\u6240\u5360\u7528 CPU \u603b\u65f6\u95f4\u7684\u767e\u5206\u6bd4\u3002\n\n%system:    \u663e\u793a\u5728\u5185\u6838\u7a7a\u95f4\u4f7f\u7528 CPU \u65f6\u95f4\u5360\u603b CPU \u65f6\u95f4\u7684\u767e\u5206\u6bd4\u3002\n\n%iowait:    \u663e\u793a\u7528\u4e8e\u7b49\u5f85 I/O \u65f6\u95f4\u5360 CPU \u603b\u65f6\u95f4\u7684\u767e\u5206\u6bd4\u3002\n\n%steal:     \u76d1\u63a7\u7a0b\u5e8f(hypervisor)\u4e3a\u53e6\u4e00\u4e2a\u865a\u62df\u8fdb\u7a0b\u63d0\u4f9b\u670d\u52a1\u6240\u7528\u65f6\u95f4\u5360\u603b CPU \u65f6\u95f4\u7684\u767e\u5206\u6bd4\u3002\n\n%idle:      \u663e\u793a CPU \u7a7a\u95f2\u65f6\u95f4\u5360\u7528 CPU \u603b\u65f6\u95f4\u7684\u767e\u5206\u6bd4\u3002\n")),(0,l.kt)("p",null,"\u5206\u6790\uff1a"),(0,l.kt)("pre",null,(0,l.kt)("code",{parentName:"pre",className:"language-bash"},"1.\u82e5 %iowait\u7684\u503c\u8fc7\u9ad8\uff0c\u8868\u793a\u786c\u76d8\u5b58\u5728I/O\u74f6\u9888\n\n2.\u82e5 %idle \u7684\u503c\u9ad8\u4f46\u7cfb\u7edf\u54cd\u5e94\u6162\u65f6\uff0c\u6709\u53ef\u80fd\u662f CPU \u7b49\u5f85\u5206\u914d\u5185\u5b58\uff0c\u6b64\u65f6\u5e94\u52a0\u5927\u5185\u5b58\u5bb9\u91cf\n\n3.\u82e5 %idle \u7684\u503c\u6301\u7eed\u4f4e\u4e8e 1\uff0c\u5219\u7cfb\u7edf\u7684 CPU \u5904\u7406\u80fd\u529b\u76f8\u5bf9\u8f83\u4f4e\uff0c\u8868\u660e\u7cfb\u7edf\u4e2d\u6700\u9700\u8981\u89e3\u51b3\u7684\u8d44\u6e90\u662f CPU\u3002\n")),(0,l.kt)("h3",{id:"1052inode\u6587\u4ef6\u548c\u5176\u4ed6\u5185\u6838\u8868\u76d1\u63a7"},"10.5.2\u3001inode\u3001\u6587\u4ef6\u548c\u5176\u4ed6\u5185\u6838\u8868\u76d1\u63a7"),(0,l.kt)("p",null,"\u6bcf 5 \u79d2\u91c7\u6837\u4e00\u6b21\uff0c\u8fde\u7eed\u91c7\u6837 10 \u6b21\uff0c\u89c2\u5bdf\u6838\u5fc3\u8868\u7684\u72b6\u6001"),(0,l.kt)("pre",null,(0,l.kt)("code",{parentName:"pre",className:"language-bash"},"[root@computer1 ~]# sar -v 5 10\nLinux 4.19.90-17.ky10.aarch64 (computer1)   2021\u5e7407\u670827\u65e5     _aarch64_   (64 CPU)\n\n20\u65f626\u520613\u79d2 dentunusd   file-nr  inode-nr    pty-nr\n20\u65f626\u520618\u79d2    376931      7552    386492        17\n20\u65f626\u520623\u79d2    376936      7552    386503        17\n20\u65f626\u520628\u79d2    376934      7424    386493        17\n20\u65f626\u520633\u79d2    376935      7296    386489        17\n20\u65f626\u520638\u79d2    376939      7424    386507        17\n20\u65f626\u520643\u79d2    376935      7296    386494        17\n20\u65f626\u520648\u79d2    376931      7296    386506        17\n20\u65f626\u520653\u79d2    376926      7296    386486        17\n20\u65f626\u520658\u79d2    376923      7168    386485        17\n20\u65f627\u520603\u79d2    376919      7168    386473        17\n\u5e73\u5747\u65f6\u95f4:    376931      7347    386493        17\n[root@computer1 ~]#\n")),(0,l.kt)("p",null,"\u8f93\u51fa\u9879\u8bf4\u660e\uff1a"),(0,l.kt)("pre",null,(0,l.kt)("code",{parentName:"pre",className:"language-bash"},"dentunusd:  \u76ee\u5f55\u9ad8\u901f\u7f13\u5b58\u4e2d\u672a\u88ab\u4f7f\u7528\u7684\u6761\u76ee\u6570\u91cf\n\nfile-nr:    \u6587\u4ef6\u53e5\u67c4\uff08filehandle\uff09\u7684\u4f7f\u7528\u6570\u91cf\n\ninode-nr:   \u7d22\u5f15\u8282\u70b9\u53e5\u67c4\uff08inodehandle\uff09\u7684\u4f7f\u7528\u6570\u91cf\n\npty-nr:     \u4f7f\u7528\u7684pty\u6570\u91cf\n")),(0,l.kt)("h3",{id:"1053\u5185\u5b58\u548c\u4ea4\u6362\u7a7a\u95f4\u76d1\u63a7"},"10.5.3\u3001\u5185\u5b58\u548c\u4ea4\u6362\u7a7a\u95f4\u76d1\u63a7"),(0,l.kt)("p",null,"\u6bcf 5s \u91c7\u6837\u4e00\u6b21\uff0c\u8fde\u7eed\u91c7\u6837 10 \u6b21\uff0c\u76d1\u63a7\u5185\u5b58\u5206\u9875"),(0,l.kt)("pre",null,(0,l.kt)("code",{parentName:"pre",className:"language-bash"},"[root@computer1 ~]# sar -r 5 10\nLinux 4.19.90-17.ky10.aarch64 (computer1)   2021\u5e7407\u670827\u65e5     _aarch64_   (64 CPU)\n\n20\u65f635\u520636\u79d2 kbmemfree   kbavail kbmemused  %memused kbbuffers  kbcached  kbcommit   %commit  kbactive   kbinact   kbdirty\n20\u65f635\u520641\u79d2  28258816  40953856 216293952     81.58   1226816  17106240 277867072    103.18 204313216  20613184     13504\n20\u65f635\u520646\u79d2  28269184  40964160 216283584     81.58   1226816  17106240 278041472    103.24 204328896  20613440     13632\n20\u65f635\u520651\u79d2  28290112  40985152 216262656     81.57   1226816  17106240 277853056    103.17 204317056  20613568     16384\n20\u65f635\u520656\u79d2  28286400  40981440 216266496     81.57   1226816  17106240 277877632    103.18 204314368  20613568     16832\n20\u65f636\u520601\u79d2  28298368  40993408 216254592     81.57   1226816  17106240 277867392    103.18 204322240  20613568     17728\n20\u65f636\u520606\u79d2  28308352  41003392 216244608     81.57   1226816  17106240 277841728    103.17 204317376  20613568     16512\n20\u65f636\u520611\u79d2  28296512  40991552 216256960     81.57   1226816  17106240 277781888    103.14 204318528  20613568      6208\n20\u65f636\u520616\u79d2  28291520  40986560 216262400     81.57   1226816  17106240 277813696    103.16 204330688  20613568     12160\n20\u65f636\u520621\u79d2  28245952  40940928 216307264     81.59   1226816  17106368 278131072    103.27 204335936  20613568     16704\n20\u65f636\u520626\u79d2  28267776  40962816 216285376     81.58   1226816  17106368 277897152    103.19 204326144  20613504     16512\n\u5e73\u5747\u65f6\u95f4:  28281299  40976326 216271789     81.58   1226816  17106266 277897216    103.19 204322445  20613510     14618\n[root@computer1 ~]#\n")),(0,l.kt)("p",null,"\u8f93\u51fa\u9879\u8bf4\u660e\uff1a"),(0,l.kt)("pre",null,(0,l.kt)("code",{parentName:"pre",className:"language-bash"},"kbmemfree:              \u8fd9\u4e2a\u503c\u548cfree\u547d\u4ee4\u4e2d\u7684free\u503c\u57fa\u672c\u4e00\u81f4,\u6240\u4ee5\u5b83\u4e0d\u5305\u62ecbuffer\u548ccache\u7684\u7a7a\u95f4.\n\nkbmemused:              \u8fd9\u4e2a\u503c\u548cfree\u547d\u4ee4\u4e2d\u7684used\u503c\u57fa\u672c\u4e00\u81f4,\u6240\u4ee5\u5b83\u5305\u62ecbuffer\u548ccache\u7684\u7a7a\u95f4.\n\n%memused:               \u8fd9\u4e2a\u503c\u662fkbmemused\u548c\u5185\u5b58\u603b\u91cf(\u4e0d\u5305\u62ecswap)\u7684\u4e00\u4e2a\u767e\u5206\u6bd4.\n\nkbbuffers   kbcached:   \u8fd9\u4e24\u4e2a\u503c\u5c31\u662ffree\u547d\u4ee4\u4e2d\u7684buffer\u548ccache.\n\nkbcommit:               \u4fdd\u8bc1\u5f53\u524d\u7cfb\u7edf\u6240\u9700\u8981\u7684\u5185\u5b58,\u5373\u4e3a\u4e86\u786e\u4fdd\u4e0d\u6ea2\u51fa\u800c\u9700\u8981\u7684\u5185\u5b58(RAM+swap).\n\n%commit:                \u8fd9\u4e2a\u503c\u662fkbcommit\u4e0e\u5185\u5b58\u603b\u91cf(\u5305\u62ecswap)\u7684\u4e00\u4e2a\u767e\u5206\u6bd4.\n\nkbactive:               \u6d3b\u52a8\u5185\u5b58\u7684 Kb \u6570\u91cf(\u6700\u8fd1\u4f7f\u7528\u7684\u5185\u5b58\uff0c\u9664\u975e\u7edd\u5bf9\u5fc5\u8981\uff0c\u5426\u5219\u901a\u5e38\u4e0d\u4f1a\u56de\u6536)\u3002  \n\nkbinact:                \u4e0d\u6d3b\u52a8\u5185\u5b58\u7684 Kb \u6570\u91cf(\u5b83\u66f4\u9002\u5408\u88ab\u56de\u6536\u4f5c\u5176\u4ed6\u7528\u9014)\u3002  \n\nkbdirty:                \u7b49\u5f85\u5199\u56de\u78c1\u76d8\u7684 Kb \u5185\u5b58\u91cf\n")),(0,l.kt)("h3",{id:"1054\u5185\u5b58\u5206\u9875\u76d1\u63a7"},"10.5.4\u3001\u5185\u5b58\u5206\u9875\u76d1\u63a7"),(0,l.kt)("p",null,"\u6bcf 10s \u91c7\u6837\u4e00\u6b21\uff0c\u8fde\u7eed\u91c7\u6837 3 \u6b21\uff0c\u76d1\u63a7\u5185\u5b58\u5206\u9875"),(0,l.kt)("pre",null,(0,l.kt)("code",{parentName:"pre",className:"language-bash"},"[root@computer1 ~]# sar -B 10 3\nLinux 4.19.90-17.ky10.aarch64 (computer1)   2021\u5e7407\u670827\u65e5     _aarch64_   (64 CPU)\n\n21\u65f613\u520620\u79d2  pgpgin/s pgpgout/s   fault/s  majflt/s  pgfree/s pgscank/s pgscand/s pgsteal/s    %vmeff\n21\u65f613\u520630\u79d2      0.00   1645.60   1915.10      0.00   1257.10      0.00      0.00      0.00      0.00\n21\u65f613\u520640\u79d2      0.00     16.00   3075.40      0.00   1614.90      0.00      0.00      0.00      0.00\n21\u65f613\u520650\u79d2      0.00     30.00   1549.10      0.00   1056.40      0.00      0.00      0.00      0.00\n\u5e73\u5747\u65f6\u95f4:      0.00    563.87   2179.87      0.00   1309.47      0.00      0.00      0.00      0.00\n[root@computer1 ~]#\n")),(0,l.kt)("p",null,"\u8f93\u51fa\u9879\u8bf4\u660e\uff1a"),(0,l.kt)("pre",null,(0,l.kt)("code",{parentName:"pre",className:"language-bash"},"pgpgin/s:   \u8868\u793a\u6bcf\u79d2\u4ece\u78c1\u76d8\u6216SWAP\u7f6e\u6362\u5230\u5185\u5b58\u7684\u5b57\u8282\u6570(KB)\n\npgpgout/s:  \u8868\u793a\u6bcf\u79d2\u4ece\u5185\u5b58\u7f6e\u6362\u5230\u78c1\u76d8\u6216SWAP\u7684\u5b57\u8282\u6570(KB)\n\nfault/s:    \u6bcf\u79d2\u949f\u7cfb\u7edf\u4ea7\u751f\u7684\u7f3a\u9875\u6570,\u5373\u4e3b\u7f3a\u9875\u4e0e\u6b21\u7f3a\u9875\u4e4b\u548c(major +minor)\n\nmajflt/s:   \u6bcf\u79d2\u949f\u4ea7\u751f\u7684\u4e3b\u7f3a\u9875\u6570.\n\npgfree/s:   \u6bcf\u79d2\u88ab\u653e\u5165\u7a7a\u95f2\u961f\u5217\u4e2d\u7684\u9875\u4e2a\u6570\n\npgscank/s:  \u6bcf\u79d2\u88abkswapd\u626b\u63cf\u7684\u9875\u4e2a\u6570\n\npgscand/s:  \u6bcf\u79d2\u76f4\u63a5\u88ab\u626b\u63cf\u7684\u9875\u4e2a\u6570\n\npgsteal/s:  \u6bcf\u79d2\u949f\u4ececache\u4e2d\u88ab\u6e05\u9664\u6765\u6ee1\u8db3\u5185\u5b58\u9700\u8981\u7684\u9875\u4e2a\u6570\n\n%vmeff:     \u6bcf\u79d2\u6e05\u9664\u7684\u9875(pgsteal)\u5360\u603b\u626b\u63cf\u9875(pgscank+pgscand)\u7684\u767e\u5206\u6bd4\n")),(0,l.kt)("h3",{id:"1055io-\u548c\u4f20\u9001\u901f\u7387\u76d1\u63a7"},"10.5.5\u3001I/O \u548c\u4f20\u9001\u901f\u7387\u76d1\u63a7"),(0,l.kt)("p",null,"\u6bcf 5s \u91c7\u6837\u4e00\u6b21\uff0c\u8fde\u7eed\u91c7\u6837 10 \u6b21\uff0c\u62a5\u544a\u7f13\u51b2\u533a\u7684\u4f7f\u7528\u60c5\u51b5"),(0,l.kt)("pre",null,(0,l.kt)("code",{parentName:"pre",className:"language-bash"},"[root@computer1 ~]# sar -b 5 10\nLinux 4.19.90-17.ky10.aarch64 (computer1)   2021\u5e7407\u670827\u65e5     _aarch64_   (64 CPU)\n\n21\u65f630\u520627\u79d2       tps      rtps      wtps      dtps   bread/s   bwrtn/s   bdscd/s\n21\u65f630\u520632\u79d2     35.00      0.00     35.00      0.00      0.00   6604.80      0.00\n21\u65f630\u520637\u79d2      0.60      0.00      0.60      0.00      0.00     46.40      0.00\n21\u65f630\u520642\u79d2      0.60      0.00      0.60      0.00      0.00     41.60      0.00\n21\u65f630\u520647\u79d2      6.80      0.00      6.80      0.00      0.00     88.00      0.00\n21\u65f630\u520652\u79d2      0.60      0.00      0.60      0.00      0.00     25.60      0.00\n21\u65f630\u520657\u79d2      0.40      0.00      0.40      0.00      0.00     40.00      0.00\n21\u65f631\u520602\u79d2      0.40      0.00      0.40      0.00      0.00     17.60      0.00\n21\u65f631\u520607\u79d2     41.20      0.00     41.20      0.00      0.00   7300.80      0.00\n21\u65f631\u520612\u79d2      0.60      0.00      0.60      0.00      0.00     32.00      0.00\n21\u65f631\u520617\u79d2      0.60      0.00      0.60      0.00      0.00     40.00      0.00\n\u5e73\u5747\u65f6\u95f4:      8.68      0.00      8.68      0.00      0.00   1423.68      0.00\n[root@computer1 ~]#\n")),(0,l.kt)("p",null,"\u8f93\u51fa\u9879\u8bf4\u660e\uff1a"),(0,l.kt)("pre",null,(0,l.kt)("code",{parentName:"pre",className:"language-bash"},"tps:        \u6bcf\u79d2\u949f\u7269\u7406\u8bbe\u5907\u7684 I/O\u4f20\u8f93\u603b\u91cf\n\nrtps:       \u6bcf\u79d2\u949f\u4ece\u7269\u7406\u8bbe\u5907\u8bfb\u5165\u7684\u6570\u636e\u603b\u91cf\n\nwtps:       \u6bcf\u79d2\u949f\u5411\u7269\u7406\u8bbe\u5907\u5199\u5165\u7684\u6570\u636e\u603b\u91cf\n\nbread/s:    \u6bcf\u79d2\u949f\u4ece\u7269\u7406\u8bbe\u5907\u8bfb\u5165\u7684\u6570\u636e\u91cf\uff0c\u5355\u4f4d\u4e3a\u5757/s\n\nbwrtn/s:    \u6bcf\u79d2\u949f\u5411\u7269\u7406\u8bbe\u5907\u5199\u5165\u7684\u6570\u636e\u91cf\uff0c\u5355\u4f4d\u4e3a\u5757/s\n")),(0,l.kt)("h3",{id:"1056\u8fdb\u7a0b\u961f\u5217\u957f\u5ea6\u548c\u5e73\u5747\u8d1f\u8f7d\u72b6\u6001\u76d1\u63a7"},"10.5.6\u3001\u8fdb\u7a0b\u961f\u5217\u957f\u5ea6\u548c\u5e73\u5747\u8d1f\u8f7d\u72b6\u6001\u76d1\u63a7"),(0,l.kt)("p",null,"\u6bcf 5s \u91c7\u6837\u4e00\u6b21\uff0c\u8fde\u7eed\u91c7\u6837 10 \u6b21\uff0c\u76d1\u63a7\u8fdb\u7a0b\u961f\u5217\u957f\u5ea6\u548c\u5e73\u5747\u8d1f\u8f7d\u72b6\u6001"),(0,l.kt)("pre",null,(0,l.kt)("code",{parentName:"pre",className:"language-bash"},"[root@computer1 ~]# sar -q 5 10\nLinux 4.19.90-17.ky10.aarch64 (computer1)   2021\u5e7407\u670827\u65e5     _aarch64_   (64 CPU)\n\n21\u65f636\u520613\u79d2   runq-sz  plist-sz   ldavg-1   ldavg-5  ldavg-15   blocked\n21\u65f636\u520618\u79d2         4      2469      6.88      6.89      6.92         0\n21\u65f636\u520623\u79d2         5      2462      6.65      6.84      6.91         0\n21\u65f636\u520628\u79d2         6      2462      6.68      6.84      6.91         0\n21\u65f636\u520633\u79d2         2      2462      6.30      6.76      6.88         0\n21\u65f636\u520638\u79d2         6      2471      5.96      6.68      6.85         0\n21\u65f636\u520643\u79d2         4      2488      6.12      6.70      6.86         0\n21\u65f636\u520648\u79d2         2      2462      5.79      6.63      6.83         0\n21\u65f636\u520653\u79d2         7      2462      5.41      6.53      6.80         0\n21\u65f636\u520658\u79d2         4      2471      6.18      6.67      6.85         0\n21\u65f637\u520603\u79d2        14      2464      6.48      6.73      6.86         0\n\u5e73\u5747\u65f6\u95f4:         5      2467      6.25      6.73      6.87         0\n[root@computer1 ~]#\n")),(0,l.kt)("p",null,"\u8f93\u51fa\u9879\u8bf4\u660e\uff1a"),(0,l.kt)("pre",null,(0,l.kt)("code",{parentName:"pre",className:"language-bash"},"runq-sz:    \u8fd0\u884c\u961f\u5217\u7684\u957f\u5ea6\uff08\u7b49\u5f85\u8fd0\u884c\u7684\u8fdb\u7a0b\u6570\uff09\n\nplist-sz:   \u8fdb\u7a0b\u5217\u8868\u4e2d\u8fdb\u7a0b\uff08processes\uff09\u548c\u7ebf\u7a0b\uff08threads\uff09\u7684\u6570\u91cf\n\nldavg-1:    \u6700\u540e1\u5206\u949f\u7684\u7cfb\u7edf\u5e73\u5747\u8d1f\u8f7d\uff08Systemload average\uff09\n\nldavg-5:    \u8fc7\u53bb5\u5206\u949f\u7684\u7cfb\u7edf\u5e73\u5747\u8d1f\u8f7d\n\nldavg-15:   \u8fc7\u53bb15\u5206\u949f\u7684\u7cfb\u7edf\u5e73\u5747\u8d1f\u8f7d\n\nblocked:    \u5f53\u524d\u7b49\u5f85I/O\u5b8c\u6210\u800c\u963b\u585e\u7684\u4efb\u52a1\u6570\n")),(0,l.kt)("h3",{id:"1057\u7cfb\u7edf\u4ea4\u6362\u6d3b\u52a8\u4fe1\u606f\u76d1\u63a7"},"10.5.7\u3001\u7cfb\u7edf\u4ea4\u6362\u6d3b\u52a8\u4fe1\u606f\u76d1\u63a7"),(0,l.kt)("p",null,"\u6bcf 5s \u91c7\u6837\u4e00\u6b21\uff0c\u8fde\u7eed\u91c7\u6837 10 \u6b21\uff0c\u76d1\u63a7\u7cfb\u7edf\u4ea4\u6362\u6d3b\u52a8\u4fe1\u606f"),(0,l.kt)("pre",null,(0,l.kt)("code",{parentName:"pre",className:"language-bash"},"[root@computer1 ~]# sar -W 5 10\nLinux 4.19.90-17.ky10.aarch64 (computer1)   2021\u5e7407\u670827\u65e5     _aarch64_   (64 CPU)\n\n21\u65f643\u520630\u79d2  pswpin/s pswpout/s\n21\u65f643\u520635\u79d2      0.00      0.00\n21\u65f643\u520640\u79d2      0.00      0.00\n21\u65f643\u520645\u79d2      0.00      0.00\n21\u65f643\u520650\u79d2      0.00      0.00\n21\u65f643\u520655\u79d2      0.00      0.00\n21\u65f644\u520600\u79d2      0.00      0.00\n21\u65f644\u520605\u79d2      0.00      0.00\n21\u65f644\u520610\u79d2      0.00      0.00\n21\u65f644\u520615\u79d2      0.00      0.00\n21\u65f644\u520620\u79d2      0.00      0.00\n\u5e73\u5747\u65f6\u95f4:      0.00      0.00\n[root@computer1 ~]#\n")),(0,l.kt)("p",null,"\u8f93\u51fa\u9879\u8bf4\u660e\uff1a"),(0,l.kt)("pre",null,(0,l.kt)("code",{parentName:"pre",className:"language-bash"},"pswpin/s\uff1a\u6bcf\u79d2\u7cfb\u7edf\u6362\u5165\u7684\u4ea4\u6362\u9875\u9762\uff08swap page\uff09\u6570\u91cf\n\npswpout/s\uff1a\u6bcf\u79d2\u7cfb\u7edf\u6362\u51fa\u7684\u4ea4\u6362\u9875\u9762\uff08swap page\uff09\u6570\u91cf\n")),(0,l.kt)("h3",{id:"1058\u7edf\u8ba1\u7f51\u7edc\u4fe1\u606f"},"10.5.8\u3001\u7edf\u8ba1\u7f51\u7edc\u4fe1\u606f"),(0,l.kt)("p",null,"sar \u547d\u4ee4\u7edf\u8ba1\u7f51\u7edc\u4fe1\u606f\u6bd4\u8f83\u7ec6\u81f4\uff0c\u8bed\u6cd5\u662f\uff1a"),(0,l.kt)("pre",null,(0,l.kt)("code",{parentName:"pre",className:"language-bash"},"sar -n { keyword [,...] | ALL }\n\nkeyword: DEV, EDEV, FC, ICMP, EICMP, ICMP6,  EICMP6,  IP,  EIP, IP6, EIP6, NFS, NFSD, SOCK, SOCK6, SOFT, TCP, ETCP, UDP and UDP6.\n")),(0,l.kt)("ul",null,(0,l.kt)("li",{parentName:"ul"},"DEV \u663e\u793a\u7f51\u7edc\u63a5\u53e3\u4fe1\u606f"),(0,l.kt)("li",{parentName:"ul"},"EDEV \u663e\u793a\u5173\u4e8e\u7f51\u7edc\u9519\u8bef\u7684\u7edf\u8ba1\u6570\u636e"),(0,l.kt)("li",{parentName:"ul"},"NFS \u7edf\u8ba1\u6d3b\u52a8\u7684 NFS \u5ba2\u6237\u7aef\u7684\u4fe1\u606f"),(0,l.kt)("li",{parentName:"ul"},"NFSD \u7edf\u8ba1 NFS \u670d\u52a1\u5668\u7684\u4fe1\u606f"),(0,l.kt)("li",{parentName:"ul"},"SOCK \u663e\u793a\u5957\u63a5\u5b57\u4fe1\u606f"),(0,l.kt)("li",{parentName:"ul"},"ALL \u8868\u793a\u6240\u6709 keyword"),(0,l.kt)("li",{parentName:"ul"},"\u5b83\u4eec\u53ef\u4ee5\u5355\u72ec\u6216\u8005\u4e00\u8d77\u4f7f\u7528")),(0,l.kt)("h4",{id:"10581sar--n-dev-1-3"},"10.5.8.1\u3001sar -n DEV 1 3"),(0,l.kt)("p",null,"\u6bcf\u95f4\u9694 1 \u79d2\u7edf\u8ba1\u4e00\u6b21\uff0c\u603b\u8ba1\u7edf\u8ba1 3 \u6b21\uff0c\u4e0b\u9762\u7684 average \u662f\u5728\u591a\u6b21\u7edf\u8ba1\u540e\u7684\u5e73\u5747\u503c"),(0,l.kt)("pre",null,(0,l.kt)("code",{parentName:"pre",className:"language-bash"},"[root@controller1 ~]# sar -n DEV 1 1\nLinux 4.19.90-17.ky10.aarch64 (controller1)     07/27/2021  _aarch64_   (64 CPU)\n\n10:15:52 PM     IFACE   rxpck/s   txpck/s    rxkB/s    txkB/s   rxcmp/s   txcmp/s  rxmcst/s   %ifutil\n10:15:53 PM  enp2s0f0      0.00      0.00      0.00      0.00      0.00      0.00      0.00      0.00\n10:15:53 PM   rename3      0.00      0.00      0.00      0.00      0.00      0.00      0.00      0.00\n10:15:53 PM      ens1     73.00     45.00     47.98      5.14      0.00      0.00      0.00      0.04\n10:15:53 PM  enp2s0f1      0.00      0.00      0.00      0.00      0.00      0.00      0.00      0.00\n10:15:53 PM        lo      0.00      0.00      0.00      0.00      0.00      0.00      0.00      0.00\n\nAverage:        IFACE   rxpck/s   txpck/s    rxkB/s    txkB/s   rxcmp/s   txcmp/s  rxmcst/s   %ifutil\nAverage:     enp2s0f0      0.00      0.00      0.00      0.00      0.00      0.00      0.00      0.00\nAverage:      rename3      0.00      0.00      0.00      0.00      0.00      0.00      0.00      0.00\nAverage:         ens1     73.00     45.00     47.98      5.14      0.00      0.00      0.00      0.04\nAverage:     enp2s0f1      0.00      0.00      0.00      0.00      0.00      0.00      0.00      0.00\nAverage:           lo      0.00      0.00      0.00      0.00      0.00      0.00      0.00      0.00\n[root@controller1 ~]#\n\n# \u5982\u679c\u63a5\u53e3\u592a\u591a\uff0c\u53ef\u4ee5\u4f7f\u7528 --iface \u6307\u5b9a\u63a5\u53e3\n[root@controller1 ~]# sar -n DEV --iface=enp2s0f0 1 1\nLinux 4.19.90-17.ky10.aarch64 (controller1)     07/27/2021  _aarch64_   (64 CPU)\n\n10:16:29 PM     IFACE   rxpck/s   txpck/s    rxkB/s    txkB/s   rxcmp/s   txcmp/s  rxmcst/s   %ifutil\n10:16:30 PM  enp2s0f0      0.00      0.00      0.00      0.00      0.00      0.00      0.00      0.00\n\nAverage:        IFACE   rxpck/s   txpck/s    rxkB/s    txkB/s   rxcmp/s   txcmp/s  rxmcst/s   %ifutil\nAverage:     enp2s0f0      0.00      0.00      0.00      0.00      0.00      0.00      0.00      0.00\n[root@controller1 ~]#\n")),(0,l.kt)("p",null,"\u8f93\u51fa\u9879\u8bf4\u660e\uff1a"),(0,l.kt)("pre",null,(0,l.kt)("code",{parentName:"pre",className:"language-bash"},"IFACE       \u672c\u5730\u7f51\u5361\u63a5\u53e3\u7684\u540d\u79f0\n\nrxpck/s     \u6bcf\u79d2\u949f\u63a5\u53d7\u7684\u6570\u636e\u5305\n\ntxpck/s     \u6bcf\u79d2\u949f\u53d1\u9001\u7684\u6570\u636e\u5e93\n\nrxKB/S      \u6bcf\u79d2\u949f\u63a5\u53d7\u7684\u6570\u636e\u5305\u5927\u5c0f\uff0c\u5355\u4f4d\u4e3aKB\n\ntxKB/S      \u6bcf\u79d2\u949f\u53d1\u9001\u7684\u6570\u636e\u5305\u5927\u5c0f\uff0c\u5355\u4f4d\u4e3aKB\n\nrxcmp/s     \u6bcf\u79d2\u949f\u63a5\u53d7\u7684\u538b\u7f29\u6570\u636e\u5305\n\ntxcmp/s     \u6bcf\u79d2\u949f\u53d1\u9001\u7684\u538b\u7f29\u5305\n\nrxmcst/s    \u6bcf\u79d2\u949f\u63a5\u6536\u7684\u591a\u64ad\u6570\u636e\u5305\n")),(0,l.kt)("h4",{id:"10582sar--n-edev-1-1"},"10.5.8.2\u3001sar -n EDEV 1 1"),(0,l.kt)("p",null,"\u7edf\u8ba1\u7f51\u7edc\u8bbe\u5907\u901a\u4fe1\u5931\u8d25\u4fe1\u606f"),(0,l.kt)("pre",null,(0,l.kt)("code",{parentName:"pre",className:"language-bash"},"[root@controller1 ~]# sar -n EDEV 1 1\nLinux 4.19.90-17.ky10.aarch64 (controller1)     07/27/2021  _aarch64_   (64 CPU)\n\n10:20:07 PM     IFACE   rxerr/s   txerr/s    coll/s  rxdrop/s  txdrop/s  txcarr/s  rxfram/s  rxfifo/s  txfifo/s\n10:20:08 PM  enp2s0f0      0.00      0.00      0.00      0.00      0.00      0.00      0.00      0.00      0.00\n10:20:08 PM   rename3      0.00      0.00      0.00      0.00      0.00      0.00      0.00      0.00      0.00\n10:20:08 PM      ens1      0.00      0.00      0.00      0.00      0.00      0.00      0.00      0.00      0.00\n10:20:08 PM  enp2s0f1      0.00      0.00      0.00      0.00      0.00      0.00      0.00      0.00      0.00\n10:20:08 PM        lo      0.00      0.00      0.00      0.00      0.00      0.00      0.00      0.00      0.00\n\nAverage:        IFACE   rxerr/s   txerr/s    coll/s  rxdrop/s  txdrop/s  txcarr/s  rxfram/s  rxfifo/s  txfifo/s\nAverage:     enp2s0f0      0.00      0.00      0.00      0.00      0.00      0.00      0.00      0.00      0.00\nAverage:      rename3      0.00      0.00      0.00      0.00      0.00      0.00      0.00      0.00      0.00\nAverage:         ens1      0.00      0.00      0.00      0.00      0.00      0.00      0.00      0.00      0.00\nAverage:     enp2s0f1      0.00      0.00      0.00      0.00      0.00      0.00      0.00      0.00      0.00\nAverage:           lo      0.00      0.00      0.00      0.00      0.00      0.00      0.00      0.00      0.00\n[root@controller1 ~]#\n")),(0,l.kt)("p",null,"\u8f93\u51fa\u9879\u8bf4\u660e\uff1a"),(0,l.kt)("pre",null,(0,l.kt)("code",{parentName:"pre",className:"language-bash"},"IFACE       \u7f51\u5361\u540d\u79f0\n\nrxerr/s     \u6bcf\u79d2\u949f\u63a5\u6536\u5230\u7684\u635f\u574f\u7684\u6570\u636e\u5305\n\ntxerr/s     \u6bcf\u79d2\u949f\u53d1\u9001\u7684\u6570\u636e\u5305\u9519\u8bef\u6570\n\ncoll/s      \u5f53\u53d1\u9001\u6570\u636e\u5305\u65f6\u5019\uff0c\u6bcf\u79d2\u949f\u53d1\u751f\u7684\u51b2\u649e\uff08collisions\uff09\u6570\uff0c\u8fd9\u4e2a\u662f\u5728\u534a\u53cc\u5de5\u6a21\u5f0f\u4e0b\u624d\u6709\n\nrxdrop/s    \u5f53\u7531\u4e8e\u7f13\u51b2\u533a\u6ee1\u7684\u65f6\u5019\uff0c\u7f51\u5361\u8bbe\u5907\u63a5\u6536\u7aef\u6bcf\u79d2\u949f\u4e22\u6389\u7684\u7f51\u7edc\u5305\u7684\u6570\u76ee\n\ntxdrop/s    \u5f53\u7531\u4e8e\u7f13\u51b2\u533a\u6ee1\u7684\u65f6\u5019\uff0c\u7f51\u7edc\u8bbe\u5907\u53d1\u9001\u7aef\u6bcf\u79d2\u949f\u4e22\u6389\u7684\u7f51\u7edc\u5305\u7684\u6570\u76ee\n\ntxcarr/s    \u5f53\u53d1\u9001\u6570\u636e\u5305\u7684\u65f6\u5019\uff0c\u6bcf\u79d2\u949f\u8f7d\u6ce2\u9519\u8bef\u53d1\u751f\u7684\u6b21\u6570\n\nrxfram      \u5728\u63a5\u6536\u6570\u636e\u5305\u7684\u65f6\u5019\uff0c\u6bcf\u79d2\u949f\u53d1\u751f\u7684\u5e27\u5bf9\u5176\u9519\u8bef\u7684\u6b21\u6570\n\nrxfifo      \u5728\u63a5\u6536\u6570\u636e\u5305\u7684\u65f6\u5019\uff0c\u6bcf\u79d2\u949f\u7f13\u51b2\u533a\u6ea2\u51fa\u7684\u9519\u8bef\u53d1\u751f\u7684\u6b21\u6570\n\ntxfifo      \u5728\u53d1\u751f\u6570\u636e\u5305\u7684\u65f6\u5019\uff0c\u6bcf\u79d2\u949f\u7f13\u51b2\u533a\u6ea2\u51fa\u7684\u9519\u8bef\u53d1\u751f\u7684\u6b21\u6570\n")),(0,l.kt)("h4",{id:"10583sar--n-sock-1-1"},"10.5.8.3\u3001sar -n SOCK 1 1"),(0,l.kt)("p",null,"\u7edf\u8ba1 socket \u8fde\u63a5\u4fe1\u606f"),(0,l.kt)("pre",null,(0,l.kt)("code",{parentName:"pre",className:"language-bash"},"[root@controller1 ~]# sar -n SOCK 1 1\nLinux 4.19.90-17.ky10.aarch64 (controller1)     07/27/2021  _aarch64_   (64 CPU)\n\n10:23:12 PM    totsck    tcpsck    udpsck    rawsck   ip-frag    tcp-tw\n10:23:13 PM       271        65         2         2         0        64\nAverage:          271        65         2         2         0        64\n[root@controller1 ~]#\n")),(0,l.kt)("p",null,"\u8f93\u51fa\u9879\u8bf4\u660e\uff1a"),(0,l.kt)("pre",null,(0,l.kt)("code",{parentName:"pre",className:"language-bash"},"totsck      \u5f53\u524d\u88ab\u4f7f\u7528\u7684socket\u603b\u6570\n\ntcpsck      \u5f53\u524d\u6b63\u5728\u88ab\u4f7f\u7528\u7684TCP\u7684socket\u603b\u6570\n\nudpsck      \u5f53\u524d\u6b63\u5728\u88ab\u4f7f\u7528\u7684UDP\u7684socket\u603b\u6570\n\nrawsck      \u5f53\u524d\u6b63\u5728\u88ab\u4f7f\u7528\u4e8eRAW\u7684skcket\u603b\u6570\n\nif-frag     \u5f53\u524d\u7684IP\u5206\u7247\u7684\u6570\u76ee\n\ntcp-twTCP   \u5957\u63a5\u5b57\u4e2d\u5904\u4e8eTIME-WAIT\u72b6\u6001\u7684\u8fde\u63a5\u6570\u91cf\n\n\u5982\u679c\u4f60\u4f7f\u7528 FULL \u5173\u952e\u5b57\uff0c\u76f8\u5f53\u4e8e\u4e0a\u8ff0 DEV\u3001EDEV \u548c SOCK \u4e09\u8005\u7684\u7efc\u5408\n")),(0,l.kt)("h4",{id:"10584sar--n-tcp-1-3"},"10.5.8.4\u3001sar -n TCP 1 3"),(0,l.kt)("p",null,"TCP\u8fde\u63a5\u7684\u7edf\u8ba1"),(0,l.kt)("pre",null,(0,l.kt)("code",{parentName:"pre",className:"language-bash"},"[root@controller1 ~]# sar -n TCP 1 3\nLinux 4.19.90-17.ky10.aarch64 (controller1)     07/27/2021  _aarch64_   (64 CPU)\n\n10:25:18 PM  active/s passive/s    iseg/s    oseg/s\n10:25:19 PM      5.00      5.00     82.00     82.00\n10:25:20 PM      0.00      0.00     11.00     10.00\n10:25:21 PM      1.00      0.00      3.00      4.00\nAverage:         2.00      1.67     32.00     32.00\n[root@controller1 ~]#\n")),(0,l.kt)("p",null,"\u8f93\u51fa\u9879\u8bf4\u660e\uff1a"),(0,l.kt)("pre",null,(0,l.kt)("code",{parentName:"pre",className:"language-bash"},"active/s    \u65b0\u7684\u4e3b\u52a8\u8fde\u63a5\n\npassive/s   \u65b0\u7684\u88ab\u52a8\u8fde\u63a5\n\niseg/s      \u63a5\u53d7\u7684\u6bb5\n\noseg/s      \u8f93\u51fa\u7684\u6bb5\n")),(0,l.kt)("h3",{id:"1059\u8bbe\u5907\u4f7f\u7528\u60c5\u51b5\u76d1\u63a7"},"10.5.9\u3001\u8bbe\u5907\u4f7f\u7528\u60c5\u51b5\u76d1\u63a7"),(0,l.kt)("p",null,"\u6bcf 5s \u91c7\u6837\u4e00\u6b21\uff0c\u8fde\u7eed\u91c7\u6837 10 \u6b21\uff0c\u62a5\u544a\u8bbe\u5907\u4f7f\u7528\u60c5\u51b5"),(0,l.kt)("pre",null,(0,l.kt)("code",{parentName:"pre",className:"language-bash"},"[root@controller1 ~]# sar -d 5 5 -p\nLinux 4.19.90-17.ky10.aarch64 (controller1)     07/27/2021  _aarch64_   (64 CPU)\n\n10:30:02 PM       DEV       tps     rkB/s     wkB/s     dkB/s   areq-sz    aqu-sz     await     %util\n10:30:07 PM       sda      7.40      0.00     84.00      0.00     11.35      0.00      0.11      0.00\n10:30:07 PM     loop0      0.00      0.00      0.00      0.00      0.00      0.00      0.00      0.00\n\n10:30:07 PM       DEV       tps     rkB/s     wkB/s     dkB/s   areq-sz    aqu-sz     await     %util\n10:30:12 PM       sda     39.60      0.00   3297.60      0.00     83.27      0.67     19.43      1.00\n10:30:12 PM     loop0      0.00      0.00      0.00      0.00      0.00      0.00      0.00      0.00\n\n10:30:12 PM       DEV       tps     rkB/s     wkB/s     dkB/s   areq-sz    aqu-sz     await     %util\n10:30:17 PM       sda      7.00      0.00     75.20      0.00     10.74      0.00      0.09      0.00\n10:30:17 PM     loop0      0.00      0.00      0.00      0.00      0.00      0.00      0.00      0.00\n\n10:30:17 PM       DEV       tps     rkB/s     wkB/s     dkB/s   areq-sz    aqu-sz     await     %util\n10:30:22 PM       sda     14.20      0.00    132.80      0.00      9.35      0.00      0.21      0.00\n10:30:22 PM     loop0      0.00      0.00      0.00      0.00      0.00      0.00      0.00      0.00\n\n10:30:22 PM       DEV       tps     rkB/s     wkB/s     dkB/s   areq-sz    aqu-sz     await     %util\n10:30:27 PM       sda      6.80      0.00     74.40      0.00     10.94      0.00      0.09      0.00\n10:30:27 PM     loop0      0.00      0.00      0.00      0.00      0.00      0.00      0.00      0.00\n\nAverage:          DEV       tps     rkB/s     wkB/s     dkB/s   areq-sz    aqu-sz     await     %util\nAverage:          sda     15.00      0.00    732.80      0.00     48.85      0.13     10.33      0.20\nAverage:        loop0      0.00      0.00      0.00      0.00      0.00      0.00      0.00      0.00\n[root@controller1 ~]# \n")),(0,l.kt)("p",null,"\u53c2\u6570"),(0,l.kt)("pre",null,(0,l.kt)("code",{parentName:"pre",className:"language-bash"},"-p \u53ef\u4ee5\u6253\u5370\u51fasda,hdc\u7b49\u78c1\u76d8\u8bbe\u5907\u540d\u79f0,\u5982\u679c\u4e0d\u7528\u53c2\u6570-p,\u8bbe\u5907\u8282\u70b9\u5219\u6709\u53ef\u80fd\u662fdev8-0,dev22-0\n")),(0,l.kt)("p",null,"\u8f93\u51fa\u9879\u8bf4\u660e\uff1a"),(0,l.kt)("pre",null,(0,l.kt)("code",{parentName:"pre",className:"language-bash"},"tps:        \u6bcf\u79d2\u4ece\u7269\u7406\u78c1\u76d8I/O\u7684\u6b21\u6570.\u591a\u4e2a\u903b\u8f91\u8bf7\u6c42\u4f1a\u88ab\u5408\u5e76\u4e3a\u4e00\u4e2aI/O\u78c1\u76d8\u8bf7\u6c42,\u4e00\u6b21\u4f20\u8f93\u7684\u5927\u5c0f\u662f\u4e0d\u786e\u5b9a\u7684.\n\nrd_sec/s:   \u6bcf\u79d2\u8bfb\u6247\u533a\u7684\u6b21\u6570.\n\nwr_sec/s:   \u6bcf\u79d2\u5199\u6247\u533a\u7684\u6b21\u6570.\n\navgrq-sz:   \u5e73\u5747\u6bcf\u6b21\u8bbe\u5907I/O\u64cd\u4f5c\u7684\u6570\u636e\u5927\u5c0f(\u6247\u533a).\n\navgqu-sz:   \u78c1\u76d8\u8bf7\u6c42\u961f\u5217\u7684\u5e73\u5747\u957f\u5ea6.\n\nawait:      \u4ece\u8bf7\u6c42\u78c1\u76d8\u64cd\u4f5c\u5230\u7cfb\u7edf\u5b8c\u6210\u5904\u7406,\u6bcf\u6b21\u8bf7\u6c42\u7684\u5e73\u5747\u6d88\u8017\u65f6\u95f4,\u5305\u62ec\u8bf7\u6c42\u961f\u5217\u7b49\u5f85\u65f6\u95f4,\u5355\u4f4d\u662f\u6beb\u79d2(1\u79d2=1000\u6beb\u79d2).\n\nsvctm:      \u7cfb\u7edf\u5904\u7406\u6bcf\u6b21\u8bf7\u6c42\u7684\u5e73\u5747\u65f6\u95f4,\u4e0d\u5305\u62ec\u5728\u8bf7\u6c42\u961f\u5217\u4e2d\u6d88\u8017\u7684\u65f6\u95f4.\n\n%util:      I/O\u8bf7\u6c42\u5360CPU\u7684\u767e\u5206\u6bd4,\u6bd4\u7387\u8d8a\u5927,\u8bf4\u660e\u8d8a\u9971\u548c.\n")),(0,l.kt)("h2",{id:"106free-\u547d\u4ee4"},"10.6\u3001free \u547d\u4ee4"),(0,l.kt)("p",null,"free \u7528\u4e8e\u67e5\u770b\u5185\u5b58\u4f7f\u7528\u60c5\u51b5\u3002"),(0,l.kt)("pre",null,(0,l.kt)("code",{parentName:"pre",className:"language-bash"},"free [options]\n\u9009\u9879\u8bf4\u660e\uff1a\n-h\uff1a\u4eba\u7c7b\u53ef\u8bfb\u65b9\u5f0f\u663e\u5f0f\u5355\u4f4d\n-m\uff1a\u4ee5MB\u4e3a\u663e\u793a\u5355\u4f4d\n-w\uff1a\u5c06buffers\u548ccache\u5206\u5f00\u5355\u72ec\u663e\u793a\u3002\u53ea\u5bf9CentOS 7\u4e0a\u6709\u6548\n-s\uff1a\u52a8\u6001\u67e5\u770b\u5185\u5b58\u4fe1\u606f\u65f6\u7684\u5237\u65b0\u65f6\u95f4\u95f4\u9694\n-c\uff1a\u4e00\u5171\u8981\u5237\u65b0\u591a\u5c11\u6b21\u9000\u51fafree\n")),(0,l.kt)("pre",null,(0,l.kt)("code",{parentName:"pre",className:"language-bash"},"[root@computer1 ~]# free -mh\n              total        used        free      shared  buff/cache   available\nMem:          252Gi       209Gi        24Gi       320Mi        18Gi        36Gi\nSwap:         4.0Gi       4.0Gi          0B\n[root@computer1 ~]#\n")),(0,l.kt)("p",null,"Mem \u548c Swap \u5206\u522b\u8868\u793a\u7269\u7406\u5185\u5b58\u548c\u4ea4\u6362\u5206\u533a\u7684\u4f7f\u7528\u60c5\u51b5\u3002"),(0,l.kt)("ul",null,(0,l.kt)("li",{parentName:"ul"},"total\uff1a\u603b\u5185\u5b58\u7a7a\u95f4"),(0,l.kt)("li",{parentName:"ul"},"used\uff1a\u5df2\u4f7f\u7528\u7684\u5185\u5b58\u7a7a\u95f4\u3002\u8be5\u503c\u662f total - free - buffers - cache\u7684\u7ed3\u679c"),(0,l.kt)("li",{parentName:"ul"},"free\uff1a\u672a\u4f7f\u7528\u7684\u5185\u5b58\u7a7a\u95f4"),(0,l.kt)("li",{parentName:"ul"},"shared\uff1a\u591a\u6570\u60c5\u51b5\u4e0b /tmpfs \u7528\u7684\u5185\u5b58\u7a7a\u95f4\u3002\u5bf9\u5185\u6838\u7248\u672c\u6709\u8981\u6c42\uff0c\u82e5\u7248\u672c\u4e0d\u591f\uff0c\u5219\u663e\u793a\u4e3a 0\u3002"),(0,l.kt)("li",{parentName:"ul"},"buff/cache\uff1abuffers \u548c cache \u7684\u603b\u5360\u7528\u7a7a\u95f4"),(0,l.kt)("li",{parentName:"ul"},"available\uff1a\u53ef\u7528\u7684\u5185\u5b58\u7a7a\u95f4\u3002\u5373\u7a0b\u5e8f\u542f\u52a8\u65f6\uff0c\u5c06\u8ba4\u4e3a\u53ef\u7528\u7a7a\u95f4\u6709\u8fd9\u4e48\u591a\u3002\u53ef\u7528\u7684\u5185\u5b58\u7a7a\u95f4\u4e3afree + buffers + cache\u3002")),(0,l.kt)("p",null,"\u6240\u4ee5 available \u624d\u662f\u771f\u6b63\u9700\u8981\u5173\u6ce8\u7684\u53ef\u4f7f\u7528\u5185\u5b58\u7a7a\u95f4\u91cf\u3002"),(0,l.kt)("p",null,"\u4f7f\u7528 -w \u53ef\u4ee5\u5c06 buffers/cache \u5206\u5f00\u663e\u793a\u3002"),(0,l.kt)("pre",null,(0,l.kt)("code",{parentName:"pre",className:"language-bash"},"[root@computer1 ~]# free -wh\n              total        used        free      shared     buffers       cache   available\nMem:          252Gi       209Gi        24Gi       320Mi       1.2Gi        17Gi        36Gi\nSwap:         4.0Gi       4.0Gi          0B\n[root@computer1 ~]#\n")),(0,l.kt)("p",null,"\u8fd8\u53ef\u4ee5\u52a8\u6001\u7edf\u8ba1\u5185\u5b58\u4fe1\u606f\uff0c\u4f8b\u5982\u6bcf\u79d2\u7edf\u8ba1\u4e00\u6b21\uff0c\u7edf\u8ba1 2 \u6b21\u3002"),(0,l.kt)("pre",null,(0,l.kt)("code",{parentName:"pre",className:"language-bash"},"[root@computer1 ~]# free -w -m -h -s 1 -c 2\n              total        used        free      shared     buffers       cache   available\nMem:          252Gi       209Gi        24Gi       316Mi       1.2Gi        17Gi        36Gi\nSwap:         4.0Gi       4.0Gi          0B\n\n              total        used        free      shared     buffers       cache   available\nMem:          252Gi       209Gi        24Gi       320Mi       1.2Gi        17Gi        36Gi\nSwap:         4.0Gi       4.0Gi          0B\n[root@computer1 ~]#\n")))}c.isMDXComponent=!0},54849:function(e,t,n){t.Z=n.p+"assets/images/linux_observability_sar-6d5c6b8c0a54938376640f10ba6647c9.png"},64754:function(e,t,n){t.Z=n.p+"assets/images/linux_observability_tools-293249b0b134bdae02aa65e0dd79427f.png"}}]);