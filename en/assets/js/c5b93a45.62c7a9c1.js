"use strict";(self.webpackChunkblog=self.webpackChunkblog||[]).push([[2194],{3905:function(t,e,n){n.d(e,{Zo:function(){return p},kt:function(){return u}});var a=n(67294);function r(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function l(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);e&&(a=a.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),n.push.apply(n,a)}return n}function i(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{};e%2?l(Object(n),!0).forEach((function(e){r(t,e,n[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):l(Object(n)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(n,e))}))}return t}function s(t,e){if(null==t)return{};var n,a,r=function(t,e){if(null==t)return{};var n,a,r={},l=Object.keys(t);for(a=0;a<l.length;a++)n=l[a],e.indexOf(n)>=0||(r[n]=t[n]);return r}(t,e);if(Object.getOwnPropertySymbols){var l=Object.getOwnPropertySymbols(t);for(a=0;a<l.length;a++)n=l[a],e.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(t,n)&&(r[n]=t[n])}return r}var o=a.createContext({}),d=function(t){var e=a.useContext(o),n=e;return t&&(n="function"==typeof t?t(e):i(i({},e),t)),n},p=function(t){var e=d(t.components);return a.createElement(o.Provider,{value:e},t.children)},c={inlineCode:"code",wrapper:function(t){var e=t.children;return a.createElement(a.Fragment,{},e)}},m=a.forwardRef((function(t,e){var n=t.components,r=t.mdxType,l=t.originalType,o=t.parentName,p=s(t,["components","mdxType","originalType","parentName"]),m=d(n),u=r,k=m["".concat(o,".").concat(u)]||m[u]||c[u]||l;return n?a.createElement(k,i(i({ref:e},p),{},{components:n})):a.createElement(k,i({ref:e},p))}));function u(t,e){var n=arguments,r=e&&e.mdxType;if("string"==typeof t||r){var l=n.length,i=new Array(l);i[0]=m;var s={};for(var o in e)hasOwnProperty.call(e,o)&&(s[o]=e[o]);s.originalType=t,s.mdxType="string"==typeof t?t:r,i[1]=s;for(var d=2;d<l;d++)i[d]=n[d];return a.createElement.apply(null,i)}return a.createElement.apply(null,n)}m.displayName="MDXCreateElement"},50666:function(t,e,n){n.r(e),n.d(e,{assets:function(){return p},contentTitle:function(){return o},default:function(){return u},frontMatter:function(){return s},metadata:function(){return d},toc:function(){return c}});var a=n(87462),r=n(63366),l=(n(67294),n(3905)),i=["components"],s={id:"linux-primary-7",slug:"/linux-primary-7",title:"\u7b2c 7 \u7ae0 Linux Raid \u5b58\u50a8\u7ba1\u7406",authors:"zhangqf",keywords:["linux","RAID"]},o=void 0,d={unversionedId:"linux/primary/linux-primary-7",id:"linux/primary/linux-primary-7",title:"\u7b2c 7 \u7ae0 Linux Raid \u5b58\u50a8\u7ba1\u7406",description:"RAID \u72ec\u7acb\u78c1\u76d8\u5197\u4f59\u9635\u5217(Redundant Array of Independent Disks)\uff0cRAID \u6280\u672f\u662f\u5c06\u8bb8\u591a\u5757\u786c\u76d8\u8bbe\u5907\u7ec4\u5408\u6210\u4e00\u4e2a\u5bb9\u91cf\u66f4\u5927\u3001\u66f4\u5b89\u5168\u7684\u786c\u76d8\u7ec4\u3002",source:"@site/docs/linux/primary/\u7b2c 7 \u7ae0 Linux Raid \u5b58\u50a8\u7ba1\u7406.md",sourceDirName:"linux/primary",slug:"/linux-primary-7",permalink:"/en/docs/linux-primary-7",draft:!1,tags:[],version:"current",frontMatter:{id:"linux-primary-7",slug:"/linux-primary-7",title:"\u7b2c 7 \u7ae0 Linux Raid \u5b58\u50a8\u7ba1\u7406",authors:"zhangqf",keywords:["linux","RAID"]},sidebar:"linux",previous:{title:"\u7b2c 6 \u7ae0 Linux LVM \u5b58\u50a8\u7ba1\u7406",permalink:"/en/docs/linux-primary-6"},next:{title:"\u7b2c 8 \u7ae0 Linux \u5305\u7ba1\u7406",permalink:"/en/docs/linux-primary-8"}},p={},c=[{value:"7.1\u3001\u5e38\u7528 RAID \u7ec4",id:"71\u5e38\u7528-raid-\u7ec4",level:2},{value:"7.1.1\u3001RAID 0",id:"711raid-0",level:3},{value:"7.1.2\u3001RAID 1",id:"712raid-1",level:3},{value:"7.1.3\u3001RAID 5",id:"713raid-5",level:3},{value:"7.1.4\u3001RAID 10",id:"714raid-10",level:3},{value:"7.1.5\u3001RAID 01",id:"715raid-01",level:3},{value:"7.2\u3001Linux \u8f6f raid \u7ba1\u7406",id:"72linux-\u8f6f-raid-\u7ba1\u7406",level:2},{value:"7.2.1\u3001\u5b9e\u73b0 RAID10",id:"721\u5b9e\u73b0-raid10",level:3},{value:"7.2.2\u3001\u78c1\u76d8\u9635\u5217\u635f\u574f\u53ca\u4fee\u590d",id:"722\u78c1\u76d8\u9635\u5217\u635f\u574f\u53ca\u4fee\u590d",level:3},{value:"7.2.3\u3001raid \u5907\u7528\u76d8",id:"723raid-\u5907\u7528\u76d8",level:3},{value:"7.2.4\u3001\u505c\u6b62\u548c\u88c5\u914d raid",id:"724\u505c\u6b62\u548c\u88c5\u914d-raid",level:3},{value:"7.2.5\u3001\u5f7b\u5e95\u79fb\u9664 raid \u8bbe\u5907",id:"725\u5f7b\u5e95\u79fb\u9664-raid-\u8bbe\u5907",level:3},{value:"7.3\u3001Linux \u786c raid \u7ba1\u7406",id:"73linux-\u786c-raid-\u7ba1\u7406",level:2},{value:"7.3.1\u3001storcli \u547d\u4ee4\u57fa\u7840",id:"731storcli-\u547d\u4ee4\u57fa\u7840",level:3},{value:"7.3.1.1\u3001\u57fa\u672c\u8bed\u6cd5",id:"7311\u57fa\u672c\u8bed\u6cd5",level:4},{value:"7.3.1.2\u3001\u7cfb\u7edf\u547d\u4ee4",id:"7312\u7cfb\u7edf\u547d\u4ee4",level:4},{value:"7.3.1.3\u3001\u63a7\u5236\u5668\u547d\u4ee4",id:"7313\u63a7\u5236\u5668\u547d\u4ee4",level:4},{value:"7.3.1.4\u3001\u7269\u7406\u78c1\u76d8\u547d\u4ee4",id:"7314\u7269\u7406\u78c1\u76d8\u547d\u4ee4",level:4},{value:"7.3.1.4.1\u3001raid \u9635\u5217\u72b6\u6001",id:"73141raid-\u9635\u5217\u72b6\u6001",level:5},{value:"7.3.1.4.2\u3001jbod \u76f4\u901a\u72b6\u6001",id:"73142jbod-\u76f4\u901a\u72b6\u6001",level:5},{value:"7.3.2\u3001VD \u547d\u4ee4",id:"732vd-\u547d\u4ee4",level:3},{value:"7.3.2.1\u3001\u521b\u5efa VD",id:"7321\u521b\u5efa-vd",level:4},{value:"7.3.2.2\u3001\u5220\u9664 VD",id:"7322\u5220\u9664-vd",level:4},{value:"7.3.2.3\u3001\u67e5\u770b vd \u547d\u4ee4",id:"7323\u67e5\u770b-vd-\u547d\u4ee4",level:4},{value:"7.3.2.4\u3001\u4fdd\u7559\u7f13\u5b58\u547d\u4ee4",id:"7324\u4fdd\u7559\u7f13\u5b58\u547d\u4ee4",level:4},{value:"7.3.2.5\u3001\u4fee\u6539 VD \u5c5e\u6027",id:"7325\u4fee\u6539-vd-\u5c5e\u6027",level:4},{value:"7.3.2.6\u3001VD \u521d\u59cb\u5316",id:"7326vd-\u521d\u59cb\u5316",level:4},{value:"7.3.2.7\u3001VD \u64e6\u9664",id:"7327vd-\u64e6\u9664",level:4},{value:"7.3.2.8\u3001VD \u8fc1\u79fb",id:"7328vd-\u8fc1\u79fb",level:4},{value:"7.3.2.9\u3001VD \u4e00\u81f4\u6027\u6821\u9a8c",id:"7329vd-\u4e00\u81f4\u6027\u6821\u9a8c",level:4},{value:"7.3.2.10\u3001VD \u6269\u5c55",id:"73210vd-\u6269\u5c55",level:4},{value:"7.3.3\u3001Foreign \u914d\u7f6e",id:"733foreign-\u914d\u7f6e",level:3},{value:"7.3.4\u3001BIOS \u76f8\u5173\u547d\u4ee4",id:"734bios-\u76f8\u5173\u547d\u4ee4",level:3},{value:"7.3.5\u3001DG \u547d\u4ee4",id:"735dg-\u547d\u4ee4",level:3},{value:"7.3.6\u3001Enclosure \u547d\u4ee4",id:"736enclosure-\u547d\u4ee4",level:3},{value:"7.3.7\u3001PHY \u547d\u4ee4",id:"737phy-\u547d\u4ee4",level:3},{value:"7.3.8\u3001PCIe \u63a5\u53e3\u547d\u4ee4",id:"738pcie-\u63a5\u53e3\u547d\u4ee4",level:3},{value:"7.3.8.1\u3001\u901a\u9053\u901f\u5ea6\u547d\u4ee4",id:"7381\u901a\u9053\u901f\u5ea6\u547d\u4ee4",level:4},{value:"7.3.8.2\u3001\u94fe\u63a5\u914d\u7f6e\u547d\u4ee4",id:"7382\u94fe\u63a5\u914d\u7f6e\u547d\u4ee4",level:4},{value:"7.3.9\u3001Logging \u547d\u4ee4",id:"739logging-\u547d\u4ee4",level:3},{value:"7.3.10\u3001\u81ea\u52a8\u5316 PD \u914d\u7f6e",id:"7310\u81ea\u52a8\u5316-pd-\u914d\u7f6e",level:3}],m={toc:c};function u(t){var e=t.components,s=(0,r.Z)(t,i);return(0,l.kt)("wrapper",(0,a.Z)({},m,s,{components:e,mdxType:"MDXLayout"}),(0,l.kt)("p",null,"RAID \u72ec\u7acb\u78c1\u76d8\u5197\u4f59\u9635\u5217(Redundant Array of Independent Disks)\uff0cRAID \u6280\u672f\u662f\u5c06\u8bb8\u591a\u5757\u786c\u76d8\u8bbe\u5907\u7ec4\u5408\u6210\u4e00\u4e2a\u5bb9\u91cf\u66f4\u5927\u3001\u66f4\u5b89\u5168\u7684\u786c\u76d8\u7ec4\u3002"),(0,l.kt)("p",null,"RAID \u53ef\u4ee5\u5c06\u6570\u636e\u5207\u5272\u6210\u591a\u4e2a\u533a\u6bb5\u540e\u5206\u522b\u5b58\u653e\u5728\u5404\u4e2a\u4e0d\u540c\u7269\u7406\u786c\u76d8\u8bbe\u5907\u4e0a\uff0c\u7136\u540e\u5229\u7528\u5206\u6563\u8bfb\u5199\u9700\u6c42\u6765\u63d0\u5347\u786c\u76d8\u7ec4\u6574\u4f53\u7684\u6027\u80fd\uff0c\u540c\u65f6\u5c06\u91cd\u8981\u6570\u636e\u540c\u6b65\u4fdd\u5b58\u591a\u4efd\u5230\u4e0d\u540c\u7684\u7269\u7406\u786c\u76d8\u8bbe\u5907\u4e0a\uff0c\u53ef\u4ee5\u6709\u975e\u5e38\u597d\u7684\u6570\u636e\u5907\u4efd\u6548\u679c\u3002"),(0,l.kt)("p",null,"\u7531\u4e8e\u5bf9\u6210\u672c\u548c\u6280\u672f\u4e24\u65b9\u9762\u7684\u8003\u8651\uff0c\u56e0\u6b64\u9700\u8981\u9488\u5bf9\u4e0d\u540c\u7684\u9700\u6c42\u5728\u6570\u636e\u53ef\u9760\u6027\u53ca\u8bfb\u5199\u6027\u80fd\u4e0a\u505a\u6743\u8861\uff0c\u5236\u5b9a\u51fa\u5404\u81ea\u4e0d\u540c\u7684\u5408\u9002\u65b9\u6848\uff0c\u76ee\u524d\u5df2\u6709\u7684 RAID \u786c\u76d8\u7ec4\u7684\u65b9\u6848\u81f3\u5c11\u6709\u5341\u51e0\u79cd\uff0cRAID0\u3001RAID1\u3001RAID5\u3001RAID10 \u548c RAID01 \u662f\u4e94\u79cd\u6700\u5e38\u89c1\u7684\u65b9\u6848\u3002"),(0,l.kt)("h2",{id:"71\u5e38\u7528-raid-\u7ec4"},"7.1\u3001\u5e38\u7528 RAID \u7ec4"),(0,l.kt)("h3",{id:"711raid-0"},"7.1.1\u3001RAID 0"),(0,l.kt)("p",null,"RAID0 \u786c\u76d8\u7ec4\u662f\u5c06 2 \u5757\u6216\u66f4\u591a\u7269\u7406\u786c\u76d8\u8bbe\u5907\u901a\u8fc7\u786c\u4ef6\u6216\u8f6f\u4ef6\u7684\u65b9\u5f0f\u4e32\u8054\u5728\u4e00\u8d77\uff0c\u6210\u4e3a\u4e00\u4e2a\u5927\u7684\u5377\u7ec4\uff0c\u6709\u65f6\u5b83\u79f0\u4e3a\u6761\u5e26\u5377(striping)\u3002"),(0,l.kt)("p",null,"RAID0 \u5c06\u6570\u636e\u4f9d\u6b21\u5206\u522b\u5199\u5165\u5230\u5404\u4e2a\u7269\u7406\u786c\u76d8\u4e2d\uff0c\u8fd9\u6837\u6700\u7406\u60f3\u7684\u72b6\u6001\u4f1a\u4f7f\u5f97\u8bfb\u5199\u6027\u80fd\u63d0\u5347\u6570\u500d\uff0c\u4f46\u82e5\u4efb\u610f\u4e00\u5757\u786c\u76d8\u6545\u969c\u5219\u4f1a\u8ba9\u6574\u4e2a\u7cfb\u7edf\u7684\u6570\u636e\u90fd\u53d7\u5230\u7834\u574f\u3002"),(0,l.kt)("p",null,"RAID0 \u6a21\u578b\u5982\u4e0b\u56fe\uff1a"),(0,l.kt)("p",null,(0,l.kt)("img",{alt:"disk raid0",src:n(39241).Z,width:"714",height:"578"})),(0,l.kt)("h3",{id:"712raid-1"},"7.1.2\u3001RAID 1"),(0,l.kt)("p",null,"RAID1 \u786c\u76d8\u7ec4\u6280\u672f\u662f\u5c06 2 \u5757\u6216\u66f4\u591a\u7684\u5b58\u50a8\u8bbe\u5907\u8fdb\u884c\u7ed1\u5b9a\uff0c\u76ee\u7684\u662f\u8ba9\u6570\u636e\u88ab\u591a\u5757\u786c\u76d8\u540c\u65f6\u5199\u5165\uff0c\u7c7b\u4f3c\u4e8e\u628a\u6570\u636e\u518d\u5236\u4f5c\u51fa\u591a\u4efd\u955c\u50cf\uff0c\u5f53\u6709\u67d0\u4e00\u5757\u786c\u76d8\u635f\u574f\u540e,\u4e00\u822c\u53ef\u4ee5\u7acb\u5373\u901a\u8fc7\u70ed\u4ea4\u6362\u65b9\u5f0f\u6765\u6062\u590d\u6570\u636e\u7684\u6b63\u5e38\u4f7f\u7528\u3002"),(0,l.kt)("p",null,"RAID1 \u6ce8\u91cd\u4e86\u6570\u636e\u7684\u5b89\u5168\u6027\uff0c\u4f46\u56e0\u4e3a\u662f\u5c06\u591a\u5757\u786c\u76d8\u4e2d\u5199\u5165\u76f8\u540c\u7684\u6570\u636e\uff0c\u4e5f\u5c31\u662f\u8bf4\u786c\u76d8\u7a7a\u95f4\u7684\u771f\u5b9e\u53ef\u7528\u7387\u5728\u7406\u8bba\u4e0a\u53ea\u6709 50%(\u5229\u7528\u7387\u662f1/n\uff0cn\u662f\u9635\u5217\u4e2d\u7684\u78c1\u76d8\u6570\u91cf\uff0c\u4e0d\u5206\u5947\u5076)\uff0c\u56e0\u6b64\u4f1a\u660e\u663e\u7684\u63d0\u9ad8\u786c\u76d8\u7ec4\u6210\u672c\u3002"),(0,l.kt)("p",null,"RAID1 \u9700\u8981\u5c06\u6570\u636e\u540c\u65f6\u5199\u5165\u5230\u4e24\u5757\u4ee5\u4e0a\u7684\u786c\u76d8\u8bbe\u5907\u4e2d\uff0c\u8fd9\u65e0\u7591\u4e5f\u4f1a\u589e\u52a0\u4e00\u5b9a\u7cfb\u7edf\u8d1f\u8f7d\u3002"),(0,l.kt)("p",null,"RAID1 \u56e0\u4e3a\u540c\u4e00\u4efd\u6570\u636e\u4fdd\u5b58\u4e86\u591a\u4efd\uff0c\u6240\u4ee5\u8bfb\u6027\u80fd\u548c RAID0 \u662f\u4e00\u6837\u7684(\u7c97\u7565\u7684\u8bf4\u662f\u4e00\u6837\u3002\u66f4\u7ec6\u81f4\u7684\u8981\u5206\u968f\u673a\u8bfb\u3001\u987a\u5e8f\u8bfb\uff0c\u8fd9\u65f6\u4e0d\u4e00\u5b9a\u548c raid0 \u4e00\u6837)\u3002"),(0,l.kt)("p",null,"RAID1 \u6a21\u578b\u5982\u4e0b\u56fe\uff1a"),(0,l.kt)("p",null,(0,l.kt)("img",{alt:"disk raid1",src:n(61007).Z,width:"702",height:"546"})),(0,l.kt)("h3",{id:"713raid-5"},"7.1.3\u3001RAID 5"),(0,l.kt)("p",null,"RAID5 \u9700\u8981 3 \u5757\u6216\u66f4\u591a\u786c\u76d8\u7ec4\u6210\u786c\u76d8\u7ec4\uff0c\u4e00\u4efd\u6570\u636e\u6309\u7167\u4e00\u5b9a\u5927\u5c0f\u62c6\u5f00\uff0c\u5e76\u4e14\u6309\u7167\u7279\u5b9a\u7684\u7b97\u6cd5\uff0c\u6bcf N-1 \u4efd\u6570\u636e\u8ba1\u7b97\u4e00\u4efd\u6821\u9a8c\u6570\u636e\uff0c\u62c6\u5206\u7684\u6570\u636e\u548c\u6821\u9a8c\u6570\u636e\u5e73\u5747\u5206\u6563\u5b58\u50a8\u5728\u7ec4\u6210 RAID 5 \u7684\u5404\u4e2a\u78c1\u76d8\u4e0a\u3002"),(0,l.kt)("p",null,"RAID5 \u5bb9\u91cf\u662f\u5355\u4e2a\u786c\u76d8\u7684 N-1 \u500d\uff0c\u6301\u7eed\u8bfb\u53d6\u901f\u5ea6\u662f\u5355\u4e2a\u786c\u76d8\u7684 N-1 \u500d\uff0c\u6301\u7eed\u5199\u5165\u901f\u5ea6\u8981\u770b RAID \u63a7\u5236\u5668\u7684\u6027\u80fd\u548c\u5199\u5165\u7b56\u7565\uff0c\u7406\u8bba\u4e0a\u6700\u9ad8\u5199\u5165\u901f\u5ea6\u53ef\u4ee5\u8fbe\u5230\u5355\u4e2a\u786c\u76d8\u7684 N-1 \u500d\u3002"),(0,l.kt)("p",null,"RAID5 \u6570\u636e\u5b89\u5168\u65b9\u9762\uff0c\u5982\u679c\u4e00\u4e2a\u786c\u76d8\u574f\u4e86\uff0c\u9635\u5217\u4f1a\u964d\u7ea7\u4e3a RAID0 \u8fd0\u884c\uff1b\u7528\u65b0\u786c\u76d8\u66ff\u6362\u65e7\u786c\u76d8\u53ef\u4ee5\u91cd\u5efa RAID5\u3002"),(0,l.kt)("p",null,"RAID5 \u6a21\u578b\u5982\u4e0b\u56fe\uff1a"),(0,l.kt)("p",null,(0,l.kt)("img",{alt:"disk raid5",src:n(12416).Z,width:"784",height:"532"})),(0,l.kt)("h3",{id:"714raid-10"},"7.1.4\u3001RAID 10"),(0,l.kt)("p",null,"RAID10 \u9700\u8981\u81f3\u5c11 4 \u5757\u786c\u76d8\uff0c\u5148\u5206\u522b\u4e24\u4e24\u5236\u4f5c\u6210 RAID1\uff0c\u4fdd\u8bc1\u6570\u636e\u7684\u5b89\u5168\u6027\uff0c\u7136\u540e\u518d\u5bf9\u4e24\u4e2a RAID1 \u5b9e\u65bd RAID0 \u6280\u672f\uff0c\u8fdb\u4e00\u6b65\u7684\u63d0\u9ad8\u5b58\u50a8\u8bbe\u5907\u7684\u8bfb\u5199\u901f\u5ea6\u3002"),(0,l.kt)("p",null,"RAID10 \u7406\u8bba\u4e0a\u53ea\u8981\u574f\u7684\u4e0d\u662f\u540c\u4e00\u7ec4\u4e2d\u7684\u6240\u6709\u786c\u76d8\uff0c\u90a3\u4e48\u6700\u591a\u53ef\u4ee5\u635f\u574f 50% \u7684\u786c\u76d8\u8bbe\u5907\u800c\u4e0d\u4e22\u5931\u6570\u636e\u3002"),(0,l.kt)("p",null,"RAID10 \u786c\u76d8\u7ec4\u6280\u672f\u7ee7\u627f\u4e86 RAID0 \u66f4\u9ad8\u7684\u8bfb\u5199\u901f\u5ea6\u548c RAID1 \u66f4\u5b89\u5168\u7684\u6570\u636e\u4fdd\u969c\uff0c\u5728\u4e0d\u8003\u8651\u6210\u672c\u7684\u60c5\u51b5\u4e0b RAID10 \u5728\u8bfb\u5199\u901f\u5ea6\u548c\u6570\u636e\u4fdd\u969c\u6027\u65b9\u9762\u90fd\u8d85\u8fc7\u4e86 RAID5\uff0c\u662f\u8f83\u4e3a\u5e7f\u6cdb\u4f7f\u7528\u7684\u5b58\u50a8\u6280\u672f\u3002"),(0,l.kt)("p",null,"RAID10 \u6a21\u578b\u5982\u4e0b\u56fe\uff1a\u6839\u636e\u6570\u636e\u590d\u5236\u7684\u504f\u79fb\u65b9\u5f0f\u4e0d\u540c\uff0c\u5206\u5982\u4e0b\u56fe\u4e09\u79cd\u65b9\u5f0f\u3002"),(0,l.kt)("p",null,(0,l.kt)("img",{alt:"disk raid10",src:n(94042).Z,width:"927",height:"773"})),(0,l.kt)("h3",{id:"715raid-01"},"7.1.5\u3001RAID 01"),(0,l.kt)("p",null,"RAID 10 \u662f RAID1+RAID0\uff0c\u800c RAID01 \u5219\u662f RAID0+RAID1\u3002\u770b\u8d77\u6765\u5b83\u4eec\u662f\u76f8\u540c\u7684\uff0c\u4f46\u5b9e\u9645\u4e0a\u5b83\u4eec\u7684\u5dee\u522b\u5728\u5b89\u5168\u6027\u4e0a\u5dee\u5f88\u5927\u3002"),(0,l.kt)("p",null,"RAID 01 \u6a21\u578b\u5982\u4e0b\u56fe\uff1a"),(0,l.kt)("p",null,(0,l.kt)("img",{alt:"disk raid01",src:n(86728).Z,width:"713",height:"620"})),(0,l.kt)("p",null,"\u4ece\u56fe\u4e2d\u53ef\u4ee5\u770b\u51fa\uff0c\u5728 RAID01 \u6b63\u5e38\u5de5\u4f5c\u7684\u65f6\u5019\uff0c\u5b83\u7684\u6027\u80fd\u548c RAID10 \u662f\u4e00\u6837\u7684\uff0c\u90fd\u662f\u6761\u5e26\u4e00\u4efd\uff0c\u955c\u50cf\u4e00\u4efd\u3002\u4f46\u662f\u533a\u522b\u5c31\u5728\u4e8e\u5b89\u5168\u6027\u4e0a\u3002"),(0,l.kt)("p",null,"\u5982\u679c RAID0 \u7ec4\u4e2d\u7684\u4e00\u5757\u78c1\u76d8\u574f\u4e86\uff0c\u5bf9\u4e8e\u8fd9\u4e00\u4e2a RAID0 \u7ec4\u6765\u8bf4\uff0c\u5b83\u5df2\u7ecf\u5931\u6548\u4e86\uff0c\u5e76\u4e0d\u662f\u8fd8\u53ef\u4ee5\u4ece\u8be5\u7ec4\u4e2d\u7684\u53e6\u4e00\u5757\u78c1\u76d8\u4e2d\u8bfb\u53d6\u4e00\u534a\u6570\u636e\u3002"),(0,l.kt)("p",null,"\u4e5f\u5c31\u662f\u8bf4\uff0cRAID01 \u53ea\u8981\u574f\u4e86\u4e00\u5757\u76d8\u540e\uff0c\u8be5 RAID0 \u7ec4\u5c31\u5931\u6548\uff0cIO \u7684\u538b\u529b\u5c31\u53ea\u5728\u53e6\u4e00\u4e2a RAID0 \u7ec4\u4e0a\uff0c\u8fd9\u5f88\u5bb9\u6613\u5bfc\u81f4\u8fd9\u4e00\u4e2a RAID0 \u7ec4\u4e5f\u635f\u574f\u78c1\u76d8\uff0c\u53ea\u8981\u8fd9\u65f6\u518d\u574f\u4e00\u5757\u76d8\uff0c\u6240\u6709\u6570\u636e\u5c31\u4e22\u5931\u4e86\u3002"),(0,l.kt)("p",null,"RAID01 \u57fa\u672c\u65e0\u4eba\u4f7f\u7528\uff0c\u592a\u4e0d\u5b89\u5168\u3002"),(0,l.kt)("h2",{id:"72linux-\u8f6f-raid-\u7ba1\u7406"},"7.2\u3001Linux \u8f6f raid \u7ba1\u7406"),(0,l.kt)("p",null,"\u5728\u751f\u4ea7\u5e94\u7528\u73af\u5883\u5f53\u4e2d\uff0c\u7edd\u5927\u591a\u6570\u7528\u7684\u662f RAID \u5361\u7ec4\u6210\u7684\u786c RAID \u9635\u5217\uff1b\u5c11\u6570\u60c5\u51b5\u4e0b\u56e0\u4e3a\u6210\u672c\u539f\u56e0\uff0c\u9009\u62e9\u4e86\u8f6f RAID \u65b9\u5f0f\uff0c\u8fd9\u79cd\u65b9\u5f0f\u53ef\u9760\u6027\u4e5f\u662f\u76f8\u5f53\u4e0d\u9519\u7684\u3002"),(0,l.kt)("h3",{id:"721\u5b9e\u73b0-raid10"},"7.2.1\u3001\u5b9e\u73b0 RAID10"),(0,l.kt)("p",null,"\u5b9e\u9a8c\u73af\u5883\uff1a\u6211\u4eec\u4f7f\u7528\u4e00\u53f0 ARM64 \u67b6\u6784\u7684\u98de\u817e 2000+ \u7684\u7269\u7406\u670d\u52a1\u5668\u505a\u5b9e\u9a8c\uff0c64 \u6838 256G\u5185\u5b58\uff0c6 \u5757 SSD\uff0c20 \u5757 HDD\uff0cLogic MegaRAID SAS-3 3108 \u786c RAID \u5361\uff0c\u677f\u8f7d 2 \u53e3\u5343\u5146\uff0c2 \u5f20 82599ES 10-Gigabit SFI/SFP+ \u53cc\u4e07\u5146\u53e3\u7f51\u5361\u3002\u5f53\u7136\u8fd9\u53f0\u670d\u52a1\u5668\u914d\u7f6e\u5f88\u9ad8\uff0c\u76ee\u524d\u53ea\u9700\u4f7f\u7528 4 \u4e2a SSD \u786c\u76d8\u5b9e\u73b0\u8f6f RAID\u3002"),(0,l.kt)("p",null,"mdadm \u5de5\u5177\u7528\u4e8e\u5728 Linux \u7cfb\u7edf\u4e2d\u521b\u5efa\u548c\u7ba1\u7406\u8f6f RAID\u3002"),(0,l.kt)("p",null,"mdadm \u547d\u4ee4\u8bed\u6cd5\u683c\u5f0f\u4e3a\uff1a"),(0,l.kt)("pre",null,(0,l.kt)("code",{parentName:"pre",className:"language-bash"},"mdadm [\u6a21\u5f0f] <RAID\u8bbe\u5907\u540d\u79f0> [\u9009\u9879] [\u6210\u5458\u8bbe\u5907\u540d\u79f0]\n\u9009\u9879\u8bf4\u660e\uff1a\n\u3010\u521b\u5efa\u6a21\u5f0f\u3011\n-C\uff1a\u521b\u5efa(create a new array)\n-l\uff1a\u6307\u5b9araid\u7ea7\u522b(Set RAID level,0,1,5,10)\n-c\uff1a\u6307\u5b9achunk\u5927\u5c0f(Specify chunk size of kibibytes\uff0cdefault 512KB)\n-a\uff1a\u68c0\u6d4b\u8bbe\u5907\u540d\u79f0(--auto=yes)\uff0cyes\u8868\u793a\u81ea\u52a8\u521b\u5efa\u8bbe\u5907\u6587\u4ef6/dev/mdN\n-n\uff1a\u6307\u5b9a\u8bbe\u5907\u6570\u91cf(--raid-devices:Specify the number of active devices in the array)\n-x\uff1a\u6307\u5b9a\u5907\u7528\u8bbe\u5907\u6570\u91cf(--spare-devices:Specify the number of spare (eXtra) devices in the initial array)\n-v\uff1a\u663e\u793a\u8fc7\u7a0b\n-f\uff1a\u5f3a\u5236\u884c\u4e3a\n-r\uff1a\u79fb\u9664\u8bbe\u5907(remove listed devices)\n-S\uff1a\u505c\u6b62\u9635\u5217(--stop:deactivate array, releasing all resources)\n-A\uff1a\u88c5\u914d\u9635\u5217\uff0c\u5c06\u505c\u6b62\u72b6\u6001\u7684\u9635\u5217\u91cd\u65b0\u542f\u52a8\u8d77\u6765\n\n\u3010\u76d1\u63a7\u6a21\u5f0f\u3011\n-Q\uff1a\u67e5\u770b\u6458\u8981\u4fe1\u606f(query)\n-D\uff1a\u67e5\u770b\u8be6\u7ec6\u4fe1\u606f(Print details of one or more md devices)\n    mdadm -D --scan >/etc/mdadm.conf\uff0c\u4ee5\u540e\u53ef\u4ee5\u76f4\u63a5mdadm -A\u8fdb\u884c\u88c5\u914d\u8fd9\u4e9b\u9635\u5217\n\n\u3010\u7ba1\u7406\u6a21\u5f0f\u3011\nmdadm --manage /dev/md[0-9] [--add \u8bbe\u5907\u540d] [--remove \u8bbe\u5907\u540d] [--fail \u8bbe\u5907\u540d]\n--manage \uff1amdadm\u4f7f\u7528manage\u6a21\u5f0f\uff0c\u6b64\u6a21\u5f0f\u4e0b\u53ef\u4ee5\u505a--add/--remove/--fail/--replace\u52a8\u4f5c\n-add     \uff1a\u5c06\u540e\u9762\u5217\u51fa\u7684\u8bbe\u5907\u52a0\u5165\u5230\u8fd9\u4e2amd\n--remove \uff1a\u5c06\u540e\u9762\u5217\u51fa\u7684\u8bbe\u5907\u4ecemd\u4e2d\u79fb\u9664\uff0c\u76f8\u5f53\u4e8e\u786c\u4ef6raid\u7684\u62d4\u51fa\u52a8\u4f5c\n--fail   \uff1a\u5c06\u540e\u9762\u5217\u51fa\u7684\u8bbe\u5907\u8bbe\u5b9a\u4e3a\u9519\u8bef\u72b6\u6001\uff0c\u5373\u4eba\u4e3a\u635f\u574f\uff0c\u635f\u574f\u540e\u8be5\u8bbe\u5907\u653e\u5728raid\u4e2d\u5df2\u7ecf\u662f\u65e0\u610f\u4e49\u72b6\u6001\u7684\n")),(0,l.kt)("ol",null,(0,l.kt)("li",{parentName:"ol"},(0,l.kt)("p",{parentName:"li"},"\u6211\u4eec\u9009\u62e9\u5176\u4e2d\u7684 4 \u5757\u672a\u4f7f\u7528\u7684 SSD\uff0c\u53e6\u5916 2 \u5757 SSD \u5df2\u7ecf\u505a\u4e86\u786c RAID1 \u88c5\u7cfb\u7edf\u4e86\u3002\u901a\u8fc7\u7cfb\u7edf\u67e5\u770b\uff0c\u8fd9 4 \u5757\u672a\u4f7f\u7528\u7684 SSD \u5206\u522b\u4e3a /dev/sdb\u3001/dev/sdc\u3001/dev/sdd \u548c /dev/sde\uff0c\u5355\u76d8\u5bb9\u91cf\u4e3a 447.130GB\u3002"),(0,l.kt)("pre",{parentName:"li"},(0,l.kt)("code",{parentName:"pre",className:"language-bash"},"[root@arm64v8 ~]# storcli /c0 show\nPD LIST :\n=======\n\n---------------------------------------------------------------------------------\nEID:Slt DID State DG       Size Intf Med SED PI SeSz Model               Sp Type \n---------------------------------------------------------------------------------\n18:0     30 JBOD  -  447.130 GB SATA SSD N   N  512B INTEL SSDSC2KB480G8 U  -  \n18:1     33 JBOD  -  447.130 GB SATA SSD N   N  512B INTEL SSDSC2KB480G8 U  -  \n18:2     31 JBOD  -  447.130 GB SATA SSD N   N  512B INTEL SSDSC2KB480G8 U  -  \n18:3     34 JBOD  -  447.130 GB SATA SSD N   N  512B INTEL SSDSC2KB480G8 U  -  \n18:4     10 JBOD  -    2.182 TB SAS  HDD N   N  512B AL15SEB24EQ         U  -  \n18:5     27 JBOD  -    2.182 TB SAS  HDD N   N  512B AL15SEB24EQ         U  -  \n18:6     14 JBOD  -    2.182 TB SAS  HDD N   N  512B AL15SEB24EQ         U  -  \n18:7     12 JBOD  -    2.182 TB SAS  HDD N   N  512B AL15SEB24EQ         U  -  \n18:8     17 JBOD  -    2.182 TB SAS  HDD N   N  512B AL15SEB24EQ         U  -  \n18:9      8 JBOD  -    2.182 TB SAS  HDD N   N  512B AL15SEB24EQ         U  -  \n18:10    21 JBOD  -    2.182 TB SAS  HDD N   N  512B AL15SEB24EQ         U  -  \n18:11    22 JBOD  -    2.182 TB SAS  HDD N   N  512B AL15SEB24EQ         U  -  \n18:12     9 JBOD  -    2.182 TB SAS  HDD N   N  512B AL15SEB24EQ         U  -  \n18:13    23 JBOD  -    2.182 TB SAS  HDD N   N  512B AL15SEB24EQ         U  -  \n18:14    15 JBOD  -    2.182 TB SAS  HDD N   N  512B AL15SEB24EQ         U  -  \n18:15    24 JBOD  -    2.182 TB SAS  HDD N   N  512B AL15SEB24EQ         U  -  \n18:16    11 JBOD  -    2.182 TB SAS  HDD N   N  512B AL15SEB24EQ         U  -  \n18:17    28 JBOD  -    2.182 TB SAS  HDD N   N  512B AL15SEB24EQ         U  -  \n18:18    26 JBOD  -    2.182 TB SAS  HDD N   N  512B AL15SEB24EQ         U  -  \n18:19    20 JBOD  -    2.182 TB SAS  HDD N   N  512B AL15SEB24EQ         U  -  \n18:20    13 JBOD  -    2.182 TB SAS  HDD N   N  512B AL15SEB24EQ         U  -  \n18:21    16 JBOD  -    2.182 TB SAS  HDD N   N  512B AL15SEB24EQ         U  -  \n18:22    19 JBOD  -    2.182 TB SAS  HDD N   N  512B AL15SEB24EQ         U  -  \n18:23    25 JBOD  -    2.182 TB SAS  HDD N   N  512B AL15SEB24EQ         U  -  \n252:0    29 Onln  0  446.625 GB SATA SSD N   N  512B INTEL SSDSC2KB480G8 U  -  \n252:1    32 Onln  0  446.625 GB SATA SSD N   N  512B INTEL SSDSC2KB480G8 U  -  \n---------------------------------------------------------------------------------\n"))),(0,l.kt)("li",{parentName:"ol"},(0,l.kt)("p",{parentName:"li"},'\u4f7f\u7528 mdadm \u547d\u4ee4\u521b\u5efa RAID10\uff0c\u540d\u79f0\u4e3a "/dev/md0"\u3002'),(0,l.kt)("pre",{parentName:"li"},(0,l.kt)("code",{parentName:"pre",className:"language-bash"},"[root@arm64v8 ~]# mdadm -C /dev/md0 -n 4 -l 10 -a yes /dev/sd{b,c,d,e}\nmdadm: Defaulting to version 1.2 metadata\nmdadm: array /dev/md0 started.\n[root@arm64v8 ~]#\n")),(0,l.kt)("ul",{parentName:"li"},(0,l.kt)("li",{parentName:"ul"},"-","C \u53c2\u6570\u4ee3\u8868\u521b\u5efa\u4e00\u4e2a RAID \u9635\u5217\u5361"),(0,l.kt)("li",{parentName:"ul"},"-","a yes \u53c2\u6570\u4ee3\u8868\u81ea\u52a8\u521b\u5efa\u8bbe\u5907\u6587\u4ef6"),(0,l.kt)("li",{parentName:"ul"},"-","n 4 \u53c2\u6570\u4ee3\u8868\u4f7f\u7528 4 \u5757\u786c\u76d8\u6765\u5236\u4f5c\u8fd9\u4e2a RAID \u7ec4"),(0,l.kt)("li",{parentName:"ul"},"-","l 10 \u53c2\u6570\u5219\u4ee3\u8868 RAID10"),(0,l.kt)("li",{parentName:"ul"},"-","v \u53c2\u6570\u6765\u663e\u793a\u51fa\u521b\u5efa\u7684\u8fc7\u7a0b\uff0c\u540c\u65f6\u5728\u540e\u9762\u8ffd\u52a0\u4e00\u4e2a\u8bbe\u5907\u540d\u79f0")),(0,l.kt)("p",{parentName:"li"},"\u67e5\u770b RAID \u8bbe\u5907\u4fe1\u606f"),(0,l.kt)("pre",{parentName:"li"},(0,l.kt)("code",{parentName:"pre",className:"language-bash"},"[root@arm64v8 ~]# mdadm -D /dev/md0\n/dev/md0:\n          Version : 1.2\n    Creation Time : Thu Jun 24 16:25:51 2021\n       Raid Level : raid10\n       Array Size : 937438208 (894.01 GiB 959.94 GB)    # \u603b\u5171\u80fd\u4f7f\u7528\u7684\u7a7a\u95f4\uff0c\u56e0\u4e3a\u662fraid10\uff0c\u6240\u4ee5\u603b\u53ef\u7528\u7a7a\u95f4\u4e3a894GiB\u5de6\u53f3\n    Used Dev Size : 468719104 (447.01 GiB 479.97 GB)    # \u6bcf\u4e2araid\u7ec4\u6216\u8bbe\u5907\u4e0a\u7684\u53ef\u7528\u7a7a\u95f4\uff0c\u4e5f\u5373\u6bcf\u4e2aRAID1\u7ec4\u53ef\u7528\u5927\u5c0f\u4e3a447GiB\u5de6\u53f3\n     Raid Devices : 4   # raid\u4e2d\u8bbe\u5907\u7684\u4e2a\u6570\n    Total Devices : 4   # \u603b\u8bbe\u5907\u4e2a\u6570\uff0c\u5305\u62ecraid\u4e2d\u8bbe\u5907\u4e2a\u6570\uff0c\u5907\u7528\u8bbe\u5907\u4e2a\u6570\u7b49\n      Persistence : Superblock is persistent\n\n    Intent Bitmap : Internal\n\n      Update Time : Thu Jun 24 16:29:00 2021\n            State : clean, resyncing    # \u5f53\u524draid\u72b6\u6001\uff0c\u6709clean/degraded(\u964d\u7ea7)/recovering/resyncing\n   Active Devices : 4\n  Working Devices : 4\n   Failed Devices : 0\n    Spare Devices : 0\n\n           Layout : near=2  # RAID10\u6570\u636e\u5206\u5e03\u65b9\u5f0f\uff0c\u6709near/far/offset\uff0c\u9ed8\u8ba4\u4e3anear\uff0c\u5373\u6570\u636e\u7684\u526f\u672c\u5b58\u50a8\u5728\u76f8\u90bb\u8bbe\u5907\u7684\u76f8\u540c\u504f\u79fb\u4e0a\u3002near=2\u8868\u793a\u8981\u5907\u4efd2\u4efd\u6570\u636e\n       Chunk Size : 512K\n\nConsistency Policy : bitmap\n\n    Resync Status : 4% complete\n\n             Name : arm64v8:0  (local to host arm64v8)\n             UUID : f9f70e82:7bd3a018:57bccfcb:e699365d\n           Events : 36\n\n   Number   Major   Minor   RaidDevice State\n      0       8       16        0      active sync set-A   /dev/sdb # \u7b2c\u4e00\u4e2araid1\u7ec4A\u6210\u5458\n      1       8       32        1      active sync set-B   /dev/sdc # \u7b2c\u4e00\u4e2araid1\u7ec4B\u6210\u5458\n      2       8       48        2      active sync set-A   /dev/sdd # \u7b2c\u4e8c\u4e2araid1\u7ec4A\u6210\u5458\n      3       8       64        3      active sync set-B   /dev/sde # \u7b2c\u4e8c\u4e2araid1\u7ec4B\u6210\u5458\n[root@arm64v8 ~]#\n")),(0,l.kt)("p",{parentName:"li"},"raid \u521b\u5efa\u597d\u540e\uff0c\u5b83\u7684\u8fd0\u884c\u72b6\u6001\u4fe1\u606f\u653e\u5728 /proc/mdstat \u4e2d\u3002"),(0,l.kt)("pre",{parentName:"li"},(0,l.kt)("code",{parentName:"pre",className:"language-bash"},"[root@arm64v8 ~]# cat /proc/mdstat \nPersonalities : [raid10] \nmd0 : active raid10 sde[3] sdd[2] sdc[1] sdb[0]\n     937438208 blocks super 1.2 512K chunks 2 near-copies [4/4] [UUUU]\n     [=====>...............]  resync = 25.3% (237395968/937438208) finish=56.1min speed=207803K/sec\n     bitmap: 1/1 pages [64KB], 65536KB chunk\n\nunused devices: \n[root@arm64v8 ~]#\n")),(0,l.kt)("ul",{parentName:"li"},(0,l.kt)("li",{parentName:"ul"},'"md0 : active raid10 sde',"[","3","]"," sdd","[","2","]"," sdc","[","1","]"," sdb","[","0","]",'" \u8868\u793a md0 \u662f raid10 \u7ea7\u522b\u7684 raid\uff0c\u4e14\u662f\u6fc0\u6d3b\u72b6\u6001\uff0csdX',"[","N","]"," \u8868\u793a\u8be5\u8bbe\u5907\u5728 raid \u7ec4\u4e2d\u7684\u4f4d\u7f6e\u662f N\uff0c\u5982\u679c\u6709\u5907\u7528\u8bbe\u5907\uff0c\u5219\u8868\u793a\u65b9\u5f0f\u4e3a sdX","[","N","]","[","S","]","\uff0cS \u5c31\u8868\u793a spare \u7684\u610f\u601d\u3002"),(0,l.kt)("li",{parentName:"ul"},'"937438208 blocks super 1.2 512K chunks 2 near-copies ',"[","4/4","]"," ","[","UUUU","]",'" \u8868\u793a\u8be5 raid \u53ef\u7528\u603b\u7a7a\u95f4\u4e3a 937438208 \u4e2a blocks\uff0cchunks \u7684\u5927\u5c0f 512K\uff0c',"[","m/n","]"," \u8868\u793a\u6b64 raid10 \u9635\u5217\u9700\u8981 m \u4e2a\u8bbe\u5907\uff0c\u4e14 n \u4e2a\u8bbe\u5907\u6b63\u5728\u6b63\u5e38\u8fd0\u884c\uff0c","[","UUUU","]",' \u5206\u522b\u8868\u793a m \u4e2a\u7684\u6bcf\u4e00\u4e2a\u8fd0\u884c\u72b6\u6001\uff0c\u8fd9\u91cc\u8868\u793a\u8fd9 4 \u4e2a\u8bbe\u5907\u90fd\u662f\u6b63\u5e38\u5de5\u4f5c\u7684\uff0c\u5982\u679c\u662f\u4e0d\u6b63\u5e38\u7684\uff0c\u5219\u4ee5 "',"_",'" \u663e\u793a\u3002'),(0,l.kt)("li",{parentName:"ul"},'"',"[","===>.........","]",'" \u8fd9\u4e00\u884c\u8868\u793a\u6570\u636e\u6b63\u5728\u540c\u6b65\u5df2\u5b8c\u6210\u591a\u5c11\uff0c\u8fd8\u9700\u8981\u591a\u5c11\u5206\u949f\uff0c\u540c\u6b65\u901f\u5ea6\u662f\u591a\u5c11\u3002')),(0,l.kt)("p",{parentName:"li"},"\u518d\u770b\u770blsblk\u7684\u7ed3\u679c"),(0,l.kt)("pre",{parentName:"li"},(0,l.kt)("code",{parentName:"pre",className:"language-bash"},"[root@arm64v8 ~]# lsblk -f\nNAME   FSTYPE        LABEL     UUID                                 FSAVAIL FSUSE% MOUNTPOINT\nsda                                                                              \n\u251c\u2500sda1 vfat                    3A6D-9E42                             194.1M     3% /boot/efi\n\u251c\u2500sda2 ext4                    d533f939-91c7-481a-a460-ddbea8197c6b  743.8M    17% /boot\n\u251c\u2500sda3 ext4                    29df12e4-805b-44a7-9550-078075a521c1  408.6G     1% /\n\u2514\u2500sda4 swap                    c1507076-744d-4a85-9a29-ff49e5659a3d                [SWAP]\nsdb    linux_raid_me arm64v8:0 f9f70e82-7bd3-a018-57bc-cfcbe699365d              \n\u2514\u2500md0                                                                            \nsdc    linux_raid_me arm64v8:0 f9f70e82-7bd3-a018-57bc-cfcbe699365d              \n\u2514\u2500md0                                                                            \nsdd    linux_raid_me arm64v8:0 f9f70e82-7bd3-a018-57bc-cfcbe699365d              \n\u2514\u2500md0                                                                            \nsde    linux_raid_me arm64v8:0 f9f70e82-7bd3-a018-57bc-cfcbe699365d              \n\u2514\u2500md0\n......\n"))),(0,l.kt)("li",{parentName:"ol"},(0,l.kt)("p",{parentName:"li"},"\u5c06\u5236\u4f5c\u597d\u7684 RAID \u7ec4\u683c\u5f0f\u5316\u521b\u5efa\u6587\u4ef6\u7cfb\u7edf\u3002"),(0,l.kt)("pre",{parentName:"li"},(0,l.kt)("code",{parentName:"pre",className:"language-bash"},"[root@arm64v8 ~]# mke2fs -t ext4 /dev/md0\n"))),(0,l.kt)("li",{parentName:"ol"},(0,l.kt)("p",{parentName:"li"},"\u6302\u8f7d raid \u8bbe\u5907\uff0c\u6302\u8f7d\u6210\u529f\u540e\u53ef\u770b\u5230\u53ef\u7528\u7a7a\u95f4\u4e3a879G\uff0c\u56e0\u4e3a RAID \u5728\u521b\u5efa\u6587\u4ef6\u7cfb\u7edf\u65f6\u4e5f\u6d88\u8017\u4e86\u4e00\u90e8\u5206\u7a7a\u95f4\u5b58\u50a8\u6587\u4ef6\u7cfb\u7edf\u7684\u5143\u6570\u636e\u3002"),(0,l.kt)("pre",{parentName:"li"},(0,l.kt)("code",{parentName:"pre",className:"language-bash"},"[root@arm64v8 ~]# mount /dev/md0 /mnt/\n\n[root@arm64v8 ~]# df -hT\nFilesystem     Type      Size  Used Avail Use% Mounted on\ndevtmpfs       devtmpfs  127G     0  127G   0% /dev\ntmpfs          tmpfs     127G     0  127G   0% /dev/shm\ntmpfs          tmpfs     127G   17M  127G   1% /run\ntmpfs          tmpfs     127G     0  127G   0% /sys/fs/cgroup\n/dev/sda3      ext4      434G  2.9G  409G   1% /\ntmpfs          tmpfs     127G     0  127G   0% /tmp\n/dev/sda2      ext4      976M  165M  744M  19% /boot\n/dev/sda1      vfat      200M  5.8M  195M   3% /boot/efi\ntmpfs          tmpfs      26G     0   26G   0% /run/user/0\n/dev/md0       ext4      879G   72M  835G   1% /mnt\n[root@arm64v8 ~]#\n")))),(0,l.kt)("h3",{id:"722\u78c1\u76d8\u9635\u5217\u635f\u574f\u53ca\u4fee\u590d"},"7.2.2\u3001\u78c1\u76d8\u9635\u5217\u635f\u574f\u53ca\u4fee\u590d"),(0,l.kt)("p",null,"\u901a\u8fc7 manage \u6a21\u5f0f\u53ef\u4ee5\u6a21\u62df\u9635\u5217\u4e2d\u7684\u8bbe\u5907\u635f\u574f\u3002"),(0,l.kt)("pre",null,(0,l.kt)("code",{parentName:"pre",className:"language-bash"},"mdadm --manage /dev/md[0-9] [--add \u8bbe\u5907\u540d] [--remove \u8bbe\u5907\u540d] [--fail \u8bbe\u5907\u540d]\n\n\u9009\u9879\u8bf4\u660e\uff1a\n--manage \uff1amdadm\u4f7f\u7528manage\u6a21\u5f0f\uff0c\u6b64\u6a21\u5f0f\u4e0b\u53ef\u4ee5\u505a--add/--remove/--fail/--replace\u52a8\u4f5c\n--add    \uff1a\u5c06\u540e\u9762\u5217\u51fa\u7684\u8bbe\u5907\u52a0\u5165\u5230\u8fd9\u4e2amd\n--remove \uff1a\u5c06\u540e\u9762\u5217\u51fa\u7684\u8bbe\u5907\u4ecemd\u4e2d\u79fb\u9664\n--fail   \uff1a\u5c06\u540e\u9762\u5217\u51fa\u7684\u8bbe\u5907\u8bbe\u5b9a\u4e3a\u9519\u8bef\u72b6\u6001\uff0c\u5373\u4eba\u4e3a\u635f\u574f\n")),(0,l.kt)("p",null,"\u6a21\u62df /dev/sde \u635f\u574f\u3002"),(0,l.kt)("pre",null,(0,l.kt)("code",{parentName:"pre",className:"language-bash"},"[root@arm64v8 ~]# mdadm --manage /dev/md0 --fail /dev/sde \nmdadm: set /dev/sde faulty in /dev/md0\n[root@arm64v8 ~]# \n")),(0,l.kt)("p",null,"\u518d\u67e5\u770b raid \u72b6\u6001\u3002"),(0,l.kt)("pre",null,(0,l.kt)("code",{parentName:"pre",className:"language-bash"},"[root@arm64v8 ~]# mdadm -D /dev/md0 \n/dev/md0:\n           Version : 1.2\n     Creation Time : Thu Jun 24 16:25:51 2021\n        Raid Level : raid10\n        Array Size : 937438208 (894.01 GiB 959.94 GB)\n     Used Dev Size : 468719104 (447.01 GiB 479.97 GB)\n      Raid Devices : 4\n     Total Devices : 4\n       Persistence : Superblock is persistent\n\n     Intent Bitmap : Internal\n\n       Update Time : Thu Jun 24 20:22:44 2021\n             State : active, degraded \n    Active Devices : 3\n   Working Devices : 3\n    Failed Devices : 1\n     Spare Devices : 0\n\n            Layout : near=2\n        Chunk Size : 512K\n\nConsistency Policy : bitmap\n\n              Name : arm64v8:0  (local to host arm64v8)\n              UUID : f9f70e82:7bd3a018:57bccfcb:e699365d\n            Events : 893\n\n    Number   Major   Minor   RaidDevice State\n       0       8       16        0      active sync set-A   /dev/sdb\n       1       8       32        1      active sync set-B   /dev/sdc\n       2       8       48        2      active sync set-A   /dev/sdd\n       -       0        0        3      removed\n\n       3       8       64        -      faulty   /dev/sde\n[root@arm64v8 ~]#\n")),(0,l.kt)("ul",null,(0,l.kt)("li",{parentName:"ul"},"\u7531\u4e8e 4 \u5757\u78c1\u76d8\u7ec4\u6210\u7684 raid10 \u5141\u8bb8\u635f\u574f\u4e00\u5757\u76d8\uff0c\u4e14\u8fd8\u5141\u8bb8\u574f\u7b2c\u4e8c\u5757\u975e\u5bf9\u79f0\u76d8\u3002\u6240\u4ee5\u8fd9\u91cc\u635f\u574f\u4e86\u4e00\u5757\u76d8\u540e raid10 \u662f\u53ef\u4ee5\u6b63\u5e38\u5de5\u4f5c\u7684\u3002")),(0,l.kt)("p",null,"\u73b0\u5728\u53ef\u4ee5\u5c06\u635f\u574f\u7684\u78c1\u76d8\u62d4\u51fa\uff0c\u7136\u540e\u5411 raid \u4e2d\u52a0\u5165\u65b0\u7684\u78c1\u76d8\u5373\u53ef\u3002"),(0,l.kt)("pre",null,(0,l.kt)("code",{parentName:"pre",className:"language-bash"},"[root@arm64v8 ~]# mdadm --manage /dev/md0 --remove /dev/sde\nmdadm: hot removed /dev/sde from /dev/md0\n[root@arm64v8 ~]#\n")),(0,l.kt)("p",null,"\u518d\u4fee\u590d\u65f6\uff0c\u53ef\u4ee5\u5c06\u65b0\u78c1\u76d8\u52a0\u5165\u5230 raid \u4e2d\u3002"),(0,l.kt)("pre",null,(0,l.kt)("code",{parentName:"pre",className:"language-bash"},"[root@arm64v8 ~]# mdadm --manage /dev/md0 --add /dev/sde\nmdadm: re-added /dev/sde\n[root@arm64v8 ~]# cat /proc/mdstat \nPersonalities : [raid10] \nmd0 : active raid10 sde[3] sdd[2] sdc[1] sdb[0]\n      937438208 blocks super 1.2 512K chunks 2 near-copies [4/3] [UUU_]\n      [=========>...........]  recovery = 49.9% (233898048/468719104) finish=0.2min speed=19491504K/sec\n      bitmap: 1/1 pages [64KB], 65536KB chunk\n\nunused devices: <none>\n[root@arm64v8 ~]#\n")),(0,l.kt)("h3",{id:"723raid-\u5907\u7528\u76d8"},"7.2.3\u3001raid \u5907\u7528\u76d8"),(0,l.kt)("p",null,'\u4f7f\u7528 mdadm \u7684 "-x" \u9009\u9879\u53ef\u4ee5\u6307\u5b9a\u5907\u7528\u76d8\u7684\u6570\u91cf\uff0c\u5907\u7528\u76d8\u7684\u4f5c\u7528\u662f\u81ea\u52a8\u9876\u66ff raid \u7ec4\u4e2d\u574f\u6389\u7684\u76d8\u3002'),(0,l.kt)("p",null,"\u5b9e\u9a8c\u73af\u5883\u4e2d\u8fd8\u6709\u5927\u91cf\u7684\u78c1\u76d8\u6ca1\u6709\u4f7f\u7528\uff0c\u6211\u4eec\u53d6 /dev/sdf\u3001/dev/sdg\u3001/dev/sdh\u3001/dev/sdi\u3001/dev/sdj \u548c /dev/sdk \u505a\u5907\u7528\u76d8\u5b9e\u9a8c\u3002"),(0,l.kt)("pre",null,(0,l.kt)("code",{parentName:"pre",className:"language-bash"},'[root@arm64v8 ~]# fdisk -l | grep "Disk /dev/sd[fghijk]"\nDisk /dev/sdf: 2.19 TiB, 2400476553216 bytes, 4688430768 sectors\nDisk /dev/sdg: 2.19 TiB, 2400476553216 bytes, 4688430768 sectors\nDisk /dev/sdh: 2.19 TiB, 2400476553216 bytes, 4688430768 sectors\nDisk /dev/sdi: 2.19 TiB, 2400476553216 bytes, 4688430768 sectors\nDisk /dev/sdj: 2.19 TiB, 2400476553216 bytes, 4688430768 sectors\nDisk /dev/sdk: 2.19 TiB, 2400476553216 bytes, 4688430768 sectors\n[root@arm64v8 ~]#\n')),(0,l.kt)("p",null,"\u6839\u636e\u524d\u9762\u5b9e\u9a8c\u7684\u57fa\u7840\uff0c\u76f4\u63a5\u4f7f\u7528\u4e00\u884c\u547d\u4ee4\u5b9e\u73b0\u521b\u5efa raid10 \u7684\u540c\u65f6\u521b\u5efa\u4e24\u4e2a\u5907\u7528\u76d8\u3002"),(0,l.kt)("pre",null,(0,l.kt)("code",{parentName:"pre",className:"language-bash"},"[root@arm64v8 ~]# mdadm -C /dev/md1 -l10 -n4 -x2 -a yes /dev/sd{f,g,h,i,j,k}\nmdadm: Defaulting to version 1.2 metadata\nmdadm: array /dev/md1 started.\n[root@arm64v8 ~]#\n")),(0,l.kt)("ul",null,(0,l.kt)("li",{parentName:"ul"},"\u6b64\u884c\u547d\u4ee4\u7b49\u6548\u4e8e mdadm --create --auto=yes /dev/md1 --level=10 --raid-devices=4 --spare-devices=2 /dev/sd{f,g,h,i,j,k}")),(0,l.kt)("p",null,"\u67e5\u770b\u521a\u521b\u5efa\u7684 raid10 \u72b6\u6001"),(0,l.kt)("pre",null,(0,l.kt)("code",{parentName:"pre",className:"language-bash"},"[root@arm64v8 ~]# cat /proc/mdstat \nPersonalities : [raid10] \nmd1 : active raid10 sdk[5](S) sdj[4](S) sdi[3] sdh[2] sdg[1] sdf[0]\n      4688165888 blocks super 1.2 512K chunks 2 near-copies [4/4] [UUUU]\n      [=>...................]  resync =  7.0% (329351168/4688165888) finish=361.4min speed=201003K/sec\n      bitmap: 3/3 pages [192KB], 65536KB chunk\n\nunused devices: <none>\n[root@arm64v8 ~]#\n")),(0,l.kt)("ul",null,(0,l.kt)("li",{parentName:"ul"},"sdk","[","5","]","(S) sdj","[","4","]","(S) \u8fd9\u4e24\u4e2a\u76d8\u5c31\u662f\u5907\u7528\u76d8\u3002"),(0,l.kt)("li",{parentName:"ul"},"\u4ece\u8fdb\u5ea6\u6761\u6765\u770b\uff0c\u8981\u5b8c\u6210 100% \u6570\u636e\u540c\u6b65\uff0c\u5927\u6982\u9700\u8981 6 \u4e2a\u5c0f\u65f6\uff0c\u5f53\u524d\u5b9e\u9a8c\u7528\u7684\u662f\u751f\u4ea7\u73af\u5883\u670d\u52a1\u5668\uff0c6 \u4e2a\u76d8\u90fd\u662f 2.19 TiB\uff0c\u5bb9\u91cf\u8f83\u5927\u3002"),(0,l.kt)("li",{parentName:"ul"},"\u5bf9\u4e8e\u751f\u4ea7\u73af\u5883\u6765\u8bf4\uff0craid \u4e2d\u574f\u4e00\u5757\u76d8\uff0c\u6062\u590d\u6570\u636e\u662f\u6781\u6162\u7684\uff0c\u672c\u4eba\u7ecf\u5386\u8fc7\u65e0\u6570\u8fd9\u79cd\u75db\u82e6\u65f6\u671f\uff0c\u8fd9\u91cc\u7684\u8f6f raid \u662f\u8fd9\u6837\uff0c\u786c raid \u4e5f\u662f\u5982\u6b64\u3002",(0,l.kt)("ul",{parentName:"li"},(0,l.kt)("li",{parentName:"ul"},"\u5efa\u8bae\u751f\u4ea7\u73af\u5883\u4e2d\u4f7f\u7528 1 \u5230 2 \u5757\u76d8\u7528\u4f5c\u5907\u7528\u76d8\uff0craid \u9635\u5217\u4e2d\u6709\u574f\u76d8\u65f6\uff0c\u5907\u7528\u76d8\u53ef\u4ee5\u81ea\u52a8\u9876\u4e0a\uff0c\u7136\u540e\u624b\u52a8\u66f4\u6362\u574f\u76d8\u5e76\u8bbe\u4e3a\u5907\u7528\u76d8\uff0c\u5982\u6b64\u5faa\u73af\u8fd0\u7ef4\uff0c\u65b9\u4fbf\u5f88\u591a\u3002")))),(0,l.kt)("p",null,"\u6a21\u62df /dev/sdi \u76d8\u6545\u969c\uff0c\u7136\u540e\u770b\u5907\u7528\u76d8\u662f\u5426\u81ea\u52a8\u9876\u4e0a\u3002"),(0,l.kt)("pre",null,(0,l.kt)("code",{parentName:"pre",className:"language-bash"},'# \u6a21\u62df /dev/sdi \u76d8\u6545\u969c\n[root@arm64v8 ~]# mdadm --manage /dev/md1 --fail /dev/sdi\nmdadm: set /dev/sdi faulty in /dev/md1\n[root@arm64v8 ~]# \n\n# \u67e5\u770b\u53d1\u73b0 /dev/sdk \u5907\u7528\u76d8\u81ea\u52a8\u9876\u4e0a\n[root@arm64v8 ~]# mdadm -D /dev/md1 | grep "/dev"\n/dev/md1:\n       0       8       80        0      active sync set-A   /dev/sdf\n       1       8       96        1      active sync set-B   /dev/sdg\n       2       8      112        2      active sync set-A   /dev/sdh\n       5       8      160        3      spare rebuilding   /dev/sdk\n       3       8      128        -      faulty   /dev/sdi\n       4       8      144        -      spare   /dev/sdj\n[root@arm64v8 ~]# \n\n# \u67e5\u770b\u6570\u636e\u540c\u6b65\u8fdb\u5ea6\u6761\u4f9d\u7136\u5f88\u6162\uff0c\u4f46\u662f\u597d\u5728\u662f\u81ea\u52a8\u5b8c\u6210\n[root@arm64v8 ~]# cat /proc/mdstat \nPersonalities : [raid10] \nmd1 : active raid10 sdk[5] sdj[4](S) sdi[3](F) sdh[2] sdg[1] sdf[0]\n      4688165888 blocks super 1.2 512K chunks 2 near-copies [4/3] [UUU_]\n      [>....................]  recovery =  0.5% (13299968/2344082944) finish=194.2min speed=200021K/sec\n      bitmap: 0/3 pages [0KB], 65536KB chunk\n\nunused devices: <none>\n[root@arm64v8 ~]#\n')),(0,l.kt)("h3",{id:"724\u505c\u6b62\u548c\u88c5\u914d-raid"},"7.2.4\u3001\u505c\u6b62\u548c\u88c5\u914d raid"),(0,l.kt)("p",null,"\u5173\u95ed raid \u9635\u5217\u540e\uff0c\u8be5 raid \u7ec4 /dev/md0 \u5c31\u505c\u6b62\u5de5\u4f5c\u4e86\u3002"),(0,l.kt)("pre",null,(0,l.kt)("code",{parentName:"pre",className:"language-bash"},"# \u5148\u5378\u8f7d\u540e\u505c\u6b62 raid\n[root@arm64v8 ~]# umount /dev/md0 \n[root@arm64v8 ~]# mdadm --stop /dev/md0 \nmdadm: stopped /dev/md0\n[root@arm64v8 ~]# \n[root@arm64v8 ~]# \n\n# \u67e5\u770b raid10 \u7684\u72b6\u6001\n[root@arm64v8 ~]# cat /proc/mdstat \nPersonalities : [raid10] \nunused devices: <none>\n[root@arm64v8 ~]# \n[root@arm64v8 ~]# mdadm -D -s\n[root@arm64v8 ~]# mdadm -D /dev/md0\nmdadm: cannot open /dev/md0: No such file or directory\n[root@arm64v8 ~]#\n")),(0,l.kt)("ul",null,(0,l.kt)("li",{parentName:"ul"},"\u5f53\u505c\u6b62 raid 10 \u540e\uff0c\u5185\u5b58\u4e2d\u770b\u4e0d\u5230 raid 10 \u7684\u72b6\u6001\uff0c/dev/md0 \u5b57\u7b26\u8bbe\u5907\u4e5f\u53d6\u6d88\u4e86\u3002")),(0,l.kt)("p",null,"\u5982\u679c\u4e0b\u6b21\u60f3\u7ee7\u7eed\u542f\u52a8\u5b83\uff0c\u76f4\u63a5\u4f7f\u7528 -A \u6765\u88c5\u914d /dev/md0 \u662f\u4e0d\u53ef\u4ee5\u7684\uff0c\u9700\u8981\u518d\u6b21\u6307\u5b9a\u8be5 raid \u4e2d\u7684\u8bbe\u5907\u6210\u5458\uff0c\u4e14\u548c\u5173\u95ed\u524d\u7684\u6210\u5458\u4e00\u6837\uff0c\u4e0d\u80fd\u6709\u4efb\u4f55\u4e0d\u540c\u3002"),(0,l.kt)("pre",null,(0,l.kt)("code",{parentName:"pre",className:"language-bash"},"[root@arm64v8 ~]# mdadm -A /dev/md0 /dev/sd{b,c,d,e}\nmdadm: /dev/md0 has been started with 4 drives.\n\n[root@arm64v8 ~]# cat /proc/mdstat \nPersonalities : [raid10] \nmd0 : active raid10 sdb[0] sde[3] sdd[2] sdc[1]\n      937438208 blocks super 1.2 512K chunks 2 near-copies [4/4] [UUUU]\n      bitmap: 0/1 pages [0KB], 65536KB chunk\n\nunused devices: <none>\n[root@arm64v8 ~]#\n")),(0,l.kt)("p",null,"\u4e0a\u9762\u505a\u6cd5\u98ce\u9669\u592a\u5927\uff0c\u5982\u679c\u76d8\u6bd4\u8f83\u591a\u5f88\u5bb9\u6613\u51fa\u9519\uff0c\u5176\u5b9e\u53ef\u4ee5\u5728\u505c\u6b62 raid \u524d\uff0c\u626b\u63cf raid\uff0c\u5c06\u626b\u63cf\u7684\u7ed3\u679c\u4fdd\u5b58\u5230\u914d\u7f6e\u6587\u4ef6\u4e2d\uff0c\u4e0b\u6b21\u542f\u52a8\u7684\u65f6\u5019\u76f4\u63a5\u8bfb\u53d6\u914d\u7f6e\u6587\u4ef6\u5373\u53ef\u3002"),(0,l.kt)("pre",null,(0,l.kt)("code",{parentName:"pre",className:"language-bash"},"# \u8fd9\u662f\u9ed8\u8ba4\u914d\u7f6e\u6587\u4ef6\n[root@arm64v8 ~]# mdadm -D --scan >> /etc/mdadm.conf\n[root@arm64v8 ~]#\n")),(0,l.kt)("p",null,"\u4e0b\u6b21\u76f4\u63a5\u4f7f\u7528 -A \u5c31\u53ef\u4ee5\u88c5\u7f6e\u914d\u7f6e\u6587\u4ef6\u4e2d\u7684 raid \u7ec4\u3002"),(0,l.kt)("pre",null,(0,l.kt)("code",{parentName:"pre",className:"language-bash"},"[root@arm64v8 ~]# mdadm -A /dev/md0\n")),(0,l.kt)("p",null,'\u5982\u679c\u4e0d\u653e\u5728\u9ed8\u8ba4\u914d\u7f6e\u6587\u4ef6\u4e2d\uff0c\u5219\u88c5\u914d\u7684\u65f6\u5019\u4f7f\u7528 "-c" \u6216 "--config" \u9009\u9879\u6307\u5b9a\u914d\u7f6e\u6587\u4ef6\u5373\u53ef\u3002'),(0,l.kt)("pre",null,(0,l.kt)("code",{parentName:"pre",className:"language-bash"},"[root@arm64v8 ~]# mdadm -D --scan >> /tmp/mdadm.conf\n[root@arm64v8 ~]# mdadm -A /dev/md0 -c /tmp/mdadm.conf\n")),(0,l.kt)("h3",{id:"725\u5f7b\u5e95\u79fb\u9664-raid-\u8bbe\u5907"},"7.2.5\u3001\u5f7b\u5e95\u79fb\u9664 raid \u8bbe\u5907"),(0,l.kt)("p",null,'\u5f53\u5df2\u7ecf\u786e\u5b9a\u4e00\u4e2a\u78c1\u76d8\u4e0d\u9700\u8981\u518d\u505a\u4e3a raid \u7684\u4e00\u90e8\u5206\uff0c\u53ef\u4ee5\u5c06\u5b83\u79fb\u9664\u6389\u3002\u5f7b\u5e95\u79fb\u9664\u4e00\u4e2a raid \u8bbe\u5907\u5e76\u975e\u90a3\u4e48\u7b80\u5355\uff0c\u56e0\u4e3a raid \u63a7\u5236\u5668\u5df2\u7ecf\u6807\u8bb0\u4e86\u4e00\u4e2a\u8bbe\u5907\uff0c\u5373\u4f7f\u5c06\u5b83 "mdadm --remove" \u4e5f\u65e0\u6cd5\u5f7b\u5e95\u6d88\u9664 raid \u7684\u4fe1\u606f\u3002'),(0,l.kt)("p",null,"\u6240\u4ee5\u60f3\u8981\u5f7b\u5e95\u79fb\u9664 raid \u8bbe\u5907\uff0c\u4e25\u683c\u6267\u884c\u4e0b\u9762\u6b65\u9aa4\uff1a"),(0,l.kt)("ol",null,(0,l.kt)("li",{parentName:"ol"},(0,l.kt)("p",{parentName:"li"},"\u786e\u8ba4 raid \u9635\u5217\u7531\u54ea\u4e9b\u8bbe\u5907\u7ec4\u6210\uff0c\u9700\u8981\u63d0\u524d\u8bb0\u4e0b\u6765\u3002"),(0,l.kt)("pre",{parentName:"li"},(0,l.kt)("code",{parentName:"pre",className:"language-bash"},'[root@arm64v8 ~]# mdadm -D /dev/md0 | grep "/dev/"\n/dev/md0:\n      0       8       16        0      active sync set-A   /dev/sdb\n      1       8       32        1      active sync set-B   /dev/sdc\n      2       8       48        2      active sync set-A   /dev/sdd\n      3       8       64        3      active sync set-B   /dev/sde\n[root@arm64v8 ~]#\n'))),(0,l.kt)("li",{parentName:"ol"},(0,l.kt)("p",{parentName:"li"},"\u5148 umount \u7ec4\u5efa\u597d\u7684 raid"),(0,l.kt)("pre",{parentName:"li"},(0,l.kt)("code",{parentName:"pre",className:"language-bash"},"[root@arm64v8 ~]# umount /dev/md0 \n[root@arm64v8 ~]#\n"))),(0,l.kt)("li",{parentName:"ol"},(0,l.kt)("p",{parentName:"li"},"\u505c\u6b62 raid \u8bbe\u5907"),(0,l.kt)("pre",{parentName:"li"},(0,l.kt)("code",{parentName:"pre",className:"language-bash"},"[root@arm64v8 ~]# mdadm --stop /dev/md0 \nmdadm: stopped /dev/md0\n[root@arm64v8 ~]#\n"))),(0,l.kt)("li",{parentName:"ol"},(0,l.kt)("p",{parentName:"li"},"\u5220\u9664 raid \u91cc\u7684\u6240\u6709\u786c\u76d8"),(0,l.kt)("pre",{parentName:"li"},(0,l.kt)("code",{parentName:"pre",className:"language-bash"},"[root@arm64v8 ~]# mdadm --misc --zero-superblock /dev/sdb\n[root@arm64v8 ~]# mdadm --misc --zero-superblock /dev/sdc\n[root@arm64v8 ~]# mdadm --misc --zero-superblock /dev/sdd\n[root@arm64v8 ~]# mdadm --misc --zero-superblock /dev/sde\n[root@arm64v8 ~]#\n")),(0,l.kt)("ul",{parentName:"li"},(0,l.kt)("li",{parentName:"ul"},"\u7b2c 1 \u6b65\u5c31\u662f\u4e3a\u8fd9\u4e00\u6b65\u505a\u7684\u51c6\u5907"),(0,l.kt)("li",{parentName:"ul"},'\u8fd9\u4e00\u6b65\u5f88\u5173\u952e\uff0c\u5982\u679c\u4e0d\u6267\u884c\u8fd9\u4e00\u6b65\uff0c\u5c31\u7b97 "mdadm --remove" \u79fb\u9664\u8bbe\u5907\uff0c\u8be5\u8bbe\u5907\u4e5f\u65e0\u6cd5\u53e6\u4f5c\u5b83\u7528\uff0c\u56e0\u4e3a\u8be5\u8bbe\u5907\u4e2d\u8fd8\u8bb0\u5f55\u4e86 raid superblock \u914d\u7f6e\u4fe1\u606f\uff0c\u53ea\u80fd\u4f7f\u7528 0(--zero-superblock) \u5c06\u5176\u8986\u76d6\u3002'),(0,l.kt)("li",{parentName:"ul"},"\u6709\u51e0\u5757\u786c\u76d8\uff0c\u5c31\u6309\u683c\u5f0f\u5220\u51e0\u6b21\uff0c\u6ce8\u610f\u6700\u540e\u9762\u7684\u786c\u76d8\u540d\u79f0\u3002"))),(0,l.kt)("li",{parentName:"ol"},(0,l.kt)("p",{parentName:"li"},"\u5220\u9664\u914d\u7f6e\u6587\u4ef6"),(0,l.kt)("pre",{parentName:"li"},(0,l.kt)("code",{parentName:"pre",className:"language-bash"},"[root@arm64v8 ~]# rm -rf /etc/mdadm.conf \n[root@arm64v8 ~]# \n"))),(0,l.kt)("li",{parentName:"ol"},(0,l.kt)("p",{parentName:"li"},"\u5982\u679c\u4e4b\u524d\u5c06 raid \u76f8\u5173\u4fe1\u606f\u5199\u5165\u4e86 /etc/fstab \u914d\u7f6e\u6587\u4ef6\u4e2d\uff0c\u8fd8\u9700 vim /etc/fstab\uff0c\u5c06 raid \u76f8\u5173\u7684\u5185\u5bb9\u5220\u9664\u5373\u53ef\u3002"))),(0,l.kt)("h2",{id:"73linux-\u786c-raid-\u7ba1\u7406"},"7.3\u3001Linux \u786c raid \u7ba1\u7406"),(0,l.kt)("p",null,"\u8bf4\u5230 linux \u786c raid \u7ba1\u7406\uff0c\u53ef\u80fd\u6709\u4eba\u4f1a\u7591\u60d1\uff0c\u786c raid \u4e0d\u662f\u4f7f\u7528 raid \u5361\u7ba1\u7406\u786c\u76d8\uff0c\u5728 bios \u4e0b\u8fdb\u884c\u56fe\u5f62\u5316\u7ba1\u7406\u5c82\u4e0d\u662f\u5f88\u65b9\u4fbf\uff0c\u5e76\u4e0d\u6d89\u53ca linux \u7cfb\u7edf\u5c42\u554a\u3002"),(0,l.kt)("p",null,"\u6ca1\u9519\uff0c\u7528 bios \u5c42\u56fe\u5f62\u5316\u7ba1\u7406 raid \u786e\u5b9e\u975e\u5e38\u65b9\u4fbf\uff0c\u4f46\u662f\u6211\u8981\u8bf4\u7684\u662f\uff0c\u672c\u4eba\u804c\u4e1a\u751f\u6daf\u4e2d\u7edd\u5927\u591a\u6570\u4fee\u590d raid \u9635\u5217\uff0c\u751a\u81f3\u662f\u521b\u5efa raid \u9635\u5217\u90fd\u662f\u5728 linux \u7cfb\u7edf\u5c42\u5b8c\u6210\u7684\u3002"),(0,l.kt)("p",null,"\u539f\u56e0\u5728\u4e8e\u5927\u591a\u6570\u60c5\u51b5\u4e0b\uff0c\u786c raid \u51fa\u73b0\u95ee\u9898\uff0c\u662f\u56e0\u4e3a\u5b58\u50a8\u670d\u52a1\u5668\u5df2\u7ecf\u4f7f\u7528\u4e86 2 - 3 \u5e74\uff0c\u751a\u81f3\u66f4\u4e45\uff0c\u78c1\u76d8\u5df2\u8fbe\u751f\u547d\u5468\u671f\u574f\u6389\u4e86\uff0c\u5fc5\u987b\u6362\u65b0\u7ee7\u7eed\u4f7f\u7528\u3002\u6b64\u65f6\uff0c\u5982\u679c\u60f3\u8981\u4f7f\u7528 bios \u8fdb\u884c\u914d\u7f6e\uff0c\u9700\u8981\u91cd\u542f linux \u64cd\u4f5c\u7cfb\u7edf\uff0c\u8fd9\u662f\u5f88\u4e0d\u660e\u667a\u7684\u9009\u62e9\uff0c\u672c\u4eba\u66fe\u7ecf\u5c31\u6709\u8fc7\u8840\u7684\u6559\u8bad\uff0c\u7279\u6b64\u8b66\u793a\u3002"),(0,l.kt)("p",null,"\u6700\u597d\u7684\u65b9\u5f0f\uff0c\u5728\u64cd\u4f5c\u7cfb\u7edf\u91cc\u9762\u4f7f\u7528 Megacli \u6216\u8005 storcli \u5de5\u5177\u64cd\u4f5c raid\u3002Megacli \u662f\u65e9\u671f\u4f7f\u7528\u7684 raid \u7ba1\u7406\u5de5\u5177\uff0c\u6666\u6da9\u96be\u61c2\uff0c\u800c\u4e14\u6ca1\u6709 arm64v8 \u7248\u672c\u3002storcli \u5de5\u5177\u662f\u4e0b\u4e00\u4ee3\u7528\u6765\u4ee3\u66ff Megacli \u7684\uff0c\u529f\u80fd\u66f4\u52a0\u5f3a\u5927\uff0c\u4f7f\u7528\u7b80\u5355\u65b9\u4fbf\uff0c\u800c\u4e14\u652f\u6301 arm64v8 \u7248\u672c\u3002"),(0,l.kt)("p",null,(0,l.kt)("img",{alt:"linux_static_tools",src:n(86314).Z,width:"2400",height:"1800"})),(0,l.kt)("h3",{id:"731storcli-\u547d\u4ee4\u57fa\u7840"},"7.3.1\u3001storcli \u547d\u4ee4\u57fa\u7840"),(0,l.kt)("h4",{id:"7311\u57fa\u672c\u8bed\u6cd5"},"7.3.1.1\u3001\u57fa\u672c\u8bed\u6cd5"),(0,l.kt)("pre",null,(0,l.kt)("code",{parentName:"pre",className:"language-bash"},"storcli <[object identifier]> <verb> <[adverb | attributes | properties] > <[key=value]>\n")),(0,l.kt)("p",null,"\u53c2\u6570\u89e3\u91ca\uff1a"),(0,l.kt)("table",null,(0,l.kt)("thead",{parentName:"table"},(0,l.kt)("tr",{parentName:"thead"},(0,l.kt)("th",{parentName:"tr",align:null},"object identifier"),(0,l.kt)("th",{parentName:"tr",align:null},"\u89e3\u91ca"),(0,l.kt)("th",{parentName:"tr",align:null},"\u4f8b\u5b50"),(0,l.kt)("th",{parentName:"tr",align:null},"\u8bf4\u660e"))),(0,l.kt)("tbody",{parentName:"table"},(0,l.kt)("tr",{parentName:"tbody"},(0,l.kt)("td",{parentName:"tr",align:null},"/c"),(0,l.kt)("td",{parentName:"tr",align:null},"\u63a7\u5236\u5668"),(0,l.kt)("td",{parentName:"tr",align:null},"/c0"),(0,l.kt)("td",{parentName:"tr",align:null},"\u7b2c\u4e00\u4e2a\u63a7\u5236\u5668")),(0,l.kt)("tr",{parentName:"tbody"},(0,l.kt)("td",{parentName:"tr",align:null},"/v"),(0,l.kt)("td",{parentName:"tr",align:null},"VD"),(0,l.kt)("td",{parentName:"tr",align:null},"/v0"),(0,l.kt)("td",{parentName:"tr",align:null},"\u7b2c\u4e00\u4e2a VD")),(0,l.kt)("tr",{parentName:"tbody"},(0,l.kt)("td",{parentName:"tr",align:null},"/e"),(0,l.kt)("td",{parentName:"tr",align:null},"enclosure"),(0,l.kt)("td",{parentName:"tr",align:null},"/e0"),(0,l.kt)("td",{parentName:"tr",align:null},"\u7b2c\u4e00\u4e2a enclosure")),(0,l.kt)("tr",{parentName:"tbody"},(0,l.kt)("td",{parentName:"tr",align:null},"/f"),(0,l.kt)("td",{parentName:"tr",align:null},"\u5916\u90e8\u914d\u7f6e"),(0,l.kt)("td",{parentName:"tr",align:null},"/f0"),(0,l.kt)("td",{parentName:"tr",align:null},"\u7b2c\u4e00\u4e2a\u5916\u90e8\u914d\u7f6e")),(0,l.kt)("tr",{parentName:"tbody"},(0,l.kt)("td",{parentName:"tr",align:null},"/s"),(0,l.kt)("td",{parentName:"tr",align:null},"slot"),(0,l.kt)("td",{parentName:"tr",align:null},"/s0"),(0,l.kt)("td",{parentName:"tr",align:null},"\u7b2c\u4e00\u4e2a slot")),(0,l.kt)("tr",{parentName:"tbody"},(0,l.kt)("td",{parentName:"tr",align:null},"/d"),(0,l.kt)("td",{parentName:"tr",align:null},"\u78c1\u76d8\u9a71\u52a8"),(0,l.kt)("td",{parentName:"tr",align:null},"/d0"),(0,l.kt)("td",{parentName:"tr",align:null},"\u7b2c\u4e00\u4e2a\u78c1\u76d8\u9a71\u52a8")))),(0,l.kt)("p",null,"\u53c2\u6570\u89e3\u91ca\uff1a"),(0,l.kt)("table",null,(0,l.kt)("thead",{parentName:"table"},(0,l.kt)("tr",{parentName:"thead"},(0,l.kt)("th",{parentName:"tr",align:null},"verb"),(0,l.kt)("th",{parentName:"tr",align:null},"\u529f\u80fd\u63cf\u8ff0"))),(0,l.kt)("tbody",{parentName:"table"},(0,l.kt)("tr",{parentName:"tbody"},(0,l.kt)("td",{parentName:"tr",align:null},"add"),(0,l.kt)("td",{parentName:"tr",align:null},"\u6dfb\u52a0\u865a\u62df\u78c1\u76d8\u3001JBODs\u7b49\u5230\u5bf9\u8c61\u6807\u8bc6\u7b26\u4e2d")),(0,l.kt)("tr",{parentName:"tbody"},(0,l.kt)("td",{parentName:"tr",align:null},"compare"),(0,l.kt)("td",{parentName:"tr",align:null},"\u5c06\u8f93\u5165\u503c\u4e0e\u7cfb\u7edf\u503c\u8fdb\u884c\u6bd4\u8f83")),(0,l.kt)("tr",{parentName:"tbody"},(0,l.kt)("td",{parentName:"tr",align:null},"del"),(0,l.kt)("td",{parentName:"tr",align:null},"\u5220\u9664\u5bf9\u8c61\u6807\u8bc6\u7b26\u7684\u78c1\u76d8\u3001\u503c\u6216\u5c5e\u6027")),(0,l.kt)("tr",{parentName:"tbody"},(0,l.kt)("td",{parentName:"tr",align:null},"download"),(0,l.kt)("td",{parentName:"tr",align:null},"\u4e0b\u8f7d\u5e76\u5c06\u6587\u4ef6\u95ea\u5b58\u5230\u76ee\u6807")),(0,l.kt)("tr",{parentName:"tbody"},(0,l.kt)("td",{parentName:"tr",align:null},"expand"),(0,l.kt)("td",{parentName:"tr",align:null},"\u6269\u5c55\u865a\u62df\u78c1\u76d8\u7684\u5927\u5c0f")),(0,l.kt)("tr",{parentName:"tbody"},(0,l.kt)("td",{parentName:"tr",align:null},"erase"),(0,l.kt)("td",{parentName:"tr",align:null},"\u6839\u636e\u6307\u5b9a\u7684\u53c2\u6570\u64e6\u9664\u63a7\u5236\u5668\u4e0a\u7684\u7279\u5b9a\u533a\u57df")),(0,l.kt)("tr",{parentName:"tbody"},(0,l.kt)("td",{parentName:"tr",align:null},"flush"),(0,l.kt)("td",{parentName:"tr",align:null},"\u5237\u65b0\u63a7\u5236\u5668\u7f13\u5b58\u6216\u78c1\u76d8\u7f13\u5b58")),(0,l.kt)("tr",{parentName:"tbody"},(0,l.kt)("td",{parentName:"tr",align:null},"flasherase"),(0,l.kt)("td",{parentName:"tr",align:null},"\u64e6\u9664\u63a7\u5236\u5668\u4e0a\u7684\u95ea\u5b58")),(0,l.kt)("tr",{parentName:"tbody"},(0,l.kt)("td",{parentName:"tr",align:null},"get"),(0,l.kt)("td",{parentName:"tr",align:null},"\u4ece\u63a7\u5236\u5668\u83b7\u53d6\u6570\u636e")),(0,l.kt)("tr",{parentName:"tbody"},(0,l.kt)("td",{parentName:"tr",align:null},"import"),(0,l.kt)("td",{parentName:"tr",align:null},"\u5c06\u5916\u90e8\u914d\u7f6e\u5bfc\u5165\u5230\u78c1\u76d8\u4e2d")),(0,l.kt)("tr",{parentName:"tbody"},(0,l.kt)("td",{parentName:"tr",align:null},"insert"),(0,l.kt)("td",{parentName:"tr",align:null},"\u66ff\u6362\u6807\u8bc6\u4e3a\u7f3a\u5931\u7684\u5df2\u914d\u7f6e\u78c1\u76d8\uff0c\u5e76\u542f\u52a8\u81ea\u52a8\u91cd\u4fee\u590d")),(0,l.kt)("tr",{parentName:"tbody"},(0,l.kt)("td",{parentName:"tr",align:null},"pause"),(0,l.kt)("td",{parentName:"tr",align:null},"\u6682\u505c\u6b63\u5728\u8fdb\u884c\u7684\u64cd\u4f5c")),(0,l.kt)("tr",{parentName:"tbody"},(0,l.kt)("td",{parentName:"tr",align:null},"resume"),(0,l.kt)("td",{parentName:"tr",align:null},"\u7ee7\u7eed\u6682\u505c\u7684\u64cd\u4f5c")),(0,l.kt)("tr",{parentName:"tbody"},(0,l.kt)("td",{parentName:"tr",align:null},"restart"),(0,l.kt)("td",{parentName:"tr",align:null},"\u5728\u4e0d\u91cd\u542f\u7cfb\u7edf\u7684\u60c5\u51b5\u4e0b\u91cd\u65b0\u542f\u52a8\u63a7\u5236\u5668")),(0,l.kt)("tr",{parentName:"tbody"},(0,l.kt)("td",{parentName:"tr",align:null},"set"),(0,l.kt)("td",{parentName:"tr",align:null},"\u8bbe\u7f6e\u5bf9\u8c61\u6807\u8bc6\u7b26\u7684\u503c")),(0,l.kt)("tr",{parentName:"tbody"},(0,l.kt)("td",{parentName:"tr",align:null},"show"),(0,l.kt)("td",{parentName:"tr",align:null},"\u663e\u793a\u5bf9\u8c61\u6807\u8bc6\u7b26\u7684\u503c\u548c\u5c5e\u6027")),(0,l.kt)("tr",{parentName:"tbody"},(0,l.kt)("td",{parentName:"tr",align:null},"split"),(0,l.kt)("td",{parentName:"tr",align:null},"\u4f7f\u60a8\u80fd\u591f\u5728\u78c1\u76d8\u7ec4\u4e0a\u6267\u884c\u4e2d\u65ad\u955c\u50cf\u64cd\u4f5c")),(0,l.kt)("tr",{parentName:"tbody"},(0,l.kt)("td",{parentName:"tr",align:null},"suspend"),(0,l.kt)("td",{parentName:"tr",align:null},"\u6302\u8d77\u6b63\u5728\u6267\u884c\u7684\u7279\u5b9a\u64cd\u4f5c")),(0,l.kt)("tr",{parentName:"tbody"},(0,l.kt)("td",{parentName:"tr",align:null},"start"),(0,l.kt)("td",{parentName:"tr",align:null},"\u5f00\u59cb\u4e00\u4e2a\u64cd\u4f5c")),(0,l.kt)("tr",{parentName:"tbody"},(0,l.kt)("td",{parentName:"tr",align:null},"stop"),(0,l.kt)("td",{parentName:"tr",align:null},"\u505c\u6b62\u6b63\u5728\u8fdb\u884c\u7684\u64cd\u4f5c\u3002\u5df2\u505c\u6b62\u7684\u8fdb\u7a0b\u65e0\u6cd5\u6062\u590d")),(0,l.kt)("tr",{parentName:"tbody"},(0,l.kt)("td",{parentName:"tr",align:null},"spinup"),(0,l.kt)("td",{parentName:"tr",align:null},"\u4f7f\u8fde\u63a5\u5230\u63a7\u5236\u5668\u7684\u78c1\u76d8\u65cb\u8f6c\u8d77\u6765")),(0,l.kt)("tr",{parentName:"tbody"},(0,l.kt)("td",{parentName:"tr",align:null},"spindown"),(0,l.kt)("td",{parentName:"tr",align:null},"\u5173\u95ed\u4e00\u4e2a\u672a\u914d\u7f6e\u7684\u78c1\u76d8\uff0c\u5e76\u51c6\u5907\u79fb\u9664\u5b83")),(0,l.kt)("tr",{parentName:"tbody"},(0,l.kt)("td",{parentName:"tr",align:null},"shutdown"),(0,l.kt)("td",{parentName:"tr",align:null},"\u5173\u95ed\u63a7\u5236\u5668")),(0,l.kt)("tr",{parentName:"tbody"},(0,l.kt)("td",{parentName:"tr",align:null},"transform"),(0,l.kt)("td",{parentName:"tr",align:null},"\u964d\u7ea7\u63a7\u5236\u5668\u4e0a\u7684\u56fa\u4ef6\u5185\u5b58")))),(0,l.kt)("p",null,(0,l.kt)("inlineCode",{parentName:"p"},"<[adverb | attributes | properties]>")," \uff1a\u6307\u5b9a\u52a8\u8bcd\u4fee\u9970\u6216\u663e\u793a\u7684\u5185\u5bb9"),(0,l.kt)("p",null,(0,l.kt)("inlineCode",{parentName:"p"},"<[key=value]>"),"\uff1a\u5982\u679c\u547d\u4ee4\u9700\u8981\u4e00\u4e2a\u503c\uff0c\u5219\u6307\u5b9a\u4e00\u4e2a\u503c\u3002"),(0,l.kt)("p",null,"\u4e3e\u4e00\u4e2a\u5c0f\u4f8b\u5b50\uff1a"),(0,l.kt)("pre",null,(0,l.kt)("code",{parentName:"pre",className:"language-bash"},"# \u6253\u5f00\u7b2c\u4e00\u4e2a\u63a7\u5236\u5668\u7684\u62a5\u8b66\u8bbe\u7f6e\n[root@arm64v8 ~]# storcli /c0 set alarm=on\nCLI Version = 007.1316.0000.0000 Mar 12, 2020\nOperating system = Linux 4.19.90-17.ky10.aarch64\nController = 0\nStatus = Success\nDescription = None\n\nController Properties :\n=====================\n\n----------------\nCtrl_Prop Value \n----------------\nAlarm     ON  \n----------------\n")),(0,l.kt)("h4",{id:"7312\u7cfb\u7edf\u547d\u4ee4"},"7.3.1.2\u3001\u7cfb\u7edf\u547d\u4ee4"),(0,l.kt)("table",null,(0,l.kt)("thead",{parentName:"table"},(0,l.kt)("tr",{parentName:"thead"},(0,l.kt)("th",{parentName:"tr",align:null},"\u547d\u4ee4"),(0,l.kt)("th",{parentName:"tr",align:null},"\u8bf4\u660e"))),(0,l.kt)("tbody",{parentName:"table"},(0,l.kt)("tr",{parentName:"tbody"},(0,l.kt)("td",{parentName:"tr",align:null},"storcli show"),(0,l.kt)("td",{parentName:"tr",align:null},"\u67e5\u770b RAID \u63a7\u5236\u5668\u7684\u6458\u8981\u4fe1\u606f")),(0,l.kt)("tr",{parentName:"tbody"},(0,l.kt)("td",{parentName:"tr",align:null},"storcli show all"),(0,l.kt)("td",{parentName:"tr",align:null},"\u67e5\u770b\u8be6\u7ec6\u7684 RAID \u63a7\u5236\u5668\u4fe1\u606f")),(0,l.kt)("tr",{parentName:"tbody"},(0,l.kt)("td",{parentName:"tr",align:null},"storcli show ctrlcount"),(0,l.kt)("td",{parentName:"tr",align:null},"\u67e5\u770b RAID \u5361\u63a7\u5236\u5668\u6570\u91cf")),(0,l.kt)("tr",{parentName:"tbody"},(0,l.kt)("td",{parentName:"tr",align:null},"storcli show help"),(0,l.kt)("td",{parentName:"tr",align:null},"\u67e5\u770b Storcli \u5e2e\u52a9")),(0,l.kt)("tr",{parentName:"tbody"},(0,l.kt)("td",{parentName:"tr",align:null},"storcli -v"),(0,l.kt)("td",{parentName:"tr",align:null},"\u67e5\u770b Storcli \u7248\u672c")))),(0,l.kt)("p",null,"\u4e3e\u4e2a\u5c0f\u4f8b\u5b50\uff1a"),(0,l.kt)("pre",null,(0,l.kt)("code",{parentName:"pre",className:"language-bash"},"[root@arm64v8 ~]# storcli show\nCLI Version = 007.1316.0000.0000 Mar 12, 2020\nOperating system = Linux 4.19.90-17.ky10.aarch64\nStatus Code = 0\nStatus = Success\nDescription = None\n\nNumber of Controllers = 1\nHost Name = arm64v8\nOperating System  = Linux 4.19.90-17.ky10.aarch64\nStoreLib IT Version = 07.1400.0200.0200\n\nSystem Overview :\n===============\n\n------------------------------------------------------------------------------------\nCtl Model                   Ports PDs DGs DNOpt VDs VNOpt BBU sPR DS  EHS ASOs Hlth \n------------------------------------------------------------------------------------\n  0 AVAGOMegaRAIDSAS9361-8i     8  26   1     0   1     0 N/A On  1&2 Y      3 Opt  \n------------------------------------------------------------------------------------\n\nCtl=Controller Index|DGs=Drive groups|VDs=Virtual drives|Fld=Failed\nPDs=Physical drives|DNOpt=Array NotOptimal|VNOpt=LD NotOptimal|Opt=Optimal\nMsng=Missing|Dgd=Degraded|NdAtn=Need Attention|Unkwn=Unknown\nsPR=Scheduled Patrol Read|DS=DimmerSwitch|EHS=Emergency Spare Drive\nY=Yes|N=No|ASOs=Advanced Software Options|BBU=Battery backup unit/CV\nHlth=Health|Safe=Safe-mode boot\n")),(0,l.kt)("h4",{id:"7313\u63a7\u5236\u5668\u547d\u4ee4"},"7.3.1.3\u3001\u63a7\u5236\u5668\u547d\u4ee4"),(0,l.kt)("table",null,(0,l.kt)("thead",{parentName:"table"},(0,l.kt)("tr",{parentName:"thead"},(0,l.kt)("th",{parentName:"tr",align:null},"\u547d\u4ee4"),(0,l.kt)("th",{parentName:"tr",align:null},"\u8bf4\u660e"))),(0,l.kt)("tbody",{parentName:"table"},(0,l.kt)("tr",{parentName:"tbody"},(0,l.kt)("td",{parentName:"tr",align:null},"show"),(0,l.kt)("td",{parentName:"tr",align:null},"\u67e5\u770b\u63a7\u5236\u5668\u6240\u6709\u5c5e\u6027")),(0,l.kt)("tr",{parentName:"tbody"},(0,l.kt)("td",{parentName:"tr",align:null},"\\set",(0,l.kt)("inlineCode",{parentName:"td"},"<properties>")),(0,l.kt)("td",{parentName:"tr",align:null},"\u8bbe\u7f6e\u63a7\u5236\u5668\u5c5e\u6027")),(0,l.kt)("tr",{parentName:"tbody"},(0,l.kt)("td",{parentName:"tr",align:null},"show",(0,l.kt)("inlineCode",{parentName:"td"},"<properties>")),(0,l.kt)("td",{parentName:"tr",align:null},"\u67e5\u770b\u63a7\u5236\u5668\u67d0\u4e2a\u5c5e\u6027")))),(0,l.kt)("p",null,"\u4e3e\u4e2a\u5c0f\u4f8b\u5b50\uff1a"),(0,l.kt)("pre",null,(0,l.kt)("code",{parentName:"pre",className:"language-bash"},"[root@arm64v8 ~]# storcli /c0 show alarm\nCLI Version = 007.1316.0000.0000 Mar 12, 2020\nOperating system = Linux 4.19.90-17.ky10.aarch64\nController = 0\nStatus = Success\nDescription = None\n\nController Properties :\n=====================\n\n----------------\nCtrl_Prop Value \n----------------\nAlarm     ON  \n----------------\n")),(0,l.kt)("p",null,"\u670d\u52a1\u5668\u652f\u6301\u7684\u5e38\u7528\u5c5e\u6027\u5982\u4e0b\uff1a"),(0,l.kt)("table",null,(0,l.kt)("thead",{parentName:"table"},(0,l.kt)("tr",{parentName:"thead"},(0,l.kt)("th",{parentName:"tr",align:null},"\u5c5e\u6027\u540d"),(0,l.kt)("th",{parentName:"tr",align:null},"\u53c2\u6570\u503c"),(0,l.kt)("th",{parentName:"tr",align:null},"\u8bf4\u660e"))),(0,l.kt)("tbody",{parentName:"table"},(0,l.kt)("tr",{parentName:"tbody"},(0,l.kt)("td",{parentName:"tr",align:null},"alarm"),(0,l.kt)("td",{parentName:"tr",align:null},"on"),(0,l.kt)("td",{parentName:"tr",align:null},"off")),(0,l.kt)("tr",{parentName:"tbody"},(0,l.kt)("td",{parentName:"tr",align:null},"bgirate"),(0,l.kt)("td",{parentName:"tr",align:null},"0 to 100"),(0,l.kt)("td",{parentName:"tr",align:null},"\u8bbe\u7f6e\u540e\u53f0\u521d\u59cb\u5316\u5360\u7528\u7cfb\u7edf\u767e\u5206\u6bd4")),(0,l.kt)("tr",{parentName:"tbody"},(0,l.kt)("td",{parentName:"tr",align:null},"ccrate"),(0,l.kt)("td",{parentName:"tr",align:null},"0 to 100"),(0,l.kt)("td",{parentName:"tr",align:null},"\u8bbe\u7f6e\u4e00\u81f4\u6027\u6821\u9a8c cc \u5360\u7cfb\u7edf\u8d44\u6e90\u767e\u5206\u6bd4")),(0,l.kt)("tr",{parentName:"tbody"},(0,l.kt)("td",{parentName:"tr",align:null},"coercion"),(0,l.kt)("td",{parentName:"tr",align:null},"0: No coercion"),(0,l.kt)("td",{parentName:"tr",align:null})),(0,l.kt)("tr",{parentName:"tbody"},(0,l.kt)("td",{parentName:"tr",align:null},"1: 128 MB"),(0,l.kt)("td",{parentName:"tr",align:null}),(0,l.kt)("td",{parentName:"tr",align:null})),(0,l.kt)("tr",{parentName:"tbody"},(0,l.kt)("td",{parentName:"tr",align:null},"2: 1 GB"),(0,l.kt)("td",{parentName:"tr",align:null},"\u78c1\u76d8\u5f3a\u5236\u662f\u4e00\u4e2a\u80fd\u5f3a\u5236\u6709\u591a\u79cd\u53d8\u5316\u80fd\u529b\u7684\u7269\u7406\u78c1\u76d8"),(0,l.kt)("td",{parentName:"tr",align:null})),(0,l.kt)("tr",{parentName:"tbody"},(0,l.kt)("td",{parentName:"tr",align:null},"\u6210\u4e3a\u540c\u4e00\u5c3a\u5bf8\u7684\u5de5\u5177\u8fd9\u6837\u53d8\u6362\u540e\u8fd9\u4e9b\u78c1\u76d8\u5c31\u80fd\u5728\u9635"),(0,l.kt)("td",{parentName:"tr",align:null}),(0,l.kt)("td",{parentName:"tr",align:null})),(0,l.kt)("tr",{parentName:"tbody"},(0,l.kt)("td",{parentName:"tr",align:null},"\u5217\u4e2d\u4f7f\u7528\uff0c\u8fd9\u4e9b\u9009\u9879\u6709128MB-way,1GB-way."),(0,l.kt)("td",{parentName:"tr",align:null}),(0,l.kt)("td",{parentName:"tr",align:null})),(0,l.kt)("tr",{parentName:"tbody"},(0,l.kt)("td",{parentName:"tr",align:null},"\u9ed8\u8ba4\u503c\u662f\u65e0\u3002"),(0,l.kt)("td",{parentName:"tr",align:null}),(0,l.kt)("td",{parentName:"tr",align:null})),(0,l.kt)("tr",{parentName:"tbody"},(0,l.kt)("td",{parentName:"tr",align:null},"copyback"),(0,l.kt)("td",{parentName:"tr",align:null},"on"),(0,l.kt)("td",{parentName:"tr",align:null},"off")),(0,l.kt)("tr",{parentName:"tbody"},(0,l.kt)("td",{parentName:"tr",align:null},"type = smartssd"),(0,l.kt)("td",{parentName:"tr",align:null},"smarthdd"),(0,l.kt)("td",{parentName:"tr",align:null},"all")),(0,l.kt)("tr",{parentName:"tbody"},(0,l.kt)("td",{parentName:"tr",align:null},"smartssd: Copy back enabled for SSD drives"),(0,l.kt)("td",{parentName:"tr",align:null}),(0,l.kt)("td",{parentName:"tr",align:null})),(0,l.kt)("tr",{parentName:"tbody"},(0,l.kt)("td",{parentName:"tr",align:null},"smarthdd: Copy back enabled for HDD drives."),(0,l.kt)("td",{parentName:"tr",align:null}),(0,l.kt)("td",{parentName:"tr",align:null})),(0,l.kt)("tr",{parentName:"tbody"},(0,l.kt)("td",{parentName:"tr",align:null},"all: Copy back enabled for both ssd drives and HDD drives."),(0,l.kt)("td",{parentName:"tr",align:null}),(0,l.kt)("td",{parentName:"tr",align:null})),(0,l.kt)("tr",{parentName:"tbody"},(0,l.kt)("td",{parentName:"tr",align:null},"Example: storcli /cx set copyback=on type=all"),(0,l.kt)("td",{parentName:"tr",align:null},"\u63a7\u5236\u78c1\u76d8\u7684\u56de\u62f7"),(0,l.kt)("td",{parentName:"tr",align:null})),(0,l.kt)("tr",{parentName:"tbody"},(0,l.kt)("td",{parentName:"tr",align:null},"foreignautoimport"),(0,l.kt)("td",{parentName:"tr",align:null},"on"),(0,l.kt)("td",{parentName:"tr",align:null},"off")),(0,l.kt)("tr",{parentName:"tbody"},(0,l.kt)("td",{parentName:"tr",align:null},"jbod"),(0,l.kt)("td",{parentName:"tr",align:null},"on"),(0,l.kt)("td",{parentName:"tr",align:null},"off")),(0,l.kt)("tr",{parentName:"tbody"},(0,l.kt)("td",{parentName:"tr",align:null},"loadbalancemode"),(0,l.kt)("td",{parentName:"tr",align:null},"on"),(0,l.kt)("td",{parentName:"tr",align:null},"off")),(0,l.kt)("tr",{parentName:"tbody"},(0,l.kt)("td",{parentName:"tr",align:null},"patrolread"),(0,l.kt)("td",{parentName:"tr",align:null},"storcli /cx resume patrolread"),(0,l.kt)("td",{parentName:"tr",align:null})),(0,l.kt)("tr",{parentName:"tbody"},(0,l.kt)("td",{parentName:"tr",align:null},"storcli /cx set patrolread ={{on mode=<auto"),(0,l.kt)("td",{parentName:"tr",align:null},"manual>}"),(0,l.kt)("td",{parentName:"tr",align:null},"{off}}")),(0,l.kt)("tr",{parentName:"tbody"},(0,l.kt)("td",{parentName:"tr",align:null},"storcli /cx set patrolread","[","starttime=<yyyy/mm/dd hh>","]"),(0,l.kt)("td",{parentName:"tr",align:null}),(0,l.kt)("td",{parentName:"tr",align:null})),(0,l.kt)("tr",{parentName:"tbody"},(0,l.kt)("td",{parentName:"tr",align:null},"[","maxconcurrentpd=",(0,l.kt)("inlineCode",{parentName:"td"},"<value>"),"]"),(0,l.kt)("td",{parentName:"tr",align:null}),(0,l.kt)("td",{parentName:"tr",align:null})),(0,l.kt)("tr",{parentName:"tbody"},(0,l.kt)("td",{parentName:"tr",align:null},"[","includessds=<on"),(0,l.kt)("td",{parentName:"tr",align:null},"off>","]"),(0,l.kt)("td",{parentName:"tr",align:null})),(0,l.kt)("tr",{parentName:"tbody"},(0,l.kt)("td",{parentName:"tr",align:null},"[","uncfgareas=<on"),(0,l.kt)("td",{parentName:"tr",align:null},"off>","]"),(0,l.kt)("td",{parentName:"tr",align:null})))),(0,l.kt)("p",null,"storcli /cx set patrolread delay=",(0,l.kt)("inlineCode",{parentName:"p"},"<value>"),"\nstorcli /cx show patrolread\nstorcli /cx start patrolread\nstorcli /cx stop patrolread\nstorcli /cx suspend patrolread"),(0,l.kt)("p",null," | \u63a7\u5236\u78c1\u76d8\u5de1\u8bfb |\n| pi | on|off | \u5f00\u542f\u63a7\u5236\u5668\u7684\u6570\u636e\u4fdd\u62a4\u529f\u80fd |\n| rebuildrate | 0 to 100 | \u8bbe\u7f6e\u91cd\u5efa\u5360\u7528\u7cfb\u7edf\u8d44\u6e90\u767e\u5206\u6bd4 |\n| reconrate | 0 to 100 | \u7cfb\u7edf\u6269\u5bb9\u5360\u7528\u8d44\u6e90\u767e\u5206\u6bd4 |"),(0,l.kt)("h4",{id:"7314\u7269\u7406\u78c1\u76d8\u547d\u4ee4"},"7.3.1.4\u3001\u7269\u7406\u78c1\u76d8\u547d\u4ee4"),(0,l.kt)("table",null,(0,l.kt)("thead",{parentName:"table"},(0,l.kt)("tr",{parentName:"thead"},(0,l.kt)("th",{parentName:"tr",align:null},"\u547d\u4ee4"),(0,l.kt)("th",{parentName:"tr",align:null},"\u503c"),(0,l.kt)("th",{parentName:"tr",align:null},"\u8bf4\u660e"))),(0,l.kt)("tbody",{parentName:"table"},(0,l.kt)("tr",{parentName:"tbody"},(0,l.kt)("td",{parentName:"tr",align:null},"set"),(0,l.kt)("td",{parentName:"tr",align:null},"missing"),(0,l.kt)("td",{parentName:"tr",align:null})),(0,l.kt)("tr",{parentName:"tbody"},(0,l.kt)("td",{parentName:"tr",align:null},"good"),(0,l.kt)("td",{parentName:"tr",align:null}),(0,l.kt)("td",{parentName:"tr",align:null})),(0,l.kt)("tr",{parentName:"tbody"},(0,l.kt)("td",{parentName:"tr",align:null},"offline"),(0,l.kt)("td",{parentName:"tr",align:null}),(0,l.kt)("td",{parentName:"tr",align:null})),(0,l.kt)("tr",{parentName:"tbody"},(0,l.kt)("td",{parentName:"tr",align:null},"online"),(0,l.kt)("td",{parentName:"tr",align:null},"\u8bbe\u7f6e\u78c1\u76d8\u72b6\u6001"),(0,l.kt)("td",{parentName:"tr",align:null})),(0,l.kt)("tr",{parentName:"tbody"},(0,l.kt)("td",{parentName:"tr",align:null},"show"),(0,l.kt)("td",{parentName:"tr",align:null},"all"),(0,l.kt)("td",{parentName:"tr",align:null},"\u663e\u793a\u78c1\u76d8\u4fe1\u606f")))),(0,l.kt)("p",null,(0,l.kt)("strong",{parentName:"p"},"\u67e5\u770b\u78c1\u76d8\u547d\u4ee4")),(0,l.kt)("pre",null,(0,l.kt)("code",{parentName:"pre",className:"language-bash"},"[root@arm64v8 ~]# storcli /c0/eall/sall show\nCLI Version = 007.1316.0000.0000 Mar 12, 2020\nOperating system = Linux 4.19.90-17.ky10.aarch64\nController = 0\nStatus = Success\nDescription = Show Drive Information Succeeded.\n\nDrive Information :\n=================\n\n---------------------------------------------------------------------------------\nEID:Slt DID State DG       Size Intf Med SED PI SeSz Model               Sp Type \n---------------------------------------------------------------------------------\n18:0     30 JBOD  -  447.130 GB SATA SSD N   N  512B INTEL SSDSC2KB480G8 U  -  \n18:1     33 JBOD  -  447.130 GB SATA SSD N   N  512B INTEL SSDSC2KB480G8 U  -  \n18:2     31 JBOD  -  447.130 GB SATA SSD N   N  512B INTEL SSDSC2KB480G8 U  -  \n18:3     34 JBOD  -  447.130 GB SATA SSD N   N  512B INTEL SSDSC2KB480G8 U  -  \n18:4     10 JBOD  -    2.182 TB SAS  HDD N   N  512B AL15SEB24EQ         U  -  \n18:5     27 JBOD  -    2.182 TB SAS  HDD N   N  512B AL15SEB24EQ         U  -  \n18:6     14 JBOD  -    2.182 TB SAS  HDD N   N  512B AL15SEB24EQ         U  -  \n18:7     12 JBOD  -    2.182 TB SAS  HDD N   N  512B AL15SEB24EQ         U  -  \n18:8     17 JBOD  -    2.182 TB SAS  HDD N   N  512B AL15SEB24EQ         U  -  \n18:9      8 JBOD  -    2.182 TB SAS  HDD N   N  512B AL15SEB24EQ         U  -  \n18:10    21 JBOD  -    2.182 TB SAS  HDD N   N  512B AL15SEB24EQ         U  -  \n18:11    22 JBOD  -    2.182 TB SAS  HDD N   N  512B AL15SEB24EQ         U  -  \n18:12     9 JBOD  -    2.182 TB SAS  HDD N   N  512B AL15SEB24EQ         U  -  \n18:13    23 JBOD  -    2.182 TB SAS  HDD N   N  512B AL15SEB24EQ         U  -  \n18:14    15 JBOD  -    2.182 TB SAS  HDD N   N  512B AL15SEB24EQ         U  -  \n18:15    24 JBOD  -    2.182 TB SAS  HDD N   N  512B AL15SEB24EQ         U  -  \n18:16    11 JBOD  -    2.182 TB SAS  HDD N   N  512B AL15SEB24EQ         U  -  \n18:17    28 JBOD  -    2.182 TB SAS  HDD N   N  512B AL15SEB24EQ         U  -  \n18:18    26 JBOD  -    2.182 TB SAS  HDD N   N  512B AL15SEB24EQ         U  -  \n18:19    20 JBOD  -    2.182 TB SAS  HDD N   N  512B AL15SEB24EQ         U  -  \n18:20    13 JBOD  -    2.182 TB SAS  HDD N   N  512B AL15SEB24EQ         U  -  \n18:21    16 JBOD  -    2.182 TB SAS  HDD N   N  512B AL15SEB24EQ         U  -  \n18:22    19 JBOD  -    2.182 TB SAS  HDD N   N  512B AL15SEB24EQ         U  -  \n18:23    25 JBOD  -    2.182 TB SAS  HDD N   N  512B AL15SEB24EQ         U  -  \n252:0    29 Onln  0  446.625 GB SATA SSD N   N  512B INTEL SSDSC2KB480G8 U  -  \n252:1    32 Onln  0  446.625 GB SATA SSD N   N  512B INTEL SSDSC2KB480G8 U  -  \n---------------------------------------------------------------------------------\n\nEID=Enclosure Device ID|Slt=Slot No.|DID=Device ID|DG=DriveGroup\nDHS=Dedicated Hot Spare|UGood=Unconfigured Good|GHS=Global Hotspare\nUBad=Unconfigured Bad|Sntze=Sanitize|Onln=Online|Offln=Offline|Intf=Interface\nMed=Media Type|SED=Self Encryptive Drive|PI=Protection Info\nSeSz=Sector Size|Sp=Spun|U=Up|D=Down|T=Transition|F=Foreign\nUGUnsp=UGood Unsupported|UGShld=UGood shielded|HSPShld=Hotspare shielded\nCFShld=Configured shielded|Cpybck=CopyBack|CBShld=Copyback Shielded\nUBUnsp=UBad Unsupported|Rbld=Rebuild\n")),(0,l.kt)("pre",null,(0,l.kt)("code",{parentName:"pre",className:"language-bash"},"# \u67e5\u770b\u63a7\u5236\u5668 1\uff0c enclosure18\uff0c4\uff0c5 \u69fd\u4f4d\u7684\u78c1\u76d8\u4fe1\u606f(\u6ce8\u610f\u5e8f\u53f7\u90fd\u662f\u4ece 0 \u5f00\u59cb)\n[root@arm64v8 ~]# storcli /c0/e18/s3,4 show\nCLI Version = 007.1316.0000.0000 Mar 12, 2020\nOperating system = Linux 4.19.90-17.ky10.aarch64\nController = 0\nStatus = Success\nDescription = Show Drive Information Succeeded.\n\nDrive Information :\n=================\n\n---------------------------------------------------------------------------------\nEID:Slt DID State DG       Size Intf Med SED PI SeSz Model               Sp Type \n---------------------------------------------------------------------------------\n18:3     34 JBOD  -  447.130 GB SATA SSD N   N  512B INTEL SSDSC2KB480G8 U  -  \n18:4     10 JBOD  -    2.182 TB SAS  HDD N   N  512B AL15SEB24EQ         U  -  \n---------------------------------------------------------------------------------\n\nEID=Enclosure Device ID|Slt=Slot No.|DID=Device ID|DG=DriveGroup\nDHS=Dedicated Hot Spare|UGood=Unconfigured Good|GHS=Global Hotspare\nUBad=Unconfigured Bad|Sntze=Sanitize|Onln=Online|Offln=Offline|Intf=Interface\nMed=Media Type|SED=Self Encryptive Drive|PI=Protection Info\nSeSz=Sector Size|Sp=Spun|U=Up|D=Down|T=Transition|F=Foreign\nUGUnsp=UGood Unsupported|UGShld=UGood shielded|HSPShld=Hotspare shielded\nCFShld=Configured shielded|Cpybck=CopyBack|CBShld=Copyback Shielded\nUBUnsp=UBad Unsupported|Rbld=Rebuild\n\n# \u67e5\u770b\u63a7\u5236\u5668 1\uff0c enclosure18\uff0c\u524d4\u4e2a\u69fd\u4f4d\u7684\u78c1\u76d8\u4fe1\u606f(\u6ce8\u610f\u5e8f\u53f7\u90fd\u662f\u4ece 0 \u5f00\u59cb)\n[root@arm64v8 ~]# storcli /c0/e18/s0-3 show\n")),(0,l.kt)("p",null,(0,l.kt)("strong",{parentName:"p"},"\u8bbe\u7f6e\u78c1\u76d8\u72b6\u6001")),(0,l.kt)("pre",null,(0,l.kt)("code",{parentName:"pre",className:"language-bash"},"storcli /cx[/ex]/sx set jbod\nstorcli /cx[/ex]/sx set good [force]\nstorcli /cx[/ex]/sx set offline\nstorcli /cx[/ex]/sx set online\n")),(0,l.kt)("p",null,"\u4f7f\u7528 raid \u5361\u7ba1\u7406\u7684\u78c1\u76d8\u6709\u4e24\u79cd\u6a21\u5f0f\u72b6\u6001\uff0c\u7b2c\u4e00\u79cd\u5c31\u662f raid \u9635\u5217\u72b6\u6001\uff0c\u7b2c\u4e8c\u79cd\u5c31\u662f jbod \u76f4\u901a\u72b6\u6001\u3002",(0,l.kt)("strong",{parentName:"p"},"\u9700\u8981\u8bf4\u660e\u7684\u662f"),"\uff0c\u63a7\u5236\u5668\u7684 jbod \u5f00\u5173\u5173\u95ed\uff0c\u5219\u53ea\u80fd\u914d\u7f6e raid \u9635\u5217\uff1b\u63a7\u5236\u5668\u7684 jbod \u5f00\u5173\u6253\u5f00\uff0c\u867d\u7136\u6240\u6709\u78c1\u76d8\u7684 state \u4f1a\u81ea\u52a8\u53d8\u4e3a jbod\uff0c\u4f46\u4f9d\u7136\u53ef\u4ee5\u914d\u7f6e raid \u9635\u5217\uff0c\u5373 jbod \u548c raid \u9635\u5217\u5171\u5b58\u3002"),(0,l.kt)("h5",{id:"73141raid-\u9635\u5217\u72b6\u6001"},"7.3.1.4.1\u3001raid \u9635\u5217\u72b6\u6001"),(0,l.kt)("ol",null,(0,l.kt)("li",{parentName:"ol"},(0,l.kt)("p",{parentName:"li"},"\u5173\u95ed\u63a7\u5236\u5668\u7684 jbod \u6a21\u5f0f\uff0c\u5c06\u81ea\u52a8\u5207\u56de raid \u6a21\u5f0f\uff0c\u53ea\u80fd\u914d\u7f6e raid \u9635\u5217"),(0,l.kt)("pre",{parentName:"li"},(0,l.kt)("code",{parentName:"pre",className:"language-bash"},"[root@arm64v8 ~]# storcli /c0 set jbod=off\nCLI Version = 007.1316.0000.0000 Mar 12, 2020\nOperating system = Linux 4.19.90-17.ky10.aarch64\nController = 0\nStatus = Success\nDescription = None\n\nController Properties :\n=====================\n\n----------------\nCtrl_Prop Value \n----------------\nJBOD      OFF   \n----------------\n"))),(0,l.kt)("li",{parentName:"ol"},(0,l.kt)("p",{parentName:"li"},"raid \u6a21\u5f0f\u4e0b\uff0c\u5982\u679c\u4e0d\u5bf9\u78c1\u76d8\u8fdb\u884c raid \u914d\u7f6e\uff0c\u5728\u64cd\u4f5c\u7cfb\u7edf\u91cc\u9762\u662f\u770b\u4e0d\u5230\u78c1\u76d8\u7684\u3002"),(0,l.kt)("pre",{parentName:"li"},(0,l.kt)("code",{parentName:"pre",className:"language-bash"},'# \u4e00\u5171\u670926\u5757\u76d8\uff0c\u73b0\u5728\u53ea\u770b\u5230\u4e00\u4e2a\u7cfb\u7edf\u76d8\n[root@arm64v8 ~]# fdisk -l | egrep "Disk /dev"\nDisk /dev/sda: 446.64 GiB, 479559942144 bytes, 936640512 sectors\n[root@arm64v8 ~]#\n'))),(0,l.kt)("li",{parentName:"ol"},(0,l.kt)("p",{parentName:"li"},"\u5728 raid \u6a21\u5f0f\u4e0b\u4e0d\u80fd\u518d set jbod\uff0c\u53ea\u80fd\u914d\u7f6e raid\uff0c\u8bbe\u7f6e good\u3001offline \u548c online \u7b49\u78c1\u76d8\u72b6\u6001\u3002"),(0,l.kt)("pre",{parentName:"li"},(0,l.kt)("code",{parentName:"pre",className:"language-bash"},"[root@arm64v8 ~]# storcli /c0/e18/s0 set jbod\nCLI Version = 007.1316.0000.0000 Mar 12, 2020\nOperating system = Linux 4.19.90-17.ky10.aarch64\nController = 0\nStatus = Failure\nDescription = Set Drive JBOD Failed. # \u62a5\u9519\uff0c\u56e0\u4e3a\u63a7\u5236\u5668\u5173\u95ed\u4e86jbod\n\nDetailed Status :\n===============\n\n------------------------------------------\nDrive      Status  ErrCd ErrMsg         \n------------------------------------------\n/c0/e18/s0 Failure     2 command invalid  \n------------------------------------------\n\n# \u4e0d\u6307\u660e pdperarray \u62a5\u9519\uff0c\u56e0\u4e3a raid10 \u91cc\u9762\u6709\u4e24\u4e2a\u7ec4\uff0c\u5982\u679c\u521b\u5efa raid5 \u8fd9\u6837\u7684\u5355\u7ec4\u5c31\u4e0d\u7528\u6307\u4e86\n[root@arm64v8 ~]# storcli /c0 add vd type=raid10 size=2gb,3gb,4gb name=tmp1,tmp2,tmp3 drives=18:0-3\nCLI Version = 007.1316.0000.0000 Mar 12, 2020\nOperating system = Linux 4.19.90-17.ky10.aarch64\nController = 0\nStatus = Failure\nDescription = operation not possible for current RAID level, Cannot create configuration with 1 span\n\n# \u4f7f\u7528/e18/s0-s3\u56db\u4e2a\u78c1\u76d8\u521b\u5efaraid10\u78c1\u76d8\u7ec4\uff0c\u5e76\u4e14\u521b\u5efa3\u4e2a\u865a\u62df\u78c1\u76d8\u3002\n[root@arm64v8 ~]# storcli /c0 add vd type=raid10 size=2gb,3gb,4gb name=tmp1,tmp2,tmp3 drives=18:0-3 pdperarray=2\nCLI Version = 007.1316.0000.0000 Mar 12, 2020\nOperating system = Linux 4.19.90-17.ky10.aarch64\nController = 0\nStatus = Success\nDescription = Add VD Succeeded.\n\n# \u5176\u4e2draid1\u78c1\u76d8\u7ec4\u7528\u6765\u88c5\u64cd\u4f5c\u7cfb\u7edf\n[root@arm64v8 ~]# storcli /c0/vall show\nCLI Version = 007.1316.0000.0000 Mar 12, 2020\nOperating system = Linux 4.19.90-17.ky10.aarch64\nController = 0\nStatus = Success\nDescription = None\n\nVirtual Drives :\n==============\n\n----------------------------------------------------------------\nDG/VD TYPE   State Access Consist Cache Cac sCC       Size Name \n----------------------------------------------------------------\n0/0   RAID1  Optl  RW     Yes     RWTD  -   ON  446.625 GB    \n1/1   RAID10 Optl  RW     No      RWTD  -   ON    2.000 GB tmp1 \n1/2   RAID10 Optl  RW     No      RWTD  -   ON    3.000 GB tmp2 \n1/3   RAID10 Optl  RW     No      RWTD  -   ON    4.000 GB tmp3 \n----------------------------------------------------------------\n\nVD=Virtual Drive| DG=Drive Group|Rec=Recovery\nCac=CacheCade|OfLn=OffLine|Pdgd=Partially Degraded|Dgrd=Degraded\nOptl=Optimal||dflt=Default|RO=Read Only|RW=Read Write|HD=Hidden|TRANS=TransportReady|B=Blocked|\nConsist=Consistent|R=Read Ahead Always|NR=No Read Ahead|WB=WriteBack|\nAWB=Always WriteBack|WT=WriteThrough|C=Cached IO|D=Direct IO|sCC=Scheduled\nCheck Consistency\n\n# \u78c1\u76d8\u7ec4raid10\u5269\u4f59\u6240\u6709\u5bb9\u91cf\u90fd\u7ed9tmp4\n[root@arm64v8 ~]# storcli /c0 add vd type=raid10 size=all name=tmp4 drives=18:0-3 pdperarray=2\nCLI Version = 007.1316.0000.0000 Mar 12, 2020\nOperating system = Linux 4.19.90-17.ky10.aarch64\nController = 0\nStatus = Success\nDescription = Add VD Succeeded.\n")))),(0,l.kt)("h5",{id:"73142jbod-\u76f4\u901a\u72b6\u6001"},"7.3.1.4.2\u3001jbod \u76f4\u901a\u72b6\u6001"),(0,l.kt)("ol",null,(0,l.kt)("li",{parentName:"ol"},(0,l.kt)("p",{parentName:"li"},"\u6253\u5f00\u63a7\u5236\u5668\u7684 jbod \u6a21\u5f0f\uff0c\u5c06\u81ea\u52a8\u4ece raid \u72b6\u6001\u5207\u6362\u81f3 jbod \u72b6\u6001\uff0c\u5e76\u4e14\u53ef\u4ee5\u540c\u65f6\u914d\u7f6e raid \u9635\u5217\uff0c\u4f7f jbod \u548c raid \u5171\u5b58\u3002"),(0,l.kt)("pre",{parentName:"li"},(0,l.kt)("code",{parentName:"pre",className:"language-bash"},"[root@arm64v8 ~]# storcli /c0 set jbod=on\nCLI Version = 007.1316.0000.0000 Mar 12, 2020\nOperating system = Linux 4.19.90-17.ky10.aarch64\nController = 0\nStatus = Success\nDescription = None\n\nController Properties :\n=====================\n\n----------------\nCtrl_Prop Value \n----------------\nJBOD      ON  \n----------------\n"))),(0,l.kt)("li",{parentName:"ol"},(0,l.kt)("p",{parentName:"li"},"\u6253\u5f00 jbod \u76f4\u901a\u6a21\u5f0f\u540e\uff0c\u5728\u64cd\u4f5c\u7cfb\u7edf\u91cc\u9762\u53ef\u4ee5\u76f4\u63a5\u770b\u5230\u78c1\u76d8"),(0,l.kt)("pre",{parentName:"li"},(0,l.kt)("code",{parentName:"pre",className:"language-bash"},'[root@arm64v8 ~]# fdisk -l | egrep "Disk /dev"\nDisk /dev/sda: 446.64 GiB, 479559942144 bytes, 936640512 sectors\nDisk /dev/sdb: 2.19 TiB, 2400476553216 bytes, 4688430768 sectors\nDisk /dev/sdc: 2.19 TiB, 2400476553216 bytes, 4688430768 sectors\nDisk /dev/sdd: 2.19 TiB, 2400476553216 bytes, 4688430768 sectors\nDisk /dev/sde: 2.19 TiB, 2400476553216 bytes, 4688430768 sectors\nDisk /dev/sdf: 2.19 TiB, 2400476553216 bytes, 4688430768 sectors\nDisk /dev/sdg: 2.19 TiB, 2400476553216 bytes, 4688430768 sectors\nDisk /dev/sdh: 2.19 TiB, 2400476553216 bytes, 4688430768 sectors\nDisk /dev/sdi: 2.19 TiB, 2400476553216 bytes, 4688430768 sectors\nDisk /dev/sdj: 2.19 TiB, 2400476553216 bytes, 4688430768 sectors\nDisk /dev/sdk: 2.19 TiB, 2400476553216 bytes, 4688430768 sectors\nDisk /dev/sdl: 2.19 TiB, 2400476553216 bytes, 4688430768 sectors\nDisk /dev/sdm: 2.19 TiB, 2400476553216 bytes, 4688430768 sectors\nDisk /dev/sdn: 2.19 TiB, 2400476553216 bytes, 4688430768 sectors\nDisk /dev/sdo: 2.19 TiB, 2400476553216 bytes, 4688430768 sectors\nDisk /dev/sdp: 2.19 TiB, 2400476553216 bytes, 4688430768 sectors\nDisk /dev/sdq: 2.19 TiB, 2400476553216 bytes, 4688430768 sectors\nDisk /dev/sdr: 2.19 TiB, 2400476553216 bytes, 4688430768 sectors\nDisk /dev/sds: 2.19 TiB, 2400476553216 bytes, 4688430768 sectors\nDisk /dev/sdt: 2.19 TiB, 2400476553216 bytes, 4688430768 sectors\nDisk /dev/sdv: 447.13 GiB, 480103981056 bytes, 937703088 sectors\nDisk /dev/sdu: 2.19 TiB, 2400476553216 bytes, 4688430768 sectors\nDisk /dev/sdw: 447.13 GiB, 480103981056 bytes, 937703088 sectors\nDisk /dev/sdx: 447.13 GiB, 480103981056 bytes, 937703088 sectors\nDisk /dev/sdy: 447.13 GiB, 480103981056 bytes, 937703088 sectors\n[root@arm64v8 ~]#\n'))),(0,l.kt)("li",{parentName:"ol"},(0,l.kt)("p",{parentName:"li"},"\u90e8\u5206\u78c1\u76d8\u914d\u7f6e raid \u9635\u5217\uff0c\u4e0e\u90e8\u5206 jbod \u78c1\u76d8\u5171\u5b58\u3002"),(0,l.kt)("pre",{parentName:"li"},(0,l.kt)("code",{parentName:"pre",className:"language-bash"},'[root@arm64v8 ~]# storcli /c0/e18/s0-4 set good force\nCLI Version = 007.1316.0000.0000 Mar 12, 2020\nOperating system = Linux 4.19.90-17.ky10.aarch64\nController = 0\nStatus = Success\nDescription = Set Drive Good Succeeded.\n[root@arm64v8 ~]# storcli /c0 add vd type=raid5 size=2Gb names=first drives=18:0,1,2\nCLI Version = 007.1316.0000.0000 Mar 12, 2020\nOperating system = Linux 4.19.90-17.ky10.aarch64\nController = 0\nStatus = Success\nDescription = Add VD Succeeded.\n[root@arm64v8 ~]# fdisk -l | egrep "Disk /dev"\nDisk /dev/sda: 446.64 GiB, 479559942144 bytes, 936640512 sectors\nDisk /dev/sdf: 2.19 TiB, 2400476553216 bytes, 4688430768 sectors\nDisk /dev/sdg: 2.19 TiB, 2400476553216 bytes, 4688430768 sectors\nDisk /dev/sdh: 2.19 TiB, 2400476553216 bytes, 4688430768 sectors\nDisk /dev/sdi: 2.19 TiB, 2400476553216 bytes, 4688430768 sectors\nDisk /dev/sdk: 2.19 TiB, 2400476553216 bytes, 4688430768 sectors\nDisk /dev/sdl: 2.19 TiB, 2400476553216 bytes, 4688430768 sectors\nDisk /dev/sdm: 2.19 TiB, 2400476553216 bytes, 4688430768 sectors\nDisk /dev/sdn: 2.19 TiB, 2400476553216 bytes, 4688430768 sectors\nDisk /dev/sdo: 2.19 TiB, 2400476553216 bytes, 4688430768 sectors\nDisk /dev/sdp: 2.19 TiB, 2400476553216 bytes, 4688430768 sectors\nDisk /dev/sdq: 2.19 TiB, 2400476553216 bytes, 4688430768 sectors\nDisk /dev/sdr: 2.19 TiB, 2400476553216 bytes, 4688430768 sectors\nDisk /dev/sds: 2.19 TiB, 2400476553216 bytes, 4688430768 sectors\nDisk /dev/sdt: 2.19 TiB, 2400476553216 bytes, 4688430768 sectors\nDisk /dev/sdu: 2.19 TiB, 2400476553216 bytes, 4688430768 sectors\nDisk /dev/sdv: 2.19 TiB, 2400476553216 bytes, 4688430768 sectors\nDisk /dev/sdw: 2.19 TiB, 2400476553216 bytes, 4688430768 sectors\nDisk /dev/sdx: 2.19 TiB, 2400476553216 bytes, 4688430768 sectors\nDisk /dev/sdy: 2.19 TiB, 2400476553216 bytes, 4688430768 sectors\nDisk /dev/sdb: 2 GiB, 2147483648 bytes, 4194304 sectors\n[root@arm64v8 ~]#\n')),(0,l.kt)("ul",{parentName:"li"},(0,l.kt)("li",{parentName:"ul"},"\u8fd9\u4e2a\u8fc7\u7a0b\u8981\u4f53\u4f1a\u4e00\u4e0b\uff0c\u6211\u628a\u524d 5 \u5757\u914d\u7f6e\u6210\u4e86 unconfigured good\uff0c\u6240\u4ee5\u8fd9 5 \u5757 OS \u662f\u4e0d\u80fd\u76f4\u63a5\u8bc6\u522b\u7684\uff0c\u7136\u540e\u6211\u53c8\u628a\u524d 3 \u5757\u914d\u7f6e\u6210\u4e86 raid 5 \u5e76\u521b\u5efa\u4e86\u4e00\u4e2a 2Gb \u7684\u865a\u62df\u78c1\u76d8\uff0c\u6700\u7ec8 OS \u8bc6\u522b\u6240\u6709\u7684\u78c1\u76d8\u5982\u4e0a\u6240\u793a\u3002")))),(0,l.kt)("p",null,(0,l.kt)("strong",{parentName:"p"},"\u78c1\u76d8\u521d\u59cb\u5316\u547d\u4ee4")),(0,l.kt)("pre",null,(0,l.kt)("code",{parentName:"pre",className:"language-bash"},"# \u67e5\u770b\uff0c\u5f00\u59cb\u548c\u505c\u6b62\u78c1\u76d8\u521d\u59cb\u5316\u64cd\u4f5c\nstorcli /cx[/ex]/sx show initialization\nstorcli /cx[/ex]/sx start initialization\nstorcli /cx[/ex]/sx stop initialization\n")),(0,l.kt)("pre",null,(0,l.kt)("code",{parentName:"pre",className:"language-bash"},"[root@arm64v8 ~]# storcli /c0/e18/s0 start initialization\nCLI Version = 007.1316.0000.0000 Mar 12, 2020\nOperating system = Linux 4.19.90-17.ky10.aarch64\nController = 0\nStatus = Success\nDescription = Start Drive Initialization Succeeded.\n")),(0,l.kt)("p",null,(0,l.kt)("em",{parentName:"p"},"\u6ce8\u610f\uff1a\u5bf9\u78c1\u76d8\u8fdb\u884c\u521d\u59cb\u5316\uff0c\u5fc5\u987b\u662f\u5728 raid \u6a21\u5f0f\u4e0b\u8fdb\u884c\uff0cjbod \u6a21\u5f0f\u4e0b\u4f1a\u62a5\u9519\u3002")),(0,l.kt)("p",null,(0,l.kt)("strong",{parentName:"p"},"\u78c1\u76d8\u5b9a\u4f4d\u547d\u4ee4")),(0,l.kt)("pre",null,(0,l.kt)("code",{parentName:"pre",className:"language-bash"},"# \u5f00\u59cb\u3001\u505c\u6b62\u5b9a\u4f4d\u78c1\u76d8\uff0c\u4e5f\u5c31\u662f\u78c1\u76d8\u4eae\u706f\nstorcli /cx[/ex]/sx start locate\nstorcli /cx[/ex]/sx stop locate\n")),(0,l.kt)("p",null,(0,l.kt)("strong",{parentName:"p"},"\u78c1\u76d8\u6302\u8d77\uff0c\u542f\u52a8\u547d\u4ee4")),(0,l.kt)("pre",null,(0,l.kt)("code",{parentName:"pre",className:"language-bash"},"# \u8fd9\u4e24\u4e2a\u547d\u4ee4\u662f\u5728\u51c6\u5907\u79fb\u9664\u78c1\u76d8\u65f6\u4f7f\u7528\nstorcli /cx[/ex]/sx spindown\nstorcli /cx[/ex]/sx spinup\n")),(0,l.kt)("p",null,(0,l.kt)("strong",{parentName:"p"},"\u78c1\u76d8\u5b89\u5168\u64e6\u9664\u547d\u4ee4")),(0,l.kt)("pre",null,(0,l.kt)("code",{parentName:"pre",className:"language-bash"},"storcli /cx[/ex]/sx secureerase [force]\nstorcli /cx[/ex]/sx show erase\nstorcli /cx[/ex]/sx start erase [simple|normal|crypto|thorough] [patternA=<value1>] [patternB=<value2>]\nstorcli /cx[/ex]/sx stop erase\n")),(0,l.kt)("p",null,"\u7528\u6765\u6267\u884c\u6216\u63a7\u5236\u5b89\u5168\u64e6\u9664\u78c1\u76d8"),(0,l.kt)("table",null,(0,l.kt)("thead",{parentName:"table"},(0,l.kt)("tr",{parentName:"thead"},(0,l.kt)("th",{parentName:"tr",align:null},"\u9009\u9879"),(0,l.kt)("th",{parentName:"tr",align:null},"\u503c\u8303\u56f4"),(0,l.kt)("th",{parentName:"tr",align:null},"\u63cf\u8ff0"))),(0,l.kt)("tbody",{parentName:"table"},(0,l.kt)("tr",{parentName:"tbody"},(0,l.kt)("td",{parentName:"tr",align:null},"erase"),(0,l.kt)("td",{parentName:"tr",align:null},"simple : Single pass, single pattern write"),(0,l.kt)("td",{parentName:"tr",align:null})),(0,l.kt)("tr",{parentName:"tbody"},(0,l.kt)("td",{parentName:"tr",align:null},"normal : Three pass, three pattern write"),(0,l.kt)("td",{parentName:"tr",align:null}),(0,l.kt)("td",{parentName:"tr",align:null})),(0,l.kt)("tr",{parentName:"tbody"},(0,l.kt)("td",{parentName:"tr",align:null},"thorough : Nine pass, repeats the normal write three times"),(0,l.kt)("td",{parentName:"tr",align:null}),(0,l.kt)("td",{parentName:"tr",align:null})),(0,l.kt)("tr",{parentName:"tbody"},(0,l.kt)("td",{parentName:"tr",align:null},"crypto : Performs cryptographic erase for SSD drives"),(0,l.kt)("td",{parentName:"tr",align:null},"Secures erase type."),(0,l.kt)("td",{parentName:"tr",align:null})),(0,l.kt)("tr",{parentName:"tbody"},(0,l.kt)("td",{parentName:"tr",align:null},"patternA"),(0,l.kt)("td",{parentName:"tr",align:null},"8-bit value"),(0,l.kt)("td",{parentName:"tr",align:null},"Erases pattern A to overwrite the data.")),(0,l.kt)("tr",{parentName:"tbody"},(0,l.kt)("td",{parentName:"tr",align:null},"patternB"),(0,l.kt)("td",{parentName:"tr",align:null},"8-bit value"),(0,l.kt)("td",{parentName:"tr",align:null},"Erases pattern B to overwrite the data.")))),(0,l.kt)("pre",null,(0,l.kt)("code",{parentName:"pre",className:"language-bash"},"[root@arm64v8 ~]# storcli /c0/e18/s0 start erase thorough patternA=10010011 patternB=11110000CLI Version = 007.1316.0000.0000 Mar 12, 2020\nOperating system = Linux 4.19.90-17.ky10.aarch64\nController = 0\nStatus = Success\nDescription = Start Drive Erase Succeeded.\n")),(0,l.kt)("p",null,(0,l.kt)("strong",{parentName:"p"},"\u78c1\u76d8\u91cd\u5efa\u547d\u4ee4")),(0,l.kt)("pre",null,(0,l.kt)("code",{parentName:"pre",className:"language-bash"},"storcli /cx[/ex]/sx pause rebuild\nstorcli /cx[/ex]/sx resume rebuild\nstorcli /cx[/ex]/sx show rebuild\nstorcli /cx[/ex]/sx start rebuild\nstorcli /cx[/ex]/sx stop rebuild\n")),(0,l.kt)("ul",null,(0,l.kt)("li",{parentName:"ul"},"\u5982\u679c enclosures \u7528\u6765\u8fde\u63a5\u63a7\u5236\u5668\u4e0b\u7684\u7269\u7406\u78c1\u76d8\uff0c\u8981\u5728\u547d\u4ee4\u884c\u4e2d\u6307\u5b9a enclosure ID")),(0,l.kt)("p",null,(0,l.kt)("inlineCode",{parentName:"p"},"storcli /cx[/ex]/sx pause rebuild"),"\uff1a\u6b64\u547d\u4ee4\u6682\u505c\u6b63\u5728\u8fdb\u884c\u7684\u91cd\u5efa\u8fdb\u7a0b\u3002\u60a8\u53ea\u80fd\u5bf9\u5f53\u524d\u6b63\u5728\u91cd\u5efa\u7684\u9a71\u52a8\u5668\u8fd0\u884c\u6b64\u547d\u4ee4\u3002"),(0,l.kt)("p",null,(0,l.kt)("inlineCode",{parentName:"p"},"storcli /cx[/ex]/sx resume rebuild"),"\uff1a\u6b64\u547d\u4ee4\u6062\u590d\u6682\u505c\u7684\u91cd\u5efa\u8fdb\u7a0b\u3002\u53ea\u6709\u5f53\u9a71\u52a8\u5668\u5b58\u5728\u4e00\u4e2a\u6682\u505c\u7684\u91cd\u5efa\u8fdb\u7a0b\u65f6\uff0c\u624d\u80fd\u6267\u884c\u6b64\u547d\u4ee4\u3002"),(0,l.kt)("p",null,(0,l.kt)("inlineCode",{parentName:"p"},"storcli /cx[/ex]/sx show rebuild"),"\uff1a\u8be5\u547d\u4ee4\u4ee5\u767e\u5206\u6bd4\u663e\u793a\u91cd\u5efa\u8fdb\u7a0b\u7684\u8fdb\u5ea6\u3002\u8fd8\u663e\u793a\u4e86\u5b8c\u6210\u64cd\u4f5c\u6240\u9700\u7684\u4f30\u8ba1\u65f6\u95f4(\u4ee5\u5206\u949f\u8ba1)\u3002"),(0,l.kt)("p",null,(0,l.kt)("inlineCode",{parentName:"p"},"storcli /cx[/ex]/sx start rebuild"),"\uff1a\u6b64\u547d\u4ee4\u542f\u52a8\u9a71\u52a8\u5668\u7684\u91cd\u5efa\u64cd\u4f5c\u3002"),(0,l.kt)("p",null,(0,l.kt)("inlineCode",{parentName:"p"},"storcli /cx[/ex]/sx stop rebuild"),"\uff1a\u6b64\u547d\u4ee4\u505c\u6b62\u91cd\u5efa\u64cd\u4f5c\u3002\u60a8\u53ea\u80fd\u5bf9\u5f53\u524d\u6b63\u5728\u91cd\u5efa\u7684\u9a71\u52a8\u5668\u8fd0\u884c\u6b64\u547d\u4ee4\u3002"),(0,l.kt)("p",null,(0,l.kt)("strong",{parentName:"p"},"\u78c1\u76d8\u56de\u62f7\u547d\u4ee4")),(0,l.kt)("p",null,"\u9ed8\u8ba4\u60c5\u51b5\u4e0b\u63a7\u5236\u5668\u56de\u62f7\u5f00\u5173\u662f\u5173\u95ed\u7684\uff0c\u56de\u62f7\u53d1\u751f\u5728\uff0craid \u7ec4\u4e2d\u6709\u4e00\u5757\u76d8\u574f\u6389\u4e86\u6bd4\u5982 slot0\uff0c\u6709\u53e6\u4e00\u5757\u70ed\u5907\u76d8 slot10 \u76f4\u63a5\u9876\u4e0a\u8fdb\u884c rebuild\uff1bslot0 \u6362\u65b0\u76d8\u540e\uff0cslot10 \u6062\u590d\u597d\u7684\u6570\u636e\u4f1a\u56de\u62f7\u81f3 slot0 \u7684\u65b0\u76d8\uff0cslot10 \u91cd\u65b0\u56de\u5230\u70ed\u5907\u72b6\u6001\u3002"),(0,l.kt)("p",null,"\u7531\u6b64\u53ef\u89c1\uff0c\u56de\u62f7\u8fc7\u7a0b\u4f1a\u5360\u7528\u5927\u91cf\u7684\u5e26\u5bbd\uff0c\u9664\u975e\u4f60\u77e5\u9053\u81ea\u5df1\u5728\u5e72\u4ec0\u4e48\uff0c\u5426\u5219\u4e0d\u5efa\u8bae\u5f00\u542f\u56de\u62f7\u3002"),(0,l.kt)("pre",null,(0,l.kt)("code",{parentName:"pre",className:"language-bash"},"storcli /cx[/ex]/sx pause copyback\nstorcli /cx[/ex]/sx resume copyback\nstorcli /cx show copyback\nstorcli /cx[/ex]/sx start copyback target=eid:sid\nstorcli /cx[/ex]/sx stop copyback\nstorcli /cx set copyback=on type=ctrl\nstorcli /cx set copyback=on type=smarthdd\nstorcli /cx set copyback=on type=ssd\nstorcli /cx set copyback=on type=all\n")),(0,l.kt)("ul",null,(0,l.kt)("li",{parentName:"ul"},"\u56de\u62f7\u547d\u4ee4\u4e2d\uff0ccx","[","/ex","]","/sx \u8868\u793a\u6e90\u9a71\u52a8\u5668\uff0ceid:sid \u8868\u793a\u76ee\u6807\u9a71\u52a8\u5668\u3002"),(0,l.kt)("li",{parentName:"ul"},"\u5f53\u542f\u7528\u56de\u62f7\u64cd\u4f5c\u65f6\uff0c\u5373\u4f7f\u91cd\u6784\u5b8c\u6210\uff0c\u544a\u8b66\u4e5f\u4f1a\u7ee7\u7eed\u63d0\u793a\uff1b\u53ea\u6709\u56de\u62f7\u64cd\u4f5c\u5b8c\u6210\u540e\uff0c\u544a\u8b66\u624d\u4f1a\u505c\u6b62\u3002")),(0,l.kt)("p",null,(0,l.kt)("inlineCode",{parentName:"p"},"storcli /cx[/ex]/sx pause copyback"),"\uff1a\u8be5\u547d\u4ee4\u6682\u505c\u56de\u62f7\u64cd\u4f5c\u3002\u8be5\u547d\u4ee4\u53ea\u80fd\u5728\u8fdb\u884c\u56de\u62f7\u64cd\u4f5c\u65f6\u4f7f\u7528\u3002"),(0,l.kt)("p",null,(0,l.kt)("inlineCode",{parentName:"p"},"storcli /cx[/ex]/sx resume copyback"),"\uff1a\u6b64\u547d\u4ee4\u6062\u590d\u6682\u505c\u7684\u56de\u62f7\u64cd\u4f5c\u3002\u8be5\u547d\u4ee4\u53ea\u80fd\u5728\u9a71\u52a8\u5668\u5b58\u5728\u6682\u505c\u7684\u56de\u62f7\u8fdb\u7a0b\u65f6\u4f7f\u7528\u3002"),(0,l.kt)("p",null,(0,l.kt)("inlineCode",{parentName:"p"},"storcli /cx show copyback"),"\uff1a\u8be5\u547d\u4ee4\u4ee5\u767e\u5206\u6bd4\u663e\u793a\u56de\u62f7\u64cd\u4f5c\u7684\u8fdb\u5ea6\u3002\u8fd8\u663e\u793a\u4e86\u5b8c\u6210\u64cd\u4f5c\u6240\u9700\u7684\u4f30\u8ba1\u65f6\u95f4(\u4ee5\u5206\u949f\u8ba1)\u3002"),(0,l.kt)("p",null,(0,l.kt)("inlineCode",{parentName:"p"},"storcli /cx[/ex]/sx start copyback target=eid:sid"),"\uff1a\u8be5\u547d\u4ee4\u5bf9\u9a71\u52a8\u5668\u542f\u52a8\u56de\u62f7\u64cd\u4f5c\u3002"),(0,l.kt)("p",null,(0,l.kt)("inlineCode",{parentName:"p"},"storcli /cx[/ex]/sx stop copyback"),"\uff1a\u8be5\u547d\u4ee4\u7528\u4e8e\u505c\u6b62\u56de\u62f7\u64cd\u4f5c\u3002\u8be5\u547d\u4ee4\u53ea\u80fd\u5728\u8fd0\u884c\u56de\u62f7\u64cd\u4f5c\u7684\u9a71\u52a8\u5668\u4e0a\u6267\u884c\u3002"),(0,l.kt)("p",null,(0,l.kt)("inlineCode",{parentName:"p"},"storcli /cx set copyback=on type=ctrl"),"\uff1a\u8be5\u547d\u4ee4\u8bbe\u7f6e\u63a7\u5236\u56de\u62f7\u64cd\u4f5c\u3002"),(0,l.kt)("p",null,(0,l.kt)("inlineCode",{parentName:"p"},"storcli /cx set copyback=on type=smarthdd"),"\uff1a\u8be5\u547d\u4ee4\u8bbe\u7f6e\u667a\u80fd\u786c\u76d8\u56de\u62f7\u64cd\u4f5c\u3002"),(0,l.kt)("p",null,(0,l.kt)("inlineCode",{parentName:"p"},"storcli /cx set copyback=on type=smartssd"),"\uff1a\u8be5\u547d\u4ee4\u7528\u4e8e\u8bbe\u7f6e\u667a\u80fd SSD \u56de\u62f7\u64cd\u4f5c\u3002"),(0,l.kt)("p",null,(0,l.kt)("inlineCode",{parentName:"p"},"storcli /cx set copyback=on type=all"),"\uff1a\u8be5\u547d\u4ee4\u7528\u4e8e\u8bbe\u7f6e\u56de\u62f7\u64cd\u4f5c\u3002"),(0,l.kt)("p",null,(0,l.kt)("strong",{parentName:"p"},"\u70ed\u5907\u76d8\u547d\u4ee4")),(0,l.kt)("pre",null,(0,l.kt)("code",{parentName:"pre",className:"language-bash"},"storcli /cx[/ex]/sx add hotsparedrive {dgs=<n|0,1,2...>}[enclaffinity][nonrevertible]\nstorcli /cx/[ex]/sx delete hotsparedrive\n")),(0,l.kt)("ul",null,(0,l.kt)("li",{parentName:"ul"},"\u5982\u679c enclosures \u7528\u6765\u8fde\u63a5\u63a7\u5236\u5668\u4e0b\u7684\u7269\u7406\u78c1\u76d8\uff0c\u8981\u5728\u547d\u4ee4\u884c\u4e2d\u6307\u5b9a enclosure ID")),(0,l.kt)("p",null,(0,l.kt)("inlineCode",{parentName:"p"},"storcli /cx[/ex]/sx add hotsparedrive [{dgs=<n|0,1,2...>}] [enclaffinity] [nonrevertible]"),"\uff1a\u521b\u5efa\u70ed\u5907\u76d8\u3002\u53ef\u901a\u8fc7\u4ee5\u4e0b\u9009\u9879\u521b\u5efa\u70ed\u5907\u76d8\u3002"),(0,l.kt)("table",null,(0,l.kt)("thead",{parentName:"table"},(0,l.kt)("tr",{parentName:"thead"},(0,l.kt)("th",{parentName:"tr",align:null},"Option"),(0,l.kt)("th",{parentName:"tr",align:null},"Value Range"),(0,l.kt)("th",{parentName:"tr",align:null},"Description"))),(0,l.kt)("tbody",{parentName:"table"},(0,l.kt)("tr",{parentName:"tbody"},(0,l.kt)("td",{parentName:"tr",align:null},"dgs"),(0,l.kt)("td",{parentName:"tr",align:null},"Valid drive group number"),(0,l.kt)("td",{parentName:"tr",align:null},"Specifies the drive group to which the hot spare drive is dedicated.")),(0,l.kt)("tr",{parentName:"tbody"},(0,l.kt)("td",{parentName:"tr",align:null},"enclaffinity"),(0,l.kt)("td",{parentName:"tr",align:null},"Valid enclosure number"),(0,l.kt)("td",{parentName:"tr",align:null},"Specifies the enclosure with which the hot spare is associated. If this")),(0,l.kt)("tr",{parentName:"tbody"},(0,l.kt)("td",{parentName:"tr",align:null},"option is specified, affinity is set; if it is not specified, there is no affinity."),(0,l.kt)("td",{parentName:"tr",align:null}),(0,l.kt)("td",{parentName:"tr",align:null})),(0,l.kt)("tr",{parentName:"tbody"},(0,l.kt)("td",{parentName:"tr",align:null},"Affinity cannot be removed after it is set for a hot spare drive."),(0,l.kt)("td",{parentName:"tr",align:null}),(0,l.kt)("td",{parentName:"tr",align:null})),(0,l.kt)("tr",{parentName:"tbody"},(0,l.kt)("td",{parentName:"tr",align:null},"nonrevertible"),(0,l.kt)("td",{parentName:"tr",align:null},"\u2014"),(0,l.kt)("td",{parentName:"tr",align:null},"Sets the drive as a nonrevertible hot spare.")))),(0,l.kt)("p",null,"\u505a\u4e00\u4e2a\u5b9e\u9a8c\uff1a"),(0,l.kt)("ol",null,(0,l.kt)("li",{parentName:"ol"},(0,l.kt)("p",{parentName:"li"},"\u521b\u5efa\u4e00\u4e2a\u78c1\u76d8\u7ec4 raid5"),(0,l.kt)("pre",{parentName:"li"},(0,l.kt)("code",{parentName:"pre",className:"language-bash"},"[root@arm64v8 ~]# storcli /c0 add vd type=raid5 size=2gb,3gb,4gb name=tmp1,tmp2,tmp3 drives=18:0-2\nCLI Version = 007.1316.0000.0000 Mar 12, 2020\nOperating system = Linux 4.19.90-17.ky10.aarch64\nController = 0\nStatus = Success\nDescription = Add VD Succeeded.\n"))),(0,l.kt)("li",{parentName:"ol"},(0,l.kt)("p",{parentName:"li"},"\u521b\u5efa slot3 \u4e3a\u70ed\u5907\u76d8"),(0,l.kt)("ul",{parentName:"li"},(0,l.kt)("li",{parentName:"ul"},(0,l.kt)("p",{parentName:"li"},"\u5168\u5c40\u70ed\u5907\u76d8"),(0,l.kt)("pre",{parentName:"li"},(0,l.kt)("code",{parentName:"pre",className:"language-bash"},"[root@arm64v8 ~]# storcli /c0/e18/s3 add hotsparedrive\n"))),(0,l.kt)("li",{parentName:"ul"},(0,l.kt)("p",{parentName:"li"},"\u628a slot3 \u8bbe\u4e3a groups 1 \u7684\u4e13\u7528\u70ed\u5907\u76d8"),(0,l.kt)("pre",{parentName:"li"},(0,l.kt)("code",{parentName:"pre",className:"language-bash"},"[root@arm64v8 ~]# storcli /c0/e18/s3 add hotsparedrive dgs=1\nCLI Version = 007.1316.0000.0000 Mar 12, 2020\nOperating system = Linux 4.19.90-17.ky10.aarch64\nController = 0\nStatus = Success\nDescription = Add Hot Spare Succeeded.\n\n# slot3 \u7684\u72b6\u53d8\u4e3a DHS\uff0c\u5373 Dedicated Hot Spare\n[root@arm64v8 ~]# storcli /c0/e18/s3 show\nCLI Version = 007.1316.0000.0000 Mar 12, 2020\nOperating system = Linux 4.19.90-17.ky10.aarch64\nController = 0\nStatus = Success\nDescription = Show Drive Information Succeeded.\n\nDrive Information :\n=================\n\n---------------------------------------------------------------------------------\nEID:Slt DID State DG       Size Intf Med SED PI SeSz Model               Sp Type \n---------------------------------------------------------------------------------\n18:3     34 DHS   1  446.625 GB SATA SSD N   N  512B INTEL SSDSC2KB480G8 U  -  \n---------------------------------------------------------------------------------\n"))))),(0,l.kt)("li",{parentName:"ol"},(0,l.kt)("p",{parentName:"li"},"\u6a21\u62df slot2 \u574f\u6389"),(0,l.kt)("pre",{parentName:"li"},(0,l.kt)("code",{parentName:"pre",className:"language-bash"},"# \u6a21\u62df slot2 \u574f\u6389\n[root@arm64v8 ~]# storcli /c0/e18/s2 set offline\nCLI Version = 007.1316.0000.0000 Mar 12, 2020\nOperating system = Linux 4.19.90-17.ky10.aarch64\nController = 0\nStatus = Success\nDescription = Set Drive Offline Succeeded.\n\n# slot3 \u81ea\u52a8\u9876\u4e0a\n[root@arm64v8 ~]# storcli /c0/e18/s3 show\nCLI Version = 007.1316.0000.0000 Mar 12, 2020\nOperating system = Linux 4.19.90-17.ky10.aarch64\nController = 0\nStatus = Success\nDescription = Show Drive Information Succeeded.\n\nDrive Information :\n=================\n\n---------------------------------------------------------------------------------\nEID:Slt DID State DG       Size Intf Med SED PI SeSz Model               Sp Type \n---------------------------------------------------------------------------------\n18:3     34 Onln   1 446.625 GB SATA SSD N   N  512B INTEL SSDSC2KB480G8 U  -  \n---------------------------------------------------------------------------------\n")))),(0,l.kt)("p",null,(0,l.kt)("inlineCode",{parentName:"p"},"storcli /cx/[ex]/sx delete hotsparedrive"),"\uff1a\u5220\u9664\u70ed\u5907\u76d8"),(0,l.kt)("pre",null,(0,l.kt)("code",{parentName:"pre",className:"language-bash"},"[root@arm64v8 ~]# storcli /c0/e18/s3 delete hotsparedrive\nCLI Version = 007.1316.0000.0000 Mar 12, 2020\nOperating system = Linux 4.19.90-17.ky10.aarch64\nController = 0\nStatus = Success\nDescription = Delete Hot Spare Succeeded.\n\n[root@arm64v8 ~]# storcli /c0/e18/s3 show\nCLI Version = 007.1316.0000.0000 Mar 12, 2020\nOperating system = Linux 4.19.90-17.ky10.aarch64\nController = 0\nStatus = Success\nDescription = Show Drive Information Succeeded.\n\nDrive Information :\n=================\n\n---------------------------------------------------------------------------------\nEID:Slt DID State DG       Size Intf Med SED PI SeSz Model               Sp Type \n---------------------------------------------------------------------------------\n18:3     34 UGood -  446.625 GB SATA SSD N   N  512B INTEL SSDSC2KB480G8 U  -  \n---------------------------------------------------------------------------------\n")),(0,l.kt)("h3",{id:"732vd-\u547d\u4ee4"},"7.3.2\u3001VD \u547d\u4ee4"),(0,l.kt)("h4",{id:"7321\u521b\u5efa-vd"},"7.3.2.1\u3001\u521b\u5efa VD"),(0,l.kt)("pre",null,(0,l.kt)("code",{parentName:"pre",className:"language-bash"},"storcli /cx add vd raid[0|1|5|6|00|10|50|60][Size=<VD1_Sz>,<VD2_Sz>,..|remaining] [name=<VDNAME1>,..]\ndrives=e:s|e:s-x,y,e:s-x,y,z [PDperArray=x][SED] [pdcache=on|off|default][pi] [DimmerSwitch(ds)=default|\nautomatic(auto)| none|maximum(max)|MaximumWithoutCaching(maxnocache)]\n[wt|wb|awb] [nora|ra] [direct|cached][cachevd] [Strip=<8|16|32|64|128|256|1024>] [AfterVd=X][EmulationType=0|\n1|2] [Spares = [e:]s|[e:]s-x|[e:]s-x,y] [force][ExclusiveAccess][Cbsize=0|1|2 Cbmode=0|1|2|3|4|7]\n")),(0,l.kt)("ul",null,(0,l.kt)("li",{parentName:"ul"},"MegaRAID \u63a7\u5236\u5668\u652f\u6301\u7684\u6761\u5e26\u5927\u5c0f\u4ece\u6700\u5c0f 64kb \u5230 1mb \u4e0d\u7b49\uff0c\u96c6\u6210 MegaRAID \u63a7\u5236\u5668\u652f\u6301\u7684\u6761\u5e26\u5927\u5c0f\u4ec5\u4e3a 64kb\u3002")),(0,l.kt)("pre",null,(0,l.kt)("code",{parentName:"pre",className:"language-bash"},"storcli /cx add vd each raid0 [name=<VDNAME1>,..] [drives=e:s|e:s-x|e:s-x,y] [SED] [pdcache=on|off|default]\n[pi] [DimmerSwitch(ds)=default|automatic(auto)| none|maximum(max)|MaximumWithoutCaching(maxnocache)] [wt|wb|\nawb] [nora|ra] [direct|cached][EmulationType=0|1|2] [Strip=<8|16|32|64|128|256|1024>][ExclusiveAccess]\n")),(0,l.kt)("ul",null,(0,l.kt)("li",{parentName:"ul"},"MegaRAID \u63a7\u5236\u5668\u652f\u6301\u7684\u6761\u5e26\u5927\u5c0f\u4ece\u6700\u5c0f 64kb \u5230 1mb \u4e0d\u7b49\uff0c\u96c6\u6210 MegaRAID \u63a7\u5236\u5668\u652f\u6301\u7684\u6761\u5e26\u5927\u5c0f\u4ec5\u4e3a 64kb\u3002")),(0,l.kt)("pre",null,(0,l.kt)("code",{parentName:"pre",className:"language-bash"},"storcli /cx add VD cachecade|cc raid[0,1] drives = [e:]s|[e:]s-x|[e:]s-x,y [WT|WB] [assignvds = 0,1,2]\n")),(0,l.kt)("ul",null,(0,l.kt)("li",{parentName:"ul"},"\u8be5\u547d\u4ee4\u7528\u4e8e\u521b\u5efa RAID \u914d\u7f6e\u3002\u53ef\u4ee5\u4f7f\u7528\u4e0b\u8868\u4e2d\u7684\u9009\u9879\u521b\u5efa RAID \u5377\u3002")),(0,l.kt)("table",null,(0,l.kt)("thead",{parentName:"table"},(0,l.kt)("tr",{parentName:"thead"},(0,l.kt)("th",{parentName:"tr",align:null},"Option"),(0,l.kt)("th",{parentName:"tr",align:null},"Value Range"),(0,l.kt)("th",{parentName:"tr",align:null},"Description"))),(0,l.kt)("tbody",{parentName:"table"},(0,l.kt)("tr",{parentName:"tbody"},(0,l.kt)("td",{parentName:"tr",align:null},"raid"),(0,l.kt)("td",{parentName:"tr",align:null},"[","0"),(0,l.kt)("td",{parentName:"tr",align:null},"1")),(0,l.kt)("tr",{parentName:"tbody"},(0,l.kt)("td",{parentName:"tr",align:null},"size"),(0,l.kt)("td",{parentName:"tr",align:null},"\u57fa\u4e8e\u7269\u7406\u9a71\u52a8\u5668\u548cRAID\u7ea7\u522b\u7684\u6700\u5927\u5927\u5c0f"),(0,l.kt)("td",{parentName:"tr",align:null},"\u8bbe\u7f6e\u6bcf\u4e2a\u865a\u62df\u78c1\u76d8\u7684\u5927\u5c0f\u3002\u9ed8\u8ba4\u503c\u4e3a\u6240\u6709\u88ab\u5f15\u7528\u78c1\u76d8\u7684\u5bb9\u91cf\u3002")),(0,l.kt)("tr",{parentName:"tbody"},(0,l.kt)("td",{parentName:"tr",align:null},"name"),(0,l.kt)("td",{parentName:"tr",align:null},"\u957f\u5ea6\u4e3a15\u4e2a\u5b57\u7b26"),(0,l.kt)("td",{parentName:"tr",align:null},"\u6bcf\u4e2a\u865a\u62df\u78c1\u76d8\u7684\u78c1\u76d8\u540d\u79f0")),(0,l.kt)("tr",{parentName:"tbody"},(0,l.kt)("td",{parentName:"tr",align:null},"drives"),(0,l.kt)("td",{parentName:"tr",align:null},"\u6709\u6548\u7684 enclosure \u548c slot \u53f7"),(0,l.kt)("td",{parentName:"tr",align:null},"e:s")),(0,l.kt)("tr",{parentName:"tbody"},(0,l.kt)("td",{parentName:"tr",align:null},"\u2022 e \u8868\u793a enclosure ID"),(0,l.kt)("td",{parentName:"tr",align:null}),(0,l.kt)("td",{parentName:"tr",align:null})),(0,l.kt)("tr",{parentName:"tbody"},(0,l.kt)("td",{parentName:"tr",align:null},"\u2022 s \u8868\u793a enclosure \u4e2d\u7684\u69fd\u4f4d\u53f7"),(0,l.kt)("td",{parentName:"tr",align:null}),(0,l.kt)("td",{parentName:"tr",align:null})),(0,l.kt)("tr",{parentName:"tbody"},(0,l.kt)("td",{parentName:"tr",align:null},"\u2022 e:s-x \u662f\u7528\u4e8e\u8868\u793a\u6846 e \u4e2d\u4ece s \u5230 x \u69fd\u4f4d\u7684\u8303\u56f4\u7ea6\u5b9a(\u6700\u591a250\u4e2a\u5b57\u7b26)\u3002"),(0,l.kt)("td",{parentName:"tr",align:null}),(0,l.kt)("td",{parentName:"tr",align:null})),(0,l.kt)("tr",{parentName:"tbody"},(0,l.kt)("td",{parentName:"tr",align:null},"\u786e\u4fdd\u5728\u6bcf\u4e2a","[","e:s","]"," \u5bf9\u4e2d\u4f7f\u7528\u4e86\u76f8\u540c\u7684\u5757\u5927\u5c0f(\u5728\u7269\u7406\u9a71\u52a8\u5668\u4e2d)\u3002\u4f8b\u5982\uff0c\u5982\u679c e0:s0 \u5bf9\u4e2d"),(0,l.kt)("td",{parentName:"tr",align:null}),(0,l.kt)("td",{parentName:"tr",align:null})),(0,l.kt)("tr",{parentName:"tbody"},(0,l.kt)("td",{parentName:"tr",align:null},"\u4f7f\u7528 4096 \u5b57\u8282\uff0c\u90a3\u4e48 e1:s1 \u5bf9\u4e2d\u4e5f\u4f7f\u7528 4096 \u5b57\u8282\u3002\u4e0d\u652f\u6301\u5728","[","e:s","]"," \u5bf9\u4e4b\u95f4\u6df7\u5408\u5757\u5927\u5c0f\u3002"),(0,l.kt)("td",{parentName:"tr",align:null}),(0,l.kt)("td",{parentName:"tr",align:null})),(0,l.kt)("tr",{parentName:"tbody"},(0,l.kt)("td",{parentName:"tr",align:null},"pdperarray"),(0,l.kt)("td",{parentName:"tr",align:null},"1\u201316"),(0,l.kt)("td",{parentName:"tr",align:null},"\u6307\u5b9a\u6bcf\u4e2a\u9635\u5217\u7684\u7269\u7406\u9a71\u52a8\u5668\u6570\u91cf\u3002\u7cfb\u7edf\u81ea\u52a8\u9009\u62e9\u9ed8\u8ba4\u503c\u3002")),(0,l.kt)("tr",{parentName:"tbody"},(0,l.kt)("td",{parentName:"tr",align:null},"sed"),(0,l.kt)("td",{parentName:"tr",align:null},"\u2014"),(0,l.kt)("td",{parentName:"tr",align:null},"\u521b\u5efa\u542f\u7528\u4e86\u5b89\u5168\u6027\u7684\u9a71\u52a8\u5668")),(0,l.kt)("tr",{parentName:"tbody"},(0,l.kt)("td",{parentName:"tr",align:null},"pdcache"),(0,l.kt)("td",{parentName:"tr",align:null},"on"),(0,l.kt)("td",{parentName:"tr",align:null},"off")),(0,l.kt)("tr",{parentName:"tbody"},(0,l.kt)("td",{parentName:"tr",align:null},"pi"),(0,l.kt)("td",{parentName:"tr",align:null},"\u2014"),(0,l.kt)("td",{parentName:"tr",align:null},"\u4f7f\u4fdd\u62a4\u4fe1\u606f")),(0,l.kt)("tr",{parentName:"tbody"},(0,l.kt)("td",{parentName:"tr",align:null},"dimmerswitch"),(0,l.kt)("td",{parentName:"tr",align:null},"default: \u903b\u8f91\u8bbe\u5907\u91c7\u7528\u63a7\u5236\u5668\u9ed8\u8ba4\u8282\u80fd\u7b56\u7565\u3002"),(0,l.kt)("td",{parentName:"tr",align:null})),(0,l.kt)("tr",{parentName:"tbody"},(0,l.kt)("td",{parentName:"tr",align:null},"automatic (auto): \u903b\u8f91\u8bbe\u5907\u7701\u7535\u7531\u56fa\u4ef6\u7ba1\u7406\u3002"),(0,l.kt)("td",{parentName:"tr",align:null}),(0,l.kt)("td",{parentName:"tr",align:null})),(0,l.kt)("tr",{parentName:"tbody"},(0,l.kt)("td",{parentName:"tr",align:null},"none: \u65e0\u8282\u80fd\u7b56\u7565\u3002"),(0,l.kt)("td",{parentName:"tr",align:null}),(0,l.kt)("td",{parentName:"tr",align:null})),(0,l.kt)("tr",{parentName:"tbody"},(0,l.kt)("td",{parentName:"tr",align:null},"maximum (max): \u903b\u8f91\u8bbe\u5907\u6700\u5927\u8282\u7535\u3002"),(0,l.kt)("td",{parentName:"tr",align:null}),(0,l.kt)("td",{parentName:"tr",align:null})),(0,l.kt)("tr",{parentName:"tbody"},(0,l.kt)("td",{parentName:"tr",align:null},"MaximumWithoutCaching(maxnocache): \u903b\u8f91\u8bbe\u5907\u4e0d\u7f13\u5b58\u5199\uff0c\u4ee5\u6700\u5927\u9650\u5ea6\u5730\u8282\u7701\u7535\u529b\u3002"),(0,l.kt)("td",{parentName:"tr",align:null},"\u8282\u80fd\u7b56\u7565\u3002"),(0,l.kt)("td",{parentName:"tr",align:null})),(0,l.kt)("tr",{parentName:"tbody"},(0,l.kt)("td",{parentName:"tr",align:null},"\u81ea\u52a8\u8bbe\u7f6e\u4e3a\u9ed8\u8ba4\u503c\u3002"),(0,l.kt)("td",{parentName:"tr",align:null}),(0,l.kt)("td",{parentName:"tr",align:null})),(0,l.kt)("tr",{parentName:"tbody"},(0,l.kt)("td",{parentName:"tr",align:null},"direct"),(0,l.kt)("td",{parentName:"tr",align:null},"cached"),(0,l.kt)("td",{parentName:"tr",align:null},"cached: \u7f13\u5b58\u7684I/O\u3002")),(0,l.kt)("tr",{parentName:"tbody"},(0,l.kt)("td",{parentName:"tr",align:null},"direct: \u76f4\u63a5I/O\u3002"),(0,l.kt)("td",{parentName:"tr",align:null},"\u8bbe\u7f6e\u903b\u8f91\u76d8 cache \u7b56\u7565\u3002"),(0,l.kt)("td",{parentName:"tr",align:null})),(0,l.kt)("tr",{parentName:"tbody"},(0,l.kt)("td",{parentName:"tr",align:null},"\u76f4\u63a5 I/O \u662f\u9ed8\u8ba4\u7684\u3002"),(0,l.kt)("td",{parentName:"tr",align:null}),(0,l.kt)("td",{parentName:"tr",align:null})),(0,l.kt)("tr",{parentName:"tbody"},(0,l.kt)("td",{parentName:"tr",align:null},"EmulationType"),(0,l.kt)("td",{parentName:"tr",align:null},"0: \u9ed8\u8ba4\u4eff\u771f\uff0c\u8fd9\u610f\u5473\u7740\u5982\u679c\u5728\u914d\u7f6e\u7684 ID \u4e2d\u6709 512e \u9a71\u52a8\u5668\uff0c\u90a3\u4e48\u6bcf\u4e2a\u6247\u533a\u7684\u7269\u7406\u5b57\u8282\u663e\u793a\u4e3a 512e (4k)\u3002\u5982\u679c\u6ca1\u6709 512e \u9a71\u52a8\u5668\uff0c\u5219\u6bcf\u4e2a\u6247\u533a\u7684\u7269\u7406\u5b57\u8282\u6570\u4e3a 512e 512 n\u3002"),(0,l.kt)("td",{parentName:"tr",align:null})),(0,l.kt)("tr",{parentName:"tbody"},(0,l.kt)("td",{parentName:"tr",align:null},"1: \u7981\u7528\uff0c\u8fd9\u610f\u5473\u7740\u5373\u4f7f\u5728\u914d\u7f6e\u7684 ID \u4e2d\u6709 512e \u9a71\u52a8\u5668\uff0c\u6bcf\u4e2a\u6247\u533a\u7684\u7269\u7406\u5b57\u8282\u4e5f\u4f1a\u663e\u793a512 n\u3002"),(0,l.kt)("td",{parentName:"tr",align:null}),(0,l.kt)("td",{parentName:"tr",align:null})),(0,l.kt)("tr",{parentName:"tbody"},(0,l.kt)("td",{parentName:"tr",align:null},"2: Force\uff0c\u8fd9\u610f\u5473\u7740\u5373\u4f7f\u5728\u914d\u7f6e\u7684 ID \u4e2d\u6ca1\u6709 512e \u9a71\u52a8\u5668\uff0c\u6bcf\u4e2a\u6247\u533a\u7684\u7269\u7406\u5b57\u8282\u5c06\u663e\u793a\u4e3a512 e (4 k)\u3002"),(0,l.kt)("td",{parentName:"tr",align:null}),(0,l.kt)("td",{parentName:"tr",align:null})),(0,l.kt)("tr",{parentName:"tbody"},(0,l.kt)("td",{parentName:"tr",align:null},"wt"),(0,l.kt)("td",{parentName:"tr",align:null},"wb"),(0,l.kt)("td",{parentName:"tr",align:null},"awb")),(0,l.kt)("tr",{parentName:"tbody"},(0,l.kt)("td",{parentName:"tr",align:null},"\u2022 wb : Write back."),(0,l.kt)("td",{parentName:"tr",align:null}),(0,l.kt)("td",{parentName:"tr",align:null})),(0,l.kt)("tr",{parentName:"tbody"},(0,l.kt)("td",{parentName:"tr",align:null},"\u2022 awb : Always Write Back."),(0,l.kt)("td",{parentName:"tr",align:null},"\u5f00\u542f\u76f4\u5199"),(0,l.kt)("td",{parentName:"tr",align:null})),(0,l.kt)("tr",{parentName:"tbody"},(0,l.kt)("td",{parentName:"tr",align:null},"\u7f13\u5b58\u5199\u662f\u9ed8\u8ba4\u914d\u7f6e"),(0,l.kt)("td",{parentName:"tr",align:null}),(0,l.kt)("td",{parentName:"tr",align:null})),(0,l.kt)("tr",{parentName:"tbody"},(0,l.kt)("td",{parentName:"tr",align:null},"nora"),(0,l.kt)("td",{parentName:"tr",align:null},"ra"),(0,l.kt)("td",{parentName:"tr",align:null},"\u2022 ra : Read ahead.")),(0,l.kt)("tr",{parentName:"tbody"},(0,l.kt)("td",{parentName:"tr",align:null},"\u2022 nora : No read ahead."),(0,l.kt)("td",{parentName:"tr",align:null},"\u7981\u6b62\u76f4\u8bfb"),(0,l.kt)("td",{parentName:"tr",align:null})),(0,l.kt)("tr",{parentName:"tbody"},(0,l.kt)("td",{parentName:"tr",align:null},"\u5f00\u542f\u662f\u9ed8\u8ba4\u914d\u7f6e"),(0,l.kt)("td",{parentName:"tr",align:null}),(0,l.kt)("td",{parentName:"tr",align:null})),(0,l.kt)("tr",{parentName:"tbody"},(0,l.kt)("td",{parentName:"tr",align:null},"cachevd"),(0,l.kt)("td",{parentName:"tr",align:null},"\u2014"),(0,l.kt)("td",{parentName:"tr",align:null},"\u542f\u7528\u521b\u5efa\u7684\u865a\u62df\u78c1\u76d8\u7684SSD caching\u529f\u80fd\u3002")),(0,l.kt)("tr",{parentName:"tbody"},(0,l.kt)("td",{parentName:"tr",align:null},"strip"),(0,l.kt)("td",{parentName:"tr",align:null},"8 , 16 , 32 , 64 , 128 , 256 , 512 , 1024"),(0,l.kt)("td",{parentName:"tr",align:null})),(0,l.kt)("tr",{parentName:"tbody"},(0,l.kt)("td",{parentName:"tr",align:null},"\u5907\u6ce8: \u652f\u6301\u7684\u6761\u5e26\u5927\u5c0f\u4ece\u6700\u5c0f 64kb \u5230 1mb \u4e0d\u7b49"),(0,l.kt)("td",{parentName:"tr",align:null}),(0,l.kt)("td",{parentName:"tr",align:null})),(0,l.kt)("tr",{parentName:"tbody"},(0,l.kt)("td",{parentName:"tr",align:null},"\u96c6\u6210 MegaRAID \u63a7\u5236\u5668\u4ec5\u4e3a64kb"),(0,l.kt)("td",{parentName:"tr",align:null},"\u8bbe\u7f6e RAID \u914d\u7f6e\u7684\u6761\u5e26\u5927\u5c0f\u3002"),(0,l.kt)("td",{parentName:"tr",align:null})),(0,l.kt)("tr",{parentName:"tbody"},(0,l.kt)("td",{parentName:"tr",align:null},"aftervd"),(0,l.kt)("td",{parentName:"tr",align:null},"\u6709\u6548\u7684\u865a\u62df\u78c1\u76d8\u53f7"),(0,l.kt)("td",{parentName:"tr",align:null},"\u5728\u6307\u5b9a\u7684\u76f8\u90bb\u7a7a\u95f2\u69fd\u4e2d\u521b\u5efaVD")),(0,l.kt)("tr",{parentName:"tbody"},(0,l.kt)("td",{parentName:"tr",align:null},"spares"),(0,l.kt)("td",{parentName:"tr",align:null},"\u5b58\u5728\u7a7a\u95f2\u7269\u7406\u9a71\u52a8\u5668\u6570"),(0,l.kt)("td",{parentName:"tr",align:null},"\u6307\u5b9a\u8981\u5206\u914d\u7ed9\u78c1\u76d8\u7ec4\u4f5c\u4e3a\u5907\u7528\u7684\u7269\u7406\u9a71\u52a8\u5668")),(0,l.kt)("tr",{parentName:"tbody"},(0,l.kt)("td",{parentName:"tr",align:null},"force"),(0,l.kt)("td",{parentName:"tr",align:null},"\u5f3a\u5236\u5c06\u5b89\u5168\u7269\u7406\u9a71\u52a8\u5668\u6dfb\u52a0\u5230\u6ca1\u6709\u5b89\u5168\u6027\u7684\u73b0\u6709\u9a71\u52a8\u5668\u7ec4"),(0,l.kt)("td",{parentName:"tr",align:null},"\u5f3a\u5236\u5c06\u5177\u6709\u5b89\u5168\u6027\u7684\u7269\u7406\u9a71\u52a8\u5668\u6dfb\u52a0\u5230\u6ca1\u6709\u5b89\u5168\u6027\u7684\u9a71\u52a8\u5668\u7ec4\u4e2d")))),(0,l.kt)("pre",null,(0,l.kt)("code",{parentName:"pre",className:"language-bash"},"[root@arm64v8 ~]# storcli /c0 add vd raid10 size=2gb,3gb,4gb names=tmp1,tmp2,tmp3 drives=18:0-3 pdperarray=2\nCLI Version = 007.1316.0000.0000 Mar 12, 2020\nOperating system = Linux 4.19.90-17.ky10.aarch64\nController = 0\nStatus = Success\nDescription = Add VD Succeeded.\n\n[root@arm64v8 ~]#\n")),(0,l.kt)("h4",{id:"7322\u5220\u9664-vd"},"7.3.2.2\u3001\u5220\u9664 VD"),(0,l.kt)("pre",null,(0,l.kt)("code",{parentName:"pre",className:"language-bash"},"storcli /cx/vx|vall del # \u5220\u9664\u6240\u6709 vd\nstorcli /cx/vx|vall del cachecade   # \u5220\u9664 SSD \u7f13\u5b58\u7684 VD\nstorcli /cx/vx|vall del force   # \u5f3a\u5236\u5220\u9664\u6240\u6709 vd\nstorcli /cx/vx del [cachecade] [discardcache] [force]\n")),(0,l.kt)("ul",null,(0,l.kt)("li",{parentName:"ul"},"\u5982\u679c\u865a\u62df\u78c1\u76d8\u6709\u7528\u6237\u6570\u636e\uff0c\u5fc5\u987b\u4f7f\u7528 force \u9009\u9879\u5220\u9664\u865a\u62df\u78c1\u76d8\u3002"),(0,l.kt)("li",{parentName:"ul"},"\u5177\u6709\u6709\u6548\u4e3b\u5f15\u5bfc\u8bb0\u5f55(MBR)\u548c\u5206\u533a\u8868\u7684\u865a\u62df\u9a71\u52a8\u5668\u88ab\u8ba4\u4e3a\u5305\u542b\u7528\u6237\u6570\u636e\u3002"),(0,l.kt)("li",{parentName:"ul"},"\u6ce8\u610f cachecade \u9700\u8981 storcli /c0/v1 set ssdcaching=on",(0,l.kt)("ul",{parentName:"li"},(0,l.kt)("li",{parentName:"ul"},'\u5982\u679c\u63d0\u793a "Controller has no Cachecade support"\uff0c\u8bf4\u660e\u6b64 raid \u5361\u4e0d\u652f\u6301'),(0,l.kt)("li",{parentName:"ul"},(0,l.kt)("strong",{parentName:"li"},"\u53e6\u5916\uff0c\u5f53\u6211\u4eec\u5728\u4f7f\u7528\u67d0\u4e2a\u529f\u80fd\u7684\u65f6\u5019\u62a5\u9519\uff0c\u8981\u8003\u8651\u662f\u5426\u5f00\u542f\u4e86 controller\u3001enclosure \u548c vd \u4e0a\u7684\u76f8\u5173\u5c5e\u6027\u3002"))))),(0,l.kt)("pre",null,(0,l.kt)("code",{parentName:"pre",className:"language-bash"},"# \u5220\u9664\u63a7\u5236\u5668 C0 \u4e0a\u6240\u6709\u7684\u914d\u7f6e SSD \u7f13\u5b58\u7684 VD\n# \u6211\u4eec\u8fd9\u4e2a raid \u5361\u4e0d\u652f\u6301 ssd cachecade\n[root@arm64v8 ~]# storcli /c0/v1 del cachecade\nCLI Version = 007.1316.0000.0000 Mar 12, 2020\nOperating system = Linux 4.19.90-17.ky10.aarch64\nController = 0\nStatus = Failure\nDescription = CacheCade is not supported\n\n[root@arm64v8 ~]#\n")),(0,l.kt)("h4",{id:"7323\u67e5\u770b-vd-\u547d\u4ee4"},"7.3.2.3\u3001\u67e5\u770b vd \u547d\u4ee4"),(0,l.kt)("pre",null,(0,l.kt)("code",{parentName:"pre",className:"language-bash"},"# \u67e5\u770b\u63a7\u5236\u5668\u6307\u5b9a VD \u7684\u6458\u8981\u4fe1\u606f\u6216\u5168\u90e8\u4fe1\u606f\nstorcli /cx/vx show\nstorcli /cx/vx show all\n")),(0,l.kt)("pre",null,(0,l.kt)("code",{parentName:"pre",className:"language-bash"},"[root@arm64v8 ~]# storcli /c0/v1 show\nCLI Version = 007.1316.0000.0000 Mar 12, 2020\nOperating system = Linux 4.19.90-17.ky10.aarch64\nController = 0\nStatus = Success\nDescription = None\n\nVirtual Drives :\n==============\n\n----------------------------------------------------------------\nDG/VD TYPE   State Access Consist Cache Cac sCC       Size Name \n----------------------------------------------------------------\n1/1   RAID10 Optl  RW     No      RWTD  -   ON  893.250 GB tmp1 \n----------------------------------------------------------------\n")),(0,l.kt)("h4",{id:"7324\u4fdd\u7559\u7f13\u5b58\u547d\u4ee4"},"7.3.2.4\u3001\u4fdd\u7559\u7f13\u5b58\u547d\u4ee4"),(0,l.kt)("p",null,"\u5982\u679c\u865a\u62df\u78c1\u76d8\u79bb\u7ebf\u6216\u7531\u4e8e\u4e22\u5931\u7269\u7406\u78c1\u76d8\u800c\u88ab\u5220\u9664\uff0c\u63a7\u5236\u5668\u5c06\u4ece\u865a\u62df\u78c1\u76d8\u4e2d\u4fdd\u7559\u810f\u7f13\u5b58\u3002StorCLI \u5b9e\u7528\u7a0b\u5e8f\u652f\u6301\u4ee5\u4e0b\u4fdd\u7559\u7f13\u5b58\u7684\u547d\u4ee4"),(0,l.kt)("pre",null,(0,l.kt)("code",{parentName:"pre",className:"language-bash"},"storcli /cx/vx delete preservedCache [force]\nstorcli /cx show preservedCache\n")),(0,l.kt)("p",null,(0,l.kt)("inlineCode",{parentName:"p"},"storcli /cx/vx delete preservedcache"),"\uff1a"),(0,l.kt)("p",null,"\u8be5\u547d\u4ee4\u5c06\u5220\u9664\u63a7\u5236\u5668\u4e0a\u67d0\u4e2a\u5904\u4e8e\u7f3a\u5931\u72b6\u6001\u7684\u7279\u5b9a\u865a\u62df\u78c1\u76d8\u7684\u4fdd\u7559\u7f13\u5b58\u3002\u5f53\u865a\u62df\u78c1\u76d8\u5904\u4e8e\u79bb\u7ebf\u72b6\u6001\u65f6\uff0c\u4f7f\u7528 force \u9009\u9879\u5c06\u4fdd\u7559\u7684\u7f13\u5b58\u8fde\u540c\u865a\u62df\u78c1\u76d8\u4e00\u8d77\u5220\u9664"),(0,l.kt)("pre",null,(0,l.kt)("code",{parentName:"pre",className:"language-bash"},"[root@arm64v8 ~]# storcli /c0/v1 delete preservedcache\nCLI Version = 007.1316.0000.0000 Mar 12, 2020\nOperating system = Linux 4.19.90-17.ky10.aarch64\nController = 0\nStatus = Success\nDescription = No Virtual Drive has Preserved Cache Data.\n")),(0,l.kt)("p",null,(0,l.kt)("inlineCode",{parentName:"p"},"storcli /cx show preservedCache"),"\uff1a"),(0,l.kt)("p",null,"\u8be5\u547d\u4ee4\u663e\u793a\u4fdd\u7559\u4e86\u7f13\u5b58\u7684\u865a\u62df\u78c1\u76d8\uff0c\u4ee5\u53ca\u8be5\u865a\u62df\u78c1\u76d8\u662f\u5426\u79bb\u7ebf\u6216\u4e22\u5931\u3002"),(0,l.kt)("pre",null,(0,l.kt)("code",{parentName:"pre",className:"language-bash"},"[root@arm64v8 ~]# storcli /c0 show preservedcache\nCLI Version = 007.1316.0000.0000 Mar 12, 2020\nOperating system = Linux 4.19.90-17.ky10.aarch64\nController = 0\nStatus = Success\nDescription = No Virtual Drive has Preserved Cache Data.\n")),(0,l.kt)("h4",{id:"7325\u4fee\u6539-vd-\u5c5e\u6027"},"7.3.2.5\u3001\u4fee\u6539 VD \u5c5e\u6027"),(0,l.kt)("pre",null,(0,l.kt)("code",{parentName:"pre",className:"language-bash"},"storcli /cx/vx set accesspolicy=<rw|ro|blocked|rmvblkd>\nstorcli /cx/vx set iopolicy=<cached|direct>\nstorcli /cx/vx set name=<namestring>\nstorcli /cx/vx set pdcache=<on|off|default>\nstorcli /cx/vx set rdcache=<ra|nora>\nstorcli /cx/vx|vall set ssdcaching=<on|off>\nstorcli /cx/vx|vall set HostAccess=ExclusiveAccess|SharedAccess\nstorcli /cx/vx set wrcache=<wt|wb|awb>\nstorcli /cx/vx set emulationType=0|1|2\nstorcli /cx/vx set ds=Default|Auto|None|Max|MaxNoCache\nstorcli /cx/vx set autobgi=On|Off\nstorcli /cx/vx set pi=Off\nstorcli /cx/vx set bootdrive=<On|Off>\nstorcli /cx/vx set hidden=On|Off\nstorcli /cx/vx set cbsize=0|1|2 cbmode=0|1|2|3|4|7\n")),(0,l.kt)("p",null,(0,l.kt)("inlineCode",{parentName:"p"},"storcli /cx/vx set accesspolicy=<rw|ro|blocked|rmvblkd>"),"\uff1a"),(0,l.kt)("p",null,"\u8be5\u547d\u4ee4\u5c06\u865a\u62df\u78c1\u76d8\u7684\u8bbf\u95ee\u7b56\u7565\u8bbe\u7f6e\u4e3a read/write\u3001read only\u3001blocked \u6216 rmvblkd (remove\u6216blocked)\u3002"),(0,l.kt)("pre",null,(0,l.kt)("code",{parentName:"pre",className:"language-bash"},"[root@arm64v8 ~]# storcli /c0/v1 set accesspolicy=rw\nCLI Version = 007.1316.0000.0000 Mar 12, 2020\nOperating system = Linux 4.19.90-17.ky10.aarch64\nController = 0\nStatus = Success\nDescription = None\n\nDetailed Status :\n===============\n\n----------------------------------------\nVD Property  Value Status  ErrCd ErrMsg \n----------------------------------------\n 1 AccPolicy RW    Success     0 -    \n----------------------------------------\n")),(0,l.kt)("p",null,(0,l.kt)("inlineCode",{parentName:"p"},"storcli /cx/vx set iopolicy=<cached|direct>"),"\uff1a"),(0,l.kt)("p",null,"\u8be5\u547d\u4ee4\u5c06\u865a\u62df\u78c1\u76d8\u7684 I/O \u7b56\u7565\u8bbe\u7f6e\u4e3a\u7f13\u5b58 I/O \u6216\u76f4\u63a5 I/O\u3002"),(0,l.kt)("pre",null,(0,l.kt)("code",{parentName:"pre",className:"language-bash"},"[root@arm64v8 ~]# storcli /c0/v1 set iopolicy=cached\nCLI Version = 007.1316.0000.0000 Mar 12, 2020\nOperating system = Linux 4.19.90-17.ky10.aarch64\nController = 0\nStatus = Success\nDescription = None\n\nDetailed Status :\n===============\n\n----------------------------------------\nVD Property Value  Status  ErrCd ErrMsg \n----------------------------------------\n 1 IoPolicy Cached Success     0 -    \n----------------------------------------\n")),(0,l.kt)("p",null,(0,l.kt)("inlineCode",{parentName:"p"},"storcli /cx/vx set name=<namestring>"),"\uff1a"),(0,l.kt)("p",null,"\u8be5\u547d\u4ee4\u4e3a\u865a\u62df\u78c1\u76d8\u547d\u540d\u3002\u540d\u79f0\u9650\u5236\u4e3a 15 \u4e2a\u5b57\u7b26\u3002"),(0,l.kt)("pre",null,(0,l.kt)("code",{parentName:"pre",className:"language-bash"},"[root@arm64v8 ~]# storcli /c0/v1 set name=Brinnatt\nCLI Version = 007.1316.0000.0000 Mar 12, 2020\nOperating system = Linux 4.19.90-17.ky10.aarch64\nController = 0\nStatus = Success\nDescription = None\n\nDetailed Status :\n===============\n\n------------------------------------------\nVD Property Value    Status  ErrCd ErrMsg \n------------------------------------------\n 1 Name     Brinnatt Success     0 -    \n------------------------------------------\n")),(0,l.kt)("p",null,(0,l.kt)("inlineCode",{parentName:"p"},"storcli /cx/vx set pdcache=<on|off|default>"),"\uff1a"),(0,l.kt)("p",null,"\u8be5\u547d\u4ee4\u5c06\u865a\u62df\u78c1\u76d8\u4e0a\u7684\u5f53\u524d\u78c1\u76d8\u7f13\u5b58\u7b56\u7565\u8bbe\u7f6e\u4e3a\u6253\u5f00\u3001\u5173\u95ed\u6216\u9ed8\u8ba4\u8bbe\u7f6e\u3002"),(0,l.kt)("pre",null,(0,l.kt)("code",{parentName:"pre",className:"language-bash"},"[root@arm64v8 ~]# storcli /c0/v1 set pdcache=on\nCLI Version = 007.1316.0000.0000 Mar 12, 2020\nOperating system = Linux 4.19.90-17.ky10.aarch64\nController = 0\nStatus = Failure\nDescription = None\n\nDetailed Status :\n===============\n\n-------------------------------------------------------------\nVD Property Value Status ErrCd ErrMsg                      \n-------------------------------------------------------------\n 1 PdCac    -     Failed   255 SSD Physical drive is present \n-------------------------------------------------------------\n")),(0,l.kt)("p",null,(0,l.kt)("inlineCode",{parentName:"p"},"storcli /cx/vx set rdcache=<ra|nora>"),"\uff1a"),(0,l.kt)("p",null,"\u8be5\u547d\u4ee4\u5c06\u865a\u62df\u78c1\u76d8\u7684\u8bfb cache \u7b56\u7565\u8bbe\u7f6e\u4e3a\u9884\u8bfb\u6216\u4e0d\u9884\u8bfb\u3002"),(0,l.kt)("pre",null,(0,l.kt)("code",{parentName:"pre",className:"language-bash"},"[root@arm64v8 ~]# storcli /c0/v1 set rdcache=nora\nCLI Version = 007.1316.0000.0000 Mar 12, 2020\nOperating system = Linux 4.19.90-17.ky10.aarch64\nController = 0\nStatus = Success\nDescription = None\n\nDetailed Status :\n===============\n\n---------------------------------------\nVD Property Value Status  ErrCd ErrMsg \n---------------------------------------\n 1 rdCache  NoRA  Success     0 -    \n---------------------------------------\n")),(0,l.kt)("p",null,(0,l.kt)("inlineCode",{parentName:"p"},"storcli /cx/vx|vall set ssdcaching=<on|off>"),"\uff1a"),(0,l.kt)("p",null,"\u8be5\u547d\u4ee4\u5206\u914d CacheCade \u865a\u62df\u78c1\u76d8\u3002\u5982\u679c ssdcaching=off\uff0c\u8868\u793a CacheCade \u865a\u62df\u78c1\u76d8\u88ab\u79fb\u9664\u3002"),(0,l.kt)("pre",null,(0,l.kt)("code",{parentName:"pre",className:"language-bash"},"# \u8fd9\u4e2a raid \u5361\u4e0d\u652f\u6301 cachecade\n[root@arm64v8 ~]# storcli /c0/v1 set ssdcaching=on\nCLI Version = 007.1316.0000.0000 Mar 12, 2020\nOperating system = Linux 4.19.90-17.ky10.aarch64\nController = 0\nStatus = Failure\nDescription = None\n\nDetailed Status :\n===============\n\n----------------------------------------------------------------------\nVD Property   Value Status ErrCd ErrMsg                             \n----------------------------------------------------------------------\n 1 SSDCaching On    Failed   255 Controller has no Cachecade support. \n----------------------------------------------------------------------\n")),(0,l.kt)("p",null,(0,l.kt)("inlineCode",{parentName:"p"},"storcli /cx/vx|vall set HostAccess=ExclusiveAccess|SharedAccess"),"\uff1a"),(0,l.kt)("p",null,"\u8be5\u547d\u4ee4\u7528\u4e8e\u8bbe\u7f6e\u865a\u62df\u78c1\u76d8\u7684\u4e3b\u673a\u8bbf\u95ee\u7b56\u7565\u3002\u5f53\u4e3b\u673a\u8bbf\u95ee\u7b56\u7565\u4e3a\u72ec\u5360\u8bbf\u95ee\u65f6\uff0c\u670d\u52a1\u5668\u5bf9\u865a\u62df\u78c1\u76d8\u5177\u6709\u72ec\u5360\u8bbf\u95ee\u6743\u9650\u3002\u670d\u52a1\u5668\u4e4b\u95f4\u4e0d\u80fd\u5171\u4eab\u865a\u62df\u9a71\u52a8\u5668\u3002\u5982\u679c\u4e3b\u673a\u7b56\u7565\u4e3a\u5171\u4eab\u8bbf\u95ee\uff0c\u5219\u53ef\u4ee5\u5728\u670d\u52a1\u5668\u4e4b\u95f4\u5171\u4eab\u865a\u62df\u78c1\u76d8\u3002"),(0,l.kt)("pre",null,(0,l.kt)("code",{parentName:"pre",className:"language-bash"},"# \u5f53\u524d raid \u5361\u4e0d\u652f\u6301 HostAccess\n[root@arm64v8 ~]# storcli /c0/v1 set HostAccess=ExclusiveAccess\nCLI Version = 007.1316.0000.0000 Mar 12, 2020\nOperating system = Linux 4.19.90-17.ky10.aarch64\nController = 0\nStatus = Failure\nDescription = None\n\nDetailed Status :\n===============\n\n----------------------------------------------------------------------------------\nVD Property   Value Status ErrCd ErrMsg                                         \n----------------------------------------------------------------------------------\n 1 HostAccess -     Failed   255 This feature is not supported on this Controller \n----------------------------------------------------------------------------------\n")),(0,l.kt)("p",null,(0,l.kt)("inlineCode",{parentName:"p"},"storcli /cx/vx set wrcache=<wt|wb|awb>"),"\uff1a"),(0,l.kt)("p",null,"\u8be5\u547d\u4ee4\u5c06\u865a\u62df\u78c1\u76d8\u7684\u5199 cache \u7b56\u7565\u8bbe\u7f6e\u4e3a\u56de\u5199\u3001\u900f\u5199\u6216\u59cb\u7ec8\u56de\u5199\u3002"),(0,l.kt)("pre",null,(0,l.kt)("code",{parentName:"pre",className:"language-bash"},"[root@arm64v8 ~]# storcli /c0/v1 set wrcache=wt\nCLI Version = 007.1316.0000.0000 Mar 12, 2020\nOperating system = Linux 4.19.90-17.ky10.aarch64\nController = 0\nStatus = Success\nDescription = None\n\nDetailed Status :\n===============\n\n---------------------------------------\nVD Property Value Status  ErrCd ErrMsg \n---------------------------------------\n 1 wrCache  WT    Success     0 -    \n---------------------------------------\n")),(0,l.kt)("p",null,(0,l.kt)("inlineCode",{parentName:"p"},"storcli /cx/vx set hidden=on|off"),"\uff1a"),(0,l.kt)("p",null,"\u8be5\u547d\u4ee4\u9690\u85cf\u6216\u663e\u793a\u865a\u62df\u9a71\u52a8\u5668\u3002\u5982\u679c hidden=on\uff0c\u8868\u793a\u865a\u62df\u78c1\u76d8\u4e0d\u4f1a\u88ab\u5bfc\u51fa\u5230\u64cd\u4f5c\u7cfb\u7edf\u3002\u64cd\u4f5c\u7cfb\u7edf\u5c06\u65e0\u6cd5\u8bfb\u53d6\u6216\u5199\u5165\u8be5\u865a\u62df\u9a71\u52a8\u5668\uff0c\u76f4\u5230\u8be5\u865a\u62df\u9a71\u52a8\u5668\u88ab\u663e\u793a\u3002"),(0,l.kt)("pre",null,(0,l.kt)("code",{parentName:"pre",className:"language-bash"},'[root@arm64v8 ~]# fdisk -l | egrep "Disk /dev"\nDisk /dev/sda: 446.64 GiB, 479559942144 bytes, 936640512 sectors\nDisk /dev/sdb: 893.26 GiB, 959119884288 bytes, 1873281024 sectors\n[root@arm64v8 ~]#\n[root@arm64v8 ~]# storcli /c0/v1 set hidden=on\nCLI Version = 007.1316.0000.0000 Mar 12, 2020\nOperating system = Linux 4.19.90-17.ky10.aarch64\nController = 0\nStatus = Success\nDescription = None\n\nDetailed Status :\n===============\n\n---------------------------------------\nVD Property Value Status  ErrCd ErrMsg \n---------------------------------------\n 1 Hidden   On    Success     0 -    \n---------------------------------------\n[root@arm64v8 ~]# fdisk -l | egrep "Disk /dev"\nDisk /dev/sda: 446.64 GiB, 479559942144 bytes, 936640512 sectors\n[root@arm64v8 ~]# \n')),(0,l.kt)("p",null,(0,l.kt)("inlineCode",{parentName:"p"},"storcli /cx/vx set cbsize=0|1|2 cbmode=0|1|2|3|4|7"),"\uff1a"),(0,l.kt)("p",null,"\u8be5\u547d\u4ee4\u7528\u4e8e\u8bbe\u7f6e\u865a\u62df\u78c1\u76d8\u7684 Cache bypass \u5927\u5c0f\u548c Cache bypass \u6a21\u5f0f\u3002"),(0,l.kt)("p",null,"cbsize\u9009\u9879\u7684\u53d6\u503c\u5982\u4e0b:"),(0,l.kt)("ul",null,(0,l.kt)("li",{parentName:"ul"},"0 \u2013 64k cache bypass."),(0,l.kt)("li",{parentName:"ul"},"1 \u2013 128k cache bypass."),(0,l.kt)("li",{parentName:"ul"},"2 \u2013 256k cache bypass.")),(0,l.kt)("p",null,"cbmode\u9009\u9879\u7684\u503c\u5982\u4e0b:"),(0,l.kt)("ul",null,(0,l.kt)("li",{parentName:"ul"},"0 \u2013 Enable the intelligent mode cache bypass."),(0,l.kt)("li",{parentName:"ul"},"1 \u2013 Enable the standard mode cache bypass."),(0,l.kt)("li",{parentName:"ul"},"2 \u2013 Enable the custom mode cache bypass 1."),(0,l.kt)("li",{parentName:"ul"},"3 \u2013 Enable the custom mode cache bypass 2."),(0,l.kt)("li",{parentName:"ul"},"4 \u2013 Enable the custom mode cache bypass 3."),(0,l.kt)("li",{parentName:"ul"},"7 \u2013 Disable Cache bypass.",(0,l.kt)("ul",{parentName:"li"},(0,l.kt)("li",{parentName:"ul"},"\u5f53 cbmode \u8bbe\u7f6e\u4e3a 7 \u65f6\uff0c\u5c06\u5ffd\u7565\u7528\u6237\u63d0\u4f9b\u7684 cbsize \u503c\u3002")))),(0,l.kt)("pre",null,(0,l.kt)("code",{parentName:"pre",className:"language-bash"},"[root@arm64v8 ~]# storcli /c0/v1 set cbsize=1 cbmode=7\nCLI Version = 007.1316.0000.0000 Mar 12, 2020\nOperating system = Linux 4.19.90-17.ky10.aarch64\nController = 0\nStatus = Success\nDescription = None\n\nDetailed Status :\n===============\n\n------------------------------------------\nVD Property    Value Status  ErrCd ErrMsg \n------------------------------------------\n 1 Cachebypass -     Success     0 -    \n------------------------------------------\n")),(0,l.kt)("h4",{id:"7326vd-\u521d\u59cb\u5316"},"7.3.2.6\u3001VD \u521d\u59cb\u5316"),(0,l.kt)("pre",null,(0,l.kt)("code",{parentName:"pre",className:"language-bash"},"storcli /cx/vx show init\nstorcli /cx/vx start init [full][Force]\nstorcli /cx/vx stop init\n")),(0,l.kt)("ul",null,(0,l.kt)("li",{parentName:"ul"},"\u5982\u679c\u865a\u62df\u78c1\u76d8\u6709\u7528\u6237\u6570\u636e\uff0c\u5fc5\u987b\u4f7f\u7528 force \u9009\u9879\u521d\u59cb\u5316\u865a\u62df\u78c1\u76d8\u3002"),(0,l.kt)("li",{parentName:"ul"},"\u5177\u6709\u6709\u6548 MBR \u548c\u5206\u533a\u8868\u7684\u865a\u62df\u9a71\u52a8\u5668\u88ab\u8ba4\u4e3a\u5305\u542b\u7528\u6237\u6570\u636e\u3002")),(0,l.kt)("p",null,(0,l.kt)("inlineCode",{parentName:"p"},"storcli /cx/vx show init"),"\uff1a"),(0,l.kt)("p",null,"\u8be5\u547d\u4ee4\u4ee5\u767e\u5206\u6bd4\u663e\u793a\u865a\u62df\u78c1\u76d8\u521d\u59cb\u5316\u8fdb\u5ea6\u3002\u8fd8\u663e\u793a\u4e86\u5b8c\u6210\u64cd\u4f5c\u6240\u9700\u7684\u4f30\u8ba1\u65f6\u95f4(\u4ee5\u5206\u949f\u8ba1)\u3002"),(0,l.kt)("pre",null,(0,l.kt)("code",{parentName:"pre",className:"language-bash"},"[root@arm64v8 ~]# storcli /c0/v1 show init\nCLI Version = 007.1316.0000.0000 Mar 12, 2020\nOperating system = Linux 4.19.90-17.ky10.aarch64\nController = 0\nStatus = Success\nDescription = None\n\nVD Operation Status :\n===================\n\n-----------------------------------------------------------\nVD Operation Progress% Status          Estimated Time Left \n-----------------------------------------------------------\n 1 INIT      -         Not in progress -                 \n-----------------------------------------------------------\n")),(0,l.kt)("p",null,(0,l.kt)("inlineCode",{parentName:"p"},"storcli /cx/vx start init [full]"),"\uff1a"),(0,l.kt)("p",null,"\u8be5\u547d\u4ee4\u542f\u52a8\u865a\u62df\u78c1\u76d8\u7684\u521d\u59cb\u5316\u3002\u9ed8\u8ba4\u7684\u521d\u59cb\u5316\u7c7b\u578b\u662f\u5feb\u901f\u521d\u59cb\u5316\u3002\u5982\u679c\u6307\u5b9a full \u9009\u9879\uff0c\u5c06\u542f\u52a8\u865a\u62df\u78c1\u76d8\u7684\u5168\u91cf\u521d\u59cb\u5316\u3002"),(0,l.kt)("pre",null,(0,l.kt)("code",{parentName:"pre",className:"language-bash"},"[root@arm64v8 ~]# storcli /c0/v1 start init full\nCLI Version = 007.1316.0000.0000 Mar 12, 2020\nOperating system = Linux 4.19.90-17.ky10.aarch64\nController = 0\nStatus = Success\nDescription = Start INIT Operation Success\n\n[root@arm64v8 ~]# storcli /c0/v1 show init\nCLI Version = 007.1316.0000.0000 Mar 12, 2020\nOperating system = Linux 4.19.90-17.ky10.aarch64\nController = 0\nStatus = Success\nDescription = None\n\nVD Operation Status :\n===================\n\n-------------------------------------------------------\nVD Operation Progress% Status      Estimated Time Left \n-------------------------------------------------------\n 1 INIT              2 In progress 16 Minutes        \n-------------------------------------------------------\n")),(0,l.kt)("p",null,(0,l.kt)("inlineCode",{parentName:"p"},"storcli /cx/vx stop init"),"\uff1a"),(0,l.kt)("p",null,"\u8be5\u547d\u4ee4\u505c\u6b62\u865a\u62df\u78c1\u76d8\u7684\u521d\u59cb\u5316\uff0c\u5df2\u505c\u6b62\u7684\u521d\u59cb\u5316\u4e0d\u80fd\u6062\u590d"),(0,l.kt)("pre",null,(0,l.kt)("code",{parentName:"pre",className:"language-bash"},"[root@arm64v8 ~]# storcli /c0/v1 show init\nCLI Version = 007.1316.0000.0000 Mar 12, 2020\nOperating system = Linux 4.19.90-17.ky10.aarch64\nController = 0\nStatus = Success\nDescription = None\n\nVD Operation Status :\n===================\n\n-------------------------------------------------------\nVD Operation Progress% Status      Estimated Time Left \n-------------------------------------------------------\n 1 INIT             19 In progress 13 Minutes        \n-------------------------------------------------------\n\n[root@arm64v8 ~]# storcli /c0/v1 stop init\nCLI Version = 007.1316.0000.0000 Mar 12, 2020\nOperating system = Linux 4.19.90-17.ky10.aarch64\nController = 0\nStatus = Success\nDescription = Stop INIT Operation Success\n\n[root@arm64v8 ~]# storcli /c0/v1 show init\nCLI Version = 007.1316.0000.0000 Mar 12, 2020\nOperating system = Linux 4.19.90-17.ky10.aarch64\nController = 0\nStatus = Success\nDescription = None\n\nVD Operation Status :\n===================\n\n-----------------------------------------------------------\nVD Operation Progress% Status          Estimated Time Left \n-----------------------------------------------------------\n 1 INIT      -         Not in progress -                 \n-----------------------------------------------------------\n")),(0,l.kt)("h4",{id:"7327vd-\u64e6\u9664"},"7.3.2.7\u3001VD \u64e6\u9664"),(0,l.kt)("pre",null,(0,l.kt)("code",{parentName:"pre",className:"language-bash"},"storcli /cx/vx <start|stop> erase\nstorcli /cx/vx show erase\n")),(0,l.kt)("p",null,(0,l.kt)("inlineCode",{parentName:"p"},"storcli /cx/vx start erase"),"\uff1a"),(0,l.kt)("p",null,"\u5728\u6307\u5b9a\u7684\u865a\u62df\u78c1\u76d8\u4e0a\u542f\u52a8\u6570\u636e\u64e6\u9664\u64cd\u4f5c\u3002"),(0,l.kt)("pre",null,(0,l.kt)("code",{parentName:"pre",className:"language-bash"},"[root@arm64v8 ~]# storcli /c0/v1 start erase\nCLI Version = 007.1316.0000.0000 Mar 12, 2020\nOperating system = Linux 4.19.90-17.ky10.aarch64\nController = 0\nStatus = Success\nDescription = Start ERASE Operation Success\n")),(0,l.kt)("p",null,(0,l.kt)("inlineCode",{parentName:"p"},"storcli /cx/vx show erase"),"\uff1a"),(0,l.kt)("p",null,"\u8be5\u547d\u4ee4\u663e\u793a\u865a\u62df\u78c1\u76d8\u4e0a\u7684\u64e6\u9664\u64cd\u4f5c\u7684\u72b6\u6001\u3002"),(0,l.kt)("pre",null,(0,l.kt)("code",{parentName:"pre",className:"language-bash"},"[root@arm64v8 ~]# storcli /c0/v1 show erase\nCLI Version = 007.1316.0000.0000 Mar 12, 2020\nOperating system = Linux 4.19.90-17.ky10.aarch64\nController = 0\nStatus = Success\nDescription = None\n\nVD Operation Status :\n===================\n\n-------------------------------------------------------\nVD Operation Progress% Status      Estimated Time Left \n-------------------------------------------------------\n 1 ERASE             4 In progress 15 Minutes        \n-------------------------------------------------------\n")),(0,l.kt)("h4",{id:"7328vd-\u8fc1\u79fb"},"7.3.2.8\u3001VD \u8fc1\u79fb"),(0,l.kt)("p",null,"\u5d4c\u5165\u5f0f MegaRAID \u4e0d\u652f\u6301\u865a\u62df\u78c1\u76d8\u8fc1\u79fb\u547d\u4ee4\u3002"),(0,l.kt)("pre",null,(0,l.kt)("code",{parentName:"pre",className:"language-bash"},"storcli /cx/vx show migrate\nstorcli /cx/vx start migrate <type=raidx> [option=<add|remove> drives=[e:]s|[e:]s-x|[e:]s-x,y] [Force]\n")),(0,l.kt)("ul",null,(0,l.kt)("li",{parentName:"ul"},"\u5982\u679c\u6ca1\u6709 RAID \u7ea7\u522b\u8fc1\u79fb\uff0c\u53ef\u7528\u5bb9\u91cf\u51cf\u5c11\u662f\u4e0d\u53ef\u80fd\u7684\u3002")),(0,l.kt)("p",null,(0,l.kt)("inlineCode",{parentName:"p"},"storcli /cx/vx show migrate"),"\uff1a"),(0,l.kt)("p",null,"\u8be5\u547d\u4ee4\u4ee5\u767e\u5206\u6bd4\u663e\u793a\u865a\u62df\u78c1\u76d8\u8fc1\u79fb\u8fdb\u5ea6\u3002\u8fd8\u663e\u793a\u4e86\u5b8c\u6210\u64cd\u4f5c\u6240\u9700\u7684\u4f30\u8ba1\u65f6\u95f4(\u4ee5\u5206\u949f\u8ba1)\u3002"),(0,l.kt)("p",null,(0,l.kt)("inlineCode",{parentName:"p"},"storcli /cx/vx start migrate <type=raidlevel> [option=<add | remove> drives=<e1:s1,e2:s2 ...> ]"),"\uff1a"),(0,l.kt)("p",null,"\u901a\u8fc7\u6dfb\u52a0\u6216\u79fb\u9664\u73b0\u6709\u865a\u62df\u78c1\u76d8\u4e2d\u7684\u78c1\u76d8\uff0c\u5c06\u865a\u62df\u78c1\u76d8\u91cd\u6784\u5230\u6307\u5b9a\u7684 RAID \u7ea7\u522b\u3002\u53ef\u4ee5\u5728 start migrate \u547d\u4ee4\u4e2d\u4f7f\u7528\u4ee5\u4e0b\u9009\u9879\u3002"),(0,l.kt)("table",null,(0,l.kt)("thead",{parentName:"table"},(0,l.kt)("tr",{parentName:"thead"},(0,l.kt)("th",{parentName:"tr",align:null},"Options"),(0,l.kt)("th",{parentName:"tr",align:null},"Value Range"),(0,l.kt)("th",{parentName:"tr",align:null},"Description"))),(0,l.kt)("tbody",{parentName:"table"},(0,l.kt)("tr",{parentName:"tbody"},(0,l.kt)("td",{parentName:"tr",align:null},"type = RAID level"),(0,l.kt)("td",{parentName:"tr",align:null},"RAID","[","0"),(0,l.kt)("td",{parentName:"tr",align:null},"1")),(0,l.kt)("tr",{parentName:"tbody"},(0,l.kt)("td",{parentName:"tr",align:null},"[","option=<add"),(0,l.kt)("td",{parentName:"tr",align:null},"remove>drives=<e1:s1,e2:s2, \u2026>","]"),(0,l.kt)("td",{parentName:"tr",align:null},"add: \u6dfb\u52a0\u78c1\u76d8\u5230\u865a\u62df\u78c1\u76d8\u5e76\u5f00\u59cb\u91cd\u6784\u3002")),(0,l.kt)("tr",{parentName:"tbody"},(0,l.kt)("td",{parentName:"tr",align:null},"remove: \u4ece\u865a\u62df\u78c1\u76d8\u4e2d\u79fb\u9664\u78c1\u76d8\u5e76\u5f00\u59cb\u91cd\u6784\u3002"),(0,l.kt)("td",{parentName:"tr",align:null}),(0,l.kt)("td",{parentName:"tr",align:null})),(0,l.kt)("tr",{parentName:"tbody"},(0,l.kt)("td",{parentName:"tr",align:null},"drives: \u8981\u52a0\u5165\u865a\u62df\u78c1\u76d8\u7684\u786c\u76d8\u7684 enclosure \u53f7\u548c slot \u53f7\u3002"),(0,l.kt)("td",{parentName:"tr",align:null}),(0,l.kt)("td",{parentName:"tr",align:null})),(0,l.kt)("tr",{parentName:"tbody"},(0,l.kt)("td",{parentName:"tr",align:null},"\u786e\u4fdd\u5728\u6bcf\u4e2a","[","e:s","]","\u5bf9\u4e2d\u4f7f\u7528\u4e86\u76f8\u540c\u7684\u5757\u5927\u5c0f(\u5728\u7269\u7406\u9a71\u52a8\u5668\u4e2d)\u3002"),(0,l.kt)("td",{parentName:"tr",align:null}),(0,l.kt)("td",{parentName:"tr",align:null})),(0,l.kt)("tr",{parentName:"tbody"},(0,l.kt)("td",{parentName:"tr",align:null},"\u4f8b\u5982\uff0c\u5982\u679ce0:s0\u5bf9\u4e2d\u4f7f\u75284096\u5b57\u8282\uff0c\u90a3\u4e48e1:s1\u5bf9\u4e2d\u4e5f\u4f7f"),(0,l.kt)("td",{parentName:"tr",align:null}),(0,l.kt)("td",{parentName:"tr",align:null})),(0,l.kt)("tr",{parentName:"tbody"},(0,l.kt)("td",{parentName:"tr",align:null},"\u75284096\u5b57\u8282\u3002\u4e0d\u652f\u6301\u5728","[","e:s","]","\u5bf9\u4e4b\u95f4\u6df7\u5408\u5757\u5927\u5c0f\u3002"),(0,l.kt)("td",{parentName:"tr",align:null},"\u4ece\u865a\u62df\u78c1\u76d8\u4e2d\u6dfb\u52a0\u6216\u5220\u9664\u9a71\u52a8\u5668\u3002"),(0,l.kt)("td",{parentName:"tr",align:null})))),(0,l.kt)("p",null,"\u4ee5\u4e0b RAID \u7ea7\u522b\u53ef\u4ee5\u8fdb\u884c\u865a\u62df\u78c1\u76d8\u8fc1\u79fb\u3002"),(0,l.kt)("table",null,(0,l.kt)("thead",{parentName:"table"},(0,l.kt)("tr",{parentName:"thead"},(0,l.kt)("th",{parentName:"tr",align:null},"Initial RAID level"),(0,l.kt)("th",{parentName:"tr",align:null},"Migrated RAID level"))),(0,l.kt)("tbody",{parentName:"table"},(0,l.kt)("tr",{parentName:"tbody"},(0,l.kt)("td",{parentName:"tr",align:null},"RAID 0"),(0,l.kt)("td",{parentName:"tr",align:null},"RAID 1")),(0,l.kt)("tr",{parentName:"tbody"},(0,l.kt)("td",{parentName:"tr",align:null},"RAID 0"),(0,l.kt)("td",{parentName:"tr",align:null},"RAID 5")),(0,l.kt)("tr",{parentName:"tbody"},(0,l.kt)("td",{parentName:"tr",align:null},"RAID 0"),(0,l.kt)("td",{parentName:"tr",align:null},"RAID 6")),(0,l.kt)("tr",{parentName:"tbody"},(0,l.kt)("td",{parentName:"tr",align:null},"RAID 1"),(0,l.kt)("td",{parentName:"tr",align:null},"RAID 0")),(0,l.kt)("tr",{parentName:"tbody"},(0,l.kt)("td",{parentName:"tr",align:null},"RAID 1"),(0,l.kt)("td",{parentName:"tr",align:null},"RAID 5")),(0,l.kt)("tr",{parentName:"tbody"},(0,l.kt)("td",{parentName:"tr",align:null},"RAID 1"),(0,l.kt)("td",{parentName:"tr",align:null},"RAID 6")),(0,l.kt)("tr",{parentName:"tbody"},(0,l.kt)("td",{parentName:"tr",align:null},"RAID 5"),(0,l.kt)("td",{parentName:"tr",align:null},"RAID 0")),(0,l.kt)("tr",{parentName:"tbody"},(0,l.kt)("td",{parentName:"tr",align:null},"RAID 5"),(0,l.kt)("td",{parentName:"tr",align:null},"RAID 6")),(0,l.kt)("tr",{parentName:"tbody"},(0,l.kt)("td",{parentName:"tr",align:null},"RAID 6"),(0,l.kt)("td",{parentName:"tr",align:null},"RAID 0")),(0,l.kt)("tr",{parentName:"tbody"},(0,l.kt)("td",{parentName:"tr",align:null},"RAID 6"),(0,l.kt)("td",{parentName:"tr",align:null},"RAID 5")))),(0,l.kt)("pre",null,(0,l.kt)("code",{parentName:"pre",className:"language-bash"},"[root@arm64v8 ~]# storcli /c0 add vd type=raid0 drives=18:0,1\nCLI Version = 007.1316.0000.0000 Mar 12, 2020\nOperating system = Linux 4.19.90-17.ky10.aarch64\nController = 0\nStatus = Success\nDescription = Add VD Succeeded.\n\n[root@arm64v8 ~]#\n[root@arm64v8 ~]# storcli /c0/v1 start migrate type=raid5 option=add drives=18:3\nCLI Version = 007.1316.0000.0000 Mar 12, 2020\nOperating system = Linux 4.19.90-17.ky10.aarch64\nController = 0\nStatus = Success\nDescription = Start VD Operation Success\n\n[root@arm64v8 ~]#\n[root@arm64v8 ~]# storcli /c0/v1 show migrate\nCLI Version = 007.1316.0000.0000 Mar 12, 2020\nOperating system = Linux 4.19.90-17.ky10.aarch64\nController = 0\nStatus = Success\nDescription = None\n\nVD Operation Status :\n===================\n\n-------------------------------------------------------\nVD Operation Progress% Status      Estimated Time Left \n-------------------------------------------------------\n 1 Migrate           1 In progress 1 Hours 12 Minutes  \n-------------------------------------------------------\n")),(0,l.kt)("ul",null,(0,l.kt)("li",{parentName:"ul"},"\u8fd9\u4e2a\u5b9e\u9a8c\u662f\u5728\u4e0d\u540c\u7684 raid \u7ea7\u522b\u4e4b\u95f4\u8fdb\u884c migrate\uff0c\u5176\u5b9e\u5728\u751f\u4ea7\u73af\u5883\u4e0a\u4e0d\u5efa\u8bae\u8fd9\u4e48\u5e72\uff0c\u901f\u5ea6\u6162\u4e0d\u8bf4\uff0c\u800c\u4e14\u6570\u636e\u635f\u574f\u98ce\u9669\u8fd8\u6bd4\u8f83\u5927\u3002"),(0,l.kt)("li",{parentName:"ul"},"\u5927\u591a\u6570\u60c5\u51b5\u4e0b\uff0c\u53ef\u4ee5\u5728\u540c\u4e00 raid \u7ea7\u522b\u4e0b\u8fdb\u884c\u589e\u5220\u786c\u76d8\u3002")),(0,l.kt)("h4",{id:"7329vd-\u4e00\u81f4\u6027\u6821\u9a8c"},"7.3.2.9\u3001VD \u4e00\u81f4\u6027\u6821\u9a8c"),(0,l.kt)("pre",null,(0,l.kt)("code",{parentName:"pre",className:"language-bash"},"storcli /cx/vx <start|stop|pause|resume|show> cc [force]\n")),(0,l.kt)("p",null,"\u542f\u52a8\u865a\u62df\u78c1\u76d8\u4e00\u81f4\u6027\u68c0\u67e5\u64cd\u4f5c\u3002\u4e00\u822c\u6765\u8bf4\uff0c\u4e00\u81f4\u6027\u68c0\u67e5\u64cd\u4f5c\u5728\u521d\u59cb\u5316\u7684\u865a\u62df\u78c1\u76d8\u4e0a\u8fd0\u884c\u3002\u4f7f\u7528 force \u9009\u9879\u5728\u672a\u521d\u59cb\u5316\u7684\u9a71\u52a8\u5668\u4e0a\u8fd0\u884c\u4e00\u81f4\u6027\u68c0\u67e5\u3002"),(0,l.kt)("pre",null,(0,l.kt)("code",{parentName:"pre",className:"language-bash"},"[root@arm64v8 ~]# storcli /c0/v1 start cc\nCLI Version = 007.1316.0000.0000 Mar 12, 2020\nOperating system = Linux 4.19.90-17.ky10.aarch64\nController = 0\nStatus = Failure\nDescription = None\n\nDetailed Status :\n===============\n\n---------------------------------------------\nVD Operation Status ErrCd ErrMsg           \n---------------------------------------------\n 1 CC        Failed   255 VD not Initialized \n---------------------------------------------\n[root@arm64v8 ~]# storcli /c0/v1 start init full\n[root@arm64v8 ~]# storcli /c0/v1 show init\nCLI Version = 007.1316.0000.0000 Mar 12, 2020\nOperating system = Linux 4.19.90-17.ky10.aarch64\nController = 0\nStatus = Success\nDescription = None\n\nVD Operation Status :\n===================\n\n-------------------------------------------------------\nVD Operation Progress% Status      Estimated Time Left \n-------------------------------------------------------\n 1 INIT             56 In progress 6 Minutes         \n-------------------------------------------------------\n[root@arm64v8 ~]# storcli /c0/v1 start cc\nCLI Version = 007.1316.0000.0000 Mar 12, 2020\nOperating system = Linux 4.19.90-17.ky10.aarch64\nController = 0\nStatus = Success\nDescription = Start CC Operation Success\n\n[root@arm64v8 ~]# storcli /c0/v1 show cc\nCLI Version = 007.1316.0000.0000 Mar 12, 2020\nOperating system = Linux 4.19.90-17.ky10.aarch64\nController = 0\nStatus = Success\nDescription = None\n\nVD Operation Status :\n===================\n\n-------------------------------------------------------\nVD Operation Progress% Status      Estimated Time Left \n-------------------------------------------------------\n 1 CC                0 In progress 0 Seconds         \n-------------------------------------------------------\n")),(0,l.kt)("h4",{id:"73210vd-\u6269\u5c55"},"7.3.2.10\u3001VD \u6269\u5c55"),(0,l.kt)("pre",null,(0,l.kt)("code",{parentName:"pre",className:"language-bash"},"storcli /cx/vx expand size=<value> [expandarray]\nstorcli /cx/vx|vall show expansion\n")),(0,l.kt)("p",null,(0,l.kt)("inlineCode",{parentName:"p"},"storcli /cx/vx expand size=<value> [expandarray]"),"\uff1a"),(0,l.kt)("p",null,"\u5982\u679c\u60a8\u4f7f\u7528\u5927\u4e8e\u73b0\u6709\u9635\u5217\u5927\u5c0f\u7684\u9a71\u52a8\u5668\u66ff\u6362\u9a71\u52a8\u5668\uff0c\u5219\u6b64\u547d\u4ee4\u5c06\u6269\u5c55\u73b0\u6709\u9635\u5217\u4e2d\u7684\u865a\u62df\u9a71\u52a8\u5668\u3002"),(0,l.kt)("p",null,"\u867d\u7136\u63d0\u4f9b\u7684\u503c\u53ef\u80fd\u4ee5 MB \u4e3a\u5355\u4f4d\uff0c\u4f46\u6269\u5c55\u5927\u5c0f\u7684\u503c\u662f\u57fa\u4e8e\u6700\u8fd1\u7684\u53ef\u80fd\u5355\u4f4d\u663e\u793a\u7684\u3002"),(0,l.kt)("p",null,"\u6839\u636e\u60a8\u63d0\u4f9b\u7684\u8f93\u5165(\u503c)\uff0cstorcli \u4ece\u60a8\u63d0\u4f9b\u7684\u8f93\u5165\u4e2d\u8bc6\u522b\u5927\u5c0f\uff0c\u5e76\u5c06\u5927\u5c0f\u820d\u5165\u5230\u9a71\u52a8\u5668\u7ec4\u5269\u4f59\u7a7a\u95f2\u7a7a\u95f4\u7684\u6700\u8fd1\u767e\u5206\u6bd4\u3002"),(0,l.kt)("p",null,"\u56e0\u6b64\uff0c\u5b9e\u9645\u6269\u5c55\u7684\u5c3a\u5bf8\u53ef\u80fd\u4e0e\u60a8\u8981\u6c42\u7684\u5c3a\u5bf8\u4e0d\u540c\u3002\u5982\u679c\u6307\u5b9a\u4e86 expandarray \u9009\u9879\uff0c\u5219\u6269\u5c55\u73b0\u6709\u7684\u6570\u7ec4\u3002\u5982\u679c\u4e0d\u6307\u5b9a\u6b64\u9009\u9879\uff0c\u5219\u6269\u5c55\u865a\u62df\u78c1\u76d8\u3002"),(0,l.kt)("pre",null,(0,l.kt)("code",{parentName:"pre",className:"language-bash"},"[root@arm64v8 ~]# storcli /c0 add vd type=raid5 size=2Gb names=first drives=18:0,1,2\nCLI Version = 007.1316.0000.0000 Mar 12, 2020\nOperating system = Linux 4.19.90-17.ky10.aarch64\nController = 0\nStatus = Success\nDescription = Add VD Succeeded.\n\n[root@arm64v8 ~]# storcli /c0/v1 show\nCLI Version = 007.1316.0000.0000 Mar 12, 2020\nOperating system = Linux 4.19.90-17.ky10.aarch64\nController = 0\nStatus = Success\nDescription = None\n\nVirtual Drives :\n==============\n\n--------------------------------------------------------------\nDG/VD TYPE  State Access Consist Cache Cac sCC     Size Name  \n--------------------------------------------------------------\n1/1   RAID5 Optl  RW     No      RWTD  -   ON  2.000 GB first \n--------------------------------------------------------------\n[root@arm64v8 ~]# storcli /c0/v1 expand size=10Gb\nCLI Version = 007.1316.0000.0000 Mar 12, 2020\nOperating system = Linux 4.19.90-17.ky10.aarch64\nController = 0\nStatus = Success\nDescription = expansion operation succeeded\n\nEXPANSION RESULT :\n================\n\n-------------------------------------------------------------------------------\nVD     Size FreSpc     ReqSize   AbsUsrSz  %FreSpc NewSize   Status NoArrExp   \n-------------------------------------------------------------------------------\n 1 2.000 GB 891.250 GB 10.000 GB 17.824 GB       2 19.824 GB -      891.250 GB \n-------------------------------------------------------------------------------\n[root@arm64v8 ~]# storcli /c0/v1 show\nCLI Version = 007.1316.0000.0000 Mar 12, 2020\nOperating system = Linux 4.19.90-17.ky10.aarch64\nController = 0\nStatus = Success\nDescription = None\n\nVirtual Drives :\n==============\n\n---------------------------------------------------------------\nDG/VD TYPE  State Access Consist Cache Cac sCC      Size Name  \n---------------------------------------------------------------\n1/1   RAID5 Optl  RW     No      RWTD  -   ON  19.824 GB first \n---------------------------------------------------------------\n")),(0,l.kt)("p",null,(0,l.kt)("inlineCode",{parentName:"p"},"storcli /cx/vx show expansion"),"\uff1a"),(0,l.kt)("p",null,"\u8be5\u547d\u4ee4\u663e\u793a\u5305\u542b\u6216\u4e0d\u5305\u542b\u9635\u5217\u6269\u5c55\u7684\u865a\u62df\u78c1\u76d8\u7684\u6269\u5c55\u4fe1\u606f\u3002"),(0,l.kt)("pre",null,(0,l.kt)("code",{parentName:"pre",className:"language-bash"},"[root@arm64v8 ~]# storcli /c0/v1 show expansion\nCLI Version = 007.1316.0000.0000 Mar 12, 2020\nOperating system = Linux 4.19.90-17.ky10.aarch64\nController = 0\nStatus = Success\nDescription = None\n\nEXPANSION INFORMATION :\n=====================\n\n----------------------------------------------\nVD      Size OCE NoArrExp   WithArrExp Status \n----------------------------------------------\n 1 19.824 GB Y   873.424 GB -          -    \n----------------------------------------------\n\nOCE - Online Capacity Expansion | WithArrExp - With Array Expansion \n VD=Virtual Drive | NoArrExp - Without Array Expansion\n\n[root@arm64v8 ~]#\n")),(0,l.kt)("h3",{id:"733foreign-\u914d\u7f6e"},"7.3.3\u3001Foreign \u914d\u7f6e"),(0,l.kt)("p",null,"StorCLI \u5de5\u5177\u652f\u6301\u4ee5\u4e0b\u547d\u4ee4\u67e5\u770b\u3001\u5bfc\u5165\u548c\u5220\u9664\u5916\u90e8\u914d\u7f6e\uff1a"),(0,l.kt)("pre",null,(0,l.kt)("code",{parentName:"pre",className:"language-bash"},"storcli /cx/fall del|delete [securitykey=sssssssssss\nstorcli /cx/fall import [preview][securitykey=sssssssssss]\nstorcli /cx/fall show [all] [securitykey=sssssssssss]\n")),(0,l.kt)("ul",null,(0,l.kt)("li",{parentName:"ul"},"\u5982\u679c\u8981\u5bfc\u5165\u5230\u53e6\u5916\u4e00\u4e2a\u4f7f\u7528\u5b89\u5168\u5bc6\u94a5\u52a0\u5bc6\u5e76\u9501\u5b9a\u5916\u90e8\u914d\u7f6e\u7684\u670d\u52a1\u5668\u4e2d\u65f6\uff0c\u9700\u8981\u63d0\u4f9b\u8fd9\u4e2a\u5b89\u5168\u5bc6\u94a5\u3002")),(0,l.kt)("p",null,(0,l.kt)("inlineCode",{parentName:"p"},"storcli /cx/fall|del| delete [securitykey=sssssssssss]"),"\uff1a"),(0,l.kt)("p",null,"\u8be5\u547d\u4ee4\u5c06\u5220\u9664\u63a7\u5236\u5668\u7684\u5916\u90e8\u914d\u7f6e\u3002\u5982\u679c\u63a7\u5236\u5668\u5df2\u5b89\u5168\uff0c\u8bf7\u8f93\u5165\u5b89\u5168\u5bc6\u94a5\u3002"),(0,l.kt)("p",null,(0,l.kt)("inlineCode",{parentName:"p"},"storcli /cx/fall import [preview] [securitykey=sssssssssss]"),"\uff1a"),(0,l.kt)("p",null,"\u8be5\u547d\u4ee4\u5c06\u5bfc\u5165\u63a7\u5236\u5668\u7684\u5916\u90e8\u914d\u7f6e\u3002\u5728\u5bfc\u5165\u5916\u90e8\u914d\u7f6e\u4e4b\u524d\uff0cpreview \u9009\u9879\u4f1a\u663e\u793a\u8be5\u914d\u7f6e\u7684\u6458\u8981\u3002"),(0,l.kt)("p",null,(0,l.kt)("inlineCode",{parentName:"p"},"storcli /cx/fall show [all] [securitykey=sssssssssss]"),"\uff1a"),(0,l.kt)("p",null,"\u8fd9\u4e2a\u547d\u4ee4\u663e\u793a\u7279\u5b9a\u63a7\u5236\u5668\u7684\u6574\u4e2a\u5916\u90e8\u914d\u7f6e\u7684\u6458\u8981\u3002all \u9009\u9879\u663e\u793a\u6574\u4e2a\u5916\u90e8\u914d\u7f6e\u7684\u6240\u6709\u4fe1\u606f\u3002"),(0,l.kt)("p",null,(0,l.kt)("em",{parentName:"p"},"\u6ce8\u610f\uff1aEID:Slot \u5217\u4e3a\u88ab\u9501\u5b9a\u7684\u5916\u90e8 PDs \u586b\u5145\u3002")),(0,l.kt)("h3",{id:"734bios-\u76f8\u5173\u547d\u4ee4"},"7.3.4\u3001BIOS \u76f8\u5173\u547d\u4ee4"),(0,l.kt)("pre",null,(0,l.kt)("code",{parentName:"pre",className:"language-bash"},"storcli /cx set bios [state=<on|off>] [Mode=<SOE|PE|IE|SME>] [abs=<on|off>] [DeviceExposure=<value>]\n")),(0,l.kt)("p",null,"\u8be5\u547d\u4ee4\u7528\u4e8e\u5f00\u542f\u6216\u5173\u95ed MegaRAID \u63a7\u5236\u5668\u7684 BIOS\uff0c\u8bbe\u7f6e BIOS \u7684\u542f\u52a8\u65b9\u5f0f\uff0c\u5e76\u4f7f BIOS \u80fd\u9009\u62e9\u6700\u4f18\u903b\u8f91\u76d8\u4f5c\u4e3a\u542f\u52a8\u76d8\u3002\u6a21\u5f0f\u9009\u9879\u7684\u7f29\u5199\u5982\u4e0b:"),(0,l.kt)("table",null,(0,l.kt)("thead",{parentName:"table"},(0,l.kt)("tr",{parentName:"thead"},(0,l.kt)("th",{parentName:"tr",align:null},"mode"),(0,l.kt)("th",{parentName:"tr",align:null},"description"))),(0,l.kt)("tbody",{parentName:"table"},(0,l.kt)("tr",{parentName:"tbody"},(0,l.kt)("td",{parentName:"tr",align:null},"SOE"),(0,l.kt)("td",{parentName:"tr",align:null},"Stop on Errors")),(0,l.kt)("tr",{parentName:"tbody"},(0,l.kt)("td",{parentName:"tr",align:null},"PE"),(0,l.kt)("td",{parentName:"tr",align:null},"Pause on Errors")),(0,l.kt)("tr",{parentName:"tbody"},(0,l.kt)("td",{parentName:"tr",align:null},"IE"),(0,l.kt)("td",{parentName:"tr",align:null},"Ignore Errors")),(0,l.kt)("tr",{parentName:"tbody"},(0,l.kt)("td",{parentName:"tr",align:null},"SME"),(0,l.kt)("td",{parentName:"tr",align:null},"Safe mode on Errors")))),(0,l.kt)("ul",null,(0,l.kt)("li",{parentName:"ul"},"\u4f20\u7edf BIOS \u53ea\u80fd\u52a0\u8f7d\u6709\u9650\u6570\u91cf\u7684 PCI \u8bbe\u5907 BIOS\u3002\u5173\u95ed MegaRAID BIOS \u4ee5\u907f\u514d POST \u8fc7\u7a0b\u4e2d\u51fa\u73b0\u95ee\u9898\u3002")),(0,l.kt)("pre",null,(0,l.kt)("code",{parentName:"pre",className:"language-bash"},"[root@arm64v8 ~]# storcli /c0 show bios\nCLI Version = 007.1316.0000.0000 Mar 12, 2020\nOperating system = Linux 4.19.90-17.ky10.aarch64\nController = 0\nStatus = Success\nDescription = None\n\nController Properties :\n=====================\n\n-----------------------------------------------------\nCtrl_Prop                        Value             \n-----------------------------------------------------\nBasic Input/Output System (BIOS) ON                \nAuto Boot Select(ABS)            OFF               \nBIOS Boot Mode                   Safe mode on errors \nDevice Exposure                  Expose All        \n-----------------------------------------------------\n")),(0,l.kt)("p",null,(0,l.kt)("inlineCode",{parentName:"p"},"storcli /cx/ex/sx set bootdrive=on|off"),"\uff1a"),(0,l.kt)("p",null,"\u8be5\u547d\u4ee4\u5c06\u6307\u5b9a\u7684\u7269\u7406\u78c1\u76d8\u8bbe\u7f6e\u4e3a\u542f\u52a8\u76d8\u3002\u5728\u4e0b\u4e00\u6b21\u91cd\u65b0\u542f\u52a8\u65f6\uff0cBIOS \u5c06\u5728\u6307\u5b9a\u7684\u7269\u7406\u9a71\u52a8\u5668\u4e2d\u5bfb\u627e\u5f15\u5bfc\u6247\u533a\u3002"),(0,l.kt)("p",null,(0,l.kt)("inlineCode",{parentName:"p"},"storcli /cx/vx set bootdrive=on|off"),"\uff1a"),(0,l.kt)("p",null,"\u8be5\u547d\u4ee4\u5c06\u6307\u5b9a\u7684\u865a\u62df\u78c1\u76d8\u8bbe\u7f6e\u4e3a\u542f\u52a8\u76d8\u3002\u5728\u4e0b\u4e00\u6b21\u91cd\u65b0\u542f\u52a8\u65f6\uff0cBIOS \u5c06\u5728\u6307\u5b9a\u7684\u865a\u62df\u9a71\u52a8\u5668\u4e2d\u5bfb\u627e\u5f15\u5bfc\u6247\u533a\u3002"),(0,l.kt)("p",null,(0,l.kt)("inlineCode",{parentName:"p"},"storcli /cx/vx show bootdrive"),"\uff1a"),(0,l.kt)("p",null,"\u8be5\u547d\u4ee4\u663e\u793a\u63a7\u5236\u5668\u7684\u542f\u52a8\u9a71\u52a8\u5668\u3002\u542f\u52a8\u76d8\u53ef\u4ee5\u662f\u7269\u7406\u76d8\uff0c\u4e5f\u53ef\u4ee5\u662f\u865a\u62df\u76d8\u3002"),(0,l.kt)("h3",{id:"735dg-\u547d\u4ee4"},"7.3.5\u3001DG \u547d\u4ee4"),(0,l.kt)("p",null,"StorCLI \u5b9e\u7528\u7a0b\u5e8f\u652f\u6301\u4ee5\u4e0b\u9a71\u52a8\u5668\u7ec4\u547d\u4ee4\uff1a"),(0,l.kt)("pre",null,(0,l.kt)("code",{parentName:"pre",className:"language-bash"},"storcli /cx/dall show [all]\nstorcli /cx/dall show cachecade\nstorcli /cx/dx show [all]\nstorcli /cx/dx set security=on\nstorcli /cx/dx split mirror\nstorcli /cx/dall show mirror\nstorcli /cx/dall add mirror src=<val>[force]\nstorcli /cx/dx set hidden=<on|off>\n")),(0,l.kt)("p",null,(0,l.kt)("inlineCode",{parentName:"p"},"storcli /cx/dall show all"),"\uff1a\u8be5\u547d\u4ee4\u663e\u793a\u63a7\u5236\u5668\u4e2d\u6240\u6709\u53ef\u7528\u914d\u7f6e\u4fe1\u606f\uff0c\u5305\u62ec\u62d3\u6251\u4fe1\u606f\u3001\u865a\u62df\u78c1\u76d8\u4fe1\u606f\u3001\u7269\u7406\u78c1\u76d8\u4fe1\u606f\u3001\u7a7a\u95f2\u7a7a\u95f4\u4fe1\u606f\u548c\u7a7a\u95f2\u69fd\u4f4d\u4fe1\u606f\u3002"),(0,l.kt)("p",null,(0,l.kt)("inlineCode",{parentName:"p"},"storcli /cx/dall show cachecade"),"\uff1a\u8be5\u547d\u4ee4\u663e\u793a\u6240\u6709 CacheCade \u865a\u62df\u78c1\u76d8\u4fe1\u606f\u3002"),(0,l.kt)("p",null,(0,l.kt)("inlineCode",{parentName:"p"},"storcli /cx/dx show all"),"\uff1a\u8be5\u547d\u4ee4\u663e\u793a\u78c1\u76d8\u7ec4\u7684\u7269\u7406\u78c1\u76d8\u548c\u865a\u62df\u78c1\u76d8\u4fe1\u606f\u3002"),(0,l.kt)("p",null,(0,l.kt)("inlineCode",{parentName:"p"},"storcli /cx/dx set security=on"),"\uff1a\u8be5\u547d\u4ee4\u5f00\u542f\u6307\u5b9a\u78c1\u76d8\u7ec4\u7684\u5b89\u5168\u6027\u3002"),(0,l.kt)("p",null,(0,l.kt)("inlineCode",{parentName:"p"},"storcli /cx/dx split mirror"),"\uff1a"),(0,l.kt)("p",null,"\u8be5\u547d\u4ee4\u7528\u4e8e\u5bf9\u78c1\u76d8\u7ec4\u6267\u884c\u6253\u7834\u955c\u50cf\u64cd\u4f5c\u3002\u6253\u7834\u955c\u50cf\u64cd\u4f5c\u4f7f RAID 1 \u914d\u7f6e\u7684\u9a71\u52a8\u5668\u7ec4\u88ab\u5206\u89e3\u6210\u4e24\u4e2a\u5377\u3002\u60a8\u53ef\u4ee5\u5728\u53e6\u4e00\u4e2a\u7cfb\u7edf\u4e2d\u4f7f\u7528\u4e00\u4e2a\u5377\u5e76\u590d\u5236\u5b83\uff0c\u800c\u65e0\u9700\u590d\u5236\u865a\u62df\u9a71\u52a8\u5668\u3002\u6253\u7834\u955c\u50cf\u662f\u4e00\u4e2a\u8131\u673a\u64cd\u4f5c\u3002\u8be5\u547d\u4ee4\u4ec5\u5728 UEFI \u7cfb\u7edf\u652f\u6301\u3002"),(0,l.kt)("p",null,(0,l.kt)("inlineCode",{parentName:"p"},"storcli /cx/dall show mirror"),"\uff1a\u8be5\u547d\u4ee4\u663e\u793a\u4e0e\u8be5\u78c1\u76d8\u7ec4\u5173\u8054\u7684\u955c\u50cf\u7684\u4fe1\u606f\u3002"),(0,l.kt)("p",null,(0,l.kt)("inlineCode",{parentName:"p"},"storcli /cx/dall add mirror src=<val>[force]"),"\uff1a\u8be5\u547d\u4ee4\u5c06\u865a\u62df\u78c1\u76d8\u4e0e\u5176\u955c\u50cf\u5408\u5e76\u3002\u53ef\u80fd\u7684\u503c\u4e3a 0\u30011 \u6216 2\u3002"),(0,l.kt)("p",null,(0,l.kt)("inlineCode",{parentName:"p"},"storcli /cx/dx set hidden=<on|off>"),"\uff1a\u8be5\u547d\u4ee4\u9690\u85cf\u6216\u663e\u793a\u9a71\u52a8\u5668\u7ec4\u3002"),(0,l.kt)("h3",{id:"736enclosure-\u547d\u4ee4"},"7.3.6\u3001Enclosure \u547d\u4ee4"),(0,l.kt)("p",null,"StorCLI \u5b9e\u7528\u7a0b\u5e8f\u652f\u6301\u4ee5\u4e0b enclosure \u547d\u4ee4:"),(0,l.kt)("pre",null,(0,l.kt)("code",{parentName:"pre",className:"language-bash"},"storcli /cx/ex show [all]\nstorcli /cx/ex download src= filepath [mode=5 | [forceActivate] mode=7] [bufferid=<val>]\nstorcli /cx/ex download src= filepath mode=e offline [forceActivate [delay=val]] [bufferid=<val>]\nstorcli /cx/ex download mode=f offline [delay=val] [bufferid=<val>]\nstorcli /cx/ex show status\nstorcli /cx/ex show phyerrorcounters\nstorcli /cx/ex/sx reset phyerrorcounters\n")),(0,l.kt)("p",null,(0,l.kt)("inlineCode",{parentName:"p"},"storcli /cx/ex show all"),"\uff1a"),(0,l.kt)("p",null,"\u8be5\u547d\u4ee4\u663e\u793a enclosure \u7684\u6240\u6709\u4fe1\u606f\uff0c\u5305\u62ec enclosure \u7684\u603b\u4f53\u4fe1\u606f\u3001enclosure \u7684\u67e5\u8be2\u6570\u636e\u3001enclosure \u5143\u7d20\u7684\u4e2a\u6570\u548c enclosure \u5143\u7d20\u7684\u4fe1\u606f\u3002"),(0,l.kt)("p",null,(0,l.kt)("inlineCode",{parentName:"p"},"storcli /cx/ex download src=filepath [mode=5 | [forceActivate] mode=7] [bufferid=<val>]"),"\uff1a"),(0,l.kt)("p",null,"\u8fd9\u4e2a\u547d\u4ee4\u7528\u547d\u4ee4\u884c\u6307\u5b9a\u7684\u6587\u4ef6\u5237\u65b0\u56fa\u4ef6\u3002\u64cd\u4f5c\u5b8c\u6210\u540e\uff0cenclosure \u4f1a\u8fdb\u884c\u9519\u8bef\u68c0\u67e5\u3002\u4ee5\u4e0b\u9009\u9879\u53ef\u4ee5\u4e0e enclosure \u56fa\u4ef6\u4e0b\u8f7d\u547d\u4ee4\u4e00\u8d77\u4f7f\u7528\u3002"),(0,l.kt)("table",null,(0,l.kt)("thead",{parentName:"table"},(0,l.kt)("tr",{parentName:"thead"},(0,l.kt)("th",{parentName:"tr",align:null},"Option"),(0,l.kt)("th",{parentName:"tr",align:null},"Value Range"),(0,l.kt)("th",{parentName:"tr",align:null},"Description"))),(0,l.kt)("tbody",{parentName:"table"},(0,l.kt)("tr",{parentName:"tbody"},(0,l.kt)("td",{parentName:"tr",align:null},"forceactivate"),(0,l.kt)("td",{parentName:"tr",align:null},"\u2014"),(0,l.kt)("td",{parentName:"tr",align:null},"Issues a command descriptor block (CDB) with write command with no data with")),(0,l.kt)("tr",{parentName:"tbody"},(0,l.kt)("td",{parentName:"tr",align:null},"command mode 0x0F (flash download already in progress). This option is used"),(0,l.kt)("td",{parentName:"tr",align:null}),(0,l.kt)("td",{parentName:"tr",align:null})),(0,l.kt)("tr",{parentName:"tbody"},(0,l.kt)("td",{parentName:"tr",align:null},"primarily to activate Scotch Valley enclosures."),(0,l.kt)("td",{parentName:"tr",align:null}),(0,l.kt)("td",{parentName:"tr",align:null})))),(0,l.kt)("p",null,(0,l.kt)("em",{parentName:"p"},"\u6ce8\u610f\uff1a\u7528\u4e8e\u5237\u65b0 enclosure \u7684\u56fa\u4ef6\u6587\u4ef6\u53ef\u4ee5\u662f\u4efb\u4f55\u683c\u5f0f\u3002StorCLI \u5b9e\u7528\u7a0b\u5e8f\u5047\u5b9a\u60a8\u63d0\u4f9b\u4e86\u4e00\u4e2a\u6709\u6548\u7684\u56fa\u4ef6\u6620\u50cf\u3002")),(0,l.kt)("p",null,(0,l.kt)("inlineCode",{parentName:"p"},"storcli /cx/ex download src=filepath mode=e offline [forceActivate [delay=val]] [bufferid=<val>]"),"\uff1a"),(0,l.kt)("p",null,"\u8be5\u547d\u4ee4\u4f7f\u7528\u6a21\u5f0f E \u652f\u6301\u9a71\u52a8\u5668\u56fa\u4ef6\u3002\u6a21\u5f0f E \u4e0b\u8f7d\u5fae\u7801\uff0c\u5e76\u5141\u8bb8\u60a8\u4e3a\u591a\u4e2a\u8bbe\u5907\u53d1\u51fa\u6b64\u547d\u4ee4\u3002"),(0,l.kt)("p",null,"\u60a8\u53ef\u4ee5\u901a\u8fc7\u5728\u540c\u4e00\u547d\u4ee4\u884c\u4e2d\u6267\u884c activenow \u547d\u4ee4\u6765\u4e0b\u8f7d\u548c\u6fc0\u6d3b\u9a71\u52a8\u5668\u56fa\u4ef6\u3002\u60a8\u4e5f\u53ef\u4ee5\u6307\u5b9a\u5ef6\u8fdf\u65f6\u95f4\uff0c\u4f46\u60a8\u6307\u5b9a\u7684\u5ef6\u8fdf\u65f6\u95f4\u53ea\u9002\u7528\u4e8e\u6fc0\u6d3b\uff0c\u4e0d\u9002\u7528\u4e8e\u4e0b\u8f7d\u9a71\u52a8\u5668\u56fa\u4ef6\u3002"),(0,l.kt)("p",null,(0,l.kt)("inlineCode",{parentName:"p"},"storcli /cx/ex download mode=f offline [delay=val] [bufferid=<val>]"),"\uff1a"),(0,l.kt)("p",null,"\u8be5\u547d\u4ee4\u4f7f\u7528\u6a21\u5f0f F \u652f\u6301\u9a71\u52a8\u5668\u56fa\u4ef6\u3002\u6a21\u5f0f F \u6fc0\u6d3b\u5ef6\u8fdf\u5fae\u7801\uff0c\u5e76\u5141\u8bb8\u60a8\u4ee5\u5b89\u5168\u7684\u65b9\u5f0f\u5411\u6240\u6709\u8bbe\u5907\u53d1\u51fa\u6b64\u547d\u4ee4\u3002\u5728\u53d1\u51fa\u6a21\u5f0f E \u547d\u4ee4\u4e4b\u524d\u4e0d\u80fd\u53d1\u51fa\u6b64\u547d\u4ee4\u3002\u7f3a\u7701\u60c5\u51b5\u4e0b\uff0c\u5ef6\u8fdf\u65f6\u95f4\u4e3a 15 \u79d2\u3002\u60a8\u53ef\u4ee5\u6307\u5b9a 1 \u5230 300 \u79d2\u4e4b\u95f4\u7684\u4efb\u4f55\u5ef6\u8fdf\u65f6\u95f4\u3002"),(0,l.kt)("p",null,(0,l.kt)("inlineCode",{parentName:"p"},"storcli /cx/ex show status"),"\uff1a\u8be5\u547d\u4ee4\u663e\u793a enclosure \u72b6\u6001\u548c\u6240\u6709 enclosure \u5143\u7d20\u7684\u72b6\u6001\u3002"),(0,l.kt)("p",null,(0,l.kt)("inlineCode",{parentName:"p"},"storcli /cx/ex show phyerrorcounters"),"\uff1a\u8be5\u547d\u4ee4\u663e\u793a enclosure \u548c expander phy error counters."),(0,l.kt)("pre",null,(0,l.kt)("code",{parentName:"pre",className:"language-bash"},"[root@arm64v8 ~]# storcli /c0/e18 show phyerrorcounters\nCLI Version = 007.1316.0000.0000 Mar 12, 2020\nOperating system = Linux 4.19.90-17.ky10.aarch64\nController = 0\nStatus = Success\nDescription = None\n\nDetailed Status :\n===============\n\n------------------------------------------------\nEID PNO InDwdCnt RnDiErCnt LsDwSyCnt PRstPrbCnt \n------------------------------------------------\n 18   0        0         0         0          0 \n 18   1        0         0         0          0 \n 18   2        0         0         0          0 \n 18   3        0         0         0          0 \n 18   4        0         0         0          0 \n 18   5        0         0         0          0 \n 18   6        0         0         0          0 \n 18   7        0         0         0          0 \n 18   8        0         0         0          0 \n 18   9        0         0         0          0 \n 18  10        0         0         0          0 \n 18  11        0         0         0          0 \n 18  12        0         0         0          0 \n 18  13        0         0         0          0 \n 18  14        0         0         0          0 \n 18  15        0         0         0          0 \n 18  16        0         0         0          0 \n 18  17        0         0         0          0 \n 18  18        0         0         0          0 \n 18  19        0         0         0          0 \n 18  20        0         0         0          0 \n 18  21        0         0         0          0 \n 18  22        0         0         0          0 \n 18  23        0         0         0          0 \n 18  24       36         3         2          0 \n 18  25       38         3         2          0 \n 18  26       23         1         2          0 \n 18  27       34         1         2          0 \n 18  28        0         0         0          0 \n 18  29        0         0         0          0 \n 18  30        0         0         0          0 \n 18  31        0         0         0          0 \n 18  32        0         0         0          0 \n 18  33        0         0         0          0 \n 18  34        0         0         0          0 \n 18  35        0         0         0          0 \n 18  36        0         0         0          0 \n 18  37        0         0         0          0 \n 18  38        0         0         0          0 \n------------------------------------------------\n\nEID=Enclosure Device ID | PNO=Phy Number |InDwdCnt=Invalid dword count |\nRnDiErCnt=Running Disparity Error Count |LsDwSyCnt=Loss of dword system count |\nPRstPrbCnt=Phy reset prob count\n")),(0,l.kt)("p",null,(0,l.kt)("inlineCode",{parentName:"p"},"storcli /cx/ex/sx reset phyerrorcounters"),"\uff1a\u8be5\u547d\u4ee4\u91cd\u7f6e\u78c1\u76d8 phy error counters."),(0,l.kt)("pre",null,(0,l.kt)("code",{parentName:"pre",className:"language-bash"},"[root@arm64v8 ~]# storcli /c0/e18/s23 reset phyerrorcounters\nCLI Version = 007.1316.0000.0000 Mar 12, 2020\nOperating system = Linux 4.19.90-17.ky10.aarch64\nController = 0\nStatus = Success\nDescription = Reset Drive PhyErrorCounters Succeeded.\n")),(0,l.kt)("h3",{id:"737phy-\u547d\u4ee4"},"7.3.7\u3001PHY \u547d\u4ee4"),(0,l.kt)("p",null,"StorCLI \u5b9e\u7528\u7a0b\u5e8f\u652f\u6301\u4ee5\u4e0b phy \u547d\u4ee4\uff1a"),(0,l.kt)("pre",null,(0,l.kt)("code",{parentName:"pre",className:"language-bash"},"storcli /cx/px|pall set linkspeed=0(auto)|1.5|3|6|12\nstorcli /cx/px|pall show [all]\n")),(0,l.kt)("p",null,(0,l.kt)("inlineCode",{parentName:"p"},"storcli /cx/px|pall set linkspeed=0(auto)|1.5|3|6|12"),"\uff1a"),(0,l.kt)("p",null,"\u8be5\u547d\u4ee4\u7528\u4e8e\u8bbe\u7f6e PHY \u94fe\u8def\u901f\u5ea6\u3002\u53ef\u8bbe\u7f6e\u4e3a 1.5Gb/s\u30013Gb/s\u30016Gb/s\u300112Gb/s\u3002\u5f53\u60a8\u6307\u5b9a linkspeed = 0 \u65f6\uff0c\u94fe\u8def\u901f\u5ea6\u88ab\u8bbe\u7f6e\u4e3a\u81ea\u52a8\u3002"),(0,l.kt)("p",null,(0,l.kt)("inlineCode",{parentName:"p"},"storcli /cx/px|pall show all"),"\uff1a\u8be5\u547d\u4ee4\u663e\u793a\u6240\u6709 PHY \u5c42\u4fe1\u606f\u3002"),(0,l.kt)("h3",{id:"738pcie-\u63a5\u53e3\u547d\u4ee4"},"7.3.8\u3001PCIe \u63a5\u53e3\u547d\u4ee4"),(0,l.kt)("p",null,"PCIe \u5b58\u50a8\u63a5\u53e3\u662f\u5c06\u5916\u8bbe\u8bbe\u5907\u8fde\u63a5\u5230\u4e3b\u673a\u5904\u7406\u5668\u5e76\u901a\u8fc7\u5185\u5b58\u63a7\u5236\u5668\u8fde\u63a5\u5230\u7cfb\u7edf\u4e2d\u7684\u5185\u5b58\u67b6\u6784\u7684\u57fa\u672c\u63a5\u53e3\u3002PCIe \u63a5\u53e3\u901a\u8fc7\u4e00\u4e2a\u6216\u591a\u4e2a\u901a\u9053\u8fdb\u884c\u901a\u4fe1\uff0c\u6bcf\u4e2a\u901a\u9053\u7531\u4e00\u4e2a\u53d1\u9001\u548c\u4e00\u4e2a\u63a5\u6536\u4e32\u884c\u63a5\u53e3\u7ec4\u6210\u3002"),(0,l.kt)("h4",{id:"7381\u901a\u9053\u901f\u5ea6\u547d\u4ee4"},"7.3.8.1\u3001\u901a\u9053\u901f\u5ea6\u547d\u4ee4"),(0,l.kt)("p",null,"StorCLI \u5b9e\u7528\u7a0b\u5e8f\u652f\u6301\u4ee5\u4e0b\u901a\u9053\u901f\u5ea6\u547d\u4ee4\uff1a"),(0,l.kt)("pre",null,(0,l.kt)("code",{parentName:"pre",className:"language-bash"},"storcli /cx/lnx show\nstorcli /cx/lnall show\nstorcli /cx/lnx set lanespeed=0(disabled)|2.5|5|8|16\n")),(0,l.kt)("p",null,(0,l.kt)("inlineCode",{parentName:"p"},"storcli /cx/lnx show"),"\uff1a\u8be5\u547d\u4ee4\u7528\u6765\u663e\u793a\u901a\u9053\u4fe1\u606f\u3002"),(0,l.kt)("p",null,(0,l.kt)("inlineCode",{parentName:"p"},"storcli /cx/lnall show"),"\uff1a\u8be5\u547d\u4ee4\u663e\u793a\u6240\u6709\u9000\u51fa\u901a\u9053\u7684\u6458\u8981\u4fe1\u606f\u3002"),(0,l.kt)("p",null,(0,l.kt)("inlineCode",{parentName:"p"},"storcli /cx/lnx set lanespeed=0 (disabled) | 2.5 |5 | 8 | 16"),"\uff1a"),(0,l.kt)("p",null,"\u8be5\u547d\u4ee4\u8bbe\u7f6e\u901a\u9053\u901f\u5ea6\u3002\u53ef\u8bbe\u7f6e\u4e3a 0(\u7981\u7528)\u30012.5GT/s\u30015GT/s\u30018GT/s\u300116GT/s\u3002\u63a7\u5236\u5668\u4e2d\u901a\u9053\u901f\u5ea6\u9ed8\u8ba4\u4e3a 8GT/s \u6216\u60a8\u4e0a\u6b21\u4fdd\u5b58\u7684\u503c\u3002"),(0,l.kt)("h4",{id:"7382\u94fe\u63a5\u914d\u7f6e\u547d\u4ee4"},"7.3.8.2\u3001\u94fe\u63a5\u914d\u7f6e\u547d\u4ee4"),(0,l.kt)("p",null,"StorCLI \u5b9e\u7528\u7a0b\u5e8f\u652f\u6301\u4ee5\u4e0b\u94fe\u63a5\u914d\u7f6e\u547d\u4ee4\uff1a"),(0,l.kt)("pre",null,(0,l.kt)("code",{parentName:"pre",className:"language-bash"},"storcli /cx/show linkconfig\nstorcli /cx/set linkconfig [connname=cx,cy] linkconfig=<val>\n")),(0,l.kt)("p",null,(0,l.kt)("inlineCode",{parentName:"p"},"storcli cx/show linkconfig"),"\uff1a\u8be5\u547d\u4ee4\u663e\u793a\u5f53\u524d\u94fe\u8def\u914d\u7f6e\u3001\u6302\u8d77\u94fe\u8def\u914d\u7f6e\u548c\u53ef\u7528\u94fe\u8def\u914d\u7f6e\u4fe1\u606f\u3002"),(0,l.kt)("p",null,(0,l.kt)("inlineCode",{parentName:"p"},"storcli /cx set linkconfig [connname=cx,cy] linkconfig=<val>"),"\uff1a\u8be5\u547d\u4ee4\u7528\u4e8e\u914d\u7f6e\u63a7\u5236\u5668\u4e0d\u540c\u7aef\u53e3\u7684\u94fe\u8def\u3002"),(0,l.kt)("h3",{id:"739logging-\u547d\u4ee4"},"7.3.9\u3001Logging \u547d\u4ee4"),(0,l.kt)("p",null,"StorCLI \u5de5\u5177\u652f\u6301\u4ee5\u4e0b\u547d\u4ee4\u6765\u751f\u6210\u548c\u7ef4\u62a4\u65e5\u5fd7\u6587\u4ef6\uff1a"),(0,l.kt)("pre",null,(0,l.kt)("code",{parentName:"pre",className:"language-bash"},"storcli /cx delete events\nstorcli /cx delete termlog\nstorcli /cx show events file=<absolute path>\nstorcli /cx show eventloginfo\nstorcli /cx show termlog type=config|contents [logfile[=filename]]\nstorcli /cx show dequeuelog file = <filepath>\nstorcli /cx show alilog [logfile[=filename]]\n")),(0,l.kt)("p",null,(0,l.kt)("inlineCode",{parentName:"p"},"storcli /cx delete events"),"\uff1a\u8be5\u547d\u4ee4\u5c06\u5220\u9664\u4e8b\u4ef6\u65e5\u5fd7\u4e2d\u7684\u6240\u6709\u8bb0\u5f55\u3002"),(0,l.kt)("p",null,(0,l.kt)("inlineCode",{parentName:"p"},"storcli /cx delete termlog"),"\uff1a\u8fd9\u4e2a\u547d\u4ee4\u6e05\u9664 TTY(\u7528\u4e8e\u95ee\u9898\u6545\u969c\u6392\u9664\u7684\u56fa\u4ef6\u65e5\u5fd7)\u65e5\u5fd7\u3002"),(0,l.kt)("p",null,(0,l.kt)("inlineCode",{parentName:"p"},"storcli /cx show events file=<absolute path>"),"\uff1a\u8be5\u547d\u4ee4\u5c06\u7cfb\u7edf\u65e5\u5fd7\u6253\u5370\u5230\u4e00\u4e2a\u6587\u672c\u6587\u4ef6\u4e2d\uff0c\u5e76\u5c06\u6587\u4ef6\u4fdd\u5b58\u5230\u6307\u5b9a\u7684\u4f4d\u7f6e\u3002\u4e0d\u80fd\u8f6c\u5316\u6210 json \u683c\u5f0f\u3002"),(0,l.kt)("p",null,(0,l.kt)("inlineCode",{parentName:"p"},"storcli /cx show eventloginfo"),"\uff1a\u8be5\u547d\u4ee4\u663e\u793a\u751f\u6210\u7684\u65e5\u5fd7\u6587\u4ef6\u7684\u5386\u53f2\u3002\u4e0d\u80fd\u8f6c\u5316\u6210 json \u683c\u5f0f\u3002"),(0,l.kt)("p",null,(0,l.kt)("inlineCode",{parentName:"p"},"storcli /cx show termlog type=config|contents [logfile[=filename]]"),"\uff1a"),(0,l.kt)("p",null,"\u6b64\u547d\u4ee4\u663e\u793a\u56fa\u4ef6\u65e5\u5fd7\u3002config \u9009\u9879\u663e\u793aterm\u65e5\u5fd7\u914d\u7f6e(TTY BBU\u7f13\u51b2\u7684\u8bbe\u7f6e)\uff1bcontents \u9009\u9879\u663e\u793a\u7ec8\u7aef\u65e5\u5fd7\u3002contents \u9009\u9879\u662f\u9ed8\u8ba4\u7684\u3002"),(0,l.kt)("p",null,"\u5982\u679c\u5728\u547d\u4ee4\u8bed\u6cd5\u4e2d\u4f7f\u7528 logfile \u9009\u9879\uff0c\u65e5\u5fd7\u5c06\u88ab\u5199\u5165\u6307\u5b9a\u7684\u6587\u4ef6\u3002\u5982\u679c\u4e0d\u6307\u5b9a\u6587\u4ef6\u540d\uff0c\u5219\u5c06\u65e5\u5fd7\u5199\u5165\u5230 storsas.log \u6587\u4ef6\u4e2d\u3002\u5982\u679c\u5728\u547d\u4ee4\u8bed\u6cd5\u4e2d\u4e0d\u4f7f\u7528 logfile \u9009\u9879\uff0c\u5219\u5c06\u6574\u4e2a\u65e5\u5fd7\u8f93\u51fa\u6253\u5370\u5230\u63a7\u5236\u53f0\u3002\u4e0d\u80fd\u8f6c\u5316\u6210 json \u683c\u5f0f\u3002"),(0,l.kt)("p",null,(0,l.kt)("inlineCode",{parentName:"p"},"storcli /cx show dequeuelog =<filepath>"),"\uff1a\u8fd9\u4e2a\u547d\u4ee4\u663e\u793a\u6765\u81ea\u56fa\u4ef6\u7684\u8c03\u8bd5\u65e5\u5fd7\u3002\u4e0d\u80fd\u8f6c\u5316\u6210 json \u683c\u5f0f\u3002"),(0,l.kt)("p",null,(0,l.kt)("inlineCode",{parentName:"p"},"storcli /cx show alilog [logfile[=filename]]"),"\uff1a\u8fd9\u4e2a\u547d\u4ee4\u83b7\u53d6\u6307\u5b9a\u6587\u4ef6\u7684\u63a7\u5236\u5668\u5c5e\u6027\u3001TTY \u65e5\u5fd7\u548c\u4e8b\u4ef6\u3002\u4e0d\u80fd\u8f6c\u5316\u6210 json \u683c\u5f0f\u3002"),(0,l.kt)("h3",{id:"7310\u81ea\u52a8\u5316-pd-\u914d\u7f6e"},"7.3.10\u3001\u81ea\u52a8\u5316 PD \u914d\u7f6e"),(0,l.kt)("pre",null,(0,l.kt)("code",{parentName:"pre",className:"language-bash"},"storcli /cx set autoconfig=r0 [immediate]\nstorcli /cx show autoconfig\nstorcli /cx set autoconfig=JBOD\nstorcli /cx set jbod=on|off\nstorcli /cx set autoconfig [=<none | R0 [immediate] | JBOD> [usecurrent] ] [[sesmgmt=on|off] [securesed=on|\noff] [multipath=on|off] [multiinit=on|off] [discardpinnedcache=Val>] [failPDOnReadME=on|off] [Lowlatency=low|\noff]]\n")),(0,l.kt)("p",null,(0,l.kt)("inlineCode",{parentName:"p"},"storcli /cx set autoconfig=r0 [immediate]"),"\uff1a"),(0,l.kt)("p",null,"\u8be5\u547d\u4ee4\u7528\u4e8e\u8bbe\u7f6e\u63a7\u5236\u5668\u7684\u81ea\u52a8\u914d\u7f6e\u7b56\u7565\u4e3a RAID 0\u3002\u5f53\u8bbe\u7f6e\u4e3a RAID 0 \u65f6\uff0c\u6240\u6709\u672a\u914d\u7f6e\u7684\u7269\u7406\u78c1\u76d8\u5c06\u88ab\u8bbe\u7f6e\u4e3a\u5355\u4e2aRAID 0\uff0c\u76f4\u5230\u8fbe\u5230\u6700\u5927\u865a\u62df\u78c1\u76d8\u6570\u91cf\u9650\u5236\u3002"),(0,l.kt)("p",null,"immediate \u9009\u9879\u8ba9\u6b64\u547d\u4ee4\u53ea\u5728\u6240\u6709\u73b0\u6709\u7684 Unconfigured Good \u9a71\u52a8\u5668\u4e0a\u6267\u884c\u8f6c\u6362(\u5230RAID 0)\u64cd\u4f5c\u3002\u6b64\u65f6 ",(0,l.kt)("strong",{parentName:"p"},"autoconfig \u8bbe\u7f6e\u8fd8\u662f\u9ed8\u8ba4\u503c none"),"\uff0c\u5c06\u6765\u65b0\u8fde\u63a5\u7684\u4efb\u4f55\u7269\u7406\u9a71\u52a8\u5668\u90fd\u4e0d\u4f1a\u88ab\u8f6c\u6362\u4e3a RAID 0\u3002"),(0,l.kt)("p",null,"\u5982\u679c\u7701\u7565\u6b64\u547d\u4ee4\u4e2d\u7684 immediate \u9009\u9879\uff0c\u5219\u6240\u6709\u9644\u52a0\u7684 Unconfigured Good \u9a71\u52a8\u5668\u5c06\u6210\u4e3a\u5355\u9a71\u52a8\u5668 RAID 0\uff0c",(0,l.kt)("strong",{parentName:"p"},"autoconfig \u8bbe\u7f6e\u5c06\u53d8\u4e3a R0"),"\u3002\u5728\u65b0\u8fde\u63a5\u7684\u7269\u7406\u9a71\u52a8\u5668\u4e0a\u4e0d\u4f1a\u53d1\u751f\u5230 RAID 0 \u7684\u8f6c\u6362\u3002"),(0,l.kt)("p",null,"\u5b9e\u9645\u4e0a\u5e76\u6ca1\u6709\u529f\u80fd\u8bbe\u7f6e\u8ba9\u65b0\u6dfb\u52a0\u7684 Unconfigured Drives \u81ea\u52a8\u8f6c\u6362\u4e3a RAID 0\u3002"),(0,l.kt)("p",null,(0,l.kt)("em",{parentName:"p"},"\u8bf4\u660e\uff1a\u82f1\u6587\u539f\u6587\u6211\u8bfb\u4e86\u5f88\u591a\u904d\uff0c\u5b9e\u9a8c\u4e5f\u505a\u8fc7\u597d\u51e0\u904d\uff0c\u52a0\u4e0d\u52a0 immediate \u4ece\u6267\u884c\u6548\u679c\u6765\u770b\u5b8c\u5168\u662f\u4e00\u6837\u7684\uff0c\u53ea\u4e0d\u8fc7 autoconfig \u503c\u4f1a\u4e0d\u4e00\u6837\uff0c\u65b0\u52a0\u7684\u76d8\u4e5f\u4e0d\u4f1a\u56e0\u4e3a\u52a0\u4e0d\u52a0 immediate \u800c\u81ea\u52a8\u8f6c\u5316\u6210 raid0\uff0c\u6240\u4ee5\u7ea0\u7ed3\u4e8e\u6b64\u610f\u4e49\u4e0d\u5927\u3002")),(0,l.kt)("p",null,(0,l.kt)("inlineCode",{parentName:"p"},"storcli /cx show autoconfig"),"\uff1a\u8fd9\u4e2a\u547d\u4ee4\u7528\u6765\u67e5\u770b\u7269\u7406\u78c1\u76d8\u7684\u81ea\u52a8\u5316\u7b56\u7565"),(0,l.kt)("p",null,(0,l.kt)("inlineCode",{parentName:"p"},"storcli /cx set autoconfig=JBOD"),"\uff1a"),(0,l.kt)("p",null,"\u8be5\u547d\u4ee4\u8ba9\u4f60\u8bbe\u7f6e\u63a7\u5236\u5668\u7684\u7269\u7406\u78c1\u76d8\u81ea\u52a8\u5316\u7b56\u7565\u4e3a JBOD\uff0c\u5f53\u8bbe\u7f6e\u4e3a JBOD \u6a21\u5f0f\u540e\uff0c\u6240\u6709 unconfigured good \u78c1\u76d8\u90fd\u53d8\u6210 JBOD\u3002"),(0,l.kt)("p",null,(0,l.kt)("em",{parentName:"p"},"\u6ce8\u610f\uff1a\u5982\u679c\u8be5\u547d\u4ee4\u5931\u8d25\uff0c\u8bf7\u5148\u542f\u7528\u4f20\u7edf JBOD \u6a21\u5f0f\uff0c\u7136\u540e\u91cd\u8bd5\u8be5\u547d\u4ee4\u3002")),(0,l.kt)("p",null,(0,l.kt)("inlineCode",{parentName:"p"},"storcli /cx set jbod=on|off"),"\uff1a\u8be5\u547d\u4ee4\u7528\u6765\u8bbe\u7f6e\u4f20\u7edf\u7684 JBOD \u6a21\u5f0f"),(0,l.kt)("p",null,(0,l.kt)("inlineCode",{parentName:"p"},"storcli /cx set autoconfig [=none | R0 [immediate] | JBOD> [usecurrent] ] [[sesmgmt=on|off] [securesed=on|off] [multipath=on|off][multiinit=on|off] [discardpinnedcache=Val>] [failPDOnReadME=on|off] [Lowlatency=low|off]]"),"\uff1a"),(0,l.kt)("p",null,"\u6b64\u547d\u4ee4\u5728\u6240\u9009\u9002\u914d\u5668\u4e0a\u542f\u7528\u6216\u7981\u7528 autoconfig\u3002\u53ef\u4ee5\u4f7f\u7528 set autoconfig \u547d\u4ee4\u4f7f\u7528\u4ee5\u4e0b\u9009\u9879\u3002"),(0,l.kt)("table",null,(0,l.kt)("thead",{parentName:"table"},(0,l.kt)("tr",{parentName:"thead"},(0,l.kt)("th",{parentName:"tr",align:null},"Option"),(0,l.kt)("th",{parentName:"tr",align:null},"Description"))),(0,l.kt)("tbody",{parentName:"table"},(0,l.kt)("tr",{parentName:"tbody"},(0,l.kt)("td",{parentName:"tr",align:null},"none"),(0,l.kt)("td",{parentName:"tr",align:null},"Disable autoconfig.")),(0,l.kt)("tr",{parentName:"tbody"},(0,l.kt)("td",{parentName:"tr",align:null},"r0"),(0,l.kt)("td",{parentName:"tr",align:null},"Autoconfig for single PD as r0.")),(0,l.kt)("tr",{parentName:"tbody"},(0,l.kt)("td",{parentName:"tr",align:null},"JBOD"),(0,l.kt)("td",{parentName:"tr",align:null},"Autoconfig each PD as JBOD.")),(0,l.kt)("tr",{parentName:"tbody"},(0,l.kt)("td",{parentName:"tr",align:null},"immediate"),(0,l.kt)("td",{parentName:"tr",align:null},"Configure.")),(0,l.kt)("tr",{parentName:"tbody"},(0,l.kt)("td",{parentName:"tr",align:null},"unconfigured"),(0,l.kt)("td",{parentName:"tr",align:null},"Pds once and will not configure any newly inserted UG drives and this option is only for R0.")),(0,l.kt)("tr",{parentName:"tbody"},(0,l.kt)("td",{parentName:"tr",align:null},"usecurrent"),(0,l.kt)("td",{parentName:"tr",align:null},"Use current parameter values that are supported while changing the mode.")),(0,l.kt)("tr",{parentName:"tbody"},(0,l.kt)("td",{parentName:"tr",align:null},"sesmgmt"),(0,l.kt)("td",{parentName:"tr",align:null},"Enable or disable SES management.")),(0,l.kt)("tr",{parentName:"tbody"},(0,l.kt)("td",{parentName:"tr",align:null},"securesed"),(0,l.kt)("td",{parentName:"tr",align:null},"Enable or disable Security on SED.")),(0,l.kt)("tr",{parentName:"tbody"},(0,l.kt)("td",{parentName:"tr",align:null},"multiinit"),(0,l.kt)("td",{parentName:"tr",align:null},"Enable or disable multi init.")),(0,l.kt)("tr",{parentName:"tbody"},(0,l.kt)("td",{parentName:"tr",align:null},"multipath"),(0,l.kt)("td",{parentName:"tr",align:null},"Enable or disable multi path.")))))}u.isMDXComponent=!0},39241:function(t,e,n){e.Z=n.p+"assets/images/disk raid0-37115aa567e2500f884fab9d24dfa5bc.png"},86728:function(t,e,n){e.Z=n.p+"assets/images/disk raid01-d5c5b12438d410a29cdfa9abd01621ce.png"},61007:function(t,e,n){e.Z=n.p+"assets/images/disk raid1-f146927d403d798ac90be2f6c4425dd3.png"},94042:function(t,e,n){e.Z=n.p+"assets/images/disk raid10-d1dcdb146dcfde584c9700119692ecac.png"},12416:function(t,e,n){e.Z=n.p+"assets/images/disk raid5-450a8163715ae92ced0db23663cdc30a.png"},86314:function(t,e,n){e.Z=n.p+"assets/images/linux_static_tools-9bf948c0f625abcf4d498d08e50ce45e.png"}}]);