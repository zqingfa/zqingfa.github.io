<!doctype html>
<html lang="en-GB" dir="ltr" class="docs-wrapper docs-doc-page docs-version-current plugin-docs plugin-id-default docs-doc-id-linux/primary/linux-primary-10">
<head>
<meta charset="UTF-8">
<meta name="generator" content="Docusaurus v2.4.0">
<title data-rh="true">第 10 章 Linux 系统资源监控 - Linux技术分享</title><meta data-rh="true" name="viewport" content="width=device-width,initial-scale=1"><meta data-rh="true" name="twitter:card" content="summary_large_image"><meta data-rh="true" property="og:image" content="https://zhangqf.com/en/img/logo.png"><meta data-rh="true" name="twitter:image" content="https://zhangqf.com/en/img/logo.png"><meta data-rh="true" property="og:url" content="https://zhangqf.com/en/docs/linux-primary-10"><meta data-rh="true" name="docusaurus_locale" content="en"><meta data-rh="true" name="docsearch:language" content="en"><meta data-rh="true" name="docusaurus_version" content="current"><meta data-rh="true" name="docusaurus_tag" content="docs-default-current"><meta data-rh="true" name="docsearch:version" content="current"><meta data-rh="true" name="docsearch:docusaurus_tag" content="docs-default-current"><meta data-rh="true" property="og:title" content="第 10 章 Linux 系统资源监控 - Linux技术分享"><meta data-rh="true" name="description" content="Linux 操作系统实际上可以看作是一个资源管家，那么管理哪些资源呢，当然是底层硬件资源，比如 CPU、内存、硬盘、显卡、网卡以及各种扩展外设。"><meta data-rh="true" property="og:description" content="Linux 操作系统实际上可以看作是一个资源管家，那么管理哪些资源呢，当然是底层硬件资源，比如 CPU、内存、硬盘、显卡、网卡以及各种扩展外设。"><meta data-rh="true" name="keywords" content="linux,Monitor"><link data-rh="true" rel="icon" href="/en/img/favicon.ico"><link data-rh="true" rel="canonical" href="https://zhangqf.com/en/docs/linux-primary-10"><link data-rh="true" rel="alternate" href="https://zhangqf.com/en/docs/linux-primary-10" hreflang="en-GB"><link data-rh="true" rel="alternate" href="https://zhangqf.com/docs/linux-primary-10" hreflang="zh"><link data-rh="true" rel="alternate" href="https://zhangqf.com/docs/linux-primary-10" hreflang="x-default"><link data-rh="true" rel="preconnect" href="https://9B0V5WT2X8-dsn.algolia.net" crossorigin="anonymous"><link rel="preconnect" href="https://www.google-analytics.com">
<link rel="preconnect" href="https://www.googletagmanager.com">
<script async src="https://www.googletagmanager.com/gtag/js?id=G-S4SD5NXWXF"></script>
<script>function gtag(){dataLayer.push(arguments)}window.dataLayer=window.dataLayer||[],gtag("js",new Date),gtag("config","G-S4SD5NXWXF",{anonymize_ip:!0})</script>


<link rel="search" type="application/opensearchdescription+xml" title="Linux技术分享" href="/en/opensearch.xml">
<link rel="preconnect" href="https://zhangqf.com/">
<script>var _paq=window._paq=window._paq||[];_paq.push(["setRequestMethod","POST"]),_paq.push(["trackPageView"]),_paq.push(["enableLinkTracking"]),_paq.push(["enableHeartBeatTimer"]),function(){var e="https://zhangqf.com/";_paq.push(["setRequestMethod","POST"]),_paq.push(["setTrackerUrl",e+"matomo.php"]),_paq.push(["setSiteId","1"]);var a=document,t=a.createElement("script"),p=a.getElementsByTagName("script")[0];t.type="text/javascript",t.async=!0,t.src=e+"matomo.js",p.parentNode.insertBefore(t,p)}()</script>


<script>var _hmt=_hmt||[];!function(){var e=document.createElement("script");e.src="https://hm.baidu.com/hm.js?77dc6b24cf1d939292e9fe13be271a96",e.defer=!0;var t=document.getElementsByTagName("script")[0];t.parentNode.insertBefore(e,t)}()</script>
<meta name="baidu-site-verification" content="code-rqLUw5reVS">
<script>!function(){var t=document.createElement("script"),e=window.location.protocol.split(":")[0];t.src="https"===e?"https://zz.bdstatic.com/linksubmit/push.js":"http://push.zhanzhang.baidu.com/push.js",t.defer=!0;var s=document.getElementsByTagName("script")[0];s.parentNode.insertBefore(t,s)}()</script>
<link rel="alternate" type="application/rss+xml" href="/en/rss.xml" title="zhangqf RSS Feed">
<link rel="alternate" type="application/atom+xml" href="/en/atom.xml" title="zhangqf Atom Feed">
<link rel="alternate" type="application/json" href="/en/feed.json" title="zhangqf JSON Feed">

<link rel="icon" href="/en/img/logo.png">
<link rel="manifest" href="/en/manifest.json">
<meta name="theme-color" content="rgb(51 139 255)"><link rel="stylesheet" href="/en/assets/css/styles.bf38107f.css">
<link rel="preload" href="/en/assets/js/runtime~main.403f05fc.js" as="script">
<link rel="preload" href="/en/assets/js/main.4747bdb7.js" as="script">
</head>
<body class="navigation-with-keyboard">
<script>!function(){function t(t){document.documentElement.setAttribute("data-theme",t)}var e=function(){var t=null;try{t=new URLSearchParams(window.location.search).get("docusaurus-theme")}catch(t){}return t}()||function(){var t=null;try{t=localStorage.getItem("theme")}catch(t){}return t}();t(null!==e?e:"light")}(),document.documentElement.setAttribute("data-announcement-bar-initially-dismissed",function(){try{return"true"===localStorage.getItem("docusaurus.announcement.dismiss")}catch(t){}return!1}())</script><div id="__docusaurus">
<div role="region" aria-label="Skip to main content"><a class="skipToContent_fXgn" href="#docusaurus_skipToContent_fallback">Skip to main content</a></div><div class="announcementBar_mb4j" role="banner"><div class="announcementBarPlaceholder_vyr4"></div><div class="content_knG7 announcementBarContent_xLdY"><span>更新 <a href="/website">网址导航</a> 带你发现感兴趣的技术</span></div><button type="button" aria-label="Close" class="clean-btn close closeButton_CVFx announcementBarClose_gvF7"><svg viewBox="0 0 15 15" width="14" height="14"><g stroke="currentColor" stroke-width="3.1"><path d="M.75.75l13.5 13.5M14.25.75L.75 14.25"></path></g></svg></button></div><nav aria-label="Main" class="navbar navbar--fixed-top navbarHideable_m1mJ"><div class="navbar__inner"><div class="navbar__items"><button aria-label="Toggle navigation bar" aria-expanded="false" class="navbar__toggle clean-btn" type="button"><svg width="30" height="30" viewBox="0 0 30 30" aria-hidden="true"><path stroke="currentColor" stroke-linecap="round" stroke-miterlimit="10" stroke-width="2" d="M4 7h22M4 15h22M4 23h22"></path></svg></button><a class="navbar__brand" href="/en/"><div class="navbar__logo"><img src="/en/img/logo.webp" alt="zhangqf" class="themedImage_ToTc themedImage--light_HNdA"><img src="/en/img/logo.webp" alt="zhangqf" class="themedImage_ToTc themedImage--dark_i4oU"></div><b class="navbar__title text--truncate">zhangqf</b></a></div><div class="navbar__items navbar__items--right"><div class="navbar__item dropdown dropdown--hoverable dropdown--right"><a class="navbar__link" aria-haspopup="true" aria-expanded="false" role="button" href="/en/docs/linux">Linux</a><ul class="dropdown__menu"><li><a class="dropdown__link" href="/en/docs/category/Linux基础">Linux 基础</a></li><li><a class="dropdown__link" href="/en/docs/category/Linux进阶">Linux 进阶</a></li><li><a class="dropdown__link" href="/en/docs/category/Linux测试">Linux 测试</a></li><li><a class="dropdown__link" href="/en/docs/category/LinuxCICD">Linux CICD研发</a></li></ul></div><div class="navbar__item dropdown dropdown--hoverable dropdown--right"><a class="navbar__link" aria-haspopup="true" aria-expanded="false" role="button" href="/en/docs/skill/">Notes</a><ul class="dropdown__menu"><li><a class="dropdown__link" href="/en/tags">Tags</a></li><li><a class="dropdown__link" href="/en/archive">Archive</a></li><li><a class="dropdown__link" href="/en/docs/category/存储">存储</a></li></ul></div><a class="navbar__item navbar__link" href="/en/website">Links</a><a class="navbar__item navbar__link" href="/en/project">Projects</a><div class="navbar__item dropdown dropdown--hoverable dropdown--right"><a href="#" aria-haspopup="true" aria-expanded="false" role="button" class="navbar__link"><svg viewBox="0 0 24 24" width="20" height="20" aria-hidden="true" class="iconLanguage_nlXk"><path fill="currentColor" d="M12.87 15.07l-2.54-2.51.03-.03c1.74-1.94 2.98-4.17 3.71-6.53H17V4h-7V2H8v2H1v1.99h11.17C11.5 7.92 10.44 9.75 9 11.35 8.07 10.32 7.3 9.19 6.69 8h-2c.73 1.63 1.73 3.17 2.98 4.56l-5.09 5.02L4 19l5-5 3.11 3.11.76-2.04zM18.5 10h-2L12 22h2l1.12-3h4.75L21 22h2l-4.5-12zm-2.62 7l1.62-4.33L19.12 17h-3.24z"></path></svg>English</a><ul class="dropdown__menu"><li><a href="/en/docs/linux-primary-10" target="_self" rel="noopener noreferrer" class="dropdown__link dropdown__link--active" lang="en-GB">English</a></li><li><a href="/docs/linux-primary-10" target="_self" rel="noopener noreferrer" class="dropdown__link" lang="zh">中文</a></li></ul></div><div class="toggle_vylO colorModeToggle_DEke"><button class="clean-btn toggleButton_gllP toggleButtonDisabled_aARS" type="button" disabled="" title="Switch between dark and light mode (currently light mode)" aria-label="Switch between dark and light mode (currently light mode)" aria-live="polite"><svg viewBox="0 0 24 24" width="24" height="24" class="lightToggleIcon_pyhR"><path fill="currentColor" d="M12,9c1.65,0,3,1.35,3,3s-1.35,3-3,3s-3-1.35-3-3S10.35,9,12,9 M12,7c-2.76,0-5,2.24-5,5s2.24,5,5,5s5-2.24,5-5 S14.76,7,12,7L12,7z M2,13l2,0c0.55,0,1-0.45,1-1s-0.45-1-1-1l-2,0c-0.55,0-1,0.45-1,1S1.45,13,2,13z M20,13l2,0c0.55,0,1-0.45,1-1 s-0.45-1-1-1l-2,0c-0.55,0-1,0.45-1,1S19.45,13,20,13z M11,2v2c0,0.55,0.45,1,1,1s1-0.45,1-1V2c0-0.55-0.45-1-1-1S11,1.45,11,2z M11,20v2c0,0.55,0.45,1,1,1s1-0.45,1-1v-2c0-0.55-0.45-1-1-1C11.45,19,11,19.45,11,20z M5.99,4.58c-0.39-0.39-1.03-0.39-1.41,0 c-0.39,0.39-0.39,1.03,0,1.41l1.06,1.06c0.39,0.39,1.03,0.39,1.41,0s0.39-1.03,0-1.41L5.99,4.58z M18.36,16.95 c-0.39-0.39-1.03-0.39-1.41,0c-0.39,0.39-0.39,1.03,0,1.41l1.06,1.06c0.39,0.39,1.03,0.39,1.41,0c0.39-0.39,0.39-1.03,0-1.41 L18.36,16.95z M19.42,5.99c0.39-0.39,0.39-1.03,0-1.41c-0.39-0.39-1.03-0.39-1.41,0l-1.06,1.06c-0.39,0.39-0.39,1.03,0,1.41 s1.03,0.39,1.41,0L19.42,5.99z M7.05,18.36c0.39-0.39,0.39-1.03,0-1.41c-0.39-0.39-1.03-0.39-1.41,0l-1.06,1.06 c-0.39,0.39-0.39,1.03,0,1.41s1.03,0.39,1.41,0L7.05,18.36z"></path></svg><svg viewBox="0 0 24 24" width="24" height="24" class="darkToggleIcon_wfgR"><path fill="currentColor" d="M9.37,5.51C9.19,6.15,9.1,6.82,9.1,7.5c0,4.08,3.32,7.4,7.4,7.4c0.68,0,1.35-0.09,1.99-0.27C17.45,17.19,14.93,19,12,19 c-3.86,0-7-3.14-7-7C5,9.07,6.81,6.55,9.37,5.51z M12,3c-4.97,0-9,4.03-9,9s4.03,9,9,9s9-4.03,9-9c0-0.46-0.04-0.92-0.1-1.36 c-0.98,1.37-2.58,2.26-4.4,2.26c-2.98,0-5.4-2.42-5.4-5.4c0-1.81,0.89-3.42,2.26-4.4C12.92,3.04,12.46,3,12,3L12,3z"></path></svg></button></div><div class="searchBox_ZlJk"><button type="button" class="DocSearch DocSearch-Button" aria-label="Search"><span class="DocSearch-Button-Container"><svg width="20" height="20" class="DocSearch-Search-Icon" viewBox="0 0 20 20"><path d="M14.386 14.386l4.0877 4.0877-4.0877-4.0877c-2.9418 2.9419-7.7115 2.9419-10.6533 0-2.9419-2.9418-2.9419-7.7115 0-10.6533 2.9418-2.9419 7.7115-2.9419 10.6533 0 2.9419 2.9418 2.9419 7.7115 0 10.6533z" stroke="currentColor" fill="none" fill-rule="evenodd" stroke-linecap="round" stroke-linejoin="round"></path></svg><span class="DocSearch-Button-Placeholder">Search</span></span><span class="DocSearch-Button-Keys"></span></button></div></div></div><div role="presentation" class="navbar-sidebar__backdrop"></div></nav><div id="docusaurus_skipToContent_fallback" class="main-wrapper mainWrapper_z2l0 docsWrapper_BCFX"><button aria-label="Scroll back to top" class="clean-btn theme-back-to-top-button backToTopButton_sjWU" type="button"></button><div class="docPage__5DB"><aside class="theme-doc-sidebar-container docSidebarContainer_b6E3"><div class="sidebarViewport_Xe31"><div class="sidebar_njMd sidebarWithHideableNavbar_wUlq"><a tabindex="-1" class="sidebarLogo_isFc" href="/en/"><img src="/en/img/logo.webp" alt="zhangqf" class="themedImage_ToTc themedImage--light_HNdA"><img src="/en/img/logo.webp" alt="zhangqf" class="themedImage_ToTc themedImage--dark_i4oU"><b>zhangqf</b></a><nav aria-label="Docs sidebar" class="menu thin-scrollbar menu_SIkG menuWithAnnouncementBar_GW3s"><ul class="theme-doc-sidebar-menu menu__list"><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-1 menu__list-item"><a class="menu__link" href="/en/docs/linux">linux</a></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist menu__link--active" aria-expanded="true" href="/en/docs/category/linux基础">Linux基础</a><button aria-label="Toggle the collapsible sidebar category &#x27;Linux基础&#x27;" type="button" class="clean-btn menu__caret"></button></div><ul style="display:block;overflow:visible;height:auto" class="menu__list"><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/en/docs/linux-primary-1">第 1 章 Linux 基础命令</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/en/docs/linux-primary-2">第 2 章 Linux 系统用户</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/en/docs/linux-primary-3">第 3 章 Linux 文件权限</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/en/docs/linux-primary-4">第 4 章 Linux ext 文件系统</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/en/docs/linux-primary-5">第 5 章 Linux 磁盘管理</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/en/docs/linux-primary-6">第 6 章 Linux LVM 存储管理</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/en/docs/linux-primary-7">第 7 章 Linux Raid 存储管理</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/en/docs/linux-primary-8">第 8 章 Linux 包管理</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/en/docs/linux-primary-9">第 9 章 Linux 进程和信号</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link menu__link--active" aria-current="page" tabindex="0" href="/en/docs/linux-primary-10">第 10 章 Linux 系统资源监控</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/en/docs/linux-primary-11">第 11 章 Linux 服务管理</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/en/docs/linux-primary-12">第 12 章 Linux 定时任务</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/en/docs/linux-primary-13">第 13 章 Linux 网络管理</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/en/docs/linux-primary-14">第 14 章 Linux 开机启动流程(UEFI+systemd)</a></li></ul></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist" aria-expanded="false" href="/en/docs/category/linux进阶">Linux进阶</a><button aria-label="Toggle the collapsible sidebar category &#x27;Linux进阶&#x27;" type="button" class="clean-btn menu__caret"></button></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist" aria-expanded="false" href="/en/docs/category/linux测试">Linux测试</a><button aria-label="Toggle the collapsible sidebar category &#x27;Linux测试&#x27;" type="button" class="clean-btn menu__caret"></button></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist" aria-expanded="false" href="/en/docs/category/linuxcicd">LinuxCICD</a><button aria-label="Toggle the collapsible sidebar category &#x27;LinuxCICD&#x27;" type="button" class="clean-btn menu__caret"></button></div></li></ul></nav><button type="button" title="Collapse sidebar" aria-label="Collapse sidebar" class="button button--secondary button--outline collapseSidebarButton_PEFL"><svg width="20" height="20" aria-hidden="true" class="collapseSidebarButtonIcon_kv0_"><g fill="#7a7a7a"><path d="M9.992 10.023c0 .2-.062.399-.172.547l-4.996 7.492a.982.982 0 01-.828.454H1c-.55 0-1-.453-1-1 0-.2.059-.403.168-.551l4.629-6.942L.168 3.078A.939.939 0 010 2.528c0-.548.45-.997 1-.997h2.996c.352 0 .649.18.828.45L9.82 9.472c.11.148.172.347.172.55zm0 0"></path><path d="M19.98 10.023c0 .2-.058.399-.168.547l-4.996 7.492a.987.987 0 01-.828.454h-3c-.547 0-.996-.453-.996-1 0-.2.059-.403.168-.551l4.625-6.942-4.625-6.945a.939.939 0 01-.168-.55 1 1 0 01.996-.997h3c.348 0 .649.18.828.45l4.996 7.492c.11.148.168.347.168.55zm0 0"></path></g></svg></button></div></div></aside><main class="docMainContainer_gTbr"><div class="container padding-top--md padding-bottom--lg"><div class="row"><div class="col docItemCol_VOVn"><div class="docItemContainer_Djhp"><article><nav class="theme-doc-breadcrumbs breadcrumbsContainer_Z_bl" aria-label="Breadcrumbs"><ul class="breadcrumbs" itemscope="" itemtype="https://schema.org/BreadcrumbList"><li class="breadcrumbs__item"><a aria-label="Home page" class="breadcrumbs__link" href="/en/"><svg viewBox="0 0 24 24" class="breadcrumbHomeIcon_YNFT"><path d="M10 19v-5h4v5c0 .55.45 1 1 1h3c.55 0 1-.45 1-1v-7h1.7c.46 0 .68-.57.33-.87L12.67 3.6c-.38-.34-.96-.34-1.34 0l-8.36 7.53c-.34.3-.13.87.33.87H5v7c0 .55.45 1 1 1h3c.55 0 1-.45 1-1z" fill="currentColor"></path></svg></a></li><li itemscope="" itemprop="itemListElement" itemtype="https://schema.org/ListItem" class="breadcrumbs__item"><a class="breadcrumbs__link" itemprop="item" href="/en/docs/category/linux基础"><span itemprop="name">Linux基础</span></a><meta itemprop="position" content="1"></li><li itemscope="" itemprop="itemListElement" itemtype="https://schema.org/ListItem" class="breadcrumbs__item breadcrumbs__item--active"><span class="breadcrumbs__link" itemprop="name">第 10 章 Linux 系统资源监控</span><meta itemprop="position" content="2"></li></ul></nav><div class="tocCollapsible_ETCw theme-doc-toc-mobile tocMobile_ITEo"><button type="button" class="clean-btn tocCollapsibleButton_TO0P">On this page</button></div><div class="theme-doc-markdown markdown"><header><h1>第 10 章 Linux 系统资源监控</h1></header><p>Linux 操作系统实际上可以看作是一个资源管家，那么管理哪些资源呢，当然是底层硬件资源，比如 CPU、内存、硬盘、显卡、网卡以及各种扩展外设。</p><p>这些硬件设备如何被使用、使用情况如何都由 Linux 操作系统来决定，实际上这是一个非常复杂的过程。经过历史演变，Linux 内核功能越来越多，也越来越强大，我们也不得不更加努力地学习。本章节会介绍如何查看这些硬件资源，以便通过数据分析更加合理地分配资源。</p><h2 class="anchor anchorWithHideOnScrollNavbar_WYt5" id="101伪文件系统">10.1、伪文件系统<a href="#101伪文件系统" class="hash-link" aria-label="Direct link to heading" title="Direct link to heading">​</a></h2><p>在 Linux 中查看各种状态，其实质是查看内核中相关进程的数据结构中的项，通过工具将其格式化后输出出来。</p><p>但是内核的数据是绝对不能随意查看或更改的，至少不能直接去修改。所以，在 linux 上出现了伪文件系统 /proc，它是内核中各属性或状态向外提供访问和修改的接口。</p><p>在 /proc 下，记录了内核自己的数据信息，各进程独立的数据信息，统计信息等。绝大多数文件都是只读不可改的，即使对 root 也一样，但 /proc/sys 除外，为何如此稍后解释。</p><div class="language-bash codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#000000;--prism-background-color:#ffffff"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-bash codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#000000"><span class="token punctuation" style="color:rgb(4, 81, 165)">[</span><span class="token plain">root@computer1 ~</span><span class="token punctuation" style="color:rgb(4, 81, 165)">]</span><span class="token comment" style="color:rgb(0, 128, 0)"># ls /proc/</span><span class="token plain"></span><br></span><span class="token-line" style="color:#000000"><span class="token plain"></span><span class="token number" style="color:rgb(9, 134, 88)">1</span><span class="token plain">       </span><span class="token number" style="color:rgb(9, 134, 88)">14</span><span class="token plain">       </span><span class="token number" style="color:rgb(9, 134, 88)">210</span><span class="token plain">      </span><span class="token number" style="color:rgb(9, 134, 88)">2444</span><span class="token plain">     </span><span class="token number" style="color:rgb(9, 134, 88)">2898</span><span class="token plain">     </span><span class="token number" style="color:rgb(9, 134, 88)">3152411</span><span class="token plain">  </span><span class="token number" style="color:rgb(9, 134, 88)">3219322</span><span class="token plain">  </span><span class="token number" style="color:rgb(9, 134, 88)">365</span><span class="token plain">      </span><span class="token number" style="color:rgb(9, 134, 88)">49</span><span class="token plain">      </span><span class="token number" style="color:rgb(9, 134, 88)">916</span><span class="token plain"></span><br></span><span class="token-line" style="color:#000000"><span class="token plain"></span><span class="token number" style="color:rgb(9, 134, 88)">10</span><span class="token plain">      </span><span class="token number" style="color:rgb(9, 134, 88)">140</span><span class="token plain">      </span><span class="token number" style="color:rgb(9, 134, 88)">211</span><span class="token plain">      </span><span class="token number" style="color:rgb(9, 134, 88)">2445042</span><span class="token plain">  </span><span class="token number" style="color:rgb(9, 134, 88)">29</span><span class="token plain">       </span><span class="token number" style="color:rgb(9, 134, 88)">3157718</span><span class="token plain">  </span><span class="token number" style="color:rgb(9, 134, 88)">3219761</span><span class="token plain">  </span><span class="token number" style="color:rgb(9, 134, 88)">366</span><span class="token plain">      </span><span class="token number" style="color:rgb(9, 134, 88)">49308</span><span class="token plain">   </span><span class="token number" style="color:rgb(9, 134, 88)">918</span><span class="token plain"></span><br></span><span class="token-line" style="color:#000000"><span class="token plain"></span><span class="token number" style="color:rgb(9, 134, 88)">101</span><span class="token plain">     </span><span class="token number" style="color:rgb(9, 134, 88)">142</span><span class="token plain">      </span><span class="token number" style="color:rgb(9, 134, 88)">213</span><span class="token plain">      </span><span class="token number" style="color:rgb(9, 134, 88)">245</span><span class="token plain">      </span><span class="token number" style="color:rgb(9, 134, 88)">290</span><span class="token plain">      </span><span class="token number" style="color:rgb(9, 134, 88)">316</span><span class="token plain">      </span><span class="token number" style="color:rgb(9, 134, 88)">3219763</span><span class="token plain">  </span><span class="token number" style="color:rgb(9, 134, 88)">3671528</span><span class="token plain">  </span><span class="token number" style="color:rgb(9, 134, 88)">49309</span><span class="token plain">   </span><span class="token number" style="color:rgb(9, 134, 88)">92</span><span class="token plain"></span><br></span><span class="token-line" style="color:#000000"><span class="token plain"></span><span class="token number" style="color:rgb(9, 134, 88)">1010</span><span class="token plain">    </span><span class="token number" style="color:rgb(9, 134, 88)">143</span><span class="token plain">      </span><span class="token number" style="color:rgb(9, 134, 88)">214</span><span class="token plain">      </span><span class="token number" style="color:rgb(9, 134, 88)">246</span><span class="token plain">      </span><span class="token number" style="color:rgb(9, 134, 88)">2901</span><span class="token plain">     </span><span class="token number" style="color:rgb(9, 134, 88)">3161233</span><span class="token plain">  </span><span class="token number" style="color:rgb(9, 134, 88)">3219965</span><span class="token plain">  </span><span class="token number" style="color:rgb(9, 134, 88)">369</span><span class="token plain">      </span><span class="token number" style="color:rgb(9, 134, 88)">49487</span><span class="token plain">   </span><span class="token number" style="color:rgb(9, 134, 88)">922</span><span class="token plain"></span><br></span><span class="token-line" style="color:#000000"><span class="token plain"></span><span class="token number" style="color:rgb(9, 134, 88)">1011</span><span class="token plain">    </span><span class="token number" style="color:rgb(9, 134, 88)">144</span><span class="token plain">      </span><span class="token number" style="color:rgb(9, 134, 88)">215</span><span class="token plain">      </span><span class="token number" style="color:rgb(9, 134, 88)">247</span><span class="token plain">      </span><span class="token number" style="color:rgb(9, 134, 88)">2904</span><span class="token plain">     </span><span class="token number" style="color:rgb(9, 134, 88)">3161412</span><span class="token plain">  </span><span class="token number" style="color:rgb(9, 134, 88)">3219966</span><span class="token plain">  </span><span class="token number" style="color:rgb(9, 134, 88)">37</span><span class="token plain">       </span><span class="token number" style="color:rgb(9, 134, 88)">497</span><span class="token plain">     </span><span class="token number" style="color:rgb(9, 134, 88)">924</span><span class="token plain"></span><br></span><span class="token-line" style="color:#000000"><span class="token plain"></span><span class="token number" style="color:rgb(9, 134, 88)">1012</span><span class="token plain">    </span><span class="token number" style="color:rgb(9, 134, 88)">145</span><span class="token plain">      </span><span class="token number" style="color:rgb(9, 134, 88)">2157892</span><span class="token plain">  </span><span class="token number" style="color:rgb(9, 134, 88)">2477</span><span class="token plain">     </span><span class="token number" style="color:rgb(9, 134, 88)">291</span><span class="token plain">      </span><span class="token number" style="color:rgb(9, 134, 88)">3161628</span><span class="token plain">  </span><span class="token number" style="color:rgb(9, 134, 88)">322</span><span class="token plain">      </span><span class="token number" style="color:rgb(9, 134, 88)">370</span><span class="token plain">      </span><span class="token number" style="color:rgb(9, 134, 88)">498</span><span class="token plain">     </span><span class="token number" style="color:rgb(9, 134, 88)">93</span><span class="token plain"></span><br></span><span class="token-line" style="color:#000000"><span class="token plain"></span><span class="token number" style="color:rgb(9, 134, 88)">102</span><span class="token plain">     </span><span class="token number" style="color:rgb(9, 134, 88)">147</span><span class="token plain">      </span><span class="token number" style="color:rgb(9, 134, 88)">216</span><span class="token plain">      </span><span class="token number" style="color:rgb(9, 134, 88)">2479</span><span class="token plain">     </span><span class="token number" style="color:rgb(9, 134, 88)">292</span><span class="token plain">      </span><span class="token number" style="color:rgb(9, 134, 88)">3162463</span><span class="token plain">  </span><span class="token number" style="color:rgb(9, 134, 88)">3220776</span><span class="token plain">  </span><span class="token number" style="color:rgb(9, 134, 88)">3707987</span><span class="token plain">  </span><span class="token number" style="color:rgb(9, 134, 88)">499</span><span class="token plain">     </span><span class="token number" style="color:rgb(9, 134, 88)">939</span><span class="token plain"></span><br></span><span class="token-line" style="color:#000000"><span class="token plain"></span><span class="token number" style="color:rgb(9, 134, 88)">1026</span><span class="token plain">    </span><span class="token number" style="color:rgb(9, 134, 88)">148</span><span class="token plain">      </span><span class="token number" style="color:rgb(9, 134, 88)">2166228</span><span class="token plain">  </span><span class="token number" style="color:rgb(9, 134, 88)">2483</span><span class="token plain">     </span><span class="token number" style="color:rgb(9, 134, 88)">293</span><span class="token plain">      </span><span class="token number" style="color:rgb(9, 134, 88)">3167151</span><span class="token plain">  </span><span class="token number" style="color:rgb(9, 134, 88)">3220973</span><span class="token plain">  </span><span class="token number" style="color:rgb(9, 134, 88)">3708052</span><span class="token plain">  </span><span class="token number" style="color:rgb(9, 134, 88)">50</span><span class="token plain">      </span><span class="token number" style="color:rgb(9, 134, 88)">95</span><span class="token plain"></span><br></span><span class="token-line" style="color:#000000"><span class="token plain"></span><span class="token number" style="color:rgb(9, 134, 88)">103</span><span class="token plain">     </span><span class="token number" style="color:rgb(9, 134, 88)">1484289</span><span class="token plain">  </span><span class="token number" style="color:rgb(9, 134, 88)">2166605</span><span class="token plain">  </span><span class="token number" style="color:rgb(9, 134, 88)">249</span><span class="token plain">      </span><span class="token number" style="color:rgb(9, 134, 88)">2933337</span><span class="token plain">  </span><span class="token number" style="color:rgb(9, 134, 88)">3167349</span><span class="token plain">  </span><span class="token number" style="color:rgb(9, 134, 88)">3220974</span><span class="token plain">  </span><span class="token number" style="color:rgb(9, 134, 88)">371</span><span class="token plain">      </span><span class="token number" style="color:rgb(9, 134, 88)">500</span><span class="token plain">     </span><span class="token number" style="color:rgb(9, 134, 88)">965894</span><span class="token plain"></span><br></span><span class="token-line" style="color:#000000"><span class="token plain"></span><span class="token number" style="color:rgb(9, 134, 88)">1030</span><span class="token plain">    </span><span class="token number" style="color:rgb(9, 134, 88)">149</span><span class="token plain">      </span><span class="token number" style="color:rgb(9, 134, 88)">2172873</span><span class="token plain">  </span><span class="token number" style="color:rgb(9, 134, 88)">2491</span><span class="token plain">     </span><span class="token number" style="color:rgb(9, 134, 88)">2942473</span><span class="token plain">  </span><span class="token number" style="color:rgb(9, 134, 88)">3167804</span><span class="token plain">  </span><span class="token number" style="color:rgb(9, 134, 88)">3221784</span><span class="token plain">  </span><span class="token number" style="color:rgb(9, 134, 88)">37148</span><span class="token plain">    </span><span class="token number" style="color:rgb(9, 134, 88)">501</span><span class="token plain">     </span><span class="token number" style="color:rgb(9, 134, 88)">965940</span><span class="token plain"></span><br></span><span class="token-line" style="color:#000000"><span class="token plain"></span><span class="token number" style="color:rgb(9, 134, 88)">1032</span><span class="token plain">    </span><span class="token number" style="color:rgb(9, 134, 88)">15</span><span class="token plain">       </span><span class="token number" style="color:rgb(9, 134, 88)">2172952</span><span class="token plain">  </span><span class="token number" style="color:rgb(9, 134, 88)">2492920</span><span class="token plain">  </span><span class="token number" style="color:rgb(9, 134, 88)">2943058</span><span class="token plain">  </span><span class="token number" style="color:rgb(9, 134, 88)">3167994</span><span class="token plain">  </span><span class="token number" style="color:rgb(9, 134, 88)">3222825</span><span class="token plain">  </span><span class="token number" style="color:rgb(9, 134, 88)">372</span><span class="token plain">      </span><span class="token number" style="color:rgb(9, 134, 88)">502</span><span class="token plain">     </span><span class="token number" style="color:rgb(9, 134, 88)">97</span><span class="token plain"></span><br></span><span class="token-line" style="color:#000000"><span class="token plain"></span><span class="token number" style="color:rgb(9, 134, 88)">104</span><span class="token plain">     </span><span class="token number" style="color:rgb(9, 134, 88)">150</span><span class="token plain">      </span><span class="token number" style="color:rgb(9, 134, 88)">2174302</span><span class="token plain">  </span><span class="token number" style="color:rgb(9, 134, 88)">2493740</span><span class="token plain">  </span><span class="token number" style="color:rgb(9, 134, 88)">2943701</span><span class="token plain">  </span><span class="token number" style="color:rgb(9, 134, 88)">3168644</span><span class="token plain">  </span><span class="token number" style="color:rgb(9, 134, 88)">3222954</span><span class="token plain">  </span><span class="token number" style="color:rgb(9, 134, 88)">373</span><span class="token plain">      </span><span class="token number" style="color:rgb(9, 134, 88)">503</span><span class="token plain">     </span><span class="token number" style="color:rgb(9, 134, 88)">977</span><span class="token plain"></span><br></span><span class="token-line" style="color:#000000"><span class="token plain"></span><span class="token number" style="color:rgb(9, 134, 88)">1044</span><span class="token plain">    </span><span class="token number" style="color:rgb(9, 134, 88)">152</span><span class="token plain">      </span><span class="token number" style="color:rgb(9, 134, 88)">218</span><span class="token plain">      </span><span class="token number" style="color:rgb(9, 134, 88)">2498</span><span class="token plain">     </span><span class="token number" style="color:rgb(9, 134, 88)">295</span><span class="token plain">      </span><span class="token number" style="color:rgb(9, 134, 88)">3169031</span><span class="token plain">  </span><span class="token number" style="color:rgb(9, 134, 88)">3223256</span><span class="token plain">  </span><span class="token number" style="color:rgb(9, 134, 88)">374</span><span class="token plain">      </span><span class="token number" style="color:rgb(9, 134, 88)">504</span><span class="token plain">     </span><span class="token number" style="color:rgb(9, 134, 88)">98</span><span class="token plain"></span><br></span><span class="token-line" style="color:#000000"><span class="token plain"></span><span class="token number" style="color:rgb(9, 134, 88)">1045</span><span class="token plain">    </span><span class="token number" style="color:rgb(9, 134, 88)">153</span><span class="token plain">      </span><span class="token number" style="color:rgb(9, 134, 88)">2187021</span><span class="token plain">  </span><span class="token number" style="color:rgb(9, 134, 88)">2499</span><span class="token plain">     </span><span class="token number" style="color:rgb(9, 134, 88)">296</span><span class="token plain">      </span><span class="token number" style="color:rgb(9, 134, 88)">3169645</span><span class="token plain">  </span><span class="token number" style="color:rgb(9, 134, 88)">3223259</span><span class="token plain">  </span><span class="token number" style="color:rgb(9, 134, 88)">375</span><span class="token plain">      </span><span class="token number" style="color:rgb(9, 134, 88)">505</span><span class="token plain">     </span><span class="token number" style="color:rgb(9, 134, 88)">99</span><span class="token plain"></span><br></span><span class="token-line" style="color:#000000"><span class="token plain"></span><span class="token number" style="color:rgb(9, 134, 88)">1046</span><span class="token plain">    </span><span class="token number" style="color:rgb(9, 134, 88)">154</span><span class="token plain">      </span><span class="token number" style="color:rgb(9, 134, 88)">2187301</span><span class="token plain">  </span><span class="token number" style="color:rgb(9, 134, 88)">25</span><span class="token plain">       </span><span class="token number" style="color:rgb(9, 134, 88)">2964786</span><span class="token plain">  </span><span class="token number" style="color:rgb(9, 134, 88)">317</span><span class="token plain">      </span><span class="token number" style="color:rgb(9, 134, 88)">3223494</span><span class="token plain">  </span><span class="token number" style="color:rgb(9, 134, 88)">376</span><span class="token plain">      </span><span class="token number" style="color:rgb(9, 134, 88)">506</span><span class="token plain">     acpi</span><br></span><span class="token-line" style="color:#000000"><span class="token plain"></span><span class="token number" style="color:rgb(9, 134, 88)">1057</span><span class="token plain">    </span><span class="token number" style="color:rgb(9, 134, 88)">155</span><span class="token plain">      </span><span class="token number" style="color:rgb(9, 134, 88)">2187350</span><span class="token plain">  </span><span class="token number" style="color:rgb(9, 134, 88)">250</span><span class="token plain">      </span><span class="token number" style="color:rgb(9, 134, 88)">297</span><span class="token plain">      </span><span class="token number" style="color:rgb(9, 134, 88)">3170504</span><span class="token plain">  </span><span class="token number" style="color:rgb(9, 134, 88)">323</span><span class="token plain">      </span><span class="token number" style="color:rgb(9, 134, 88)">37620</span><span class="token plain">    </span><span class="token number" style="color:rgb(9, 134, 88)">507</span><span class="token plain">     buddyinfo</span><br></span><span class="token-line" style="color:#000000"><span class="token plain"></span><span class="token number" style="color:rgb(9, 134, 88)">106</span><span class="token plain">     </span><span class="token number" style="color:rgb(9, 134, 88)">157</span><span class="token plain">      </span><span class="token number" style="color:rgb(9, 134, 88)">22</span><span class="token plain">       </span><span class="token number" style="color:rgb(9, 134, 88)">2507</span><span class="token plain">     </span><span class="token number" style="color:rgb(9, 134, 88)">2974466</span><span class="token plain">  </span><span class="token number" style="color:rgb(9, 134, 88)">3170660</span><span class="token plain">  </span><span class="token number" style="color:rgb(9, 134, 88)">324</span><span class="token plain">      </span><span class="token number" style="color:rgb(9, 134, 88)">377</span><span class="token plain">      </span><span class="token number" style="color:rgb(9, 134, 88)">508</span><span class="token plain">     bus</span><br></span><span class="token-line" style="color:#000000"><span class="token plain"></span><span class="token number" style="color:rgb(9, 134, 88)">107</span><span class="token plain">     </span><span class="token number" style="color:rgb(9, 134, 88)">158</span><span class="token plain">      </span><span class="token number" style="color:rgb(9, 134, 88)">220</span><span class="token plain">      </span><span class="token number" style="color:rgb(9, 134, 88)">2507753</span><span class="token plain">  </span><span class="token number" style="color:rgb(9, 134, 88)">2975052</span><span class="token plain">  </span><span class="token number" style="color:rgb(9, 134, 88)">3170860</span><span class="token plain">  </span><span class="token number" style="color:rgb(9, 134, 88)">326</span><span class="token plain">      </span><span class="token number" style="color:rgb(9, 134, 88)">3825</span><span class="token plain">     </span><span class="token number" style="color:rgb(9, 134, 88)">509</span><span class="token plain">     cgroups</span><br></span><span class="token-line" style="color:#000000"><span class="token plain"></span><span class="token number" style="color:rgb(9, 134, 88)">108</span><span class="token plain">     </span><span class="token number" style="color:rgb(9, 134, 88)">159</span><span class="token plain">      </span><span class="token number" style="color:rgb(9, 134, 88)">2209896</span><span class="token plain">  </span><span class="token number" style="color:rgb(9, 134, 88)">2507840</span><span class="token plain">  </span><span class="token number" style="color:rgb(9, 134, 88)">2976725</span><span class="token plain">  </span><span class="token number" style="color:rgb(9, 134, 88)">3172803</span><span class="token plain">  </span><span class="token number" style="color:rgb(9, 134, 88)">327</span><span class="token plain">      </span><span class="token number" style="color:rgb(9, 134, 88)">3829</span><span class="token plain">     </span><span class="token number" style="color:rgb(9, 134, 88)">51</span><span class="token plain">      cmdline</span><br></span><span class="token-line" style="color:#000000"><span class="token plain"></span><span class="token number" style="color:rgb(9, 134, 88)">109</span><span class="token plain">     </span><span class="token number" style="color:rgb(9, 134, 88)">16</span><span class="token plain">       </span><span class="token number" style="color:rgb(9, 134, 88)">221</span><span class="token plain">      </span><span class="token number" style="color:rgb(9, 134, 88)">251</span><span class="token plain">      </span><span class="token number" style="color:rgb(9, 134, 88)">2977555</span><span class="token plain">  </span><span class="token number" style="color:rgb(9, 134, 88)">3179791</span><span class="token plain">  </span><span class="token number" style="color:rgb(9, 134, 88)">328</span><span class="token plain">      </span><span class="token number" style="color:rgb(9, 134, 88)">3830</span><span class="token plain">     </span><span class="token number" style="color:rgb(9, 134, 88)">510</span><span class="token plain">     config.gz</span><br></span><span class="token-line" style="color:#000000"><span class="token plain"></span><span class="token number" style="color:rgb(9, 134, 88)">11</span><span class="token plain">      </span><span class="token number" style="color:rgb(9, 134, 88)">160</span><span class="token plain">      </span><span class="token number" style="color:rgb(9, 134, 88)">2218775</span><span class="token plain">  </span><span class="token number" style="color:rgb(9, 134, 88)">2514755</span><span class="token plain">  </span><span class="token number" style="color:rgb(9, 134, 88)">298</span><span class="token plain">      </span><span class="token number" style="color:rgb(9, 134, 88)">318</span><span class="token plain">      </span><span class="token number" style="color:rgb(9, 134, 88)">329</span><span class="token plain">      </span><span class="token number" style="color:rgb(9, 134, 88)">3831</span><span class="token plain">     </span><span class="token number" style="color:rgb(9, 134, 88)">511</span><span class="token plain">     consoles</span><br></span><span class="token-line" style="color:#000000"><span class="token plain"></span><span class="token number" style="color:rgb(9, 134, 88)">111</span><span class="token plain">     </span><span class="token number" style="color:rgb(9, 134, 88)">162</span><span class="token plain">      </span><span class="token number" style="color:rgb(9, 134, 88)">222</span><span class="token plain">      </span><span class="token number" style="color:rgb(9, 134, 88)">2514917</span><span class="token plain">  </span><span class="token number" style="color:rgb(9, 134, 88)">2997448</span><span class="token plain">  </span><span class="token number" style="color:rgb(9, 134, 88)">3180167</span><span class="token plain">  </span><span class="token number" style="color:rgb(9, 134, 88)">3308060</span><span class="token plain">  </span><span class="token number" style="color:rgb(9, 134, 88)">3832</span><span class="token plain">     </span><span class="token number" style="color:rgb(9, 134, 88)">516</span><span class="token plain">     cpuinfo</span><br></span><span class="token-line" style="color:#000000"><span class="token plain"></span><span class="token number" style="color:rgb(9, 134, 88)">112</span><span class="token plain">     </span><span class="token number" style="color:rgb(9, 134, 88)">163</span><span class="token plain">      </span><span class="token number" style="color:rgb(9, 134, 88)">224</span><span class="token plain">      </span><span class="token number" style="color:rgb(9, 134, 88)">252</span><span class="token plain">      </span><span class="token number" style="color:rgb(9, 134, 88)">2997861</span><span class="token plain">  </span><span class="token number" style="color:rgb(9, 134, 88)">3180374</span><span class="token plain">  </span><span class="token number" style="color:rgb(9, 134, 88)">331</span><span class="token plain">      </span><span class="token number" style="color:rgb(9, 134, 88)">3833</span><span class="token plain">     </span><span class="token number" style="color:rgb(9, 134, 88)">52</span><span class="token plain">      crypto</span><br></span><span class="token-line" style="color:#000000"><span class="token plain"></span><span class="token number" style="color:rgb(9, 134, 88)">113</span><span class="token plain">     </span><span class="token number" style="color:rgb(9, 134, 88)">164</span><span class="token plain">      </span><span class="token number" style="color:rgb(9, 134, 88)">2247991</span><span class="token plain">  </span><span class="token number" style="color:rgb(9, 134, 88)">2522146</span><span class="token plain">  </span><span class="token number" style="color:rgb(9, 134, 88)">3</span><span class="token plain">        </span><span class="token number" style="color:rgb(9, 134, 88)">3180601</span><span class="token plain">  </span><span class="token number" style="color:rgb(9, 134, 88)">331292</span><span class="token plain">   </span><span class="token number" style="color:rgb(9, 134, 88)">3834</span><span class="token plain">     </span><span class="token number" style="color:rgb(9, 134, 88)">54</span><span class="token plain">      devices</span><br></span><span class="token-line" style="color:#000000"><span class="token plain"></span><span class="token number" style="color:rgb(9, 134, 88)">114</span><span class="token plain">     </span><span class="token number" style="color:rgb(9, 134, 88)">1643190</span><span class="token plain">  </span><span class="token number" style="color:rgb(9, 134, 88)">225</span><span class="token plain">      </span><span class="token number" style="color:rgb(9, 134, 88)">2527</span><span class="token plain">     </span><span class="token number" style="color:rgb(9, 134, 88)">30</span><span class="token plain">       </span><span class="token number" style="color:rgb(9, 134, 88)">3181420</span><span class="token plain">  </span><span class="token number" style="color:rgb(9, 134, 88)">3313620</span><span class="token plain">  </span><span class="token number" style="color:rgb(9, 134, 88)">3835</span><span class="token plain">     </span><span class="token number" style="color:rgb(9, 134, 88)">56</span><span class="token plain">      diskstats</span><br></span><span class="token-line" style="color:#000000"><span class="token plain"></span><span class="token number" style="color:rgb(9, 134, 88)">11513</span><span class="token plain">   </span><span class="token number" style="color:rgb(9, 134, 88)">1643234</span><span class="token plain">  </span><span class="token number" style="color:rgb(9, 134, 88)">226</span><span class="token plain">      </span><span class="token number" style="color:rgb(9, 134, 88)">254</span><span class="token plain">      </span><span class="token number" style="color:rgb(9, 134, 88)">300</span><span class="token plain">      </span><span class="token number" style="color:rgb(9, 134, 88)">3182232</span><span class="token plain">  </span><span class="token number" style="color:rgb(9, 134, 88)">3313748</span><span class="token plain">  </span><span class="token number" style="color:rgb(9, 134, 88)">3836</span><span class="token plain">     </span><span class="token number" style="color:rgb(9, 134, 88)">57</span><span class="token plain">      driver</span><br></span><span class="token-line" style="color:#000000"><span class="token plain"></span><span class="token number" style="color:rgb(9, 134, 88)">116</span><span class="token plain">     </span><span class="token number" style="color:rgb(9, 134, 88)">165</span><span class="token plain">      </span><span class="token number" style="color:rgb(9, 134, 88)">2261</span><span class="token plain">     </span><span class="token number" style="color:rgb(9, 134, 88)">255</span><span class="token plain">      </span><span class="token number" style="color:rgb(9, 134, 88)">3000087</span><span class="token plain">  </span><span class="token number" style="color:rgb(9, 134, 88)">3183478</span><span class="token plain">  </span><span class="token number" style="color:rgb(9, 134, 88)">332</span><span class="token plain">      </span><span class="token number" style="color:rgb(9, 134, 88)">383638</span><span class="token plain">   </span><span class="token number" style="color:rgb(9, 134, 88)">58</span><span class="token plain">      execdomains</span><br></span><span class="token-line" style="color:#000000"><span class="token plain"></span><span class="token number" style="color:rgb(9, 134, 88)">117</span><span class="token plain">     </span><span class="token number" style="color:rgb(9, 134, 88)">167</span><span class="token plain">      </span><span class="token number" style="color:rgb(9, 134, 88)">2262</span><span class="token plain">     </span><span class="token number" style="color:rgb(9, 134, 88)">256</span><span class="token plain">      </span><span class="token number" style="color:rgb(9, 134, 88)">302</span><span class="token plain">      </span><span class="token number" style="color:rgb(9, 134, 88)">3184083</span><span class="token plain">  </span><span class="token number" style="color:rgb(9, 134, 88)">333</span><span class="token plain">      </span><span class="token number" style="color:rgb(9, 134, 88)">3837</span><span class="token plain">     </span><span class="token number" style="color:rgb(9, 134, 88)">584745</span><span class="token plain">  fb</span><br></span><span class="token-line" style="color:#000000"><span class="token plain"></span><span class="token number" style="color:rgb(9, 134, 88)">118</span><span class="token plain">     </span><span class="token number" style="color:rgb(9, 134, 88)">168</span><span class="token plain">      </span><span class="token number" style="color:rgb(9, 134, 88)">2263</span><span class="token plain">     </span><span class="token number" style="color:rgb(9, 134, 88)">257</span><span class="token plain">      </span><span class="token number" style="color:rgb(9, 134, 88)">3020071</span><span class="token plain">  </span><span class="token number" style="color:rgb(9, 134, 88)">3184924</span><span class="token plain">  </span><span class="token number" style="color:rgb(9, 134, 88)">334</span><span class="token plain">      </span><span class="token number" style="color:rgb(9, 134, 88)">3838</span><span class="token plain">     </span><span class="token number" style="color:rgb(9, 134, 88)">586435</span><span class="token plain">  filesystems</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg class="copyButtonIcon_y97N" viewBox="0 0 24 24"><path d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg class="copyButtonSuccessIcon_LjdS" viewBox="0 0 24 24"><path d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><ul><li><p>其中数字命名的目录对应的是各进程的 pid 号，其内的文件记录的都是该进程当前的数据信息，且都是只读的。</p></li><li><p>例如记录命令信息的 cmdline 文件，进程使用哪颗 cpu 信息 cpuset，进程占用内存的信息 mem 文件，进程 IO 信息 io 文件等其他各种信息文件。</p><div class="language-bash codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#000000;--prism-background-color:#ffffff"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-bash codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#000000"><span class="token punctuation" style="color:rgb(4, 81, 165)">[</span><span class="token plain">root@computer1 ~</span><span class="token punctuation" style="color:rgb(4, 81, 165)">]</span><span class="token comment" style="color:rgb(0, 128, 0)"># ls /proc/62923/</span><span class="token plain"></span><br></span><span class="token-line" style="color:#000000"><span class="token plain">attr             cpuset   io         mounts      oom_score_adj  setgroups     syscall</span><br></span><span class="token-line" style="color:#000000"><span class="token plain">auxv             cwd      limits     mountstats  pagemap        smaps         task</span><br></span><span class="token-line" style="color:#000000"><span class="token plain">cgroup           environ  loginuid   net         personality    smaps_rollup  timers</span><br></span><span class="token-line" style="color:#000000"><span class="token plain">clear_refs       exe      map_files  ns          projid_map     stack         timerslack_ns</span><br></span><span class="token-line" style="color:#000000"><span class="token plain">cmdline          fd       maps       numa_maps   root           </span><span class="token function" style="color:rgb(0, 0, 255)">stat</span><span class="token plain">          uid_map</span><br></span><span class="token-line" style="color:#000000"><span class="token plain"></span><span class="token function" style="color:rgb(0, 0, 255)">comm</span><span class="token plain">             fdinfo   mem        oom_adj     schedstat      statm         wchan</span><br></span><span class="token-line" style="color:#000000"><span class="token plain">coredump_filter  gid_map  mountinfo  oom_score   sessionid      status</span><br></span><span class="token-line" style="color:#000000"><span class="token plain"></span><span class="token punctuation" style="color:rgb(4, 81, 165)">[</span><span class="token plain">root@computer1 ~</span><span class="token punctuation" style="color:rgb(4, 81, 165)">]</span><span class="token comment" style="color:rgb(0, 128, 0)">#</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg class="copyButtonIcon_y97N" viewBox="0 0 24 24"><path d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg class="copyButtonSuccessIcon_LjdS" viewBox="0 0 24 24"><path d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div></li></ul><p>非数字命名的目录各有用途，例如 bus 表示总线信息，driver 表示驱动信息，fs 表示文件系统特殊信息，net 表示网络信息，tty 表示跟物理终端有关的信息，最特殊的两个是 /proc/self 和 /proc/sys。</p><ul><li><p>先说 /proc/self 目录，它表示的是当前正在访问 /proc 目录的进程，因为 /proc 目录是内核数据向外记录的接口，所以当前访问 /proc 目录的进程表示的就是当前 cpu 正在执行的进程。</p><p>如果执行 cat /proc/self/cmdline，会发现其结果总是该命令本身，因为 cat 是手动敲入的命令，它是重要性进程，cpu 会立即执行该命令。</p></li><li><p>再说 /proc/sys 这个目录，该目录是为管理员提供用来修改内核运行参数的，所以该目录中的文件对 root 都是可写的，例如管理数据包转发功能的 /proc/sys/net/ipv4/ip<!-- -->_<!-- -->forward 文件。</p><p>使用 sysctl 命令修改内核运行参数，其本质也是修改 /proc/sys 目录中的文件。</p></li></ul><h2 class="anchor anchorWithHideOnScrollNavbar_WYt5" id="102查看进程信息">10.2、查看进程信息<a href="#102查看进程信息" class="hash-link" aria-label="Direct link to heading" title="Direct link to heading">​</a></h2><h3 class="anchor anchorWithHideOnScrollNavbar_WYt5" id="1021pstree-命令">10.2.1、pstree 命令<a href="#1021pstree-命令" class="hash-link" aria-label="Direct link to heading" title="Direct link to heading">​</a></h3><p>pstree 命令将以树的形式显示进程信息，默认树的分支是收拢的，也不显示 pid，要显示这些信息需要指定对应的选项。</p><div class="language-bash codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#000000;--prism-background-color:#ffffff"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-bash codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#000000"><span class="token plain">pstree </span><span class="token punctuation" style="color:rgb(4, 81, 165)">[</span><span class="token plain">-a</span><span class="token punctuation" style="color:rgb(4, 81, 165)">]</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(4, 81, 165)">[</span><span class="token plain">-c</span><span class="token punctuation" style="color:rgb(4, 81, 165)">]</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(4, 81, 165)">[</span><span class="token plain">-h</span><span class="token punctuation" style="color:rgb(4, 81, 165)">]</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(4, 81, 165)">[</span><span class="token plain">-l</span><span class="token punctuation" style="color:rgb(4, 81, 165)">]</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(4, 81, 165)">[</span><span class="token plain">-p</span><span class="token punctuation" style="color:rgb(4, 81, 165)">]</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(4, 81, 165)">[</span><span class="token plain">pid</span><span class="token punctuation" style="color:rgb(4, 81, 165)">]</span><span class="token plain"></span><br></span><span class="token-line" style="color:#000000"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#000000"><span class="token plain">选项说明：</span><br></span><span class="token-line" style="color:#000000"><span class="token plain">-a：显示进程的命令行</span><br></span><span class="token-line" style="color:#000000"><span class="token plain">-c：展开分支</span><br></span><span class="token-line" style="color:#000000"><span class="token plain">-h：高亮当前正在运行的进程及其父进程</span><br></span><span class="token-line" style="color:#000000"><span class="token plain">-p：显示进程pid，此选项也将展开分支</span><br></span><span class="token-line" style="color:#000000"><span class="token plain">-l：允许显示长格式进程。默认在显示结果中超过132个字符时将截断后面的字符。</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg class="copyButtonIcon_y97N" viewBox="0 0 24 24"><path d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg class="copyButtonSuccessIcon_LjdS" viewBox="0 0 24 24"><path d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><div class="language-bash codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#000000;--prism-background-color:#ffffff"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-bash codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#000000"><span class="token punctuation" style="color:rgb(4, 81, 165)">[</span><span class="token plain">root@computer1 ~</span><span class="token punctuation" style="color:rgb(4, 81, 165)">]</span><span class="token comment" style="color:rgb(0, 128, 0)"># pstree -h</span><span class="token plain"></span><br></span><span class="token-line" style="color:#000000"><span class="token plain">systemd─┬─3*</span><span class="token punctuation" style="color:rgb(4, 81, 165)">[</span><span class="token plain">agetty</span><span class="token punctuation" style="color:rgb(4, 81, 165)">]</span><span class="token plain"></span><br></span><span class="token-line" style="color:#000000"><span class="token plain">        ├─auditd───</span><span class="token punctuation" style="color:rgb(4, 81, 165)">{</span><span class="token plain">auditd</span><span class="token punctuation" style="color:rgb(4, 81, 165)">}</span><span class="token plain"></span><br></span><span class="token-line" style="color:#000000"><span class="token plain">        ├─chronyd</span><br></span><span class="token-line" style="color:#000000"><span class="token plain">        ├─collectdmon───collectd───11*</span><span class="token punctuation" style="color:rgb(4, 81, 165)">[</span><span class="token punctuation" style="color:rgb(4, 81, 165)">{</span><span class="token plain">collectd</span><span class="token punctuation" style="color:rgb(4, 81, 165)">}</span><span class="token punctuation" style="color:rgb(4, 81, 165)">]</span><span class="token plain"></span><br></span><span class="token-line" style="color:#000000"><span class="token plain">        ├─containerd─┬─containerd-shim─┬─openresty───4*</span><span class="token punctuation" style="color:rgb(4, 81, 165)">[</span><span class="token plain">openresty</span><span class="token punctuation" style="color:rgb(4, 81, 165)">]</span><span class="token plain"></span><br></span><span class="token-line" style="color:#000000"><span class="token plain">        │            │                 └─11*</span><span class="token punctuation" style="color:rgb(4, 81, 165)">[</span><span class="token punctuation" style="color:rgb(4, 81, 165)">{</span><span class="token plain">containerd-shim</span><span class="token punctuation" style="color:rgb(4, 81, 165)">}</span><span class="token punctuation" style="color:rgb(4, 81, 165)">]</span><span class="token plain"></span><br></span><span class="token-line" style="color:#000000"><span class="token plain">        │            ├─containerd-shim─┬─npm─┬─sh───node───10*</span><span class="token punctuation" style="color:rgb(4, 81, 165)">[</span><span class="token punctuation" style="color:rgb(4, 81, 165)">{</span><span class="token plain">node</span><span class="token punctuation" style="color:rgb(4, 81, 165)">}</span><span class="token punctuation" style="color:rgb(4, 81, 165)">]</span><span class="token plain"></span><br></span><span class="token-line" style="color:#000000"><span class="token plain">        │            │                 │     └─10*</span><span class="token punctuation" style="color:rgb(4, 81, 165)">[</span><span class="token punctuation" style="color:rgb(4, 81, 165)">{</span><span class="token plain">npm</span><span class="token punctuation" style="color:rgb(4, 81, 165)">}</span><span class="token punctuation" style="color:rgb(4, 81, 165)">]</span><span class="token plain"></span><br></span><span class="token-line" style="color:#000000"><span class="token plain">        │            │                 └─11*</span><span class="token punctuation" style="color:rgb(4, 81, 165)">[</span><span class="token punctuation" style="color:rgb(4, 81, 165)">{</span><span class="token plain">containerd-shim</span><span class="token punctuation" style="color:rgb(4, 81, 165)">}</span><span class="token punctuation" style="color:rgb(4, 81, 165)">]</span><span class="token plain"></span><br></span><span class="token-line" style="color:#000000"><span class="token plain">        │            └─76*</span><span class="token punctuation" style="color:rgb(4, 81, 165)">[</span><span class="token punctuation" style="color:rgb(4, 81, 165)">{</span><span class="token plain">containerd</span><span class="token punctuation" style="color:rgb(4, 81, 165)">}</span><span class="token punctuation" style="color:rgb(4, 81, 165)">]</span><span class="token plain"></span><br></span><span class="token-line" style="color:#000000"><span class="token plain">        ├─crond</span><br></span><span class="token-line" style="color:#000000"><span class="token plain">        ├─dbus-daemon</span><br></span><span class="token-line" style="color:#000000"><span class="token plain">        ├─2*</span><span class="token punctuation" style="color:rgb(4, 81, 165)">[</span><span class="token plain">dnsmasq</span><span class="token punctuation" style="color:rgb(4, 81, 165)">]</span><span class="token plain"></span><br></span><span class="token-line" style="color:#000000"><span class="token plain">        ├─dockerd───74*</span><span class="token punctuation" style="color:rgb(4, 81, 165)">[</span><span class="token punctuation" style="color:rgb(4, 81, 165)">{</span><span class="token plain">dockerd</span><span class="token punctuation" style="color:rgb(4, 81, 165)">}</span><span class="token punctuation" style="color:rgb(4, 81, 165)">]</span><span class="token plain"></span><br></span><span class="token-line" style="color:#000000"><span class="token plain">        ├─etcd───76*</span><span class="token punctuation" style="color:rgb(4, 81, 165)">[</span><span class="token punctuation" style="color:rgb(4, 81, 165)">{</span><span class="token plain">etcd</span><span class="token punctuation" style="color:rgb(4, 81, 165)">}</span><span class="token punctuation" style="color:rgb(4, 81, 165)">]</span><span class="token plain"></span><br></span><span class="token-line" style="color:#000000"><span class="token plain">        ├─gssproxy───5*</span><span class="token punctuation" style="color:rgb(4, 81, 165)">[</span><span class="token punctuation" style="color:rgb(4, 81, 165)">{</span><span class="token plain">gssproxy</span><span class="token punctuation" style="color:rgb(4, 81, 165)">}</span><span class="token punctuation" style="color:rgb(4, 81, 165)">]</span><span class="token plain"></span><br></span><span class="token-line" style="color:#000000"><span class="token plain">        ├─irqbalance───</span><span class="token punctuation" style="color:rgb(4, 81, 165)">{</span><span class="token plain">irqbalance</span><span class="token punctuation" style="color:rgb(4, 81, 165)">}</span><span class="token plain"></span><br></span><span class="token-line" style="color:#000000"><span class="token plain">        ├─kylin-security-───</span><span class="token punctuation" style="color:rgb(4, 81, 165)">{</span><span class="token plain">kylin-security-</span><span class="token punctuation" style="color:rgb(4, 81, 165)">}</span><span class="token plain"></span><br></span><span class="token-line" style="color:#000000"><span class="token plain">        ├─libvirtd───17*</span><span class="token punctuation" style="color:rgb(4, 81, 165)">[</span><span class="token punctuation" style="color:rgb(4, 81, 165)">{</span><span class="token plain">libvirtd</span><span class="token punctuation" style="color:rgb(4, 81, 165)">}</span><span class="token punctuation" style="color:rgb(4, 81, 165)">]</span><span class="token plain"></span><br></span><span class="token-line" style="color:#000000"><span class="token plain">        ├─2*</span><span class="token punctuation" style="color:rgb(4, 81, 165)">[</span><span class="token plain">lighttpd</span><span class="token punctuation" style="color:rgb(4, 81, 165)">]</span><span class="token plain"></span><br></span><span class="token-line" style="color:#000000"><span class="token plain">        ├─mdadm</span><br></span><span class="token-line" style="color:#000000"><span class="token plain">        </span><span class="token punctuation" style="color:rgb(4, 81, 165)">..</span><span class="token punctuation" style="color:rgb(4, 81, 165)">..</span><span class="token punctuation" style="color:rgb(4, 81, 165)">..</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg class="copyButtonIcon_y97N" viewBox="0 0 24 24"><path d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg class="copyButtonSuccessIcon_LjdS" viewBox="0 0 24 24"><path d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><h3 class="anchor anchorWithHideOnScrollNavbar_WYt5" id="1022ps-命令">10.2.2、ps 命令<a href="#1022ps-命令" class="hash-link" aria-label="Direct link to heading" title="Direct link to heading">​</a></h3><p>ps 命令查看当前这一刻的进程信息，注意查看的是静态进程信息，要查看随时刷新的动态进程信息(如windows的进程管理器那样，每秒刷新一次)，使用 top 或 htop 命令。</p><p>这个命令的 man 文档及其复杂，它同时支持 3 种类型的选项：GUN/BSD/UNIX，不同类型的选项其展示的信息格式不一样。有些加了 &quot;-&quot; 的是 SysV 风格的选项，不加 &quot;-&quot; 的是 BSD 选项，加不加 &quot;-&quot; 它们的意义是不一样的，例如 ps aux 和 ps -aux 是不同的。</p><p>其实只需掌握少数几个选项即可，关键的是要了解 ps 显示出的进程信息中每一列代表什么属性。</p><p>对于 BSD 风格的选项，只需知道一个用法 ps aux 足以：</p><ul><li>选项 &quot;a&quot; 表示列出依赖于终端的进程</li><li>选项 &quot;x&quot; 表示列出不依赖于终端的进程，所以两者结合就表示列出所有进程</li><li>选项 &quot;u&quot; 表示展现的进程信息是以用户为导向的，不用管它什么是以用户为导向，用 ps aux 就没错。</li></ul><div class="language-bash codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#000000;--prism-background-color:#ffffff"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-bash codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#000000"><span class="token punctuation" style="color:rgb(4, 81, 165)">[</span><span class="token plain">root@computer1 ~</span><span class="token punctuation" style="color:rgb(4, 81, 165)">]</span><span class="token comment" style="color:rgb(0, 128, 0)"># ps aux | tail</span><span class="token plain"></span><br></span><span class="token-line" style="color:#000000"><span class="token plain"></span><span class="token environment constant" style="color:rgb(129, 31, 63)">USER</span><span class="token plain">         PID %CPU %MEM    VSZ   RSS TTY      STAT START   TIME COMMAND</span><br></span><span class="token-line" style="color:#000000"><span class="token plain">root     </span><span class="token number" style="color:rgb(9, 134, 88)">3819329</span><span class="token plain">  </span><span class="token number" style="color:rgb(9, 134, 88)">0.0</span><span class="token plain">  </span><span class="token number" style="color:rgb(9, 134, 88)">0.0</span><span class="token plain">      </span><span class="token number" style="color:rgb(9, 134, 88)">0</span><span class="token plain">     </span><span class="token number" style="color:rgb(9, 134, 88)">0</span><span class="token plain"> ?        I    </span><span class="token number" style="color:rgb(9, 134, 88)">20</span><span class="token plain">:35   </span><span class="token number" style="color:rgb(9, 134, 88)">0</span><span class="token plain">:00 </span><span class="token punctuation" style="color:rgb(4, 81, 165)">[</span><span class="token plain">kworker/25:3-cgroup_destroy</span><span class="token punctuation" style="color:rgb(4, 81, 165)">]</span><span class="token plain"></span><br></span><span class="token-line" style="color:#000000"><span class="token plain">root     </span><span class="token number" style="color:rgb(9, 134, 88)">3819915</span><span class="token plain">  </span><span class="token number" style="color:rgb(9, 134, 88)">0.0</span><span class="token plain">  </span><span class="token number" style="color:rgb(9, 134, 88)">0.0</span><span class="token plain">      </span><span class="token number" style="color:rgb(9, 134, 88)">0</span><span class="token plain">     </span><span class="token number" style="color:rgb(9, 134, 88)">0</span><span class="token plain"> ?        I    </span><span class="token number" style="color:rgb(9, 134, 88)">20</span><span class="token plain">:35   </span><span class="token number" style="color:rgb(9, 134, 88)">0</span><span class="token plain">:00 </span><span class="token punctuation" style="color:rgb(4, 81, 165)">[</span><span class="token plain">kworker/0:2</span><span class="token punctuation" style="color:rgb(4, 81, 165)">]</span><span class="token plain"></span><br></span><span class="token-line" style="color:#000000"><span class="token plain">root     </span><span class="token number" style="color:rgb(9, 134, 88)">3820740</span><span class="token plain">  </span><span class="token number" style="color:rgb(9, 134, 88)">0.0</span><span class="token plain">  </span><span class="token number" style="color:rgb(9, 134, 88)">0.0</span><span class="token plain">      </span><span class="token number" style="color:rgb(9, 134, 88)">0</span><span class="token plain">     </span><span class="token number" style="color:rgb(9, 134, 88)">0</span><span class="token plain"> ?        I    </span><span class="token number" style="color:rgb(9, 134, 88)">20</span><span class="token plain">:36   </span><span class="token number" style="color:rgb(9, 134, 88)">0</span><span class="token plain">:00 </span><span class="token punctuation" style="color:rgb(4, 81, 165)">[</span><span class="token plain">kworker/24:1-cgroup_pidlist_destroy</span><span class="token punctuation" style="color:rgb(4, 81, 165)">]</span><span class="token plain"></span><br></span><span class="token-line" style="color:#000000"><span class="token plain">root     </span><span class="token number" style="color:rgb(9, 134, 88)">3820741</span><span class="token plain">  </span><span class="token number" style="color:rgb(9, 134, 88)">0.0</span><span class="token plain">  </span><span class="token number" style="color:rgb(9, 134, 88)">0.0</span><span class="token plain">      </span><span class="token number" style="color:rgb(9, 134, 88)">0</span><span class="token plain">     </span><span class="token number" style="color:rgb(9, 134, 88)">0</span><span class="token plain"> ?        I    </span><span class="token number" style="color:rgb(9, 134, 88)">20</span><span class="token plain">:36   </span><span class="token number" style="color:rgb(9, 134, 88)">0</span><span class="token plain">:00 </span><span class="token punctuation" style="color:rgb(4, 81, 165)">[</span><span class="token plain">kworker/24:2-cgroup_pidlist_destroy</span><span class="token punctuation" style="color:rgb(4, 81, 165)">]</span><span class="token plain"></span><br></span><span class="token-line" style="color:#000000"><span class="token plain">root     </span><span class="token number" style="color:rgb(9, 134, 88)">3822389</span><span class="token plain">  </span><span class="token number" style="color:rgb(9, 134, 88)">0.0</span><span class="token plain">  </span><span class="token number" style="color:rgb(9, 134, 88)">0.0</span><span class="token plain">      </span><span class="token number" style="color:rgb(9, 134, 88)">0</span><span class="token plain">     </span><span class="token number" style="color:rgb(9, 134, 88)">0</span><span class="token plain"> ?        I    </span><span class="token number" style="color:rgb(9, 134, 88)">20</span><span class="token plain">:37   </span><span class="token number" style="color:rgb(9, 134, 88)">0</span><span class="token plain">:00 </span><span class="token punctuation" style="color:rgb(4, 81, 165)">[</span><span class="token plain">kworker/27:0-cgroup_pidlist_destroy</span><span class="token punctuation" style="color:rgb(4, 81, 165)">]</span><span class="token plain"></span><br></span><span class="token-line" style="color:#000000"><span class="token plain">root     </span><span class="token number" style="color:rgb(9, 134, 88)">3822390</span><span class="token plain">  </span><span class="token number" style="color:rgb(9, 134, 88)">0.0</span><span class="token plain">  </span><span class="token number" style="color:rgb(9, 134, 88)">0.0</span><span class="token plain">      </span><span class="token number" style="color:rgb(9, 134, 88)">0</span><span class="token plain">     </span><span class="token number" style="color:rgb(9, 134, 88)">0</span><span class="token plain"> ?        I    </span><span class="token number" style="color:rgb(9, 134, 88)">20</span><span class="token plain">:37   </span><span class="token number" style="color:rgb(9, 134, 88)">0</span><span class="token plain">:00 </span><span class="token punctuation" style="color:rgb(4, 81, 165)">[</span><span class="token plain">kworker/27:3-cgroup_destroy</span><span class="token punctuation" style="color:rgb(4, 81, 165)">]</span><span class="token plain"></span><br></span><span class="token-line" style="color:#000000"><span class="token plain">root     </span><span class="token number" style="color:rgb(9, 134, 88)">3822812</span><span class="token plain">  </span><span class="token number" style="color:rgb(9, 134, 88)">0.0</span><span class="token plain">  </span><span class="token number" style="color:rgb(9, 134, 88)">0.0</span><span class="token plain">      </span><span class="token number" style="color:rgb(9, 134, 88)">0</span><span class="token plain">     </span><span class="token number" style="color:rgb(9, 134, 88)">0</span><span class="token plain"> ?        I    </span><span class="token number" style="color:rgb(9, 134, 88)">20</span><span class="token plain">:37   </span><span class="token number" style="color:rgb(9, 134, 88)">0</span><span class="token plain">:00 </span><span class="token punctuation" style="color:rgb(4, 81, 165)">[</span><span class="token plain">kworker/14:0-mm_percpu_wq</span><span class="token punctuation" style="color:rgb(4, 81, 165)">]</span><span class="token plain"></span><br></span><span class="token-line" style="color:#000000"><span class="token plain">root     </span><span class="token number" style="color:rgb(9, 134, 88)">3822878</span><span class="token plain">  </span><span class="token number" style="color:rgb(9, 134, 88)">0.0</span><span class="token plain">  </span><span class="token number" style="color:rgb(9, 134, 88)">0.0</span><span class="token plain"> </span><span class="token number" style="color:rgb(9, 134, 88)">218816</span><span class="token plain">  </span><span class="token number" style="color:rgb(9, 134, 88)">6272</span><span class="token plain"> pts/16   R+   </span><span class="token number" style="color:rgb(9, 134, 88)">20</span><span class="token plain">:37   </span><span class="token number" style="color:rgb(9, 134, 88)">0</span><span class="token plain">:00 </span><span class="token function" style="color:rgb(0, 0, 255)">ps</span><span class="token plain"> aux</span><br></span><span class="token-line" style="color:#000000"><span class="token plain">root     </span><span class="token number" style="color:rgb(9, 134, 88)">3822879</span><span class="token plain">  </span><span class="token number" style="color:rgb(9, 134, 88)">0.0</span><span class="token plain">  </span><span class="token number" style="color:rgb(9, 134, 88)">0.0</span><span class="token plain"> </span><span class="token number" style="color:rgb(9, 134, 88)">213056</span><span class="token plain">   </span><span class="token number" style="color:rgb(9, 134, 88)">960</span><span class="token plain"> pts/16   S+   </span><span class="token number" style="color:rgb(9, 134, 88)">20</span><span class="token plain">:37   </span><span class="token number" style="color:rgb(9, 134, 88)">0</span><span class="token plain">:00 </span><span class="token function" style="color:rgb(0, 0, 255)">tail</span><span class="token plain"></span><br></span><span class="token-line" style="color:#000000"><span class="token plain">nobody   </span><span class="token number" style="color:rgb(9, 134, 88)">4119590</span><span class="token plain">  </span><span class="token number" style="color:rgb(9, 134, 88)">0.0</span><span class="token plain">  </span><span class="token number" style="color:rgb(9, 134, 88)">0.0</span><span class="token plain">   </span><span class="token number" style="color:rgb(9, 134, 88)">5312</span><span class="token plain">  </span><span class="token number" style="color:rgb(9, 134, 88)">1536</span><span class="token plain"> ?        S    </span><span class="token number" style="color:rgb(9, 134, 88)">7</span><span class="token plain">月12   </span><span class="token number" style="color:rgb(9, 134, 88)">0</span><span class="token plain">:00 /usr/local/zstack/dnsmasq --conf-file</span><span class="token operator" style="color:rgb(0, 0, 0)">=</span><span class="token plain">/var/lib/zstack/dnsmasq/br_bond2_4002_533d732ae8fa49e89b24b384cb869a71/dnsmasq.conf</span><br></span><span class="token-line" style="color:#000000"><span class="token plain"></span><span class="token punctuation" style="color:rgb(4, 81, 165)">[</span><span class="token plain">root@computer1 ~</span><span class="token punctuation" style="color:rgb(4, 81, 165)">]</span><span class="token comment" style="color:rgb(0, 128, 0)">#</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg class="copyButtonIcon_y97N" viewBox="0 0 24 24"><path d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg class="copyButtonSuccessIcon_LjdS" viewBox="0 0 24 24"><path d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><ul><li><p>%CPU：表示 CPU 占用百分比，注意，CPU 的衡量方式是占用时间，所以百分比的计算方式是 &quot;进程占用 cpu 时间 / cpu 总时间&quot;，而不是 cpu 工作强度的状态。</p></li><li><p>%MEM：表示各进程所占物理内存百分比。</p></li><li><p>VSZ：表示各进程占用的虚拟内存，也就是其在线性地址空间中实际占用的内存。单位为 kb。</p></li><li><p>RSS：表示各进程占用的实际物理内存。单位为 Kb。</p></li><li><p>TTY：表示属于哪个终端的进程，&quot;?&quot; 表示不依赖于终端的进程。</p></li><li><p>STAT：进程所处的状态。</p><ul><li>D：不可中断睡眠</li><li>R：运行中或等待队列中的进程(running/runnable)</li><li>S：可中断睡眠</li><li>T：进程处于 stopped 状态</li><li>Z：僵尸进程</li></ul><p>对于 BSD 风格的 ps 选项，进程的状态还会显示下面几个组合信息。</p><ul><li>&lt;：高优先级进程</li><li>N：低优先级进程</li><li>L：该进程在内存中有被锁定的页</li><li>s：表示该进程是 session leader，即进程组的首进程。例如管道左边的进程，shell 脚本中的 shell 进程</li><li>l：表示该进程是一个线程</li><li>+：表示是前端进程。前端进程一般来说都是依赖于终端的</li></ul></li><li><p>START：表示进程是何时被创建的</p></li><li><p>TIME：表示各进程占用的 CPU 时间</p></li><li><p>COMMAND：表示进程的命令行。如果是内核线程，则使用方括号 &quot;<!-- -->[<!-- -->]<!-- -->&quot; 包围</p></li></ul><p>注意到了没，<strong>ps aux 没有显示出 ppid</strong>。</p><p>另外常用的 ps 选项是 ps -elf。其中 &quot;-e&quot; 表示输出全部进程信息，&quot;-f&quot; 和 &quot;-l&quot; 分别表示全格式输出和长格式输出。全格式会输出 cmd 的全部参数。</p><div class="language-bash codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#000000;--prism-background-color:#ffffff"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-bash codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#000000"><span class="token punctuation" style="color:rgb(4, 81, 165)">[</span><span class="token plain">root@computer1 ~</span><span class="token punctuation" style="color:rgb(4, 81, 165)">]</span><span class="token comment" style="color:rgb(0, 128, 0)"># ps -elf | tail</span><span class="token plain"></span><br></span><span class="token-line" style="color:#000000"><span class="token plain">F S </span><span class="token environment constant" style="color:rgb(129, 31, 63)">UID</span><span class="token plain">          PID    </span><span class="token environment constant" style="color:rgb(129, 31, 63)">PPID</span><span class="token plain">  C PRI  NI ADDR SZ WCHAN  STIME TTY          TIME CMD</span><br></span><span class="token-line" style="color:#000000"><span class="token plain"></span><span class="token number" style="color:rgb(9, 134, 88)">1</span><span class="token plain"> I root     </span><span class="token number" style="color:rgb(9, 134, 88)">3850806</span><span class="token plain">       </span><span class="token number" style="color:rgb(9, 134, 88)">2</span><span class="token plain">  </span><span class="token number" style="color:rgb(9, 134, 88)">0</span><span class="token plain">  </span><span class="token number" style="color:rgb(9, 134, 88)">80</span><span class="token plain">   </span><span class="token number" style="color:rgb(9, 134, 88)">0</span><span class="token plain"> -     </span><span class="token number" style="color:rgb(9, 134, 88)">0</span><span class="token plain"> worker </span><span class="token number" style="color:rgb(9, 134, 88)">20</span><span class="token plain">:48 ?        00:00:00 </span><span class="token punctuation" style="color:rgb(4, 81, 165)">[</span><span class="token plain">kworker/48:0-cgroup_destroy</span><span class="token punctuation" style="color:rgb(4, 81, 165)">]</span><span class="token plain"></span><br></span><span class="token-line" style="color:#000000"><span class="token plain"></span><span class="token number" style="color:rgb(9, 134, 88)">1</span><span class="token plain"> I root     </span><span class="token number" style="color:rgb(9, 134, 88)">3852226</span><span class="token plain">       </span><span class="token number" style="color:rgb(9, 134, 88)">2</span><span class="token plain">  </span><span class="token number" style="color:rgb(9, 134, 88)">0</span><span class="token plain">  </span><span class="token number" style="color:rgb(9, 134, 88)">80</span><span class="token plain">   </span><span class="token number" style="color:rgb(9, 134, 88)">0</span><span class="token plain"> -     </span><span class="token number" style="color:rgb(9, 134, 88)">0</span><span class="token plain"> worker </span><span class="token number" style="color:rgb(9, 134, 88)">20</span><span class="token plain">:49 ?        00:00:00 </span><span class="token punctuation" style="color:rgb(4, 81, 165)">[</span><span class="token plain">kworker/51:2-cgroup_destroy</span><span class="token punctuation" style="color:rgb(4, 81, 165)">]</span><span class="token plain"></span><br></span><span class="token-line" style="color:#000000"><span class="token plain"></span><span class="token number" style="color:rgb(9, 134, 88)">1</span><span class="token plain"> I root     </span><span class="token number" style="color:rgb(9, 134, 88)">3854390</span><span class="token plain">       </span><span class="token number" style="color:rgb(9, 134, 88)">2</span><span class="token plain">  </span><span class="token number" style="color:rgb(9, 134, 88)">0</span><span class="token plain">  </span><span class="token number" style="color:rgb(9, 134, 88)">80</span><span class="token plain">   </span><span class="token number" style="color:rgb(9, 134, 88)">0</span><span class="token plain"> -     </span><span class="token number" style="color:rgb(9, 134, 88)">0</span><span class="token plain"> worker </span><span class="token number" style="color:rgb(9, 134, 88)">20</span><span class="token plain">:50 ?        00:00:00 </span><span class="token punctuation" style="color:rgb(4, 81, 165)">[</span><span class="token plain">kworker/0:0</span><span class="token punctuation" style="color:rgb(4, 81, 165)">]</span><span class="token plain"></span><br></span><span class="token-line" style="color:#000000"><span class="token plain"></span><span class="token number" style="color:rgb(9, 134, 88)">1</span><span class="token plain"> I root     </span><span class="token number" style="color:rgb(9, 134, 88)">3855361</span><span class="token plain">       </span><span class="token number" style="color:rgb(9, 134, 88)">2</span><span class="token plain">  </span><span class="token number" style="color:rgb(9, 134, 88)">0</span><span class="token plain">  </span><span class="token number" style="color:rgb(9, 134, 88)">80</span><span class="token plain">   </span><span class="token number" style="color:rgb(9, 134, 88)">0</span><span class="token plain"> -     </span><span class="token number" style="color:rgb(9, 134, 88)">0</span><span class="token plain"> worker </span><span class="token number" style="color:rgb(9, 134, 88)">20</span><span class="token plain">:50 ?        00:00:00 </span><span class="token punctuation" style="color:rgb(4, 81, 165)">[</span><span class="token plain">kworker/53:0</span><span class="token punctuation" style="color:rgb(4, 81, 165)">]</span><span class="token plain"></span><br></span><span class="token-line" style="color:#000000"><span class="token plain"></span><span class="token number" style="color:rgb(9, 134, 88)">1</span><span class="token plain"> I root     </span><span class="token number" style="color:rgb(9, 134, 88)">3855430</span><span class="token plain">       </span><span class="token number" style="color:rgb(9, 134, 88)">2</span><span class="token plain">  </span><span class="token number" style="color:rgb(9, 134, 88)">0</span><span class="token plain">  </span><span class="token number" style="color:rgb(9, 134, 88)">80</span><span class="token plain">   </span><span class="token number" style="color:rgb(9, 134, 88)">0</span><span class="token plain"> -     </span><span class="token number" style="color:rgb(9, 134, 88)">0</span><span class="token plain"> worker </span><span class="token number" style="color:rgb(9, 134, 88)">20</span><span class="token plain">:50 ?        00:00:00 </span><span class="token punctuation" style="color:rgb(4, 81, 165)">[</span><span class="token plain">kworker/u128:0-bond1</span><span class="token punctuation" style="color:rgb(4, 81, 165)">]</span><span class="token plain"></span><br></span><span class="token-line" style="color:#000000"><span class="token plain"></span><span class="token number" style="color:rgb(9, 134, 88)">1</span><span class="token plain"> I root     </span><span class="token number" style="color:rgb(9, 134, 88)">3857251</span><span class="token plain">       </span><span class="token number" style="color:rgb(9, 134, 88)">2</span><span class="token plain">  </span><span class="token number" style="color:rgb(9, 134, 88)">0</span><span class="token plain">  </span><span class="token number" style="color:rgb(9, 134, 88)">80</span><span class="token plain">   </span><span class="token number" style="color:rgb(9, 134, 88)">0</span><span class="token plain"> -     </span><span class="token number" style="color:rgb(9, 134, 88)">0</span><span class="token plain"> worker </span><span class="token number" style="color:rgb(9, 134, 88)">20</span><span class="token plain">:51 ?        00:00:00 </span><span class="token punctuation" style="color:rgb(4, 81, 165)">[</span><span class="token plain">kworker/54:1</span><span class="token punctuation" style="color:rgb(4, 81, 165)">]</span><span class="token plain"></span><br></span><span class="token-line" style="color:#000000"><span class="token plain"></span><span class="token number" style="color:rgb(9, 134, 88)">0</span><span class="token plain"> S root     </span><span class="token number" style="color:rgb(9, 134, 88)">3857779</span><span class="token plain">  </span><span class="token number" style="color:rgb(9, 134, 88)">339964</span><span class="token plain">  </span><span class="token number" style="color:rgb(9, 134, 88)">0</span><span class="token plain">  </span><span class="token number" style="color:rgb(9, 134, 88)">80</span><span class="token plain">   </span><span class="token number" style="color:rgb(9, 134, 88)">0</span><span class="token plain"> -    </span><span class="token number" style="color:rgb(9, 134, 88)">78</span><span class="token plain"> do_wai </span><span class="token number" style="color:rgb(9, 134, 88)">20</span><span class="token plain">:51 ?        00:00:00 /bin/bash</span><br></span><span class="token-line" style="color:#000000"><span class="token plain"></span><span class="token number" style="color:rgb(9, 134, 88)">0</span><span class="token plain"> R root     </span><span class="token number" style="color:rgb(9, 134, 88)">3857782</span><span class="token plain"> </span><span class="token number" style="color:rgb(9, 134, 88)">3809064</span><span class="token plain">  </span><span class="token number" style="color:rgb(9, 134, 88)">0</span><span class="token plain">  </span><span class="token number" style="color:rgb(9, 134, 88)">80</span><span class="token plain">   </span><span class="token number" style="color:rgb(9, 134, 88)">0</span><span class="token plain"> -  </span><span class="token number" style="color:rgb(9, 134, 88)">3419</span><span class="token plain"> -      </span><span class="token number" style="color:rgb(9, 134, 88)">20</span><span class="token plain">:51 pts/16   00:00:00 </span><span class="token function" style="color:rgb(0, 0, 255)">ps</span><span class="token plain"> -elf</span><br></span><span class="token-line" style="color:#000000"><span class="token plain"></span><span class="token number" style="color:rgb(9, 134, 88)">0</span><span class="token plain"> S root     </span><span class="token number" style="color:rgb(9, 134, 88)">3857783</span><span class="token plain"> </span><span class="token number" style="color:rgb(9, 134, 88)">3809064</span><span class="token plain">  </span><span class="token number" style="color:rgb(9, 134, 88)">0</span><span class="token plain">  </span><span class="token number" style="color:rgb(9, 134, 88)">80</span><span class="token plain">   </span><span class="token number" style="color:rgb(9, 134, 88)">0</span><span class="token plain"> -  </span><span class="token number" style="color:rgb(9, 134, 88)">3329</span><span class="token plain"> pipe_w </span><span class="token number" style="color:rgb(9, 134, 88)">20</span><span class="token plain">:51 pts/16   00:00:00 </span><span class="token function" style="color:rgb(0, 0, 255)">tail</span><span class="token plain"></span><br></span><span class="token-line" style="color:#000000"><span class="token plain"></span><span class="token number" style="color:rgb(9, 134, 88)">5</span><span class="token plain"> S nobody   </span><span class="token number" style="color:rgb(9, 134, 88)">4119590</span><span class="token plain">       </span><span class="token number" style="color:rgb(9, 134, 88)">1</span><span class="token plain">  </span><span class="token number" style="color:rgb(9, 134, 88)">0</span><span class="token plain">  </span><span class="token number" style="color:rgb(9, 134, 88)">80</span><span class="token plain">   </span><span class="token number" style="color:rgb(9, 134, 88)">0</span><span class="token plain"> -    </span><span class="token number" style="color:rgb(9, 134, 88)">83</span><span class="token plain"> do_sys </span><span class="token number" style="color:rgb(9, 134, 88)">7</span><span class="token plain">月12 ?       00:00:00 /usr/local/zstack/dnsmasq --conf-file</span><span class="token operator" style="color:rgb(0, 0, 0)">=</span><span class="token plain">/var/lib/zstack/dnsmasq/br_bond2_4002_533d732ae8fa49e89b24b384cb869a71/dnsmasq.conf</span><br></span><span class="token-line" style="color:#000000"><span class="token plain"></span><span class="token punctuation" style="color:rgb(4, 81, 165)">[</span><span class="token plain">root@computer1 ~</span><span class="token punctuation" style="color:rgb(4, 81, 165)">]</span><span class="token comment" style="color:rgb(0, 128, 0)">#</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg class="copyButtonIcon_y97N" viewBox="0 0 24 24"><path d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg class="copyButtonSuccessIcon_LjdS" viewBox="0 0 24 24"><path d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><ul><li>F：程序的标志位。0 表示该程序只有普通权限，4 表示具有 root 超级管理员权限，1 表示该进程被创建的时候只进行了 fork，没有进行 exec</li><li>S：进程的状态位，注意 ps 选项加了 &quot;-&quot; 的是非 BSD 风格选项，不会有 &quot;s&quot; &quot;&lt;&quot; &quot;N&quot; &quot;+&quot; 等的状态标识位</li><li>C：CPU 的百分比，注意衡量方式是时间</li><li>PRI：进程的优先级，值越小，优先级越高，越早被调度类选中运行</li><li>NI：进程的 NICE 值，值为 -20 到 19，影响优先级的方式是 PRI(new)=PRI(old)+NI，所以 NI 为负数的时候，越小将导致进程优先级越高。<ul><li>但要注意，NICE 值只能影响非实时进程。</li></ul></li><li>ADDR：进程在物理内存中哪个地方。</li><li>SZ：进程占用的实际物理内存</li><li>WCHAN：若进程处于睡眠状态，将显示其对应内核线程的名称，若进程为 R 状态，则显示 &quot;-&quot;</li></ul><h3 class="anchor anchorWithHideOnScrollNavbar_WYt5" id="1023ps-后-grep-问题">10.2.3、ps 后 grep 问题<a href="#1023ps-后-grep-问题" class="hash-link" aria-label="Direct link to heading" title="Direct link to heading">​</a></h3><p>在 ps 后加上 grep 筛选目标进程时，总会发现 grep 自身进程也被显示出来。</p><div class="language-bash codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#000000;--prism-background-color:#ffffff"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-bash codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#000000"><span class="token punctuation" style="color:rgb(4, 81, 165)">[</span><span class="token plain">root@computer1 ~</span><span class="token punctuation" style="color:rgb(4, 81, 165)">]</span><span class="token comment" style="color:rgb(0, 128, 0)"># ps aux | grep &quot;crond&quot;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#000000"><span class="token plain">root        </span><span class="token number" style="color:rgb(9, 134, 88)">2483</span><span class="token plain">  </span><span class="token number" style="color:rgb(9, 134, 88)">0.0</span><span class="token plain">  </span><span class="token number" style="color:rgb(9, 134, 88)">0.0</span><span class="token plain"> </span><span class="token number" style="color:rgb(9, 134, 88)">216128</span><span class="token plain">  </span><span class="token number" style="color:rgb(9, 134, 88)">4544</span><span class="token plain"> ?        Ss   </span><span class="token number" style="color:rgb(9, 134, 88)">4</span><span class="token plain">月27   </span><span class="token number" style="color:rgb(9, 134, 88)">0</span><span class="token plain">:12 /usr/sbin/crond -n</span><br></span><span class="token-line" style="color:#000000"><span class="token plain">root     </span><span class="token number" style="color:rgb(9, 134, 88)">3894948</span><span class="token plain">  </span><span class="token number" style="color:rgb(9, 134, 88)">0.0</span><span class="token plain">  </span><span class="token number" style="color:rgb(9, 134, 88)">0.0</span><span class="token plain"> </span><span class="token number" style="color:rgb(9, 134, 88)">214080</span><span class="token plain">  </span><span class="token number" style="color:rgb(9, 134, 88)">1536</span><span class="token plain"> pts/16   S+   </span><span class="token number" style="color:rgb(9, 134, 88)">21</span><span class="token plain">:07   </span><span class="token number" style="color:rgb(9, 134, 88)">0</span><span class="token plain">:00 </span><span class="token function" style="color:rgb(0, 0, 255)">grep</span><span class="token plain"> crond</span><br></span><span class="token-line" style="color:#000000"><span class="token plain"></span><span class="token punctuation" style="color:rgb(4, 81, 165)">[</span><span class="token plain">root@computer1 ~</span><span class="token punctuation" style="color:rgb(4, 81, 165)">]</span><span class="token comment" style="color:rgb(0, 128, 0)"># </span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg class="copyButtonIcon_y97N" viewBox="0 0 24 24"><path d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg class="copyButtonSuccessIcon_LjdS" viewBox="0 0 24 24"><path d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><p>先解释下为何会如此。</p><ul><li>管道是 bash 创建的，bash 创建管道后 fork 两个子进程，然后两子进程各自 exec 加载 ps 程序和 grep 程序，exec 之后这两个子进程就称为 ps 进程和 grep 进程，所以 ps 和 grep 进程几乎可以认为是同时出现的。</li><li>尽管 ps 进程作为管道的首进程（进程组首进程）它是先出现的，但是在 ps 出现之前确实两个进程都已经 fork 完成了。也就是说，管道左右两端的进程是同时被创建的(不考虑父进程创建进程消耗的那点时间)，但数据传输是有先后顺序的，左边先传，右边后收。</li></ul><p>要将 grep 自身进程排除在结果之外也简单：</p><div class="language-bash codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#000000;--prism-background-color:#ffffff"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-bash codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#000000"><span class="token punctuation" style="color:rgb(4, 81, 165)">[</span><span class="token plain">root@computer1 ~</span><span class="token punctuation" style="color:rgb(4, 81, 165)">]</span><span class="token comment" style="color:rgb(0, 128, 0)"># ps aux | grep &quot;crond&quot; | grep -v &quot;grep&quot;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#000000"><span class="token plain">root        </span><span class="token number" style="color:rgb(9, 134, 88)">2483</span><span class="token plain">  </span><span class="token number" style="color:rgb(9, 134, 88)">0.0</span><span class="token plain">  </span><span class="token number" style="color:rgb(9, 134, 88)">0.0</span><span class="token plain"> </span><span class="token number" style="color:rgb(9, 134, 88)">216128</span><span class="token plain">  </span><span class="token number" style="color:rgb(9, 134, 88)">4544</span><span class="token plain"> ?        Ss   </span><span class="token number" style="color:rgb(9, 134, 88)">4</span><span class="token plain">月27   </span><span class="token number" style="color:rgb(9, 134, 88)">0</span><span class="token plain">:12 /usr/sbin/crond -n</span><br></span><span class="token-line" style="color:#000000"><span class="token plain"></span><span class="token punctuation" style="color:rgb(4, 81, 165)">[</span><span class="token plain">root@computer1 ~</span><span class="token punctuation" style="color:rgb(4, 81, 165)">]</span><span class="token comment" style="color:rgb(0, 128, 0)">#</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg class="copyButtonIcon_y97N" viewBox="0 0 24 24"><path d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg class="copyButtonSuccessIcon_LjdS" viewBox="0 0 24 24"><path d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><h3 class="anchor anchorWithHideOnScrollNavbar_WYt5" id="1024uptime-命令">10.2.4、uptime 命令<a href="#1024uptime-命令" class="hash-link" aria-label="Direct link to heading" title="Direct link to heading">​</a></h3><div class="language-bash codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#000000;--prism-background-color:#ffffff"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-bash codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#000000"><span class="token punctuation" style="color:rgb(4, 81, 165)">[</span><span class="token plain">root@computer1 ~</span><span class="token punctuation" style="color:rgb(4, 81, 165)">]</span><span class="token comment" style="color:rgb(0, 128, 0)"># uptime </span><span class="token plain"></span><br></span><span class="token-line" style="color:#000000"><span class="token plain"> </span><span class="token number" style="color:rgb(9, 134, 88)">21</span><span class="token plain">:11:52 up </span><span class="token number" style="color:rgb(9, 134, 88)">90</span><span class="token plain"> days,  </span><span class="token number" style="color:rgb(9, 134, 88)">5</span><span class="token plain">:40,  </span><span class="token number" style="color:rgb(9, 134, 88)">1</span><span class="token plain"> user,  load average: </span><span class="token number" style="color:rgb(9, 134, 88)">9.48</span><span class="token plain">, </span><span class="token number" style="color:rgb(9, 134, 88)">7.70</span><span class="token plain">, </span><span class="token number" style="color:rgb(9, 134, 88)">7.06</span><span class="token plain"></span><br></span><span class="token-line" style="color:#000000"><span class="token plain"></span><span class="token punctuation" style="color:rgb(4, 81, 165)">[</span><span class="token plain">root@computer1 ~</span><span class="token punctuation" style="color:rgb(4, 81, 165)">]</span><span class="token comment" style="color:rgb(0, 128, 0)">#</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg class="copyButtonIcon_y97N" viewBox="0 0 24 24"><path d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg class="copyButtonSuccessIcon_LjdS" viewBox="0 0 24 24"><path d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><ul><li>显示当前时间，已开机运行多少时间，当前有多少用户已登录系统，以及 3 个平均负载值。</li></ul><p>所谓负载率(load)，即特定时间长度内，cpu 运行队列中的平均进程数(包括线程)，一般平均每分钟每核的进程数小于 3 都认为正常，大于 5 时负载已经非常高。</p><p>在 UNIX 系统中，运行队列包括 cpu 正在执行的进程和等待 cpu 的进程(即所谓的可运行 runable)。</p><p>在 Linux 系统中，还包括不可中断睡眠态(IO等待)的进程。运行队列中每出现一个进程，load 就加 1，进程每退出运行队列，Load 就减 1。如果是多核 cpu，则还要除以核数。</p><p>举个例子：单核 cpu 上的负载值为 &quot;1.73 0.60 7.98&quot; 时</p><ul><li>最近 1 分钟：1.73 表示平均可运行的进程数，这一分钟要一直不断地执行这 1.73 个进程。0.73个进程等待该核 cpu。</li><li>最近 5 分钟：平均进程数还不足 1，表示该核 cpu 在过去 5 分钟空闲了 40% 的时间。</li><li>最近 15 分钟：7.98 表示平均可运行的进程数，这 15 分钟要一直不断地执行这 7.98 个进程。</li><li>结合前 5 分钟的结果，说明前15 - 前10分钟时间间隔内，该核 cpu 的负载非常高。</li></ul><p>如果是多核 cpu，则还要将结果除以核数。例如 4 核时，某个最近一分钟的负载值为 3.73，则意味着有 3.73 个进程在运行队列中，这些进程可被调度至 4 核中的任何一个核上运行。最近 1 分钟的负载值为 1.6，表示这一分钟内每核 cpu 都空闲 (1-1.6/4) = 60% 的时间。</p><p>所以，load 的理想值是正好等于 CPU 的核数，小于核数的时候表示 cpu 有空闲，超出核数的时候表示有进程在等待 cpu，即系统资源不足。</p><h3 class="anchor anchorWithHideOnScrollNavbar_WYt5" id="1025tophtop-和-iftop-命令">10.2.5、top、htop 和 iftop 命令<a href="#1025tophtop-和-iftop-命令" class="hash-link" aria-label="Direct link to heading" title="Direct link to heading">​</a></h3><p>top 命令查看动态进程状态，默认每 5 秒刷新一次。</p><div class="language-bash codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#000000;--prism-background-color:#ffffff"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-bash codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#000000"><span class="token plain">top选项说明：</span><br></span><span class="token-line" style="color:#000000"><span class="token plain">-d：指定top刷新的时间间隔，默认是5 秒</span><br></span><span class="token-line" style="color:#000000"><span class="token plain">-b：批处理模式，每次刷新分批显示</span><br></span><span class="token-line" style="color:#000000"><span class="token plain">-n：指定top刷新几次就退出，可以配合-b使用</span><br></span><span class="token-line" style="color:#000000"><span class="token plain">-p：指定监控的pid，指定方式为-pN1 -pN2 </span><span class="token punctuation" style="color:rgb(4, 81, 165)">..</span><span class="token plain">.或-pN1, N2 </span><span class="token punctuation" style="color:rgb(4, 81, 165)">[</span><span class="token plain">,</span><span class="token punctuation" style="color:rgb(4, 81, 165)">..</span><span class="token plain">.</span><span class="token punctuation" style="color:rgb(4, 81, 165)">]</span><span class="token plain"></span><br></span><span class="token-line" style="color:#000000"><span class="token plain">-u：指定要监控的用户的进程，可以是uid也可以是user_name</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg class="copyButtonIcon_y97N" viewBox="0 0 24 24"><path d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg class="copyButtonSuccessIcon_LjdS" viewBox="0 0 24 24"><path d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><p>在 top 动态模式下，按下各种键可以进行不同操作。使用 &quot;h&quot; 或 &quot;?&quot; 可以查看相关键的说明。</p><ul><li>1 ：(数字一)表示是否要在 top 的头部显示出多个 cpu 信息</li><li>H ：表示是否要显示线程，默认不显示</li><li>c,S ： c 表示是否要展开进程的命令行，S 表示显示的 cpu 时间是否是累积模式，cpu 累积模式下已死去的子进程 cpu 时间会累积到父进程中</li><li>x,y ：x 高亮排序的列，y 表示高亮 running 进程</li><li>u ：仅显示指定用户的进程</li><li>n or #：设置要显示最大的进程数量</li><li>k ：杀进程</li><li>q ：退出 top</li><li>P ：以 CPU 的使用资源排序显示</li><li>M ：以 Memory 的使用资源排序显示</li><li>N ：以 PID 来排序</li></ul><p>以下是 top 的一次结果</p><div class="language-bash codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#000000;--prism-background-color:#ffffff"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-bash codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#000000"><span class="token function" style="color:rgb(0, 0, 255)">top</span><span class="token plain"> - </span><span class="token number" style="color:rgb(9, 134, 88)">22</span><span class="token plain">:14:25 up </span><span class="token number" style="color:rgb(9, 134, 88)">90</span><span class="token plain"> days,  </span><span class="token number" style="color:rgb(9, 134, 88)">6</span><span class="token plain">:42,  </span><span class="token number" style="color:rgb(9, 134, 88)">1</span><span class="token plain"> user,  load average: </span><span class="token number" style="color:rgb(9, 134, 88)">8.03</span><span class="token plain">, </span><span class="token number" style="color:rgb(9, 134, 88)">7.75</span><span class="token plain">, </span><span class="token number" style="color:rgb(9, 134, 88)">7.47</span><span class="token plain"></span><br></span><span class="token-line" style="color:#000000"><span class="token plain">Tasks: </span><span class="token number" style="color:rgb(9, 134, 88)">684</span><span class="token plain"> total,   </span><span class="token number" style="color:rgb(9, 134, 88)">1</span><span class="token plain"> running, </span><span class="token number" style="color:rgb(9, 134, 88)">683</span><span class="token plain"> sleeping,   </span><span class="token number" style="color:rgb(9, 134, 88)">0</span><span class="token plain"> stopped,   </span><span class="token number" style="color:rgb(9, 134, 88)">0</span><span class="token plain"> zombie</span><br></span><span class="token-line" style="color:#000000"><span class="token plain">%Cpu</span><span class="token punctuation" style="color:rgb(4, 81, 165)">(</span><span class="token plain">s</span><span class="token punctuation" style="color:rgb(4, 81, 165)">)</span><span class="token plain">:  </span><span class="token number" style="color:rgb(9, 134, 88)">7.1</span><span class="token plain"> us,  </span><span class="token number" style="color:rgb(9, 134, 88)">3.0</span><span class="token plain"> sy,  </span><span class="token number" style="color:rgb(9, 134, 88)">0.4</span><span class="token plain"> ni, </span><span class="token number" style="color:rgb(9, 134, 88)">89.1</span><span class="token plain"> id,  </span><span class="token number" style="color:rgb(9, 134, 88)">0.0</span><span class="token plain"> wa,  </span><span class="token number" style="color:rgb(9, 134, 88)">0.3</span><span class="token plain"> hi,  </span><span class="token number" style="color:rgb(9, 134, 88)">0.2</span><span class="token plain"> si,  </span><span class="token number" style="color:rgb(9, 134, 88)">0.0</span><span class="token plain"> st</span><br></span><span class="token-line" style="color:#000000"><span class="token plain">MiB Mem </span><span class="token builtin class-name" style="color:rgb(38, 127, 153)">:</span><span class="token plain"> </span><span class="token number" style="color:rgb(9, 134, 88)">258904.8</span><span class="token plain"> total,  </span><span class="token number" style="color:rgb(9, 134, 88)">27806.9</span><span class="token plain"> free, </span><span class="token number" style="color:rgb(9, 134, 88)">212285.7</span><span class="token plain"> used,  </span><span class="token number" style="color:rgb(9, 134, 88)">18812.2</span><span class="token plain"> buff/cache</span><br></span><span class="token-line" style="color:#000000"><span class="token plain">MiB Swap:   </span><span class="token number" style="color:rgb(9, 134, 88)">4095.9</span><span class="token plain"> total,    </span><span class="token number" style="color:rgb(9, 134, 88)">843.4</span><span class="token plain"> free,   </span><span class="token number" style="color:rgb(9, 134, 88)">3252.6</span><span class="token plain"> used.  </span><span class="token number" style="color:rgb(9, 134, 88)">40057.7</span><span class="token plain"> avail Mem </span><br></span><span class="token-line" style="color:#000000"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#000000"><span class="token plain">    PID </span><span class="token environment constant" style="color:rgb(129, 31, 63)">USER</span><span class="token plain">      PR  NI    VIRT    RES    SHR S  %CPU  %MEM     TIME+ COMMAND            </span><br></span><span class="token-line" style="color:#000000"><span class="token plain"></span><span class="token number" style="color:rgb(9, 134, 88)">2741972</span><span class="token plain"> root      </span><span class="token number" style="color:rgb(9, 134, 88)">20</span><span class="token plain">   </span><span class="token number" style="color:rgb(9, 134, 88)">0</span><span class="token plain">   </span><span class="token number" style="color:rgb(9, 134, 88)">35</span><span class="token plain">.9g  </span><span class="token number" style="color:rgb(9, 134, 88)">28</span><span class="token plain">.2g  </span><span class="token number" style="color:rgb(9, 134, 88)">67264</span><span class="token plain"> S </span><span class="token number" style="color:rgb(9, 134, 88)">106.9</span><span class="token plain">  </span><span class="token number" style="color:rgb(9, 134, 88)">11.1</span><span class="token plain">   </span><span class="token number" style="color:rgb(9, 134, 88)">6878</span><span class="token plain">:55 qemu-kvm           </span><br></span><span class="token-line" style="color:#000000"><span class="token plain"> </span><span class="token number" style="color:rgb(9, 134, 88)">965894</span><span class="token plain"> root      </span><span class="token number" style="color:rgb(9, 134, 88)">20</span><span class="token plain">   </span><span class="token number" style="color:rgb(9, 134, 88)">0</span><span class="token plain">   </span><span class="token number" style="color:rgb(9, 134, 88)">18</span><span class="token plain">.4g  </span><span class="token number" style="color:rgb(9, 134, 88)">15</span><span class="token plain">.4g  </span><span class="token number" style="color:rgb(9, 134, 88)">49152</span><span class="token plain"> S </span><span class="token number" style="color:rgb(9, 134, 88)">100.7</span><span class="token plain">   </span><span class="token number" style="color:rgb(9, 134, 88)">6.1</span><span class="token plain"> </span><span class="token number" style="color:rgb(9, 134, 88)">144804</span><span class="token plain">:03 qemu-kvm           </span><br></span><span class="token-line" style="color:#000000"><span class="token plain"> </span><span class="token number" style="color:rgb(9, 134, 88)">411643</span><span class="token plain"> root      </span><span class="token number" style="color:rgb(9, 134, 88)">29</span><span class="token plain">   </span><span class="token number" style="color:rgb(9, 134, 88)">9</span><span class="token plain">   </span><span class="token number" style="color:rgb(9, 134, 88)">35</span><span class="token plain">.2g  </span><span class="token number" style="color:rgb(9, 134, 88)">32</span><span class="token plain">.3g  </span><span class="token number" style="color:rgb(9, 134, 88)">48384</span><span class="token plain"> S  </span><span class="token number" style="color:rgb(9, 134, 88)">75.2</span><span class="token plain">  </span><span class="token number" style="color:rgb(9, 134, 88)">12.8</span><span class="token plain"> </span><span class="token number" style="color:rgb(9, 134, 88)">115823</span><span class="token plain">:39 qemu-kvm           </span><br></span><span class="token-line" style="color:#000000"><span class="token plain"> </span><span class="token number" style="color:rgb(9, 134, 88)">410344</span><span class="token plain"> root      </span><span class="token number" style="color:rgb(9, 134, 88)">20</span><span class="token plain">   </span><span class="token number" style="color:rgb(9, 134, 88)">0</span><span class="token plain">   </span><span class="token number" style="color:rgb(9, 134, 88)">10</span><span class="token plain">.4g   </span><span class="token number" style="color:rgb(9, 134, 88)">8</span><span class="token plain">.3g  </span><span class="token number" style="color:rgb(9, 134, 88)">46208</span><span class="token plain"> S  </span><span class="token number" style="color:rgb(9, 134, 88)">66.0</span><span class="token plain">   </span><span class="token number" style="color:rgb(9, 134, 88)">3.3</span><span class="token plain">  </span><span class="token number" style="color:rgb(9, 134, 88)">56623</span><span class="token plain">:49 qemu-kvm           </span><br></span><span class="token-line" style="color:#000000"><span class="token plain"></span><span class="token number" style="color:rgb(9, 134, 88)">2507753</span><span class="token plain"> root      </span><span class="token number" style="color:rgb(9, 134, 88)">21</span><span class="token plain">   </span><span class="token number" style="color:rgb(9, 134, 88)">1</span><span class="token plain">   </span><span class="token number" style="color:rgb(9, 134, 88)">19</span><span class="token plain">.4g   </span><span class="token number" style="color:rgb(9, 134, 88)">8</span><span class="token plain">.5g  </span><span class="token number" style="color:rgb(9, 134, 88)">66688</span><span class="token plain"> S  </span><span class="token number" style="color:rgb(9, 134, 88)">53.1</span><span class="token plain">   </span><span class="token number" style="color:rgb(9, 134, 88)">3.4</span><span class="token plain">   </span><span class="token number" style="color:rgb(9, 134, 88)">3674</span><span class="token plain">:36 qemu-kvm           </span><br></span><span class="token-line" style="color:#000000"><span class="token plain"> </span><span class="token number" style="color:rgb(9, 134, 88)">411734</span><span class="token plain"> root      </span><span class="token number" style="color:rgb(9, 134, 88)">20</span><span class="token plain">   </span><span class="token number" style="color:rgb(9, 134, 88)">0</span><span class="token plain">   </span><span class="token number" style="color:rgb(9, 134, 88)">35</span><span class="token plain">.2g  </span><span class="token number" style="color:rgb(9, 134, 88)">31</span><span class="token plain">.9g  </span><span class="token number" style="color:rgb(9, 134, 88)">49664</span><span class="token plain"> S  </span><span class="token number" style="color:rgb(9, 134, 88)">46.9</span><span class="token plain">  </span><span class="token number" style="color:rgb(9, 134, 88)">12.6</span><span class="token plain">  </span><span class="token number" style="color:rgb(9, 134, 88)">66581</span><span class="token plain">:37 qemu-kvm           </span><br></span><span class="token-line" style="color:#000000"><span class="token plain"> </span><span class="token number" style="color:rgb(9, 134, 88)">759742</span><span class="token plain"> root      </span><span class="token number" style="color:rgb(9, 134, 88)">20</span><span class="token plain">   </span><span class="token number" style="color:rgb(9, 134, 88)">0</span><span class="token plain">   </span><span class="token number" style="color:rgb(9, 134, 88)">20</span><span class="token plain">.5g  </span><span class="token number" style="color:rgb(9, 134, 88)">14</span><span class="token plain">.6g  </span><span class="token number" style="color:rgb(9, 134, 88)">59392</span><span class="token plain"> S  </span><span class="token number" style="color:rgb(9, 134, 88)">43.2</span><span class="token plain">   </span><span class="token number" style="color:rgb(9, 134, 88)">5.8</span><span class="token plain">  </span><span class="token number" style="color:rgb(9, 134, 88)">31980</span><span class="token plain">:38 qemu-kvm</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg class="copyButtonIcon_y97N" viewBox="0 0 24 24"><path d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg class="copyButtonSuccessIcon_LjdS" viewBox="0 0 24 24"><path d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><ul><li>第 1 行：和 w 命令的第一行一样，也和 uptime 命令的结果一样。此行各列分别表示 &quot;当前时间&quot;、&quot;已开机时长&quot;、&quot;当前在线用户&quot;、&quot;前 1、5、15 分钟平均负载率&quot;。</li><li>第 2 行：分别表示总进程数、running 状态的进程数、睡眠状态的进程数、停止状态进程数、僵尸进程数。</li><li>第 3 行：cpu 的状况。按数字 1 可以显示所有 CPU 的情况<ul><li>us = user mode</li><li>sy = system mode</li><li>ni = low priority user mode (nice)(用户空间中低优先级进程的cpu占用百分比)</li><li>id = idle task</li><li>wa = I/O waiting</li><li>hi = servicing IRQs(不可中断睡眠，hard interruptible)</li><li>si = servicing soft IRQs(可中断睡眠，soft interruptible)</li><li>st = steal (time given to other DomU instances)(被偷走的cpu时间，一般被虚拟化软件偷走)</li></ul></li><li>第 4 - 5 行：从字面意思理解即可。</li><li>VIRT：虚拟内存总量</li><li>RES：实际内存总量</li><li>SHR：共享内存量</li><li>TIME：进程占用的 cpu 时间(若开启了时间累积模式，则此处显示的是累积时间)</li></ul><p>top 命令虽然非常强大，但是太老了。所以有了新生代的 top 命令 htop。htop 默认没有安装，需要手动安装。</p><p><em>注意：我的实验环境是 arm64 架构服务器，使用的也是国产化操作系统，rpm 源没有 htop 包，可以手动下载一个 aarch64 架构的 htop 包。</em></p><div class="language-bash codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#000000;--prism-background-color:#ffffff"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-bash codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#000000"><span class="token punctuation" style="color:rgb(4, 81, 165)">[</span><span class="token plain">root@computer1 ~</span><span class="token punctuation" style="color:rgb(4, 81, 165)">]</span><span class="token comment" style="color:rgb(0, 128, 0)"># wget https://download-ib01.fedoraproject.org/pub/epel/7/aarch64/Packages/h/htop-2.2.0-3.el7.aarch64.rpm</span><span class="token plain"></span><br></span><span class="token-line" style="color:#000000"><span class="token plain">--2021-07-26 </span><span class="token number" style="color:rgb(9, 134, 88)">22</span><span class="token plain">:23:16--  https://download-ib01.fedoraproject.org/pub/epel/7/aarch64/Packages/h/htop-2.2.0-3.el7.aarch64.rpm</span><br></span><span class="token-line" style="color:#000000"><span class="token plain">正在解析主机 download-ib01.fedoraproject.org </span><span class="token punctuation" style="color:rgb(4, 81, 165)">(</span><span class="token plain">download-ib01.fedoraproject.org</span><span class="token punctuation" style="color:rgb(4, 81, 165)">)</span><span class="token punctuation" style="color:rgb(4, 81, 165)">..</span><span class="token plain">. </span><span class="token number" style="color:rgb(9, 134, 88)">152.19</span><span class="token plain">.134.145, </span><span class="token number" style="color:rgb(9, 134, 88)">2610</span><span class="token plain">:28:3090:3001:dead:beef:cafe:fed6</span><br></span><span class="token-line" style="color:#000000"><span class="token plain">正在连接 download-ib01.fedoraproject.org </span><span class="token punctuation" style="color:rgb(4, 81, 165)">(</span><span class="token plain">download-ib01.fedoraproject.org</span><span class="token punctuation" style="color:rgb(4, 81, 165)">)</span><span class="token operator" style="color:rgb(0, 0, 0)">|</span><span class="token number" style="color:rgb(9, 134, 88)">152.19</span><span class="token plain">.134.145</span><span class="token operator" style="color:rgb(0, 0, 0)">|</span><span class="token plain">:443</span><span class="token punctuation" style="color:rgb(4, 81, 165)">..</span><span class="token plain">. 已连接。</span><br></span><span class="token-line" style="color:#000000"><span class="token plain">已发出 HTTP 请求，正在等待回应</span><span class="token punctuation" style="color:rgb(4, 81, 165)">..</span><span class="token plain">. </span><span class="token number" style="color:rgb(9, 134, 88)">200</span><span class="token plain"> OK</span><br></span><span class="token-line" style="color:#000000"><span class="token plain">长度：103092 </span><span class="token punctuation" style="color:rgb(4, 81, 165)">(</span><span class="token plain">101K</span><span class="token punctuation" style="color:rgb(4, 81, 165)">)</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(4, 81, 165)">[</span><span class="token plain">application/x-rpm</span><span class="token punctuation" style="color:rgb(4, 81, 165)">]</span><span class="token plain"></span><br></span><span class="token-line" style="color:#000000"><span class="token plain">正在保存至: “htop-2.2.0-3.el7.aarch64.rpm”</span><br></span><span class="token-line" style="color:#000000"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#000000"><span class="token plain">htop-2.2.0-3.el7.aarch6 </span><span class="token number" style="color:rgb(9, 134, 88)">100</span><span class="token plain">%</span><span class="token punctuation" style="color:rgb(4, 81, 165)">[</span><span class="token operator" style="color:rgb(0, 0, 0)">==</span><span class="token operator" style="color:rgb(0, 0, 0)">==</span><span class="token operator" style="color:rgb(0, 0, 0)">==</span><span class="token operator" style="color:rgb(0, 0, 0)">==</span><span class="token operator" style="color:rgb(0, 0, 0)">==</span><span class="token operator" style="color:rgb(0, 0, 0)">==</span><span class="token operator" style="color:rgb(0, 0, 0)">==</span><span class="token operator" style="color:rgb(0, 0, 0)">==</span><span class="token operator" style="color:rgb(0, 0, 0)">==</span><span class="token operator" style="color:rgb(0, 0, 0)">==</span><span class="token operator" style="color:rgb(0, 0, 0)">==</span><span class="token operator" style="color:rgb(0, 0, 0)">==</span><span class="token operator" style="color:rgb(0, 0, 0)">==</span><span class="token operator" style="color:rgb(0, 0, 0)">==</span><span class="token operator" style="color:rgb(0, 0, 0)">&gt;</span><span class="token punctuation" style="color:rgb(4, 81, 165)">]</span><span class="token plain"> </span><span class="token number" style="color:rgb(9, 134, 88)">100</span><span class="token plain">.68K   129KB/s  用时 </span><span class="token number" style="color:rgb(9, 134, 88)">0</span><span class="token plain">.8s  </span><br></span><span class="token-line" style="color:#000000"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#000000"><span class="token plain"></span><span class="token number" style="color:rgb(9, 134, 88)">2021</span><span class="token plain">-07-26 </span><span class="token number" style="color:rgb(9, 134, 88)">22</span><span class="token plain">:23:18 </span><span class="token punctuation" style="color:rgb(4, 81, 165)">(</span><span class="token number" style="color:rgb(9, 134, 88)">129</span><span class="token plain"> KB/s</span><span class="token punctuation" style="color:rgb(4, 81, 165)">)</span><span class="token plain"> - 已保存 “htop-2.2.0-3.el7.aarch64.rpm” </span><span class="token punctuation" style="color:rgb(4, 81, 165)">[</span><span class="token number" style="color:rgb(9, 134, 88)">103092</span><span class="token plain">/103092</span><span class="token punctuation" style="color:rgb(4, 81, 165)">]</span><span class="token punctuation" style="color:rgb(4, 81, 165)">)</span><span class="token plain"></span><br></span><span class="token-line" style="color:#000000"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#000000"><span class="token plain"></span><span class="token punctuation" style="color:rgb(4, 81, 165)">[</span><span class="token plain">root@computer1 ~</span><span class="token punctuation" style="color:rgb(4, 81, 165)">]</span><span class="token comment" style="color:rgb(0, 128, 0)"># rpm -ivh htop-2.2.0-3.el7.aarch64.rpm </span><span class="token plain"></span><br></span><span class="token-line" style="color:#000000"><span class="token plain">警告：htop-2.2.0-3.el7.aarch64.rpm: 头V3 RSA/SHA256 Signature, 密钥 ID 352c64e5: NOKEY</span><br></span><span class="token-line" style="color:#000000"><span class="token plain">Verifying</span><span class="token punctuation" style="color:rgb(4, 81, 165)">..</span><span class="token plain">.                          </span><span class="token comment" style="color:rgb(0, 128, 0)">################################# [100%]</span><span class="token plain"></span><br></span><span class="token-line" style="color:#000000"><span class="token plain">准备中</span><span class="token punctuation" style="color:rgb(4, 81, 165)">..</span><span class="token plain">.                          </span><span class="token comment" style="color:rgb(0, 128, 0)">################################# [100%]</span><span class="token plain"></span><br></span><span class="token-line" style="color:#000000"><span class="token plain">    软件包 htop-2.2.0-3.el7.aarch64 已经安装</span><br></span><span class="token-line" style="color:#000000"><span class="token plain"></span><span class="token punctuation" style="color:rgb(4, 81, 165)">[</span><span class="token plain">root@computer1 ~</span><span class="token punctuation" style="color:rgb(4, 81, 165)">]</span><span class="token comment" style="color:rgb(0, 128, 0)">#</span><span class="token plain"></span><br></span><span class="token-line" style="color:#000000"><span class="token plain"></span><span class="token punctuation" style="color:rgb(4, 81, 165)">[</span><span class="token plain">root@computer1 ~</span><span class="token punctuation" style="color:rgb(4, 81, 165)">]</span><span class="token comment" style="color:rgb(0, 128, 0)"># htop</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg class="copyButtonIcon_y97N" viewBox="0 0 24 24"><path d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg class="copyButtonSuccessIcon_LjdS" viewBox="0 0 24 24"><path d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><p>htop 可以使用鼠标完成点击选中。其他使用方法和 top 类似，使用 h 查看各按键意义即可。</p><p>iftop 用于动态显示网络接口的数据流量。用法也很简单，按下 h 键即可获取帮助。</p><div class="language-bash codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#000000;--prism-background-color:#ffffff"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-bash codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#000000"><span class="token punctuation" style="color:rgb(4, 81, 165)">[</span><span class="token plain">root@computer1 ~</span><span class="token punctuation" style="color:rgb(4, 81, 165)">]</span><span class="token comment" style="color:rgb(0, 128, 0)"># wget https://download-ib01.fedoraproject.org/pub/epel/7/aarch64/Packages/i/iftop-1.0-0.21.pre4.el7.aarch64.rpm</span><span class="token plain"></span><br></span><span class="token-line" style="color:#000000"><span class="token plain">--2021-07-26 </span><span class="token number" style="color:rgb(9, 134, 88)">22</span><span class="token plain">:26:27--  https://download-ib01.fedoraproject.org/pub/epel/7/aarch64/Packages/i/iftop-1.0-0.21.pre4.el7.aarch64.rpm</span><br></span><span class="token-line" style="color:#000000"><span class="token plain">正在解析主机 download-ib01.fedoraproject.org </span><span class="token punctuation" style="color:rgb(4, 81, 165)">(</span><span class="token plain">download-ib01.fedoraproject.org</span><span class="token punctuation" style="color:rgb(4, 81, 165)">)</span><span class="token punctuation" style="color:rgb(4, 81, 165)">..</span><span class="token plain">. </span><span class="token number" style="color:rgb(9, 134, 88)">152.19</span><span class="token plain">.134.145, </span><span class="token number" style="color:rgb(9, 134, 88)">2610</span><span class="token plain">:28:3090:3001:dead:beef:cafe:fed6</span><br></span><span class="token-line" style="color:#000000"><span class="token plain">正在连接 download-ib01.fedoraproject.org </span><span class="token punctuation" style="color:rgb(4, 81, 165)">(</span><span class="token plain">download-ib01.fedoraproject.org</span><span class="token punctuation" style="color:rgb(4, 81, 165)">)</span><span class="token operator" style="color:rgb(0, 0, 0)">|</span><span class="token number" style="color:rgb(9, 134, 88)">152.19</span><span class="token plain">.134.145</span><span class="token operator" style="color:rgb(0, 0, 0)">|</span><span class="token plain">:443</span><span class="token punctuation" style="color:rgb(4, 81, 165)">..</span><span class="token plain">. 已连接。</span><br></span><span class="token-line" style="color:#000000"><span class="token plain">已发出 HTTP 请求，正在等待回应</span><span class="token punctuation" style="color:rgb(4, 81, 165)">..</span><span class="token plain">. </span><span class="token number" style="color:rgb(9, 134, 88)">200</span><span class="token plain"> OK</span><br></span><span class="token-line" style="color:#000000"><span class="token plain">长度：58521 </span><span class="token punctuation" style="color:rgb(4, 81, 165)">(</span><span class="token plain">57K</span><span class="token punctuation" style="color:rgb(4, 81, 165)">)</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(4, 81, 165)">[</span><span class="token plain">application/x-rpm</span><span class="token punctuation" style="color:rgb(4, 81, 165)">]</span><span class="token plain"></span><br></span><span class="token-line" style="color:#000000"><span class="token plain">正在保存至: “iftop-1.0-0.21.pre4.el7.aarch64.rpm”</span><br></span><span class="token-line" style="color:#000000"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#000000"><span class="token plain">iftop-1.0-0.21.pre4.el7 </span><span class="token number" style="color:rgb(9, 134, 88)">100</span><span class="token plain">%</span><span class="token punctuation" style="color:rgb(4, 81, 165)">[</span><span class="token operator" style="color:rgb(0, 0, 0)">==</span><span class="token operator" style="color:rgb(0, 0, 0)">==</span><span class="token operator" style="color:rgb(0, 0, 0)">==</span><span class="token operator" style="color:rgb(0, 0, 0)">==</span><span class="token operator" style="color:rgb(0, 0, 0)">==</span><span class="token operator" style="color:rgb(0, 0, 0)">==</span><span class="token operator" style="color:rgb(0, 0, 0)">==</span><span class="token operator" style="color:rgb(0, 0, 0)">==</span><span class="token operator" style="color:rgb(0, 0, 0)">==</span><span class="token operator" style="color:rgb(0, 0, 0)">==</span><span class="token operator" style="color:rgb(0, 0, 0)">==</span><span class="token operator" style="color:rgb(0, 0, 0)">==</span><span class="token operator" style="color:rgb(0, 0, 0)">==</span><span class="token operator" style="color:rgb(0, 0, 0)">==</span><span class="token operator" style="color:rgb(0, 0, 0)">&gt;</span><span class="token punctuation" style="color:rgb(4, 81, 165)">]</span><span class="token plain">  </span><span class="token number" style="color:rgb(9, 134, 88)">57</span><span class="token plain">.15K   113KB/s  用时 </span><span class="token number" style="color:rgb(9, 134, 88)">0</span><span class="token plain">.5s  </span><br></span><span class="token-line" style="color:#000000"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#000000"><span class="token plain"></span><span class="token number" style="color:rgb(9, 134, 88)">2021</span><span class="token plain">-07-26 </span><span class="token number" style="color:rgb(9, 134, 88)">22</span><span class="token plain">:26:29 </span><span class="token punctuation" style="color:rgb(4, 81, 165)">(</span><span class="token number" style="color:rgb(9, 134, 88)">113</span><span class="token plain"> KB/s</span><span class="token punctuation" style="color:rgb(4, 81, 165)">)</span><span class="token plain"> - 已保存 “iftop-1.0-0.21.pre4.el7.aarch64.rpm” </span><span class="token punctuation" style="color:rgb(4, 81, 165)">[</span><span class="token number" style="color:rgb(9, 134, 88)">58521</span><span class="token plain">/58521</span><span class="token punctuation" style="color:rgb(4, 81, 165)">]</span><span class="token punctuation" style="color:rgb(4, 81, 165)">)</span><span class="token plain"></span><br></span><span class="token-line" style="color:#000000"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#000000"><span class="token plain"></span><span class="token punctuation" style="color:rgb(4, 81, 165)">[</span><span class="token plain">root@computer1 ~</span><span class="token punctuation" style="color:rgb(4, 81, 165)">]</span><span class="token comment" style="color:rgb(0, 128, 0)"># rpm -ivh iftop-1.0-0.21.pre4.el7.aarch64.rpm </span><span class="token plain"></span><br></span><span class="token-line" style="color:#000000"><span class="token plain">警告：iftop-1.0-0.21.pre4.el7.aarch64.rpm: 头V3 RSA/SHA256 Signature, 密钥 ID 352c64e5: NOKEY</span><br></span><span class="token-line" style="color:#000000"><span class="token plain">Verifying</span><span class="token punctuation" style="color:rgb(4, 81, 165)">..</span><span class="token plain">.                          </span><span class="token comment" style="color:rgb(0, 128, 0)">################################# [100%]</span><span class="token plain"></span><br></span><span class="token-line" style="color:#000000"><span class="token plain">准备中</span><span class="token punctuation" style="color:rgb(4, 81, 165)">..</span><span class="token plain">.                          </span><span class="token comment" style="color:rgb(0, 128, 0)">################################# [100%]</span><span class="token plain"></span><br></span><span class="token-line" style="color:#000000"><span class="token plain">正在升级/安装</span><span class="token punctuation" style="color:rgb(4, 81, 165)">..</span><span class="token plain">.</span><br></span><span class="token-line" style="color:#000000"><span class="token plain">   </span><span class="token number" style="color:rgb(9, 134, 88)">1</span><span class="token plain">:iftop-1.0-0.21.pre4.el7          </span><span class="token comment" style="color:rgb(0, 128, 0)">################################# [100%]</span><span class="token plain"></span><br></span><span class="token-line" style="color:#000000"><span class="token plain"></span><span class="token punctuation" style="color:rgb(4, 81, 165)">[</span><span class="token plain">root@computer1 ~</span><span class="token punctuation" style="color:rgb(4, 81, 165)">]</span><span class="token comment" style="color:rgb(0, 128, 0)">#</span><span class="token plain"></span><br></span><span class="token-line" style="color:#000000"><span class="token plain"></span><span class="token punctuation" style="color:rgb(4, 81, 165)">[</span><span class="token plain">root@computer1 ~</span><span class="token punctuation" style="color:rgb(4, 81, 165)">]</span><span class="token comment" style="color:rgb(0, 128, 0)"># iftop</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg class="copyButtonIcon_y97N" viewBox="0 0 24 24"><path d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg class="copyButtonSuccessIcon_LjdS" viewBox="0 0 24 24"><path d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><h3 class="anchor anchorWithHideOnScrollNavbar_WYt5" id="1026分析系统负载">10.2.6、分析系统负载<a href="#1026分析系统负载" class="hash-link" aria-label="Direct link to heading" title="Direct link to heading">​</a></h3><p>根据前文 uptime 中对系统负载(system load)的描述，分析一下这个 top 的结果。</p><div class="language-bash codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#000000;--prism-background-color:#ffffff"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-bash codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#000000"><span class="token function" style="color:rgb(0, 0, 255)">top</span><span class="token plain"> - </span><span class="token number" style="color:rgb(9, 134, 88)">22</span><span class="token plain">:43:43 up </span><span class="token number" style="color:rgb(9, 134, 88)">90</span><span class="token plain"> days,  </span><span class="token number" style="color:rgb(9, 134, 88)">7</span><span class="token plain">:11,  </span><span class="token number" style="color:rgb(9, 134, 88)">1</span><span class="token plain"> user,  load average: </span><span class="token number" style="color:rgb(9, 134, 88)">224.02</span><span class="token plain">, </span><span class="token number" style="color:rgb(9, 134, 88)">215.13</span><span class="token plain">, </span><span class="token number" style="color:rgb(9, 134, 88)">115.86</span><span class="token plain"></span><br></span><span class="token-line" style="color:#000000"><span class="token plain">Tasks: </span><span class="token number" style="color:rgb(9, 134, 88)">676</span><span class="token plain"> total,   </span><span class="token number" style="color:rgb(9, 134, 88)">1</span><span class="token plain"> running, </span><span class="token number" style="color:rgb(9, 134, 88)">675</span><span class="token plain"> sleeping,   </span><span class="token number" style="color:rgb(9, 134, 88)">0</span><span class="token plain"> stopped,   </span><span class="token number" style="color:rgb(9, 134, 88)">0</span><span class="token plain"> zombie</span><br></span><span class="token-line" style="color:#000000"><span class="token plain">%Cpu</span><span class="token punctuation" style="color:rgb(4, 81, 165)">(</span><span class="token plain">s</span><span class="token punctuation" style="color:rgb(4, 81, 165)">)</span><span class="token plain">:  </span><span class="token number" style="color:rgb(9, 134, 88)">6.6</span><span class="token plain"> us,  </span><span class="token number" style="color:rgb(9, 134, 88)">2.3</span><span class="token plain"> sy,  </span><span class="token number" style="color:rgb(9, 134, 88)">0.2</span><span class="token plain"> ni, </span><span class="token number" style="color:rgb(9, 134, 88)">90.5</span><span class="token plain"> id,  </span><span class="token number" style="color:rgb(9, 134, 88)">0.0</span><span class="token plain"> wa,  </span><span class="token number" style="color:rgb(9, 134, 88)">0.3</span><span class="token plain"> hi,  </span><span class="token number" style="color:rgb(9, 134, 88)">0.1</span><span class="token plain"> si,  </span><span class="token number" style="color:rgb(9, 134, 88)">0.0</span><span class="token plain"> st</span><br></span><span class="token-line" style="color:#000000"><span class="token plain">MiB Mem </span><span class="token builtin class-name" style="color:rgb(38, 127, 153)">:</span><span class="token plain"> </span><span class="token number" style="color:rgb(9, 134, 88)">258904.8</span><span class="token plain"> total,  </span><span class="token number" style="color:rgb(9, 134, 88)">27779.5</span><span class="token plain"> free, </span><span class="token number" style="color:rgb(9, 134, 88)">212293.6</span><span class="token plain"> used,  </span><span class="token number" style="color:rgb(9, 134, 88)">18831.8</span><span class="token plain"> buff/cache</span><br></span><span class="token-line" style="color:#000000"><span class="token plain">MiB Swap:   </span><span class="token number" style="color:rgb(9, 134, 88)">4095.9</span><span class="token plain"> total,    </span><span class="token number" style="color:rgb(9, 134, 88)">843.4</span><span class="token plain"> free,   </span><span class="token number" style="color:rgb(9, 134, 88)">3252.6</span><span class="token plain"> used.  </span><span class="token number" style="color:rgb(9, 134, 88)">40048.4</span><span class="token plain"> avail Mem </span><br></span><span class="token-line" style="color:#000000"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#000000"><span class="token plain">    PID </span><span class="token environment constant" style="color:rgb(129, 31, 63)">USER</span><span class="token plain">      PR  NI    VIRT    RES    SHR S  %CPU  %MEM     TIME+ COMMAND            </span><br></span><span class="token-line" style="color:#000000"><span class="token plain"> </span><span class="token number" style="color:rgb(9, 134, 88)">965894</span><span class="token plain"> root      </span><span class="token number" style="color:rgb(9, 134, 88)">20</span><span class="token plain">   </span><span class="token number" style="color:rgb(9, 134, 88)">0</span><span class="token plain">   </span><span class="token number" style="color:rgb(9, 134, 88)">18</span><span class="token plain">.4g  </span><span class="token number" style="color:rgb(9, 134, 88)">15</span><span class="token plain">.4g  </span><span class="token number" style="color:rgb(9, 134, 88)">49152</span><span class="token plain"> S  </span><span class="token number" style="color:rgb(9, 134, 88)">99.3</span><span class="token plain">   </span><span class="token number" style="color:rgb(9, 134, 88)">6.1</span><span class="token plain"> </span><span class="token number" style="color:rgb(9, 134, 88)">144842</span><span class="token plain">:23 qemu-kvm           </span><br></span><span class="token-line" style="color:#000000"><span class="token plain"></span><span class="token number" style="color:rgb(9, 134, 88)">2741972</span><span class="token plain"> root      </span><span class="token number" style="color:rgb(9, 134, 88)">20</span><span class="token plain">   </span><span class="token number" style="color:rgb(9, 134, 88)">0</span><span class="token plain">   </span><span class="token number" style="color:rgb(9, 134, 88)">35</span><span class="token plain">.9g  </span><span class="token number" style="color:rgb(9, 134, 88)">28</span><span class="token plain">.2g  </span><span class="token number" style="color:rgb(9, 134, 88)">67264</span><span class="token plain"> S  </span><span class="token number" style="color:rgb(9, 134, 88)">94.4</span><span class="token plain">  </span><span class="token number" style="color:rgb(9, 134, 88)">11.1</span><span class="token plain">   </span><span class="token number" style="color:rgb(9, 134, 88)">6910</span><span class="token plain">:46 qemu-kvm           </span><br></span><span class="token-line" style="color:#000000"><span class="token plain"></span><span class="token number" style="color:rgb(9, 134, 88)">2507753</span><span class="token plain"> root      </span><span class="token number" style="color:rgb(9, 134, 88)">21</span><span class="token plain">   </span><span class="token number" style="color:rgb(9, 134, 88)">1</span><span class="token plain">   </span><span class="token number" style="color:rgb(9, 134, 88)">19</span><span class="token plain">.4g   </span><span class="token number" style="color:rgb(9, 134, 88)">8</span><span class="token plain">.5g  </span><span class="token number" style="color:rgb(9, 134, 88)">66688</span><span class="token plain"> S  </span><span class="token number" style="color:rgb(9, 134, 88)">73.8</span><span class="token plain">   </span><span class="token number" style="color:rgb(9, 134, 88)">3.4</span><span class="token plain">   </span><span class="token number" style="color:rgb(9, 134, 88)">3691</span><span class="token plain">:52 qemu-kvm           </span><br></span><span class="token-line" style="color:#000000"><span class="token plain"> </span><span class="token number" style="color:rgb(9, 134, 88)">411643</span><span class="token plain"> root      </span><span class="token number" style="color:rgb(9, 134, 88)">29</span><span class="token plain">   </span><span class="token number" style="color:rgb(9, 134, 88)">9</span><span class="token plain">   </span><span class="token number" style="color:rgb(9, 134, 88)">35</span><span class="token plain">.2g  </span><span class="token number" style="color:rgb(9, 134, 88)">32</span><span class="token plain">.3g  </span><span class="token number" style="color:rgb(9, 134, 88)">48384</span><span class="token plain"> S  </span><span class="token number" style="color:rgb(9, 134, 88)">70.5</span><span class="token plain">  </span><span class="token number" style="color:rgb(9, 134, 88)">12.8</span><span class="token plain"> </span><span class="token number" style="color:rgb(9, 134, 88)">115845</span><span class="token plain">:21 qemu-kvm           </span><br></span><span class="token-line" style="color:#000000"><span class="token plain"> </span><span class="token number" style="color:rgb(9, 134, 88)">411734</span><span class="token plain"> root      </span><span class="token number" style="color:rgb(9, 134, 88)">20</span><span class="token plain">   </span><span class="token number" style="color:rgb(9, 134, 88)">0</span><span class="token plain">   </span><span class="token number" style="color:rgb(9, 134, 88)">35</span><span class="token plain">.2g  </span><span class="token number" style="color:rgb(9, 134, 88)">31</span><span class="token plain">.9g  </span><span class="token number" style="color:rgb(9, 134, 88)">48000</span><span class="token plain"> S  </span><span class="token number" style="color:rgb(9, 134, 88)">60.3</span><span class="token plain">  </span><span class="token number" style="color:rgb(9, 134, 88)">12.6</span><span class="token plain">  </span><span class="token number" style="color:rgb(9, 134, 88)">66597</span><span class="token plain">:18 qemu-kvm           </span><br></span><span class="token-line" style="color:#000000"><span class="token plain"> </span><span class="token number" style="color:rgb(9, 134, 88)">410344</span><span class="token plain"> root      </span><span class="token number" style="color:rgb(9, 134, 88)">20</span><span class="token plain">   </span><span class="token number" style="color:rgb(9, 134, 88)">0</span><span class="token plain">   </span><span class="token number" style="color:rgb(9, 134, 88)">10</span><span class="token plain">.4g   </span><span class="token number" style="color:rgb(9, 134, 88)">8</span><span class="token plain">.3g  </span><span class="token number" style="color:rgb(9, 134, 88)">46208</span><span class="token plain"> S  </span><span class="token number" style="color:rgb(9, 134, 88)">51.3</span><span class="token plain">   </span><span class="token number" style="color:rgb(9, 134, 88)">3.3</span><span class="token plain">  </span><span class="token number" style="color:rgb(9, 134, 88)">56637</span><span class="token plain">:55 qemu-kvm           </span><br></span><span class="token-line" style="color:#000000"><span class="token plain"></span><span class="token number" style="color:rgb(9, 134, 88)">3313620</span><span class="token plain"> root      </span><span class="token number" style="color:rgb(9, 134, 88)">20</span><span class="token plain">   </span><span class="token number" style="color:rgb(9, 134, 88)">0</span><span class="token plain">   </span><span class="token number" style="color:rgb(9, 134, 88)">19</span><span class="token plain">.6g  </span><span class="token number" style="color:rgb(9, 134, 88)">10</span><span class="token plain">.8g  </span><span class="token number" style="color:rgb(9, 134, 88)">54784</span><span class="token plain"> S  </span><span class="token number" style="color:rgb(9, 134, 88)">42.1</span><span class="token plain">   </span><span class="token number" style="color:rgb(9, 134, 88)">4.3</span><span class="token plain">  </span><span class="token number" style="color:rgb(9, 134, 88)">65953</span><span class="token plain">:40 qemu-kvm           </span><br></span><span class="token-line" style="color:#000000"><span class="token plain"> </span><span class="token number" style="color:rgb(9, 134, 88)">759742</span><span class="token plain"> root      </span><span class="token number" style="color:rgb(9, 134, 88)">20</span><span class="token plain">   </span><span class="token number" style="color:rgb(9, 134, 88)">0</span><span class="token plain">   </span><span class="token number" style="color:rgb(9, 134, 88)">20</span><span class="token plain">.5g  </span><span class="token number" style="color:rgb(9, 134, 88)">14</span><span class="token plain">.6g  </span><span class="token number" style="color:rgb(9, 134, 88)">59392</span><span class="token plain"> S  </span><span class="token number" style="color:rgb(9, 134, 88)">40.7</span><span class="token plain">   </span><span class="token number" style="color:rgb(9, 134, 88)">5.8</span><span class="token plain">  </span><span class="token number" style="color:rgb(9, 134, 88)">31990</span><span class="token plain">:35 qemu-kvm           </span><br></span><span class="token-line" style="color:#000000"><span class="token plain"></span><span class="token number" style="color:rgb(9, 134, 88)">2187301</span><span class="token plain"> root      </span><span class="token number" style="color:rgb(9, 134, 88)">20</span><span class="token plain">   </span><span class="token number" style="color:rgb(9, 134, 88)">0</span><span class="token plain">   </span><span class="token number" style="color:rgb(9, 134, 88)">10</span><span class="token plain">.2g   </span><span class="token number" style="color:rgb(9, 134, 88)">5</span><span class="token plain">.8g  </span><span class="token number" style="color:rgb(9, 134, 88)">54144</span><span class="token plain"> S  </span><span class="token number" style="color:rgb(9, 134, 88)">14.6</span><span class="token plain">   </span><span class="token number" style="color:rgb(9, 134, 88)">2.3</span><span class="token plain">  </span><span class="token number" style="color:rgb(9, 134, 88)">82</span><span class="token plain">:58.59 qemu-kvm           </span><br></span><span class="token-line" style="color:#000000"><span class="token plain"></span><span class="token number" style="color:rgb(9, 134, 88)">3707987</span><span class="token plain"> root      </span><span class="token number" style="color:rgb(9, 134, 88)">20</span><span class="token plain">   </span><span class="token number" style="color:rgb(9, 134, 88)">0</span><span class="token plain">   </span><span class="token number" style="color:rgb(9, 134, 88)">10</span><span class="token plain">.7g   </span><span class="token number" style="color:rgb(9, 134, 88)">7</span><span class="token plain">.3g  </span><span class="token number" style="color:rgb(9, 134, 88)">50432</span><span class="token plain"> S   </span><span class="token number" style="color:rgb(9, 134, 88)">7.0</span><span class="token plain">   </span><span class="token number" style="color:rgb(9, 134, 88)">2.9</span><span class="token plain">   </span><span class="token number" style="color:rgb(9, 134, 88)">3687</span><span class="token plain">:12 qemu-kvm      </span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg class="copyButtonIcon_y97N" viewBox="0 0 24 24"><path d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg class="copyButtonSuccessIcon_LjdS" viewBox="0 0 24 24"><path d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><p>根据 top 数据显示，load average 系统负载非常之高，最近一分钟的负载量高达 224.02，这表示这一分钟有 224.02 个进程正在运行或等待调度，如果是单核 CPU，表示这一分钟要毫不停留地执行这么多进程，如果是 8 核 CPU，表示这一分钟内平均每核心 CPU 要执行大概 30 个进程。</p><p>从 load average 上看，确实是非常繁忙的场景。但是看 CPU 的 idle 值为 90.5，说明 CPU 非常闲。为什么系统负载如此高，CPU 却如此闲？</p><p>前面解释 system load average 的时候，已经说明过可运行的(就绪态，即就绪队列的长度)、正在运行的(运行态)和不可中断睡眠(如IO等待)的进程任务都会计算到负载中。现在<strong>负载高、CPU 空闲，说明当前正在执行的任务基本不消耗 CPU 资源，大量的负载进程都在 IO 等待中</strong>。</p><p>可以从 ps 的进程状态中获取哪些进程是正在运行或运行队列中的(状态为 R)，哪些进程是在不可中断睡眠中的(状态为 D)。</p><div class="language-bash codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#000000;--prism-background-color:#ffffff"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-bash codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#000000"><span class="token punctuation" style="color:rgb(4, 81, 165)">[</span><span class="token plain">root@computer1 ~</span><span class="token punctuation" style="color:rgb(4, 81, 165)">]</span><span class="token comment" style="color:rgb(0, 128, 0)"># ps -eo stat,pid,ppid,comm --no-header | grep -E &quot;^(D|R)&quot;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#000000"><span class="token plain">R    </span><span class="token number" style="color:rgb(9, 134, 88)">4141039</span><span class="token plain">  </span><span class="token number" style="color:rgb(9, 134, 88)">130875</span><span class="token plain"> </span><span class="token function" style="color:rgb(0, 0, 255)">du</span><span class="token plain"></span><br></span><span class="token-line" style="color:#000000"><span class="token plain">R+   </span><span class="token number" style="color:rgb(9, 134, 88)">4141085</span><span class="token plain"> </span><span class="token number" style="color:rgb(9, 134, 88)">3809064</span><span class="token plain"> </span><span class="token function" style="color:rgb(0, 0, 255)">ps</span><span class="token plain"></span><br></span><span class="token-line" style="color:#000000"><span class="token plain"></span><span class="token punctuation" style="color:rgb(4, 81, 165)">[</span><span class="token plain">root@computer1 ~</span><span class="token punctuation" style="color:rgb(4, 81, 165)">]</span><span class="token comment" style="color:rgb(0, 128, 0)"># </span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg class="copyButtonIcon_y97N" viewBox="0 0 24 24"><path d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg class="copyButtonSuccessIcon_LjdS" viewBox="0 0 24 24"><path d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><h2 class="anchor anchorWithHideOnScrollNavbar_WYt5" id="103vmstat-命令">10.3、vmstat 命令<a href="#103vmstat-命令" class="hash-link" aria-label="Direct link to heading" title="Direct link to heading">​</a></h2><p>注意 vmstat 的第一次统计是自开机起的平均值信息，从第二次开始的统计才是指定刷新时间间隔内的资源利用信息，若不指定刷新时间间隔，则默认只显示一次统计信息。</p><div class="language-bash codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#000000;--prism-background-color:#ffffff"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-bash codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#000000"><span class="token function" style="color:rgb(0, 0, 255)">vmstat</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(4, 81, 165)">[</span><span class="token plain">-d</span><span class="token punctuation" style="color:rgb(4, 81, 165)">]</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(4, 81, 165)">[</span><span class="token plain">delay </span><span class="token punctuation" style="color:rgb(4, 81, 165)">[</span><span class="token plain"> count</span><span class="token punctuation" style="color:rgb(4, 81, 165)">]</span><span class="token punctuation" style="color:rgb(4, 81, 165)">]</span><span class="token plain"></span><br></span><span class="token-line" style="color:#000000"><span class="token plain"></span><span class="token function" style="color:rgb(0, 0, 255)">vmstat</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(4, 81, 165)">[</span><span class="token plain">-f</span><span class="token punctuation" style="color:rgb(4, 81, 165)">]</span><span class="token plain"></span><br></span><span class="token-line" style="color:#000000"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#000000"><span class="token plain">选项说明：</span><br></span><span class="token-line" style="color:#000000"><span class="token plain">-f：统计自开机起fork的次数。包括fork、clone、vfork的次数。但不包括exec次数。</span><br></span><span class="token-line" style="color:#000000"><span class="token plain">-d：显示磁盘统计信息。</span><br></span><span class="token-line" style="color:#000000"><span class="token plain">delay：刷新时间间隔，若不指定，则只统计一次信息就退出vmstat。</span><br></span><span class="token-line" style="color:#000000"><span class="token plain">count：总共要统计的次数。</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg class="copyButtonIcon_y97N" viewBox="0 0 24 24"><path d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg class="copyButtonSuccessIcon_LjdS" viewBox="0 0 24 24"><path d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><p>例如，只统计一次信息。</p><div class="language-bash codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#000000;--prism-background-color:#ffffff"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-bash codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#000000"><span class="token punctuation" style="color:rgb(4, 81, 165)">[</span><span class="token plain">root@computer1 ~</span><span class="token punctuation" style="color:rgb(4, 81, 165)">]</span><span class="token comment" style="color:rgb(0, 128, 0)"># vmstat </span><span class="token plain"></span><br></span><span class="token-line" style="color:#000000"><span class="token plain">procs -----------memory---------- ---swap-- -----io---- -system-- ------cpu-----</span><br></span><span class="token-line" style="color:#000000"><span class="token plain"> r  b   swpd   </span><span class="token function" style="color:rgb(0, 0, 255)">free</span><span class="token plain">   buff  cache   si   so    bi    bo   </span><span class="token keyword" style="color:rgb(0, 0, 255)">in</span><span class="token plain">   cs us sy </span><span class="token function" style="color:rgb(0, 0, 255)">id</span><span class="token plain"> wa st</span><br></span><span class="token-line" style="color:#000000"><span class="token plain"></span><span class="token number" style="color:rgb(9, 134, 88)">15</span><span class="token plain">  </span><span class="token number" style="color:rgb(9, 134, 88)">1</span><span class="token plain"> </span><span class="token number" style="color:rgb(9, 134, 88)">3328960</span><span class="token plain"> </span><span class="token number" style="color:rgb(9, 134, 88)">28476288</span><span class="token plain"> </span><span class="token number" style="color:rgb(9, 134, 88)">1216320</span><span class="token plain"> </span><span class="token number" style="color:rgb(9, 134, 88)">18014592</span><span class="token plain">    </span><span class="token number" style="color:rgb(9, 134, 88)">0</span><span class="token plain">    </span><span class="token number" style="color:rgb(9, 134, 88)">0</span><span class="token plain">     </span><span class="token number" style="color:rgb(9, 134, 88)">0</span><span class="token plain">     </span><span class="token number" style="color:rgb(9, 134, 88)">6</span><span class="token plain">    </span><span class="token number" style="color:rgb(9, 134, 88)">0</span><span class="token plain">    </span><span class="token number" style="color:rgb(9, 134, 88)">0</span><span class="token plain">  </span><span class="token number" style="color:rgb(9, 134, 88)">9</span><span class="token plain">  </span><span class="token number" style="color:rgb(9, 134, 88)">2</span><span class="token plain"> </span><span class="token number" style="color:rgb(9, 134, 88)">88</span><span class="token plain">  </span><span class="token number" style="color:rgb(9, 134, 88)">0</span><span class="token plain">  </span><span class="token number" style="color:rgb(9, 134, 88)">0</span><span class="token plain"></span><br></span><span class="token-line" style="color:#000000"><span class="token plain"></span><span class="token punctuation" style="color:rgb(4, 81, 165)">[</span><span class="token plain">root@computer1 ~</span><span class="token punctuation" style="color:rgb(4, 81, 165)">]</span><span class="token comment" style="color:rgb(0, 128, 0)">#</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg class="copyButtonIcon_y97N" viewBox="0 0 24 24"><path d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg class="copyButtonSuccessIcon_LjdS" viewBox="0 0 24 24"><path d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><ul><li>procs<ul><li>r: 等待队列中的进程数</li><li>b: 不可中断睡眠的进程数</li></ul></li><li>Memory<ul><li>swpd: 虚拟内存使用总量</li><li>free: 空闲内存量</li><li>buff: buffer占用的内存量(buffer 用于缓冲)</li><li>cache: cache 占用的内存量(cache 用于缓存)</li></ul></li><li>Swap<ul><li>si: 从磁盘加载到swap分区的数据流量，单位为 &quot;kb/s&quot;</li><li>so: 从 swap 分区写到磁盘的数据流量，单位为&quot;kb/s&quot;</li></ul></li><li>IO<ul><li>bi: 从块设备接受到数据的速率，单位为 blocks/s</li><li>bo: 发送数据到块设备的速率，单位为 blocks/s</li></ul></li><li>System<ul><li>in: 每秒中断数，包括时钟中断数量</li><li>cs: 每秒上下文切换次数</li></ul></li><li>CPU：统计的是 cpu 时间百分比，具体信息和 top 的 cpu 统计列一样<ul><li>us: Time spent running non-kernel code. (user time, including nice time)</li><li>sy: Time spent running kernel code. (system time)</li><li>id: Time spent idle. Prior to Linux 2.5.41, this includes IO-wait time.</li><li>wa: Time spent waiting for IO. Prior to Linux 2.5.41, included in idle.</li><li>st: Time stolen from a virtual machine. Prior to Linux 2.6.11, unknown.</li></ul></li></ul><h2 class="anchor anchorWithHideOnScrollNavbar_WYt5" id="104iostat-命令">10.4、iostat 命令<a href="#104iostat-命令" class="hash-link" aria-label="Direct link to heading" title="Direct link to heading">​</a></h2><p>iostat 主要统计磁盘或分区的整体使用情况。也可以输出 cpu 信息，甚至是 NFS 网络文件系统的信息。同 vmstat/sar 一样，<strong>第一次统计的都是自系统开机起的平均统计信息</strong>。</p><p><img loading="lazy" alt="linux_observability_tools" src="/en/assets/images/linux_observability_tools-293249b0b134bdae02aa65e0dd79427f.png" width="2400" height="1800" class="img_ev3q"></p><div class="language-bash codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#000000;--prism-background-color:#ffffff"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-bash codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#000000"><span class="token plain">iostat </span><span class="token punctuation" style="color:rgb(4, 81, 165)">[</span><span class="token plain">选项</span><span class="token punctuation" style="color:rgb(4, 81, 165)">]</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(4, 81, 165)">[</span><span class="token plain"> device  </span><span class="token punctuation" style="color:rgb(4, 81, 165)">[</span><span class="token punctuation" style="color:rgb(4, 81, 165)">..</span><span class="token plain">.</span><span class="token punctuation" style="color:rgb(4, 81, 165)">]</span><span class="token operator" style="color:rgb(0, 0, 0)">|</span><span class="token plain"> ALL </span><span class="token punctuation" style="color:rgb(4, 81, 165)">]</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(4, 81, 165)">[</span><span class="token plain"> interval </span><span class="token punctuation" style="color:rgb(4, 81, 165)">[</span><span class="token plain"> count </span><span class="token punctuation" style="color:rgb(4, 81, 165)">]</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(4, 81, 165)">]</span><span class="token plain"></span><br></span><span class="token-line" style="color:#000000"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#000000"><span class="token plain">选项：</span><br></span><span class="token-line" style="color:#000000"><span class="token plain">    -c:                 显示 CPU 利用率报告</span><br></span><span class="token-line" style="color:#000000"><span class="token plain">    -d:                 显示 device 利用率报告</span><br></span><span class="token-line" style="color:#000000"><span class="token plain">    --dec</span><span class="token operator" style="color:rgb(0, 0, 0)">=</span><span class="token punctuation" style="color:rgb(4, 81, 165)">{</span><span class="token plain"> </span><span class="token number" style="color:rgb(9, 134, 88)">0</span><span class="token operator" style="color:rgb(0, 0, 0)">|</span><span class="token number" style="color:rgb(9, 134, 88)">1</span><span class="token operator" style="color:rgb(0, 0, 0)">|</span><span class="token number" style="color:rgb(9, 134, 88)">2</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(4, 81, 165)">}</span><span class="token plain">:    指定要使用的小数位数</span><span class="token punctuation" style="color:rgb(4, 81, 165)">(</span><span class="token number" style="color:rgb(9, 134, 88)">0</span><span class="token plain"> 到 </span><span class="token number" style="color:rgb(9, 134, 88)">2</span><span class="token plain">，默认值是 </span><span class="token number" style="color:rgb(9, 134, 88)">2</span><span class="token punctuation" style="color:rgb(4, 81, 165)">)</span><span class="token plain">。</span><br></span><span class="token-line" style="color:#000000"><span class="token plain">    -h/--human:         用人类可读的格式打印大小</span><span class="token punctuation" style="color:rgb(4, 81, 165)">(</span><span class="token plain">例如 </span><span class="token number" style="color:rgb(9, 134, 88)">1</span><span class="token plain">.0k、1.2M 等</span><span class="token punctuation" style="color:rgb(4, 81, 165)">)</span><span class="token plain"></span><br></span><span class="token-line" style="color:#000000"><span class="token plain">    -k:                 以 Kb/s 显示</span><br></span><span class="token-line" style="color:#000000"><span class="token plain">    -m:                 以 mb/s 显示</span><br></span><span class="token-line" style="color:#000000"><span class="token plain">    -N:                 显示已注册的 device mapper 名称，对于查看 LVM2 报告特别有用</span><br></span><span class="token-line" style="color:#000000"><span class="token plain">    -o JSON:            用 JSON 格式显示报告</span><br></span><span class="token-line" style="color:#000000"><span class="token plain">    -p </span><span class="token punctuation" style="color:rgb(4, 81, 165)">[</span><span class="token plain">device</span><span class="token operator" style="color:rgb(0, 0, 0)">|</span><span class="token plain">ALL</span><span class="token punctuation" style="color:rgb(4, 81, 165)">]</span><span class="token plain">:    显示系统所有块设备及块设备分区的报告，如果指定device，则只显示device和其分区报告。</span><br></span><span class="token-line" style="color:#000000"><span class="token plain">    -t:                 为每次报告显示增加时间戳，时间戳的格式依赖于 S_TIME_FORMAT 环境变量的值</span><br></span><span class="token-line" style="color:#000000"><span class="token plain">    -V:                 打印版本号然后退出</span><br></span><span class="token-line" style="color:#000000"><span class="token plain">    -x:                 显示扩展报告</span><br></span><span class="token-line" style="color:#000000"><span class="token plain">    -y:                 如果给了interval显示多次报告，该选项可以忽略第一次报告</span><span class="token punctuation" style="color:rgb(4, 81, 165)">(</span><span class="token plain">系统启动至今的统计</span><span class="token punctuation" style="color:rgb(4, 81, 165)">)</span><span class="token plain">。</span><br></span><span class="token-line" style="color:#000000"><span class="token plain">    -z:                 如果相同的期间设备没有活动的数据，iostat 会不显示设备相同的输出数据。</span><br></span><span class="token-line" style="color:#000000"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#000000"><span class="token plain">环境变量：iostat 会把下面的环境变量考虑进去用来增强特殊功能</span><br></span><span class="token-line" style="color:#000000"><span class="token plain">    POSIXLY_CORRECT:    设置这个变量传输速率将以512字节块展示而不是默认的1K块展示</span><br></span><span class="token-line" style="color:#000000"><span class="token plain">    S_COLORS:           设置这个变量可以使显示报告中的数据带颜色</span><br></span><span class="token-line" style="color:#000000"><span class="token plain">    S_COLORS_SGR:       指定颜色和其它属性用来显示报告，它的值是一个冒号分隔的功能列表，默认值为 </span><span class="token assign-left variable" style="color:rgb(9, 134, 88)">H</span><span class="token operator" style="color:rgb(0, 0, 0)">=</span><span class="token number" style="color:rgb(9, 134, 88)">31</span><span class="token punctuation" style="color:rgb(4, 81, 165)">;</span><span class="token number" style="color:rgb(9, 134, 88)">1</span><span class="token plain">:I</span><span class="token operator" style="color:rgb(0, 0, 0)">=</span><span class="token number" style="color:rgb(9, 134, 88)">32</span><span class="token punctuation" style="color:rgb(4, 81, 165)">;</span><span class="token number" style="color:rgb(9, 134, 88)">22</span><span class="token plain">:M</span><span class="token operator" style="color:rgb(0, 0, 0)">=</span><span class="token number" style="color:rgb(9, 134, 88)">35</span><span class="token punctuation" style="color:rgb(4, 81, 165)">;</span><span class="token number" style="color:rgb(9, 134, 88)">1</span><span class="token plain">:N</span><span class="token operator" style="color:rgb(0, 0, 0)">=</span><span class="token number" style="color:rgb(9, 134, 88)">34</span><span class="token punctuation" style="color:rgb(4, 81, 165)">;</span><span class="token number" style="color:rgb(9, 134, 88)">1</span><span class="token plain">:Z</span><span class="token operator" style="color:rgb(0, 0, 0)">=</span><span class="token number" style="color:rgb(9, 134, 88)">34</span><span class="token punctuation" style="color:rgb(4, 81, 165)">;</span><span class="token number" style="color:rgb(9, 134, 88)">22</span><span class="token plain">.</span><br></span><span class="token-line" style="color:#000000"><span class="token plain">                        支持的能力有：</span><br></span><span class="token-line" style="color:#000000"><span class="token plain">                        </span><span class="token assign-left variable" style="color:rgb(9, 134, 88)">H</span><span class="token operator" style="color:rgb(0, 0, 0)">=</span><span class="token plain"> SGR </span><span class="token punctuation" style="color:rgb(4, 81, 165)">(</span><span class="token plain">Select Graphic Rendition</span><span class="token punctuation" style="color:rgb(4, 81, 165)">)</span><span class="token plain">子字符串用于大于或等于75%的百分比值。  </span><br></span><span class="token-line" style="color:#000000"><span class="token plain">                        </span><span class="token assign-left variable" style="color:rgb(9, 134, 88)">I</span><span class="token operator" style="color:rgb(0, 0, 0)">=</span><span class="token plain"> SGR子字符串用于设备名称。  </span><br></span><span class="token-line" style="color:#000000"><span class="token plain">                        </span><span class="token assign-left variable" style="color:rgb(9, 134, 88)">M</span><span class="token operator" style="color:rgb(0, 0, 0)">=</span><span class="token plain"> SGR子字符串，用于百分比值在50%到75%之间。  </span><br></span><span class="token-line" style="color:#000000"><span class="token plain">                        </span><span class="token assign-left variable" style="color:rgb(9, 134, 88)">N</span><span class="token operator" style="color:rgb(0, 0, 0)">=</span><span class="token plain"> SGR子串用于非零统计值。  </span><br></span><span class="token-line" style="color:#000000"><span class="token plain">                        </span><span class="token assign-left variable" style="color:rgb(9, 134, 88)">Z</span><span class="token operator" style="color:rgb(0, 0, 0)">=</span><span class="token plain"> SGR子串为零值。</span><br></span><span class="token-line" style="color:#000000"><span class="token plain">    S_TIME_FORMAT:      如果这个变量存在并且它的值是ISO，那么当在报告标题中打印日期时，当前区域设置将被忽略。</span><br></span><span class="token-line" style="color:#000000"><span class="token plain">                        iostat命令将使用ISO </span><span class="token number" style="color:rgb(9, 134, 88)">8601</span><span class="token plain">格式</span><span class="token punctuation" style="color:rgb(4, 81, 165)">(</span><span class="token plain">YYYY-MM-DD</span><span class="token punctuation" style="color:rgb(4, 81, 165)">)</span><span class="token plain">。 选项-t显示的时间戳也符合ISO </span><span class="token number" style="color:rgb(9, 134, 88)">8601</span><span class="token plain">格式。</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg class="copyButtonIcon_y97N" viewBox="0 0 24 24"><path d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg class="copyButtonSuccessIcon_LjdS" viewBox="0 0 24 24"><path d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><p>举例：</p><div class="language-bash codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#000000;--prism-background-color:#ffffff"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-bash codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#000000"><span class="token comment" style="color:rgb(0, 128, 0)"># iostat                    为所有的CPU和设备显示系统启动至今的历史报告</span><span class="token plain"></span><br></span><span class="token-line" style="color:#000000"><span class="token plain"></span><span class="token comment" style="color:rgb(0, 128, 0)"># iostat -d 2               每隔2秒钟连续显示设备报告</span><span class="token plain"></span><br></span><span class="token-line" style="color:#000000"><span class="token plain"></span><span class="token comment" style="color:rgb(0, 128, 0)"># iostat -d 2 6             每隔2秒钟连续显示设备报告，共显示6次</span><span class="token plain"></span><br></span><span class="token-line" style="color:#000000"><span class="token plain"></span><span class="token comment" style="color:rgb(0, 128, 0)"># iostat -x sda sdb 2 6     为设备 sda sdb 每隔2秒钟连续显示6次扩展报告</span><span class="token plain"></span><br></span><span class="token-line" style="color:#000000"><span class="token plain"></span><span class="token comment" style="color:rgb(0, 128, 0)"># iostat -p sda 2 6         每隔2秒连续显示6次sda和其分区的报告</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg class="copyButtonIcon_y97N" viewBox="0 0 24 24"><path d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg class="copyButtonSuccessIcon_LjdS" viewBox="0 0 24 24"><path d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><div class="language-bash codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#000000;--prism-background-color:#ffffff"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-bash codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#000000"><span class="token punctuation" style="color:rgb(4, 81, 165)">[</span><span class="token plain">root@computer1 ~</span><span class="token punctuation" style="color:rgb(4, 81, 165)">]</span><span class="token comment" style="color:rgb(0, 128, 0)"># iostat -c</span><span class="token plain"></span><br></span><span class="token-line" style="color:#000000"><span class="token plain">Linux </span><span class="token number" style="color:rgb(9, 134, 88)">4.19</span><span class="token plain">.90-17.ky10.aarch64 </span><span class="token punctuation" style="color:rgb(4, 81, 165)">(</span><span class="token plain">computer1</span><span class="token punctuation" style="color:rgb(4, 81, 165)">)</span><span class="token plain">   </span><span class="token number" style="color:rgb(9, 134, 88)">2021</span><span class="token plain">年07月27日     _aarch64_   </span><span class="token punctuation" style="color:rgb(4, 81, 165)">(</span><span class="token number" style="color:rgb(9, 134, 88)">64</span><span class="token plain"> CPU</span><span class="token punctuation" style="color:rgb(4, 81, 165)">)</span><span class="token plain"></span><br></span><span class="token-line" style="color:#000000"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#000000"><span class="token plain">avg-cpu:  %user   %nice %system %iowait  %steal   %idle</span><br></span><span class="token-line" style="color:#000000"><span class="token plain">           </span><span class="token number" style="color:rgb(9, 134, 88)">9.21</span><span class="token plain">    </span><span class="token number" style="color:rgb(9, 134, 88)">0.00</span><span class="token plain">    </span><span class="token number" style="color:rgb(9, 134, 88)">2.37</span><span class="token plain">    </span><span class="token number" style="color:rgb(9, 134, 88)">0.02</span><span class="token plain">    </span><span class="token number" style="color:rgb(9, 134, 88)">0.00</span><span class="token plain">   </span><span class="token number" style="color:rgb(9, 134, 88)">88.41</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg class="copyButtonIcon_y97N" viewBox="0 0 24 24"><path d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg class="copyButtonSuccessIcon_LjdS" viewBox="0 0 24 24"><path d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><ul><li>%user<ul><li>显示用户空间 CPU 使用率百分比。</li></ul></li><li>%nice<ul><li>显示拥有 nice 值用户空间 CPU 使用率百分比。</li></ul></li><li>%system<ul><li>显示内核空间 CPU 使用率百分比。</li></ul></li><li>%iowait<ul><li>发生 IO 请求时，CPU 空闲等待百分比。</li></ul></li><li>%steal<ul><li>物理 CPU 为虚拟机服务的时间所占的百分比。</li></ul></li><li>%idle<ul><li>不算 IO 等待，CPU 完全空闲时间百分比。</li></ul></li></ul><p><em>注意：如果是多核 CPU，这里显示的是全局多核平均值。</em></p><div class="language-bash codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#000000;--prism-background-color:#ffffff"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-bash codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#000000"><span class="token punctuation" style="color:rgb(4, 81, 165)">[</span><span class="token plain">root@computer1 ~</span><span class="token punctuation" style="color:rgb(4, 81, 165)">]</span><span class="token comment" style="color:rgb(0, 128, 0)"># iostat -d -x</span><span class="token plain"></span><br></span><span class="token-line" style="color:#000000"><span class="token plain">Linux </span><span class="token number" style="color:rgb(9, 134, 88)">4.19</span><span class="token plain">.90-17.ky10.aarch64 </span><span class="token punctuation" style="color:rgb(4, 81, 165)">(</span><span class="token plain">computer1</span><span class="token punctuation" style="color:rgb(4, 81, 165)">)</span><span class="token plain">   </span><span class="token number" style="color:rgb(9, 134, 88)">2021</span><span class="token plain">年07月27日     _aarch64_   </span><span class="token punctuation" style="color:rgb(4, 81, 165)">(</span><span class="token number" style="color:rgb(9, 134, 88)">64</span><span class="token plain"> CPU</span><span class="token punctuation" style="color:rgb(4, 81, 165)">)</span><span class="token plain"></span><br></span><span class="token-line" style="color:#000000"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#000000"><span class="token plain">Device            r/s     rkB/s   rrqm/s  %rrqm r_await rareq-sz     w/s     wkB/s   wrqm/s  %wrqm w_await wareq-sz     d/s     dkB/s   drqm/s  %drqm d_await dareq-sz  aqu-sz  %util</span><br></span><span class="token-line" style="color:#000000"><span class="token plain">sda              </span><span class="token number" style="color:rgb(9, 134, 88)">0.01</span><span class="token plain">      </span><span class="token number" style="color:rgb(9, 134, 88)">0.34</span><span class="token plain">     </span><span class="token number" style="color:rgb(9, 134, 88)">0.00</span><span class="token plain">  </span><span class="token number" style="color:rgb(9, 134, 88)">24.08</span><span class="token plain">    </span><span class="token number" style="color:rgb(9, 134, 88)">5.27</span><span class="token plain">    </span><span class="token number" style="color:rgb(9, 134, 88)">51.90</span><span class="token plain">    </span><span class="token number" style="color:rgb(9, 134, 88)">5.37</span><span class="token plain">    </span><span class="token number" style="color:rgb(9, 134, 88)">411.65</span><span class="token plain">     </span><span class="token number" style="color:rgb(9, 134, 88)">3.45</span><span class="token plain">  </span><span class="token number" style="color:rgb(9, 134, 88)">39.09</span><span class="token plain">   </span><span class="token number" style="color:rgb(9, 134, 88)">34.68</span><span class="token plain">    </span><span class="token number" style="color:rgb(9, 134, 88)">76.64</span><span class="token plain">    </span><span class="token number" style="color:rgb(9, 134, 88)">0.00</span><span class="token plain">      </span><span class="token number" style="color:rgb(9, 134, 88)">0.00</span><span class="token plain">     </span><span class="token number" style="color:rgb(9, 134, 88)">0.00</span><span class="token plain">   </span><span class="token number" style="color:rgb(9, 134, 88)">0.00</span><span class="token plain">    </span><span class="token number" style="color:rgb(9, 134, 88)">0.00</span><span class="token plain">     </span><span class="token number" style="color:rgb(9, 134, 88)">0.00</span><span class="token plain">    </span><span class="token number" style="color:rgb(9, 134, 88)">0.17</span><span class="token plain">   </span><span class="token number" style="color:rgb(9, 134, 88)">2.09</span><span class="token plain"></span><br></span><span class="token-line" style="color:#000000"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#000000"><span class="token plain"></span><span class="token punctuation" style="color:rgb(4, 81, 165)">[</span><span class="token plain">root@computer1 ~</span><span class="token punctuation" style="color:rgb(4, 81, 165)">]</span><span class="token comment" style="color:rgb(0, 128, 0)">#</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg class="copyButtonIcon_y97N" viewBox="0 0 24 24"><path d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg class="copyButtonSuccessIcon_LjdS" viewBox="0 0 24 24"><path d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><ul><li>Device<ul><li>这一列给出了 /dev 目录中列出的设备(或分区)名称。</li></ul></li><li>r/s<ul><li>设备每秒完成的读请求数(合并后)</li></ul></li><li>rkB/s<ul><li>每秒从设备读取的 KB 大小</li></ul></li><li>rrqm/s<ul><li>每秒设备队列中读取请求的合并数量</li></ul></li><li>%rrqm<ul><li>发送到设备前的读请求合并数所占百分比</li></ul></li><li>r<!-- -->_<!-- -->await<ul><li>向提供服务的设备发起读请求的平均时间（以毫秒为单位），这包括在请求队列中花费的时间和服务它们的时间</li></ul></li><li>rareq-sz<ul><li>向设备发起读请求的平均大小，以 kb 为单位</li></ul></li><li>w/s<ul><li>设备每秒完成的写请求数(合并后)</li></ul></li><li>wkB/s<ul><li>每秒向设备写入的 KB 大小</li></ul></li><li>wrqm/s<ul><li>每秒设备队列中写入请求的合并数量</li></ul></li><li>%wrqm<ul><li>发送到设备前的写请求合并数所占百分比</li></ul></li><li>w<!-- -->_<!-- -->await<ul><li>向提供服务的设备发起写请求的平均时间（以毫秒为单位），这包括在请求队列中花费的时间和服务它们的时间</li></ul></li><li>wareq-sz<ul><li>向设备发起写请求的平均大小，以 kb 为单位</li></ul></li><li>d/s<ul><li>设备每秒完成的丢弃请求数(合并后)</li></ul></li><li>dkB/s<ul><li>每秒为设备丢弃的 KB 大小</li></ul></li><li>drqm/s<ul><li>每秒设备队列中丢弃请求的合并数量</li></ul></li><li>%drqm<ul><li>发送到设备前的丢弃请求合并数所占百分比</li></ul></li><li>d<!-- -->_<!-- -->await<ul><li>向提供服务的设备发起丢弃请求的平均时间（以毫秒为单位），这包括在请求队列中花费的时间和服务它们的时间</li></ul></li><li>dareq-sz<ul><li>向设备发起丢弃请求的平均大小，以 kb 为单位</li></ul></li><li>aqu-sz<ul><li>向设备发起请求的平均队列长度（老版本叫 avgqu-sz）</li></ul></li><li>%util<ul><li>设备带宽百分比，串行服务的设备此百分比接近 100% 时会达到饱和；但是对于并行设备，比如 RAID 和现代 SSD，这个值还不能反映它们的性能瓶颈。</li></ul></li></ul><div class="language-bash codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#000000;--prism-background-color:#ffffff"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-bash codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#000000"><span class="token punctuation" style="color:rgb(4, 81, 165)">[</span><span class="token plain">root@computer1 ~</span><span class="token punctuation" style="color:rgb(4, 81, 165)">]</span><span class="token comment" style="color:rgb(0, 128, 0)"># iostat -d</span><span class="token plain"></span><br></span><span class="token-line" style="color:#000000"><span class="token plain">Linux </span><span class="token number" style="color:rgb(9, 134, 88)">4.19</span><span class="token plain">.90-17.ky10.aarch64 </span><span class="token punctuation" style="color:rgb(4, 81, 165)">(</span><span class="token plain">computer1</span><span class="token punctuation" style="color:rgb(4, 81, 165)">)</span><span class="token plain">   </span><span class="token number" style="color:rgb(9, 134, 88)">2021</span><span class="token plain">年07月27日     _aarch64_   </span><span class="token punctuation" style="color:rgb(4, 81, 165)">(</span><span class="token number" style="color:rgb(9, 134, 88)">64</span><span class="token plain"> CPU</span><span class="token punctuation" style="color:rgb(4, 81, 165)">)</span><span class="token plain"></span><br></span><span class="token-line" style="color:#000000"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#000000"><span class="token plain">Device             tps    kB_read/s    kB_wrtn/s    kB_dscd/s    kB_read    kB_wrtn    kB_dscd</span><br></span><span class="token-line" style="color:#000000"><span class="token plain">sda               </span><span class="token number" style="color:rgb(9, 134, 88)">5.38</span><span class="token plain">         </span><span class="token number" style="color:rgb(9, 134, 88)">0.34</span><span class="token plain">       </span><span class="token number" style="color:rgb(9, 134, 88)">411.62</span><span class="token plain">         </span><span class="token number" style="color:rgb(9, 134, 88)">0.00</span><span class="token plain">    </span><span class="token number" style="color:rgb(9, 134, 88)">2694156</span><span class="token plain"> </span><span class="token number" style="color:rgb(9, 134, 88)">3237630625</span><span class="token plain">          </span><span class="token number" style="color:rgb(9, 134, 88)">0</span><span class="token plain"></span><br></span><span class="token-line" style="color:#000000"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#000000"><span class="token plain"></span><span class="token punctuation" style="color:rgb(4, 81, 165)">[</span><span class="token plain">root@computer1 ~</span><span class="token punctuation" style="color:rgb(4, 81, 165)">]</span><span class="token comment" style="color:rgb(0, 128, 0)">#</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg class="copyButtonIcon_y97N" viewBox="0 0 24 24"><path d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg class="copyButtonSuccessIcon_LjdS" viewBox="0 0 24 24"><path d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><ul><li>Device<ul><li>这一列给出了 /dev 目录中列出的设备(或分区)名称。</li></ul></li><li>tps<ul><li>每秒向设备发起的传输数量，一次传输是一次向设备发起的 IO 请求，多个逻辑请求可以合并成一个到设备的 IO 请求；传输的大小是不确定的。</li></ul></li><li>kB<!-- -->_<!-- -->read/s<ul><li>每秒从设备读多少 KB 数据</li></ul></li><li>kB<!-- -->_<!-- -->wrtn/s<ul><li>每秒向设备写多少 KB 数据</li></ul></li><li>kB<!-- -->_<!-- -->dscd/s<ul><li>每秒为设备丢弃多少 KB 数据</li></ul></li><li>kB<!-- -->_<!-- -->read<ul><li>读的总 KB 大小</li></ul></li><li>kB<!-- -->_<!-- -->wrtn<ul><li>写的总 KB 大小</li></ul></li><li>kB<!-- -->_<!-- -->dscd<ul><li>丢弃的总 KB 大小</li></ul></li></ul><h2 class="anchor anchorWithHideOnScrollNavbar_WYt5" id="105sar-命令">10.5、sar 命令<a href="#105sar-命令" class="hash-link" aria-label="Direct link to heading" title="Direct link to heading">​</a></h2><p>sar 命令很强大，是分析系统性能的重要工具之一，通过该命令可以全面地获取系统的 CPU、运行队列、磁盘读写（I/O）、分区（交换区）、内存、CPU 中断和网络等性能数据。</p><p><img loading="lazy" alt="linux_observability_sar" src="/en/assets/images/linux_observability_sar-6d5c6b8c0a54938376640f10ba6647c9.png" width="1500" height="1050" class="img_ev3q"></p><p>sar 命令的基本格式如下：</p><div class="language-bash codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#000000;--prism-background-color:#ffffff"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-bash codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#000000"><span class="token plain">sar </span><span class="token punctuation" style="color:rgb(4, 81, 165)">[</span><span class="token plain">options</span><span class="token punctuation" style="color:rgb(4, 81, 165)">]</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(4, 81, 165)">[</span><span class="token plain">-o filename</span><span class="token punctuation" style="color:rgb(4, 81, 165)">]</span><span class="token plain"> interval </span><span class="token punctuation" style="color:rgb(4, 81, 165)">[</span><span class="token plain">count</span><span class="token punctuation" style="color:rgb(4, 81, 165)">]</span><span class="token plain"></span><br></span><span class="token-line" style="color:#000000"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#000000"><span class="token plain">此命令格式中，各个参数的含义如下：</span><br></span><span class="token-line" style="color:#000000"><span class="token plain">-o filename:    其中，filename 为文件名，此选项表示将命令结果以二进制格式存放在文件中；</span><br></span><span class="token-line" style="color:#000000"><span class="token plain">interval:       表示采样间隔时间，该参数必须手动设置；</span><br></span><span class="token-line" style="color:#000000"><span class="token plain">count:          表示采样次数，是可选参数，其默认值为 </span><span class="token number" style="color:rgb(9, 134, 88)">1</span><span class="token plain">；</span><br></span><span class="token-line" style="color:#000000"><span class="token plain">options:        为命令行选项，由于 sar 命令提供的选项很多，这里不再一一介绍，仅列举出常用的一些选项及对应的功能，如表 </span><span class="token number" style="color:rgb(9, 134, 88)">1</span><span class="token plain"> 所示。</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg class="copyButtonIcon_y97N" viewBox="0 0 24 24"><path d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg class="copyButtonSuccessIcon_LjdS" viewBox="0 0 24 24"><path d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><p>表 1 sar 命令行选项及功能</p><table><thead><tr><th>sar命令选项</th><th>功能</th></tr></thead><tbody><tr><td>-<!-- -->A</td><td>显示所有的报告信息</td></tr><tr><td>-<!-- -->b</td><td>显示I/O速率</td></tr><tr><td>-<!-- -->B</td><td>显示换页状态</td></tr><tr><td>-<!-- -->c</td><td>显示进程创建活动</td></tr><tr><td>-<!-- -->d</td><td>显示每个块设备的状态</td></tr><tr><td>-<!-- -->e</td><td>设置显示报告的结束时间</td></tr><tr><td>-<!-- -->f</td><td>从指定文件提取报告</td></tr><tr><td>-<!-- -->i</td><td>设状态信息刷新的间隔时间</td></tr><tr><td>-<!-- -->P</td><td>报告每个CPU的状态</td></tr><tr><td>-<!-- -->R</td><td>显示内存状态</td></tr><tr><td>-<!-- -->u</td><td>显示CPU利用率</td></tr><tr><td>-<!-- -->v</td><td>显示索引节点，文件和其他内核表的状态</td></tr><tr><td>-<!-- -->w</td><td>显示交换分区状态</td></tr><tr><td>-<!-- -->x</td><td>显示给定进程的状态</td></tr></tbody></table><h3 class="anchor anchorWithHideOnScrollNavbar_WYt5" id="1051cpu-资源监控">10.5.1、CPU 资源监控<a href="#1051cpu-资源监控" class="hash-link" aria-label="Direct link to heading" title="Direct link to heading">​</a></h3><p>每 5s 采样一次，连续采样 3 次，观察 cpu 使用情况，并将采样结果以二进制形式存入 sar.bin 中：</p><div class="language-bash codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#000000;--prism-background-color:#ffffff"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-bash codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#000000"><span class="token punctuation" style="color:rgb(4, 81, 165)">[</span><span class="token plain">root@computer1 ~</span><span class="token punctuation" style="color:rgb(4, 81, 165)">]</span><span class="token comment" style="color:rgb(0, 128, 0)"># sar -u -o sar.bin 5 3</span><span class="token plain"></span><br></span><span class="token-line" style="color:#000000"><span class="token plain">Linux </span><span class="token number" style="color:rgb(9, 134, 88)">4.19</span><span class="token plain">.90-17.ky10.aarch64 </span><span class="token punctuation" style="color:rgb(4, 81, 165)">(</span><span class="token plain">computer1</span><span class="token punctuation" style="color:rgb(4, 81, 165)">)</span><span class="token plain">   </span><span class="token number" style="color:rgb(9, 134, 88)">2021</span><span class="token plain">年07月27日     _aarch64_   </span><span class="token punctuation" style="color:rgb(4, 81, 165)">(</span><span class="token number" style="color:rgb(9, 134, 88)">64</span><span class="token plain"> CPU</span><span class="token punctuation" style="color:rgb(4, 81, 165)">)</span><span class="token plain"></span><br></span><span class="token-line" style="color:#000000"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#000000"><span class="token plain"></span><span class="token number" style="color:rgb(9, 134, 88)">20</span><span class="token plain">时11分56秒     CPU     %user     %nice   %system   %iowait    %steal     %idle</span><br></span><span class="token-line" style="color:#000000"><span class="token plain"></span><span class="token number" style="color:rgb(9, 134, 88)">20</span><span class="token plain">时12分01秒     all      </span><span class="token number" style="color:rgb(9, 134, 88)">6.79</span><span class="token plain">      </span><span class="token number" style="color:rgb(9, 134, 88)">0.27</span><span class="token plain">      </span><span class="token number" style="color:rgb(9, 134, 88)">3.15</span><span class="token plain">      </span><span class="token number" style="color:rgb(9, 134, 88)">0.02</span><span class="token plain">      </span><span class="token number" style="color:rgb(9, 134, 88)">0.00</span><span class="token plain">     </span><span class="token number" style="color:rgb(9, 134, 88)">89.76</span><span class="token plain"></span><br></span><span class="token-line" style="color:#000000"><span class="token plain"></span><span class="token number" style="color:rgb(9, 134, 88)">20</span><span class="token plain">时12分06秒     all      </span><span class="token number" style="color:rgb(9, 134, 88)">7.37</span><span class="token plain">      </span><span class="token number" style="color:rgb(9, 134, 88)">0.23</span><span class="token plain">      </span><span class="token number" style="color:rgb(9, 134, 88)">3.01</span><span class="token plain">      </span><span class="token number" style="color:rgb(9, 134, 88)">0.01</span><span class="token plain">      </span><span class="token number" style="color:rgb(9, 134, 88)">0.00</span><span class="token plain">     </span><span class="token number" style="color:rgb(9, 134, 88)">89.37</span><span class="token plain"></span><br></span><span class="token-line" style="color:#000000"><span class="token plain"></span><span class="token number" style="color:rgb(9, 134, 88)">20</span><span class="token plain">时12分11秒     all      </span><span class="token number" style="color:rgb(9, 134, 88)">5.58</span><span class="token plain">      </span><span class="token number" style="color:rgb(9, 134, 88)">0.23</span><span class="token plain">      </span><span class="token number" style="color:rgb(9, 134, 88)">2.96</span><span class="token plain">      </span><span class="token number" style="color:rgb(9, 134, 88)">0.04</span><span class="token plain">      </span><span class="token number" style="color:rgb(9, 134, 88)">0.00</span><span class="token plain">     </span><span class="token number" style="color:rgb(9, 134, 88)">91.19</span><span class="token plain"></span><br></span><span class="token-line" style="color:#000000"><span class="token plain">平均时间:     all      </span><span class="token number" style="color:rgb(9, 134, 88)">6.58</span><span class="token plain">      </span><span class="token number" style="color:rgb(9, 134, 88)">0.24</span><span class="token plain">      </span><span class="token number" style="color:rgb(9, 134, 88)">3.04</span><span class="token plain">      </span><span class="token number" style="color:rgb(9, 134, 88)">0.02</span><span class="token plain">      </span><span class="token number" style="color:rgb(9, 134, 88)">0.00</span><span class="token plain">     </span><span class="token number" style="color:rgb(9, 134, 88)">90.11</span><span class="token plain"></span><br></span><span class="token-line" style="color:#000000"><span class="token plain"></span><span class="token punctuation" style="color:rgb(4, 81, 165)">[</span><span class="token plain">root@computer1 ~</span><span class="token punctuation" style="color:rgb(4, 81, 165)">]</span><span class="token comment" style="color:rgb(0, 128, 0)">#</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg class="copyButtonIcon_y97N" viewBox="0 0 24 24"><path d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg class="copyButtonSuccessIcon_LjdS" viewBox="0 0 24 24"><path d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><p>查看二进制文件 sar.bin 中的内容：</p><div class="language-bash codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#000000;--prism-background-color:#ffffff"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-bash codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#000000"><span class="token punctuation" style="color:rgb(4, 81, 165)">[</span><span class="token plain">root@computer1 ~</span><span class="token punctuation" style="color:rgb(4, 81, 165)">]</span><span class="token comment" style="color:rgb(0, 128, 0)"># sar -u -f sar.bin </span><span class="token plain"></span><br></span><span class="token-line" style="color:#000000"><span class="token plain">Linux </span><span class="token number" style="color:rgb(9, 134, 88)">4.19</span><span class="token plain">.90-17.ky10.aarch64 </span><span class="token punctuation" style="color:rgb(4, 81, 165)">(</span><span class="token plain">computer1</span><span class="token punctuation" style="color:rgb(4, 81, 165)">)</span><span class="token plain">   </span><span class="token number" style="color:rgb(9, 134, 88)">2021</span><span class="token plain">年07月27日     _aarch64_   </span><span class="token punctuation" style="color:rgb(4, 81, 165)">(</span><span class="token number" style="color:rgb(9, 134, 88)">64</span><span class="token plain"> CPU</span><span class="token punctuation" style="color:rgb(4, 81, 165)">)</span><span class="token plain"></span><br></span><span class="token-line" style="color:#000000"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#000000"><span class="token plain"></span><span class="token number" style="color:rgb(9, 134, 88)">20</span><span class="token plain">时11分56秒     CPU     %user     %nice   %system   %iowait    %steal     %idle</span><br></span><span class="token-line" style="color:#000000"><span class="token plain"></span><span class="token number" style="color:rgb(9, 134, 88)">20</span><span class="token plain">时12分01秒     all      </span><span class="token number" style="color:rgb(9, 134, 88)">6.79</span><span class="token plain">      </span><span class="token number" style="color:rgb(9, 134, 88)">0.27</span><span class="token plain">      </span><span class="token number" style="color:rgb(9, 134, 88)">3.15</span><span class="token plain">      </span><span class="token number" style="color:rgb(9, 134, 88)">0.02</span><span class="token plain">      </span><span class="token number" style="color:rgb(9, 134, 88)">0.00</span><span class="token plain">     </span><span class="token number" style="color:rgb(9, 134, 88)">89.76</span><span class="token plain"></span><br></span><span class="token-line" style="color:#000000"><span class="token plain"></span><span class="token number" style="color:rgb(9, 134, 88)">20</span><span class="token plain">时12分06秒     all      </span><span class="token number" style="color:rgb(9, 134, 88)">7.37</span><span class="token plain">      </span><span class="token number" style="color:rgb(9, 134, 88)">0.23</span><span class="token plain">      </span><span class="token number" style="color:rgb(9, 134, 88)">3.01</span><span class="token plain">      </span><span class="token number" style="color:rgb(9, 134, 88)">0.01</span><span class="token plain">      </span><span class="token number" style="color:rgb(9, 134, 88)">0.00</span><span class="token plain">     </span><span class="token number" style="color:rgb(9, 134, 88)">89.37</span><span class="token plain"></span><br></span><span class="token-line" style="color:#000000"><span class="token plain"></span><span class="token number" style="color:rgb(9, 134, 88)">20</span><span class="token plain">时12分11秒     all      </span><span class="token number" style="color:rgb(9, 134, 88)">5.58</span><span class="token plain">      </span><span class="token number" style="color:rgb(9, 134, 88)">0.23</span><span class="token plain">      </span><span class="token number" style="color:rgb(9, 134, 88)">2.96</span><span class="token plain">      </span><span class="token number" style="color:rgb(9, 134, 88)">0.04</span><span class="token plain">      </span><span class="token number" style="color:rgb(9, 134, 88)">0.00</span><span class="token plain">     </span><span class="token number" style="color:rgb(9, 134, 88)">91.19</span><span class="token plain"></span><br></span><span class="token-line" style="color:#000000"><span class="token plain">平均时间:   all      </span><span class="token number" style="color:rgb(9, 134, 88)">6.58</span><span class="token plain">      </span><span class="token number" style="color:rgb(9, 134, 88)">0.24</span><span class="token plain">      </span><span class="token number" style="color:rgb(9, 134, 88)">3.04</span><span class="token plain">      </span><span class="token number" style="color:rgb(9, 134, 88)">0.02</span><span class="token plain">      </span><span class="token number" style="color:rgb(9, 134, 88)">0.00</span><span class="token plain">     </span><span class="token number" style="color:rgb(9, 134, 88)">90.11</span><span class="token plain"></span><br></span><span class="token-line" style="color:#000000"><span class="token plain"></span><span class="token punctuation" style="color:rgb(4, 81, 165)">[</span><span class="token plain">root@computer1 ~</span><span class="token punctuation" style="color:rgb(4, 81, 165)">]</span><span class="token comment" style="color:rgb(0, 128, 0)">#</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg class="copyButtonIcon_y97N" viewBox="0 0 24 24"><path d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg class="copyButtonSuccessIcon_LjdS" viewBox="0 0 24 24"><path d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><p>输出项说明：</p><div class="language-bash codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#000000;--prism-background-color:#ffffff"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-bash codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#000000"><span class="token plain">CPU:        all 表示统计信息为所有 CPU 的平均值。</span><br></span><span class="token-line" style="color:#000000"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#000000"><span class="token plain">%user:      显示在用户空间使用 CPU 时间占总 CPU 时间的百分比。</span><br></span><span class="token-line" style="color:#000000"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#000000"><span class="token plain">%nice:      显示在用户空间，用于 </span><span class="token function" style="color:rgb(0, 0, 255)">nice</span><span class="token plain"> 操作，所占用 CPU 总时间的百分比。</span><br></span><span class="token-line" style="color:#000000"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#000000"><span class="token plain">%system:    显示在内核空间使用 CPU 时间占总 CPU 时间的百分比。</span><br></span><span class="token-line" style="color:#000000"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#000000"><span class="token plain">%iowait:    显示用于等待 I/O 时间占 CPU 总时间的百分比。</span><br></span><span class="token-line" style="color:#000000"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#000000"><span class="token plain">%steal:     监控程序</span><span class="token punctuation" style="color:rgb(4, 81, 165)">(</span><span class="token plain">hypervisor</span><span class="token punctuation" style="color:rgb(4, 81, 165)">)</span><span class="token plain">为另一个虚拟进程提供服务所用时间占总 CPU 时间的百分比。</span><br></span><span class="token-line" style="color:#000000"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#000000"><span class="token plain">%idle:      显示 CPU 空闲时间占用 CPU 总时间的百分比。</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg class="copyButtonIcon_y97N" viewBox="0 0 24 24"><path d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg class="copyButtonSuccessIcon_LjdS" viewBox="0 0 24 24"><path d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><p>分析：</p><div class="language-bash codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#000000;--prism-background-color:#ffffff"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-bash codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#000000"><span class="token number" style="color:rgb(9, 134, 88)">1</span><span class="token plain">.若 %iowait的值过高，表示硬盘存在I/O瓶颈</span><br></span><span class="token-line" style="color:#000000"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#000000"><span class="token plain"></span><span class="token number" style="color:rgb(9, 134, 88)">2</span><span class="token plain">.若 %idle 的值高但系统响应慢时，有可能是 CPU 等待分配内存，此时应加大内存容量</span><br></span><span class="token-line" style="color:#000000"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#000000"><span class="token plain"></span><span class="token number" style="color:rgb(9, 134, 88)">3</span><span class="token plain">.若 %idle 的值持续低于 </span><span class="token number" style="color:rgb(9, 134, 88)">1</span><span class="token plain">，则系统的 CPU 处理能力相对较低，表明系统中最需要解决的资源是 CPU。</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg class="copyButtonIcon_y97N" viewBox="0 0 24 24"><path d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg class="copyButtonSuccessIcon_LjdS" viewBox="0 0 24 24"><path d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><h3 class="anchor anchorWithHideOnScrollNavbar_WYt5" id="1052inode文件和其他内核表监控">10.5.2、inode、文件和其他内核表监控<a href="#1052inode文件和其他内核表监控" class="hash-link" aria-label="Direct link to heading" title="Direct link to heading">​</a></h3><p>每 5 秒采样一次，连续采样 10 次，观察核心表的状态</p><div class="language-bash codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#000000;--prism-background-color:#ffffff"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-bash codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#000000"><span class="token punctuation" style="color:rgb(4, 81, 165)">[</span><span class="token plain">root@computer1 ~</span><span class="token punctuation" style="color:rgb(4, 81, 165)">]</span><span class="token comment" style="color:rgb(0, 128, 0)"># sar -v 5 10</span><span class="token plain"></span><br></span><span class="token-line" style="color:#000000"><span class="token plain">Linux </span><span class="token number" style="color:rgb(9, 134, 88)">4.19</span><span class="token plain">.90-17.ky10.aarch64 </span><span class="token punctuation" style="color:rgb(4, 81, 165)">(</span><span class="token plain">computer1</span><span class="token punctuation" style="color:rgb(4, 81, 165)">)</span><span class="token plain">   </span><span class="token number" style="color:rgb(9, 134, 88)">2021</span><span class="token plain">年07月27日     _aarch64_   </span><span class="token punctuation" style="color:rgb(4, 81, 165)">(</span><span class="token number" style="color:rgb(9, 134, 88)">64</span><span class="token plain"> CPU</span><span class="token punctuation" style="color:rgb(4, 81, 165)">)</span><span class="token plain"></span><br></span><span class="token-line" style="color:#000000"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#000000"><span class="token plain"></span><span class="token number" style="color:rgb(9, 134, 88)">20</span><span class="token plain">时26分13秒 dentunusd   file-nr  inode-nr    pty-nr</span><br></span><span class="token-line" style="color:#000000"><span class="token plain"></span><span class="token number" style="color:rgb(9, 134, 88)">20</span><span class="token plain">时26分18秒    </span><span class="token number" style="color:rgb(9, 134, 88)">376931</span><span class="token plain">      </span><span class="token number" style="color:rgb(9, 134, 88)">7552</span><span class="token plain">    </span><span class="token number" style="color:rgb(9, 134, 88)">386492</span><span class="token plain">        </span><span class="token number" style="color:rgb(9, 134, 88)">17</span><span class="token plain"></span><br></span><span class="token-line" style="color:#000000"><span class="token plain"></span><span class="token number" style="color:rgb(9, 134, 88)">20</span><span class="token plain">时26分23秒    </span><span class="token number" style="color:rgb(9, 134, 88)">376936</span><span class="token plain">      </span><span class="token number" style="color:rgb(9, 134, 88)">7552</span><span class="token plain">    </span><span class="token number" style="color:rgb(9, 134, 88)">386503</span><span class="token plain">        </span><span class="token number" style="color:rgb(9, 134, 88)">17</span><span class="token plain"></span><br></span><span class="token-line" style="color:#000000"><span class="token plain"></span><span class="token number" style="color:rgb(9, 134, 88)">20</span><span class="token plain">时26分28秒    </span><span class="token number" style="color:rgb(9, 134, 88)">376934</span><span class="token plain">      </span><span class="token number" style="color:rgb(9, 134, 88)">7424</span><span class="token plain">    </span><span class="token number" style="color:rgb(9, 134, 88)">386493</span><span class="token plain">        </span><span class="token number" style="color:rgb(9, 134, 88)">17</span><span class="token plain"></span><br></span><span class="token-line" style="color:#000000"><span class="token plain"></span><span class="token number" style="color:rgb(9, 134, 88)">20</span><span class="token plain">时26分33秒    </span><span class="token number" style="color:rgb(9, 134, 88)">376935</span><span class="token plain">      </span><span class="token number" style="color:rgb(9, 134, 88)">7296</span><span class="token plain">    </span><span class="token number" style="color:rgb(9, 134, 88)">386489</span><span class="token plain">        </span><span class="token number" style="color:rgb(9, 134, 88)">17</span><span class="token plain"></span><br></span><span class="token-line" style="color:#000000"><span class="token plain"></span><span class="token number" style="color:rgb(9, 134, 88)">20</span><span class="token plain">时26分38秒    </span><span class="token number" style="color:rgb(9, 134, 88)">376939</span><span class="token plain">      </span><span class="token number" style="color:rgb(9, 134, 88)">7424</span><span class="token plain">    </span><span class="token number" style="color:rgb(9, 134, 88)">386507</span><span class="token plain">        </span><span class="token number" style="color:rgb(9, 134, 88)">17</span><span class="token plain"></span><br></span><span class="token-line" style="color:#000000"><span class="token plain"></span><span class="token number" style="color:rgb(9, 134, 88)">20</span><span class="token plain">时26分43秒    </span><span class="token number" style="color:rgb(9, 134, 88)">376935</span><span class="token plain">      </span><span class="token number" style="color:rgb(9, 134, 88)">7296</span><span class="token plain">    </span><span class="token number" style="color:rgb(9, 134, 88)">386494</span><span class="token plain">        </span><span class="token number" style="color:rgb(9, 134, 88)">17</span><span class="token plain"></span><br></span><span class="token-line" style="color:#000000"><span class="token plain"></span><span class="token number" style="color:rgb(9, 134, 88)">20</span><span class="token plain">时26分48秒    </span><span class="token number" style="color:rgb(9, 134, 88)">376931</span><span class="token plain">      </span><span class="token number" style="color:rgb(9, 134, 88)">7296</span><span class="token plain">    </span><span class="token number" style="color:rgb(9, 134, 88)">386506</span><span class="token plain">        </span><span class="token number" style="color:rgb(9, 134, 88)">17</span><span class="token plain"></span><br></span><span class="token-line" style="color:#000000"><span class="token plain"></span><span class="token number" style="color:rgb(9, 134, 88)">20</span><span class="token plain">时26分53秒    </span><span class="token number" style="color:rgb(9, 134, 88)">376926</span><span class="token plain">      </span><span class="token number" style="color:rgb(9, 134, 88)">7296</span><span class="token plain">    </span><span class="token number" style="color:rgb(9, 134, 88)">386486</span><span class="token plain">        </span><span class="token number" style="color:rgb(9, 134, 88)">17</span><span class="token plain"></span><br></span><span class="token-line" style="color:#000000"><span class="token plain"></span><span class="token number" style="color:rgb(9, 134, 88)">20</span><span class="token plain">时26分58秒    </span><span class="token number" style="color:rgb(9, 134, 88)">376923</span><span class="token plain">      </span><span class="token number" style="color:rgb(9, 134, 88)">7168</span><span class="token plain">    </span><span class="token number" style="color:rgb(9, 134, 88)">386485</span><span class="token plain">        </span><span class="token number" style="color:rgb(9, 134, 88)">17</span><span class="token plain"></span><br></span><span class="token-line" style="color:#000000"><span class="token plain"></span><span class="token number" style="color:rgb(9, 134, 88)">20</span><span class="token plain">时27分03秒    </span><span class="token number" style="color:rgb(9, 134, 88)">376919</span><span class="token plain">      </span><span class="token number" style="color:rgb(9, 134, 88)">7168</span><span class="token plain">    </span><span class="token number" style="color:rgb(9, 134, 88)">386473</span><span class="token plain">        </span><span class="token number" style="color:rgb(9, 134, 88)">17</span><span class="token plain"></span><br></span><span class="token-line" style="color:#000000"><span class="token plain">平均时间:    </span><span class="token number" style="color:rgb(9, 134, 88)">376931</span><span class="token plain">      </span><span class="token number" style="color:rgb(9, 134, 88)">7347</span><span class="token plain">    </span><span class="token number" style="color:rgb(9, 134, 88)">386493</span><span class="token plain">        </span><span class="token number" style="color:rgb(9, 134, 88)">17</span><span class="token plain"></span><br></span><span class="token-line" style="color:#000000"><span class="token plain"></span><span class="token punctuation" style="color:rgb(4, 81, 165)">[</span><span class="token plain">root@computer1 ~</span><span class="token punctuation" style="color:rgb(4, 81, 165)">]</span><span class="token comment" style="color:rgb(0, 128, 0)">#</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg class="copyButtonIcon_y97N" viewBox="0 0 24 24"><path d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg class="copyButtonSuccessIcon_LjdS" viewBox="0 0 24 24"><path d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><p>输出项说明：</p><div class="language-bash codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#000000;--prism-background-color:#ffffff"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-bash codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#000000"><span class="token plain">dentunusd:  目录高速缓存中未被使用的条目数量</span><br></span><span class="token-line" style="color:#000000"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#000000"><span class="token plain">file-nr:    文件句柄（filehandle）的使用数量</span><br></span><span class="token-line" style="color:#000000"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#000000"><span class="token plain">inode-nr:   索引节点句柄（inodehandle）的使用数量</span><br></span><span class="token-line" style="color:#000000"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#000000"><span class="token plain">pty-nr:     使用的pty数量</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg class="copyButtonIcon_y97N" viewBox="0 0 24 24"><path d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg class="copyButtonSuccessIcon_LjdS" viewBox="0 0 24 24"><path d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><h3 class="anchor anchorWithHideOnScrollNavbar_WYt5" id="1053内存和交换空间监控">10.5.3、内存和交换空间监控<a href="#1053内存和交换空间监控" class="hash-link" aria-label="Direct link to heading" title="Direct link to heading">​</a></h3><p>每 5s 采样一次，连续采样 10 次，监控内存分页</p><div class="language-bash codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#000000;--prism-background-color:#ffffff"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-bash codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#000000"><span class="token punctuation" style="color:rgb(4, 81, 165)">[</span><span class="token plain">root@computer1 ~</span><span class="token punctuation" style="color:rgb(4, 81, 165)">]</span><span class="token comment" style="color:rgb(0, 128, 0)"># sar -r 5 10</span><span class="token plain"></span><br></span><span class="token-line" style="color:#000000"><span class="token plain">Linux </span><span class="token number" style="color:rgb(9, 134, 88)">4.19</span><span class="token plain">.90-17.ky10.aarch64 </span><span class="token punctuation" style="color:rgb(4, 81, 165)">(</span><span class="token plain">computer1</span><span class="token punctuation" style="color:rgb(4, 81, 165)">)</span><span class="token plain">   </span><span class="token number" style="color:rgb(9, 134, 88)">2021</span><span class="token plain">年07月27日     _aarch64_   </span><span class="token punctuation" style="color:rgb(4, 81, 165)">(</span><span class="token number" style="color:rgb(9, 134, 88)">64</span><span class="token plain"> CPU</span><span class="token punctuation" style="color:rgb(4, 81, 165)">)</span><span class="token plain"></span><br></span><span class="token-line" style="color:#000000"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#000000"><span class="token plain"></span><span class="token number" style="color:rgb(9, 134, 88)">20</span><span class="token plain">时35分36秒 kbmemfree   kbavail kbmemused  %memused kbbuffers  kbcached  kbcommit   %commit  kbactive   kbinact   kbdirty</span><br></span><span class="token-line" style="color:#000000"><span class="token plain"></span><span class="token number" style="color:rgb(9, 134, 88)">20</span><span class="token plain">时35分41秒  </span><span class="token number" style="color:rgb(9, 134, 88)">28258816</span><span class="token plain">  </span><span class="token number" style="color:rgb(9, 134, 88)">40953856</span><span class="token plain"> </span><span class="token number" style="color:rgb(9, 134, 88)">216293952</span><span class="token plain">     </span><span class="token number" style="color:rgb(9, 134, 88)">81.58</span><span class="token plain">   </span><span class="token number" style="color:rgb(9, 134, 88)">1226816</span><span class="token plain">  </span><span class="token number" style="color:rgb(9, 134, 88)">17106240</span><span class="token plain"> </span><span class="token number" style="color:rgb(9, 134, 88)">277867072</span><span class="token plain">    </span><span class="token number" style="color:rgb(9, 134, 88)">103.18</span><span class="token plain"> </span><span class="token number" style="color:rgb(9, 134, 88)">204313216</span><span class="token plain">  </span><span class="token number" style="color:rgb(9, 134, 88)">20613184</span><span class="token plain">     </span><span class="token number" style="color:rgb(9, 134, 88)">13504</span><span class="token plain"></span><br></span><span class="token-line" style="color:#000000"><span class="token plain"></span><span class="token number" style="color:rgb(9, 134, 88)">20</span><span class="token plain">时35分46秒  </span><span class="token number" style="color:rgb(9, 134, 88)">28269184</span><span class="token plain">  </span><span class="token number" style="color:rgb(9, 134, 88)">40964160</span><span class="token plain"> </span><span class="token number" style="color:rgb(9, 134, 88)">216283584</span><span class="token plain">     </span><span class="token number" style="color:rgb(9, 134, 88)">81.58</span><span class="token plain">   </span><span class="token number" style="color:rgb(9, 134, 88)">1226816</span><span class="token plain">  </span><span class="token number" style="color:rgb(9, 134, 88)">17106240</span><span class="token plain"> </span><span class="token number" style="color:rgb(9, 134, 88)">278041472</span><span class="token plain">    </span><span class="token number" style="color:rgb(9, 134, 88)">103.24</span><span class="token plain"> </span><span class="token number" style="color:rgb(9, 134, 88)">204328896</span><span class="token plain">  </span><span class="token number" style="color:rgb(9, 134, 88)">20613440</span><span class="token plain">     </span><span class="token number" style="color:rgb(9, 134, 88)">13632</span><span class="token plain"></span><br></span><span class="token-line" style="color:#000000"><span class="token plain"></span><span class="token number" style="color:rgb(9, 134, 88)">20</span><span class="token plain">时35分51秒  </span><span class="token number" style="color:rgb(9, 134, 88)">28290112</span><span class="token plain">  </span><span class="token number" style="color:rgb(9, 134, 88)">40985152</span><span class="token plain"> </span><span class="token number" style="color:rgb(9, 134, 88)">216262656</span><span class="token plain">     </span><span class="token number" style="color:rgb(9, 134, 88)">81.57</span><span class="token plain">   </span><span class="token number" style="color:rgb(9, 134, 88)">1226816</span><span class="token plain">  </span><span class="token number" style="color:rgb(9, 134, 88)">17106240</span><span class="token plain"> </span><span class="token number" style="color:rgb(9, 134, 88)">277853056</span><span class="token plain">    </span><span class="token number" style="color:rgb(9, 134, 88)">103.17</span><span class="token plain"> </span><span class="token number" style="color:rgb(9, 134, 88)">204317056</span><span class="token plain">  </span><span class="token number" style="color:rgb(9, 134, 88)">20613568</span><span class="token plain">     </span><span class="token number" style="color:rgb(9, 134, 88)">16384</span><span class="token plain"></span><br></span><span class="token-line" style="color:#000000"><span class="token plain"></span><span class="token number" style="color:rgb(9, 134, 88)">20</span><span class="token plain">时35分56秒  </span><span class="token number" style="color:rgb(9, 134, 88)">28286400</span><span class="token plain">  </span><span class="token number" style="color:rgb(9, 134, 88)">40981440</span><span class="token plain"> </span><span class="token number" style="color:rgb(9, 134, 88)">216266496</span><span class="token plain">     </span><span class="token number" style="color:rgb(9, 134, 88)">81.57</span><span class="token plain">   </span><span class="token number" style="color:rgb(9, 134, 88)">1226816</span><span class="token plain">  </span><span class="token number" style="color:rgb(9, 134, 88)">17106240</span><span class="token plain"> </span><span class="token number" style="color:rgb(9, 134, 88)">277877632</span><span class="token plain">    </span><span class="token number" style="color:rgb(9, 134, 88)">103.18</span><span class="token plain"> </span><span class="token number" style="color:rgb(9, 134, 88)">204314368</span><span class="token plain">  </span><span class="token number" style="color:rgb(9, 134, 88)">20613568</span><span class="token plain">     </span><span class="token number" style="color:rgb(9, 134, 88)">16832</span><span class="token plain"></span><br></span><span class="token-line" style="color:#000000"><span class="token plain"></span><span class="token number" style="color:rgb(9, 134, 88)">20</span><span class="token plain">时36分01秒  </span><span class="token number" style="color:rgb(9, 134, 88)">28298368</span><span class="token plain">  </span><span class="token number" style="color:rgb(9, 134, 88)">40993408</span><span class="token plain"> </span><span class="token number" style="color:rgb(9, 134, 88)">216254592</span><span class="token plain">     </span><span class="token number" style="color:rgb(9, 134, 88)">81.57</span><span class="token plain">   </span><span class="token number" style="color:rgb(9, 134, 88)">1226816</span><span class="token plain">  </span><span class="token number" style="color:rgb(9, 134, 88)">17106240</span><span class="token plain"> </span><span class="token number" style="color:rgb(9, 134, 88)">277867392</span><span class="token plain">    </span><span class="token number" style="color:rgb(9, 134, 88)">103.18</span><span class="token plain"> </span><span class="token number" style="color:rgb(9, 134, 88)">204322240</span><span class="token plain">  </span><span class="token number" style="color:rgb(9, 134, 88)">20613568</span><span class="token plain">     </span><span class="token number" style="color:rgb(9, 134, 88)">17728</span><span class="token plain"></span><br></span><span class="token-line" style="color:#000000"><span class="token plain"></span><span class="token number" style="color:rgb(9, 134, 88)">20</span><span class="token plain">时36分06秒  </span><span class="token number" style="color:rgb(9, 134, 88)">28308352</span><span class="token plain">  </span><span class="token number" style="color:rgb(9, 134, 88)">41003392</span><span class="token plain"> </span><span class="token number" style="color:rgb(9, 134, 88)">216244608</span><span class="token plain">     </span><span class="token number" style="color:rgb(9, 134, 88)">81.57</span><span class="token plain">   </span><span class="token number" style="color:rgb(9, 134, 88)">1226816</span><span class="token plain">  </span><span class="token number" style="color:rgb(9, 134, 88)">17106240</span><span class="token plain"> </span><span class="token number" style="color:rgb(9, 134, 88)">277841728</span><span class="token plain">    </span><span class="token number" style="color:rgb(9, 134, 88)">103.17</span><span class="token plain"> </span><span class="token number" style="color:rgb(9, 134, 88)">204317376</span><span class="token plain">  </span><span class="token number" style="color:rgb(9, 134, 88)">20613568</span><span class="token plain">     </span><span class="token number" style="color:rgb(9, 134, 88)">16512</span><span class="token plain"></span><br></span><span class="token-line" style="color:#000000"><span class="token plain"></span><span class="token number" style="color:rgb(9, 134, 88)">20</span><span class="token plain">时36分11秒  </span><span class="token number" style="color:rgb(9, 134, 88)">28296512</span><span class="token plain">  </span><span class="token number" style="color:rgb(9, 134, 88)">40991552</span><span class="token plain"> </span><span class="token number" style="color:rgb(9, 134, 88)">216256960</span><span class="token plain">     </span><span class="token number" style="color:rgb(9, 134, 88)">81.57</span><span class="token plain">   </span><span class="token number" style="color:rgb(9, 134, 88)">1226816</span><span class="token plain">  </span><span class="token number" style="color:rgb(9, 134, 88)">17106240</span><span class="token plain"> </span><span class="token number" style="color:rgb(9, 134, 88)">277781888</span><span class="token plain">    </span><span class="token number" style="color:rgb(9, 134, 88)">103.14</span><span class="token plain"> </span><span class="token number" style="color:rgb(9, 134, 88)">204318528</span><span class="token plain">  </span><span class="token number" style="color:rgb(9, 134, 88)">20613568</span><span class="token plain">      </span><span class="token number" style="color:rgb(9, 134, 88)">6208</span><span class="token plain"></span><br></span><span class="token-line" style="color:#000000"><span class="token plain"></span><span class="token number" style="color:rgb(9, 134, 88)">20</span><span class="token plain">时36分16秒  </span><span class="token number" style="color:rgb(9, 134, 88)">28291520</span><span class="token plain">  </span><span class="token number" style="color:rgb(9, 134, 88)">40986560</span><span class="token plain"> </span><span class="token number" style="color:rgb(9, 134, 88)">216262400</span><span class="token plain">     </span><span class="token number" style="color:rgb(9, 134, 88)">81.57</span><span class="token plain">   </span><span class="token number" style="color:rgb(9, 134, 88)">1226816</span><span class="token plain">  </span><span class="token number" style="color:rgb(9, 134, 88)">17106240</span><span class="token plain"> </span><span class="token number" style="color:rgb(9, 134, 88)">277813696</span><span class="token plain">    </span><span class="token number" style="color:rgb(9, 134, 88)">103.16</span><span class="token plain"> </span><span class="token number" style="color:rgb(9, 134, 88)">204330688</span><span class="token plain">  </span><span class="token number" style="color:rgb(9, 134, 88)">20613568</span><span class="token plain">     </span><span class="token number" style="color:rgb(9, 134, 88)">12160</span><span class="token plain"></span><br></span><span class="token-line" style="color:#000000"><span class="token plain"></span><span class="token number" style="color:rgb(9, 134, 88)">20</span><span class="token plain">时36分21秒  </span><span class="token number" style="color:rgb(9, 134, 88)">28245952</span><span class="token plain">  </span><span class="token number" style="color:rgb(9, 134, 88)">40940928</span><span class="token plain"> </span><span class="token number" style="color:rgb(9, 134, 88)">216307264</span><span class="token plain">     </span><span class="token number" style="color:rgb(9, 134, 88)">81.59</span><span class="token plain">   </span><span class="token number" style="color:rgb(9, 134, 88)">1226816</span><span class="token plain">  </span><span class="token number" style="color:rgb(9, 134, 88)">17106368</span><span class="token plain"> </span><span class="token number" style="color:rgb(9, 134, 88)">278131072</span><span class="token plain">    </span><span class="token number" style="color:rgb(9, 134, 88)">103.27</span><span class="token plain"> </span><span class="token number" style="color:rgb(9, 134, 88)">204335936</span><span class="token plain">  </span><span class="token number" style="color:rgb(9, 134, 88)">20613568</span><span class="token plain">     </span><span class="token number" style="color:rgb(9, 134, 88)">16704</span><span class="token plain"></span><br></span><span class="token-line" style="color:#000000"><span class="token plain"></span><span class="token number" style="color:rgb(9, 134, 88)">20</span><span class="token plain">时36分26秒  </span><span class="token number" style="color:rgb(9, 134, 88)">28267776</span><span class="token plain">  </span><span class="token number" style="color:rgb(9, 134, 88)">40962816</span><span class="token plain"> </span><span class="token number" style="color:rgb(9, 134, 88)">216285376</span><span class="token plain">     </span><span class="token number" style="color:rgb(9, 134, 88)">81.58</span><span class="token plain">   </span><span class="token number" style="color:rgb(9, 134, 88)">1226816</span><span class="token plain">  </span><span class="token number" style="color:rgb(9, 134, 88)">17106368</span><span class="token plain"> </span><span class="token number" style="color:rgb(9, 134, 88)">277897152</span><span class="token plain">    </span><span class="token number" style="color:rgb(9, 134, 88)">103.19</span><span class="token plain"> </span><span class="token number" style="color:rgb(9, 134, 88)">204326144</span><span class="token plain">  </span><span class="token number" style="color:rgb(9, 134, 88)">20613504</span><span class="token plain">     </span><span class="token number" style="color:rgb(9, 134, 88)">16512</span><span class="token plain"></span><br></span><span class="token-line" style="color:#000000"><span class="token plain">平均时间:  </span><span class="token number" style="color:rgb(9, 134, 88)">28281299</span><span class="token plain">  </span><span class="token number" style="color:rgb(9, 134, 88)">40976326</span><span class="token plain"> </span><span class="token number" style="color:rgb(9, 134, 88)">216271789</span><span class="token plain">     </span><span class="token number" style="color:rgb(9, 134, 88)">81.58</span><span class="token plain">   </span><span class="token number" style="color:rgb(9, 134, 88)">1226816</span><span class="token plain">  </span><span class="token number" style="color:rgb(9, 134, 88)">17106266</span><span class="token plain"> </span><span class="token number" style="color:rgb(9, 134, 88)">277897216</span><span class="token plain">    </span><span class="token number" style="color:rgb(9, 134, 88)">103.19</span><span class="token plain"> </span><span class="token number" style="color:rgb(9, 134, 88)">204322445</span><span class="token plain">  </span><span class="token number" style="color:rgb(9, 134, 88)">20613510</span><span class="token plain">     </span><span class="token number" style="color:rgb(9, 134, 88)">14618</span><span class="token plain"></span><br></span><span class="token-line" style="color:#000000"><span class="token plain"></span><span class="token punctuation" style="color:rgb(4, 81, 165)">[</span><span class="token plain">root@computer1 ~</span><span class="token punctuation" style="color:rgb(4, 81, 165)">]</span><span class="token comment" style="color:rgb(0, 128, 0)">#</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg class="copyButtonIcon_y97N" viewBox="0 0 24 24"><path d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg class="copyButtonSuccessIcon_LjdS" viewBox="0 0 24 24"><path d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><p>输出项说明：</p><div class="language-bash codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#000000;--prism-background-color:#ffffff"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-bash codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#000000"><span class="token plain">kbmemfree:              这个值和free命令中的free值基本一致,所以它不包括buffer和cache的空间.</span><br></span><span class="token-line" style="color:#000000"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#000000"><span class="token plain">kbmemused:              这个值和free命令中的used值基本一致,所以它包括buffer和cache的空间.</span><br></span><span class="token-line" style="color:#000000"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#000000"><span class="token plain">%memused:               这个值是kbmemused和内存总量</span><span class="token punctuation" style="color:rgb(4, 81, 165)">(</span><span class="token plain">不包括swap</span><span class="token punctuation" style="color:rgb(4, 81, 165)">)</span><span class="token plain">的一个百分比.</span><br></span><span class="token-line" style="color:#000000"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#000000"><span class="token plain">kbbuffers   kbcached:   这两个值就是free命令中的buffer和cache.</span><br></span><span class="token-line" style="color:#000000"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#000000"><span class="token plain">kbcommit:               保证当前系统所需要的内存,即为了确保不溢出而需要的内存</span><span class="token punctuation" style="color:rgb(4, 81, 165)">(</span><span class="token plain">RAM+swap</span><span class="token punctuation" style="color:rgb(4, 81, 165)">)</span><span class="token plain">.</span><br></span><span class="token-line" style="color:#000000"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#000000"><span class="token plain">%commit:                这个值是kbcommit与内存总量</span><span class="token punctuation" style="color:rgb(4, 81, 165)">(</span><span class="token plain">包括swap</span><span class="token punctuation" style="color:rgb(4, 81, 165)">)</span><span class="token plain">的一个百分比.</span><br></span><span class="token-line" style="color:#000000"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#000000"><span class="token plain">kbactive:               活动内存的 Kb 数量</span><span class="token punctuation" style="color:rgb(4, 81, 165)">(</span><span class="token plain">最近使用的内存，除非绝对必要，否则通常不会回收</span><span class="token punctuation" style="color:rgb(4, 81, 165)">)</span><span class="token plain">。  </span><br></span><span class="token-line" style="color:#000000"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#000000"><span class="token plain">kbinact:                不活动内存的 Kb 数量</span><span class="token punctuation" style="color:rgb(4, 81, 165)">(</span><span class="token plain">它更适合被回收作其他用途</span><span class="token punctuation" style="color:rgb(4, 81, 165)">)</span><span class="token plain">。  </span><br></span><span class="token-line" style="color:#000000"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#000000"><span class="token plain">kbdirty:                等待写回磁盘的 Kb 内存量</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg class="copyButtonIcon_y97N" viewBox="0 0 24 24"><path d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg class="copyButtonSuccessIcon_LjdS" viewBox="0 0 24 24"><path d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><h3 class="anchor anchorWithHideOnScrollNavbar_WYt5" id="1054内存分页监控">10.5.4、内存分页监控<a href="#1054内存分页监控" class="hash-link" aria-label="Direct link to heading" title="Direct link to heading">​</a></h3><p>每 10s 采样一次，连续采样 3 次，监控内存分页</p><div class="language-bash codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#000000;--prism-background-color:#ffffff"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-bash codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#000000"><span class="token punctuation" style="color:rgb(4, 81, 165)">[</span><span class="token plain">root@computer1 ~</span><span class="token punctuation" style="color:rgb(4, 81, 165)">]</span><span class="token comment" style="color:rgb(0, 128, 0)"># sar -B 10 3</span><span class="token plain"></span><br></span><span class="token-line" style="color:#000000"><span class="token plain">Linux </span><span class="token number" style="color:rgb(9, 134, 88)">4.19</span><span class="token plain">.90-17.ky10.aarch64 </span><span class="token punctuation" style="color:rgb(4, 81, 165)">(</span><span class="token plain">computer1</span><span class="token punctuation" style="color:rgb(4, 81, 165)">)</span><span class="token plain">   </span><span class="token number" style="color:rgb(9, 134, 88)">2021</span><span class="token plain">年07月27日     _aarch64_   </span><span class="token punctuation" style="color:rgb(4, 81, 165)">(</span><span class="token number" style="color:rgb(9, 134, 88)">64</span><span class="token plain"> CPU</span><span class="token punctuation" style="color:rgb(4, 81, 165)">)</span><span class="token plain"></span><br></span><span class="token-line" style="color:#000000"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#000000"><span class="token plain"></span><span class="token number" style="color:rgb(9, 134, 88)">21</span><span class="token plain">时13分20秒  pgpgin/s pgpgout/s   fault/s  majflt/s  pgfree/s pgscank/s pgscand/s pgsteal/s    %vmeff</span><br></span><span class="token-line" style="color:#000000"><span class="token plain"></span><span class="token number" style="color:rgb(9, 134, 88)">21</span><span class="token plain">时13分30秒      </span><span class="token number" style="color:rgb(9, 134, 88)">0.00</span><span class="token plain">   </span><span class="token number" style="color:rgb(9, 134, 88)">1645.60</span><span class="token plain">   </span><span class="token number" style="color:rgb(9, 134, 88)">1915.10</span><span class="token plain">      </span><span class="token number" style="color:rgb(9, 134, 88)">0.00</span><span class="token plain">   </span><span class="token number" style="color:rgb(9, 134, 88)">1257.10</span><span class="token plain">      </span><span class="token number" style="color:rgb(9, 134, 88)">0.00</span><span class="token plain">      </span><span class="token number" style="color:rgb(9, 134, 88)">0.00</span><span class="token plain">      </span><span class="token number" style="color:rgb(9, 134, 88)">0.00</span><span class="token plain">      </span><span class="token number" style="color:rgb(9, 134, 88)">0.00</span><span class="token plain"></span><br></span><span class="token-line" style="color:#000000"><span class="token plain"></span><span class="token number" style="color:rgb(9, 134, 88)">21</span><span class="token plain">时13分40秒      </span><span class="token number" style="color:rgb(9, 134, 88)">0.00</span><span class="token plain">     </span><span class="token number" style="color:rgb(9, 134, 88)">16.00</span><span class="token plain">   </span><span class="token number" style="color:rgb(9, 134, 88)">3075.40</span><span class="token plain">      </span><span class="token number" style="color:rgb(9, 134, 88)">0.00</span><span class="token plain">   </span><span class="token number" style="color:rgb(9, 134, 88)">1614.90</span><span class="token plain">      </span><span class="token number" style="color:rgb(9, 134, 88)">0.00</span><span class="token plain">      </span><span class="token number" style="color:rgb(9, 134, 88)">0.00</span><span class="token plain">      </span><span class="token number" style="color:rgb(9, 134, 88)">0.00</span><span class="token plain">      </span><span class="token number" style="color:rgb(9, 134, 88)">0.00</span><span class="token plain"></span><br></span><span class="token-line" style="color:#000000"><span class="token plain"></span><span class="token number" style="color:rgb(9, 134, 88)">21</span><span class="token plain">时13分50秒      </span><span class="token number" style="color:rgb(9, 134, 88)">0.00</span><span class="token plain">     </span><span class="token number" style="color:rgb(9, 134, 88)">30.00</span><span class="token plain">   </span><span class="token number" style="color:rgb(9, 134, 88)">1549.10</span><span class="token plain">      </span><span class="token number" style="color:rgb(9, 134, 88)">0.00</span><span class="token plain">   </span><span class="token number" style="color:rgb(9, 134, 88)">1056.40</span><span class="token plain">      </span><span class="token number" style="color:rgb(9, 134, 88)">0.00</span><span class="token plain">      </span><span class="token number" style="color:rgb(9, 134, 88)">0.00</span><span class="token plain">      </span><span class="token number" style="color:rgb(9, 134, 88)">0.00</span><span class="token plain">      </span><span class="token number" style="color:rgb(9, 134, 88)">0.00</span><span class="token plain"></span><br></span><span class="token-line" style="color:#000000"><span class="token plain">平均时间:      </span><span class="token number" style="color:rgb(9, 134, 88)">0.00</span><span class="token plain">    </span><span class="token number" style="color:rgb(9, 134, 88)">563.87</span><span class="token plain">   </span><span class="token number" style="color:rgb(9, 134, 88)">2179.87</span><span class="token plain">      </span><span class="token number" style="color:rgb(9, 134, 88)">0.00</span><span class="token plain">   </span><span class="token number" style="color:rgb(9, 134, 88)">1309.47</span><span class="token plain">      </span><span class="token number" style="color:rgb(9, 134, 88)">0.00</span><span class="token plain">      </span><span class="token number" style="color:rgb(9, 134, 88)">0.00</span><span class="token plain">      </span><span class="token number" style="color:rgb(9, 134, 88)">0.00</span><span class="token plain">      </span><span class="token number" style="color:rgb(9, 134, 88)">0.00</span><span class="token plain"></span><br></span><span class="token-line" style="color:#000000"><span class="token plain"></span><span class="token punctuation" style="color:rgb(4, 81, 165)">[</span><span class="token plain">root@computer1 ~</span><span class="token punctuation" style="color:rgb(4, 81, 165)">]</span><span class="token comment" style="color:rgb(0, 128, 0)">#</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg class="copyButtonIcon_y97N" viewBox="0 0 24 24"><path d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg class="copyButtonSuccessIcon_LjdS" viewBox="0 0 24 24"><path d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><p>输出项说明：</p><div class="language-bash codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#000000;--prism-background-color:#ffffff"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-bash codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#000000"><span class="token plain">pgpgin/s:   表示每秒从磁盘或SWAP置换到内存的字节数</span><span class="token punctuation" style="color:rgb(4, 81, 165)">(</span><span class="token plain">KB</span><span class="token punctuation" style="color:rgb(4, 81, 165)">)</span><span class="token plain"></span><br></span><span class="token-line" style="color:#000000"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#000000"><span class="token plain">pgpgout/s:  表示每秒从内存置换到磁盘或SWAP的字节数</span><span class="token punctuation" style="color:rgb(4, 81, 165)">(</span><span class="token plain">KB</span><span class="token punctuation" style="color:rgb(4, 81, 165)">)</span><span class="token plain"></span><br></span><span class="token-line" style="color:#000000"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#000000"><span class="token plain">fault/s:    每秒钟系统产生的缺页数,即主缺页与次缺页之和</span><span class="token punctuation" style="color:rgb(4, 81, 165)">(</span><span class="token plain">major +minor</span><span class="token punctuation" style="color:rgb(4, 81, 165)">)</span><span class="token plain"></span><br></span><span class="token-line" style="color:#000000"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#000000"><span class="token plain">majflt/s:   每秒钟产生的主缺页数.</span><br></span><span class="token-line" style="color:#000000"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#000000"><span class="token plain">pgfree/s:   每秒被放入空闲队列中的页个数</span><br></span><span class="token-line" style="color:#000000"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#000000"><span class="token plain">pgscank/s:  每秒被kswapd扫描的页个数</span><br></span><span class="token-line" style="color:#000000"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#000000"><span class="token plain">pgscand/s:  每秒直接被扫描的页个数</span><br></span><span class="token-line" style="color:#000000"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#000000"><span class="token plain">pgsteal/s:  每秒钟从cache中被清除来满足内存需要的页个数</span><br></span><span class="token-line" style="color:#000000"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#000000"><span class="token plain">%vmeff:     每秒清除的页</span><span class="token punctuation" style="color:rgb(4, 81, 165)">(</span><span class="token plain">pgsteal</span><span class="token punctuation" style="color:rgb(4, 81, 165)">)</span><span class="token plain">占总扫描页</span><span class="token punctuation" style="color:rgb(4, 81, 165)">(</span><span class="token plain">pgscank+pgscand</span><span class="token punctuation" style="color:rgb(4, 81, 165)">)</span><span class="token plain">的百分比</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg class="copyButtonIcon_y97N" viewBox="0 0 24 24"><path d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg class="copyButtonSuccessIcon_LjdS" viewBox="0 0 24 24"><path d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><h3 class="anchor anchorWithHideOnScrollNavbar_WYt5" id="1055io-和传送速率监控">10.5.5、I/O 和传送速率监控<a href="#1055io-和传送速率监控" class="hash-link" aria-label="Direct link to heading" title="Direct link to heading">​</a></h3><p>每 5s 采样一次，连续采样 10 次，报告缓冲区的使用情况</p><div class="language-bash codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#000000;--prism-background-color:#ffffff"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-bash codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#000000"><span class="token punctuation" style="color:rgb(4, 81, 165)">[</span><span class="token plain">root@computer1 ~</span><span class="token punctuation" style="color:rgb(4, 81, 165)">]</span><span class="token comment" style="color:rgb(0, 128, 0)"># sar -b 5 10</span><span class="token plain"></span><br></span><span class="token-line" style="color:#000000"><span class="token plain">Linux </span><span class="token number" style="color:rgb(9, 134, 88)">4.19</span><span class="token plain">.90-17.ky10.aarch64 </span><span class="token punctuation" style="color:rgb(4, 81, 165)">(</span><span class="token plain">computer1</span><span class="token punctuation" style="color:rgb(4, 81, 165)">)</span><span class="token plain">   </span><span class="token number" style="color:rgb(9, 134, 88)">2021</span><span class="token plain">年07月27日     _aarch64_   </span><span class="token punctuation" style="color:rgb(4, 81, 165)">(</span><span class="token number" style="color:rgb(9, 134, 88)">64</span><span class="token plain"> CPU</span><span class="token punctuation" style="color:rgb(4, 81, 165)">)</span><span class="token plain"></span><br></span><span class="token-line" style="color:#000000"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#000000"><span class="token plain"></span><span class="token number" style="color:rgb(9, 134, 88)">21</span><span class="token plain">时30分27秒       tps      rtps      wtps      dtps   bread/s   bwrtn/s   bdscd/s</span><br></span><span class="token-line" style="color:#000000"><span class="token plain"></span><span class="token number" style="color:rgb(9, 134, 88)">21</span><span class="token plain">时30分32秒     </span><span class="token number" style="color:rgb(9, 134, 88)">35.00</span><span class="token plain">      </span><span class="token number" style="color:rgb(9, 134, 88)">0.00</span><span class="token plain">     </span><span class="token number" style="color:rgb(9, 134, 88)">35.00</span><span class="token plain">      </span><span class="token number" style="color:rgb(9, 134, 88)">0.00</span><span class="token plain">      </span><span class="token number" style="color:rgb(9, 134, 88)">0.00</span><span class="token plain">   </span><span class="token number" style="color:rgb(9, 134, 88)">6604.80</span><span class="token plain">      </span><span class="token number" style="color:rgb(9, 134, 88)">0.00</span><span class="token plain"></span><br></span><span class="token-line" style="color:#000000"><span class="token plain"></span><span class="token number" style="color:rgb(9, 134, 88)">21</span><span class="token plain">时30分37秒      </span><span class="token number" style="color:rgb(9, 134, 88)">0.60</span><span class="token plain">      </span><span class="token number" style="color:rgb(9, 134, 88)">0.00</span><span class="token plain">      </span><span class="token number" style="color:rgb(9, 134, 88)">0.60</span><span class="token plain">      </span><span class="token number" style="color:rgb(9, 134, 88)">0.00</span><span class="token plain">      </span><span class="token number" style="color:rgb(9, 134, 88)">0.00</span><span class="token plain">     </span><span class="token number" style="color:rgb(9, 134, 88)">46.40</span><span class="token plain">      </span><span class="token number" style="color:rgb(9, 134, 88)">0.00</span><span class="token plain"></span><br></span><span class="token-line" style="color:#000000"><span class="token plain"></span><span class="token number" style="color:rgb(9, 134, 88)">21</span><span class="token plain">时30分42秒      </span><span class="token number" style="color:rgb(9, 134, 88)">0.60</span><span class="token plain">      </span><span class="token number" style="color:rgb(9, 134, 88)">0.00</span><span class="token plain">      </span><span class="token number" style="color:rgb(9, 134, 88)">0.60</span><span class="token plain">      </span><span class="token number" style="color:rgb(9, 134, 88)">0.00</span><span class="token plain">      </span><span class="token number" style="color:rgb(9, 134, 88)">0.00</span><span class="token plain">     </span><span class="token number" style="color:rgb(9, 134, 88)">41.60</span><span class="token plain">      </span><span class="token number" style="color:rgb(9, 134, 88)">0.00</span><span class="token plain"></span><br></span><span class="token-line" style="color:#000000"><span class="token plain"></span><span class="token number" style="color:rgb(9, 134, 88)">21</span><span class="token plain">时30分47秒      </span><span class="token number" style="color:rgb(9, 134, 88)">6.80</span><span class="token plain">      </span><span class="token number" style="color:rgb(9, 134, 88)">0.00</span><span class="token plain">      </span><span class="token number" style="color:rgb(9, 134, 88)">6.80</span><span class="token plain">      </span><span class="token number" style="color:rgb(9, 134, 88)">0.00</span><span class="token plain">      </span><span class="token number" style="color:rgb(9, 134, 88)">0.00</span><span class="token plain">     </span><span class="token number" style="color:rgb(9, 134, 88)">88.00</span><span class="token plain">      </span><span class="token number" style="color:rgb(9, 134, 88)">0.00</span><span class="token plain"></span><br></span><span class="token-line" style="color:#000000"><span class="token plain"></span><span class="token number" style="color:rgb(9, 134, 88)">21</span><span class="token plain">时30分52秒      </span><span class="token number" style="color:rgb(9, 134, 88)">0.60</span><span class="token plain">      </span><span class="token number" style="color:rgb(9, 134, 88)">0.00</span><span class="token plain">      </span><span class="token number" style="color:rgb(9, 134, 88)">0.60</span><span class="token plain">      </span><span class="token number" style="color:rgb(9, 134, 88)">0.00</span><span class="token plain">      </span><span class="token number" style="color:rgb(9, 134, 88)">0.00</span><span class="token plain">     </span><span class="token number" style="color:rgb(9, 134, 88)">25.60</span><span class="token plain">      </span><span class="token number" style="color:rgb(9, 134, 88)">0.00</span><span class="token plain"></span><br></span><span class="token-line" style="color:#000000"><span class="token plain"></span><span class="token number" style="color:rgb(9, 134, 88)">21</span><span class="token plain">时30分57秒      </span><span class="token number" style="color:rgb(9, 134, 88)">0.40</span><span class="token plain">      </span><span class="token number" style="color:rgb(9, 134, 88)">0.00</span><span class="token plain">      </span><span class="token number" style="color:rgb(9, 134, 88)">0.40</span><span class="token plain">      </span><span class="token number" style="color:rgb(9, 134, 88)">0.00</span><span class="token plain">      </span><span class="token number" style="color:rgb(9, 134, 88)">0.00</span><span class="token plain">     </span><span class="token number" style="color:rgb(9, 134, 88)">40.00</span><span class="token plain">      </span><span class="token number" style="color:rgb(9, 134, 88)">0.00</span><span class="token plain"></span><br></span><span class="token-line" style="color:#000000"><span class="token plain"></span><span class="token number" style="color:rgb(9, 134, 88)">21</span><span class="token plain">时31分02秒      </span><span class="token number" style="color:rgb(9, 134, 88)">0.40</span><span class="token plain">      </span><span class="token number" style="color:rgb(9, 134, 88)">0.00</span><span class="token plain">      </span><span class="token number" style="color:rgb(9, 134, 88)">0.40</span><span class="token plain">      </span><span class="token number" style="color:rgb(9, 134, 88)">0.00</span><span class="token plain">      </span><span class="token number" style="color:rgb(9, 134, 88)">0.00</span><span class="token plain">     </span><span class="token number" style="color:rgb(9, 134, 88)">17.60</span><span class="token plain">      </span><span class="token number" style="color:rgb(9, 134, 88)">0.00</span><span class="token plain"></span><br></span><span class="token-line" style="color:#000000"><span class="token plain"></span><span class="token number" style="color:rgb(9, 134, 88)">21</span><span class="token plain">时31分07秒     </span><span class="token number" style="color:rgb(9, 134, 88)">41.20</span><span class="token plain">      </span><span class="token number" style="color:rgb(9, 134, 88)">0.00</span><span class="token plain">     </span><span class="token number" style="color:rgb(9, 134, 88)">41.20</span><span class="token plain">      </span><span class="token number" style="color:rgb(9, 134, 88)">0.00</span><span class="token plain">      </span><span class="token number" style="color:rgb(9, 134, 88)">0.00</span><span class="token plain">   </span><span class="token number" style="color:rgb(9, 134, 88)">7300.80</span><span class="token plain">      </span><span class="token number" style="color:rgb(9, 134, 88)">0.00</span><span class="token plain"></span><br></span><span class="token-line" style="color:#000000"><span class="token plain"></span><span class="token number" style="color:rgb(9, 134, 88)">21</span><span class="token plain">时31分12秒      </span><span class="token number" style="color:rgb(9, 134, 88)">0.60</span><span class="token plain">      </span><span class="token number" style="color:rgb(9, 134, 88)">0.00</span><span class="token plain">      </span><span class="token number" style="color:rgb(9, 134, 88)">0.60</span><span class="token plain">      </span><span class="token number" style="color:rgb(9, 134, 88)">0.00</span><span class="token plain">      </span><span class="token number" style="color:rgb(9, 134, 88)">0.00</span><span class="token plain">     </span><span class="token number" style="color:rgb(9, 134, 88)">32.00</span><span class="token plain">      </span><span class="token number" style="color:rgb(9, 134, 88)">0.00</span><span class="token plain"></span><br></span><span class="token-line" style="color:#000000"><span class="token plain"></span><span class="token number" style="color:rgb(9, 134, 88)">21</span><span class="token plain">时31分17秒      </span><span class="token number" style="color:rgb(9, 134, 88)">0.60</span><span class="token plain">      </span><span class="token number" style="color:rgb(9, 134, 88)">0.00</span><span class="token plain">      </span><span class="token number" style="color:rgb(9, 134, 88)">0.60</span><span class="token plain">      </span><span class="token number" style="color:rgb(9, 134, 88)">0.00</span><span class="token plain">      </span><span class="token number" style="color:rgb(9, 134, 88)">0.00</span><span class="token plain">     </span><span class="token number" style="color:rgb(9, 134, 88)">40.00</span><span class="token plain">      </span><span class="token number" style="color:rgb(9, 134, 88)">0.00</span><span class="token plain"></span><br></span><span class="token-line" style="color:#000000"><span class="token plain">平均时间:      </span><span class="token number" style="color:rgb(9, 134, 88)">8.68</span><span class="token plain">      </span><span class="token number" style="color:rgb(9, 134, 88)">0.00</span><span class="token plain">      </span><span class="token number" style="color:rgb(9, 134, 88)">8.68</span><span class="token plain">      </span><span class="token number" style="color:rgb(9, 134, 88)">0.00</span><span class="token plain">      </span><span class="token number" style="color:rgb(9, 134, 88)">0.00</span><span class="token plain">   </span><span class="token number" style="color:rgb(9, 134, 88)">1423.68</span><span class="token plain">      </span><span class="token number" style="color:rgb(9, 134, 88)">0.00</span><span class="token plain"></span><br></span><span class="token-line" style="color:#000000"><span class="token plain"></span><span class="token punctuation" style="color:rgb(4, 81, 165)">[</span><span class="token plain">root@computer1 ~</span><span class="token punctuation" style="color:rgb(4, 81, 165)">]</span><span class="token comment" style="color:rgb(0, 128, 0)">#</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg class="copyButtonIcon_y97N" viewBox="0 0 24 24"><path d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg class="copyButtonSuccessIcon_LjdS" viewBox="0 0 24 24"><path d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><p>输出项说明：</p><div class="language-bash codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#000000;--prism-background-color:#ffffff"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-bash codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#000000"><span class="token plain">tps:        每秒钟物理设备的 I/O传输总量</span><br></span><span class="token-line" style="color:#000000"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#000000"><span class="token plain">rtps:       每秒钟从物理设备读入的数据总量</span><br></span><span class="token-line" style="color:#000000"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#000000"><span class="token plain">wtps:       每秒钟向物理设备写入的数据总量</span><br></span><span class="token-line" style="color:#000000"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#000000"><span class="token plain">bread/s:    每秒钟从物理设备读入的数据量，单位为块/s</span><br></span><span class="token-line" style="color:#000000"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#000000"><span class="token plain">bwrtn/s:    每秒钟向物理设备写入的数据量，单位为块/s</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg class="copyButtonIcon_y97N" viewBox="0 0 24 24"><path d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg class="copyButtonSuccessIcon_LjdS" viewBox="0 0 24 24"><path d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><h3 class="anchor anchorWithHideOnScrollNavbar_WYt5" id="1056进程队列长度和平均负载状态监控">10.5.6、进程队列长度和平均负载状态监控<a href="#1056进程队列长度和平均负载状态监控" class="hash-link" aria-label="Direct link to heading" title="Direct link to heading">​</a></h3><p>每 5s 采样一次，连续采样 10 次，监控进程队列长度和平均负载状态</p><div class="language-bash codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#000000;--prism-background-color:#ffffff"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-bash codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#000000"><span class="token punctuation" style="color:rgb(4, 81, 165)">[</span><span class="token plain">root@computer1 ~</span><span class="token punctuation" style="color:rgb(4, 81, 165)">]</span><span class="token comment" style="color:rgb(0, 128, 0)"># sar -q 5 10</span><span class="token plain"></span><br></span><span class="token-line" style="color:#000000"><span class="token plain">Linux </span><span class="token number" style="color:rgb(9, 134, 88)">4.19</span><span class="token plain">.90-17.ky10.aarch64 </span><span class="token punctuation" style="color:rgb(4, 81, 165)">(</span><span class="token plain">computer1</span><span class="token punctuation" style="color:rgb(4, 81, 165)">)</span><span class="token plain">   </span><span class="token number" style="color:rgb(9, 134, 88)">2021</span><span class="token plain">年07月27日     _aarch64_   </span><span class="token punctuation" style="color:rgb(4, 81, 165)">(</span><span class="token number" style="color:rgb(9, 134, 88)">64</span><span class="token plain"> CPU</span><span class="token punctuation" style="color:rgb(4, 81, 165)">)</span><span class="token plain"></span><br></span><span class="token-line" style="color:#000000"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#000000"><span class="token plain"></span><span class="token number" style="color:rgb(9, 134, 88)">21</span><span class="token plain">时36分13秒   runq-sz  plist-sz   ldavg-1   ldavg-5  ldavg-15   blocked</span><br></span><span class="token-line" style="color:#000000"><span class="token plain"></span><span class="token number" style="color:rgb(9, 134, 88)">21</span><span class="token plain">时36分18秒         </span><span class="token number" style="color:rgb(9, 134, 88)">4</span><span class="token plain">      </span><span class="token number" style="color:rgb(9, 134, 88)">2469</span><span class="token plain">      </span><span class="token number" style="color:rgb(9, 134, 88)">6.88</span><span class="token plain">      </span><span class="token number" style="color:rgb(9, 134, 88)">6.89</span><span class="token plain">      </span><span class="token number" style="color:rgb(9, 134, 88)">6.92</span><span class="token plain">         </span><span class="token number" style="color:rgb(9, 134, 88)">0</span><span class="token plain"></span><br></span><span class="token-line" style="color:#000000"><span class="token plain"></span><span class="token number" style="color:rgb(9, 134, 88)">21</span><span class="token plain">时36分23秒         </span><span class="token number" style="color:rgb(9, 134, 88)">5</span><span class="token plain">      </span><span class="token number" style="color:rgb(9, 134, 88)">2462</span><span class="token plain">      </span><span class="token number" style="color:rgb(9, 134, 88)">6.65</span><span class="token plain">      </span><span class="token number" style="color:rgb(9, 134, 88)">6.84</span><span class="token plain">      </span><span class="token number" style="color:rgb(9, 134, 88)">6.91</span><span class="token plain">         </span><span class="token number" style="color:rgb(9, 134, 88)">0</span><span class="token plain"></span><br></span><span class="token-line" style="color:#000000"><span class="token plain"></span><span class="token number" style="color:rgb(9, 134, 88)">21</span><span class="token plain">时36分28秒         </span><span class="token number" style="color:rgb(9, 134, 88)">6</span><span class="token plain">      </span><span class="token number" style="color:rgb(9, 134, 88)">2462</span><span class="token plain">      </span><span class="token number" style="color:rgb(9, 134, 88)">6.68</span><span class="token plain">      </span><span class="token number" style="color:rgb(9, 134, 88)">6.84</span><span class="token plain">      </span><span class="token number" style="color:rgb(9, 134, 88)">6.91</span><span class="token plain">         </span><span class="token number" style="color:rgb(9, 134, 88)">0</span><span class="token plain"></span><br></span><span class="token-line" style="color:#000000"><span class="token plain"></span><span class="token number" style="color:rgb(9, 134, 88)">21</span><span class="token plain">时36分33秒         </span><span class="token number" style="color:rgb(9, 134, 88)">2</span><span class="token plain">      </span><span class="token number" style="color:rgb(9, 134, 88)">2462</span><span class="token plain">      </span><span class="token number" style="color:rgb(9, 134, 88)">6.30</span><span class="token plain">      </span><span class="token number" style="color:rgb(9, 134, 88)">6.76</span><span class="token plain">      </span><span class="token number" style="color:rgb(9, 134, 88)">6.88</span><span class="token plain">         </span><span class="token number" style="color:rgb(9, 134, 88)">0</span><span class="token plain"></span><br></span><span class="token-line" style="color:#000000"><span class="token plain"></span><span class="token number" style="color:rgb(9, 134, 88)">21</span><span class="token plain">时36分38秒         </span><span class="token number" style="color:rgb(9, 134, 88)">6</span><span class="token plain">      </span><span class="token number" style="color:rgb(9, 134, 88)">2471</span><span class="token plain">      </span><span class="token number" style="color:rgb(9, 134, 88)">5.96</span><span class="token plain">      </span><span class="token number" style="color:rgb(9, 134, 88)">6.68</span><span class="token plain">      </span><span class="token number" style="color:rgb(9, 134, 88)">6.85</span><span class="token plain">         </span><span class="token number" style="color:rgb(9, 134, 88)">0</span><span class="token plain"></span><br></span><span class="token-line" style="color:#000000"><span class="token plain"></span><span class="token number" style="color:rgb(9, 134, 88)">21</span><span class="token plain">时36分43秒         </span><span class="token number" style="color:rgb(9, 134, 88)">4</span><span class="token plain">      </span><span class="token number" style="color:rgb(9, 134, 88)">2488</span><span class="token plain">      </span><span class="token number" style="color:rgb(9, 134, 88)">6.12</span><span class="token plain">      </span><span class="token number" style="color:rgb(9, 134, 88)">6.70</span><span class="token plain">      </span><span class="token number" style="color:rgb(9, 134, 88)">6.86</span><span class="token plain">         </span><span class="token number" style="color:rgb(9, 134, 88)">0</span><span class="token plain"></span><br></span><span class="token-line" style="color:#000000"><span class="token plain"></span><span class="token number" style="color:rgb(9, 134, 88)">21</span><span class="token plain">时36分48秒         </span><span class="token number" style="color:rgb(9, 134, 88)">2</span><span class="token plain">      </span><span class="token number" style="color:rgb(9, 134, 88)">2462</span><span class="token plain">      </span><span class="token number" style="color:rgb(9, 134, 88)">5.79</span><span class="token plain">      </span><span class="token number" style="color:rgb(9, 134, 88)">6.63</span><span class="token plain">      </span><span class="token number" style="color:rgb(9, 134, 88)">6.83</span><span class="token plain">         </span><span class="token number" style="color:rgb(9, 134, 88)">0</span><span class="token plain"></span><br></span><span class="token-line" style="color:#000000"><span class="token plain"></span><span class="token number" style="color:rgb(9, 134, 88)">21</span><span class="token plain">时36分53秒         </span><span class="token number" style="color:rgb(9, 134, 88)">7</span><span class="token plain">      </span><span class="token number" style="color:rgb(9, 134, 88)">2462</span><span class="token plain">      </span><span class="token number" style="color:rgb(9, 134, 88)">5.41</span><span class="token plain">      </span><span class="token number" style="color:rgb(9, 134, 88)">6.53</span><span class="token plain">      </span><span class="token number" style="color:rgb(9, 134, 88)">6.80</span><span class="token plain">         </span><span class="token number" style="color:rgb(9, 134, 88)">0</span><span class="token plain"></span><br></span><span class="token-line" style="color:#000000"><span class="token plain"></span><span class="token number" style="color:rgb(9, 134, 88)">21</span><span class="token plain">时36分58秒         </span><span class="token number" style="color:rgb(9, 134, 88)">4</span><span class="token plain">      </span><span class="token number" style="color:rgb(9, 134, 88)">2471</span><span class="token plain">      </span><span class="token number" style="color:rgb(9, 134, 88)">6.18</span><span class="token plain">      </span><span class="token number" style="color:rgb(9, 134, 88)">6.67</span><span class="token plain">      </span><span class="token number" style="color:rgb(9, 134, 88)">6.85</span><span class="token plain">         </span><span class="token number" style="color:rgb(9, 134, 88)">0</span><span class="token plain"></span><br></span><span class="token-line" style="color:#000000"><span class="token plain"></span><span class="token number" style="color:rgb(9, 134, 88)">21</span><span class="token plain">时37分03秒        </span><span class="token number" style="color:rgb(9, 134, 88)">14</span><span class="token plain">      </span><span class="token number" style="color:rgb(9, 134, 88)">2464</span><span class="token plain">      </span><span class="token number" style="color:rgb(9, 134, 88)">6.48</span><span class="token plain">      </span><span class="token number" style="color:rgb(9, 134, 88)">6.73</span><span class="token plain">      </span><span class="token number" style="color:rgb(9, 134, 88)">6.86</span><span class="token plain">         </span><span class="token number" style="color:rgb(9, 134, 88)">0</span><span class="token plain"></span><br></span><span class="token-line" style="color:#000000"><span class="token plain">平均时间:         </span><span class="token number" style="color:rgb(9, 134, 88)">5</span><span class="token plain">      </span><span class="token number" style="color:rgb(9, 134, 88)">2467</span><span class="token plain">      </span><span class="token number" style="color:rgb(9, 134, 88)">6.25</span><span class="token plain">      </span><span class="token number" style="color:rgb(9, 134, 88)">6.73</span><span class="token plain">      </span><span class="token number" style="color:rgb(9, 134, 88)">6.87</span><span class="token plain">         </span><span class="token number" style="color:rgb(9, 134, 88)">0</span><span class="token plain"></span><br></span><span class="token-line" style="color:#000000"><span class="token plain"></span><span class="token punctuation" style="color:rgb(4, 81, 165)">[</span><span class="token plain">root@computer1 ~</span><span class="token punctuation" style="color:rgb(4, 81, 165)">]</span><span class="token comment" style="color:rgb(0, 128, 0)">#</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg class="copyButtonIcon_y97N" viewBox="0 0 24 24"><path d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg class="copyButtonSuccessIcon_LjdS" viewBox="0 0 24 24"><path d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><p>输出项说明：</p><div class="language-bash codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#000000;--prism-background-color:#ffffff"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-bash codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#000000"><span class="token plain">runq-sz:    运行队列的长度（等待运行的进程数）</span><br></span><span class="token-line" style="color:#000000"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#000000"><span class="token plain">plist-sz:   进程列表中进程（processes）和线程（threads）的数量</span><br></span><span class="token-line" style="color:#000000"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#000000"><span class="token plain">ldavg-1:    最后1分钟的系统平均负载（Systemload average）</span><br></span><span class="token-line" style="color:#000000"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#000000"><span class="token plain">ldavg-5:    过去5分钟的系统平均负载</span><br></span><span class="token-line" style="color:#000000"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#000000"><span class="token plain">ldavg-15:   过去15分钟的系统平均负载</span><br></span><span class="token-line" style="color:#000000"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#000000"><span class="token plain">blocked:    当前等待I/O完成而阻塞的任务数</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg class="copyButtonIcon_y97N" viewBox="0 0 24 24"><path d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg class="copyButtonSuccessIcon_LjdS" viewBox="0 0 24 24"><path d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><h3 class="anchor anchorWithHideOnScrollNavbar_WYt5" id="1057系统交换活动信息监控">10.5.7、系统交换活动信息监控<a href="#1057系统交换活动信息监控" class="hash-link" aria-label="Direct link to heading" title="Direct link to heading">​</a></h3><p>每 5s 采样一次，连续采样 10 次，监控系统交换活动信息</p><div class="language-bash codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#000000;--prism-background-color:#ffffff"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-bash codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#000000"><span class="token punctuation" style="color:rgb(4, 81, 165)">[</span><span class="token plain">root@computer1 ~</span><span class="token punctuation" style="color:rgb(4, 81, 165)">]</span><span class="token comment" style="color:rgb(0, 128, 0)"># sar -W 5 10</span><span class="token plain"></span><br></span><span class="token-line" style="color:#000000"><span class="token plain">Linux </span><span class="token number" style="color:rgb(9, 134, 88)">4.19</span><span class="token plain">.90-17.ky10.aarch64 </span><span class="token punctuation" style="color:rgb(4, 81, 165)">(</span><span class="token plain">computer1</span><span class="token punctuation" style="color:rgb(4, 81, 165)">)</span><span class="token plain">   </span><span class="token number" style="color:rgb(9, 134, 88)">2021</span><span class="token plain">年07月27日     _aarch64_   </span><span class="token punctuation" style="color:rgb(4, 81, 165)">(</span><span class="token number" style="color:rgb(9, 134, 88)">64</span><span class="token plain"> CPU</span><span class="token punctuation" style="color:rgb(4, 81, 165)">)</span><span class="token plain"></span><br></span><span class="token-line" style="color:#000000"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#000000"><span class="token plain"></span><span class="token number" style="color:rgb(9, 134, 88)">21</span><span class="token plain">时43分30秒  pswpin/s pswpout/s</span><br></span><span class="token-line" style="color:#000000"><span class="token plain"></span><span class="token number" style="color:rgb(9, 134, 88)">21</span><span class="token plain">时43分35秒      </span><span class="token number" style="color:rgb(9, 134, 88)">0.00</span><span class="token plain">      </span><span class="token number" style="color:rgb(9, 134, 88)">0.00</span><span class="token plain"></span><br></span><span class="token-line" style="color:#000000"><span class="token plain"></span><span class="token number" style="color:rgb(9, 134, 88)">21</span><span class="token plain">时43分40秒      </span><span class="token number" style="color:rgb(9, 134, 88)">0.00</span><span class="token plain">      </span><span class="token number" style="color:rgb(9, 134, 88)">0.00</span><span class="token plain"></span><br></span><span class="token-line" style="color:#000000"><span class="token plain"></span><span class="token number" style="color:rgb(9, 134, 88)">21</span><span class="token plain">时43分45秒      </span><span class="token number" style="color:rgb(9, 134, 88)">0.00</span><span class="token plain">      </span><span class="token number" style="color:rgb(9, 134, 88)">0.00</span><span class="token plain"></span><br></span><span class="token-line" style="color:#000000"><span class="token plain"></span><span class="token number" style="color:rgb(9, 134, 88)">21</span><span class="token plain">时43分50秒      </span><span class="token number" style="color:rgb(9, 134, 88)">0.00</span><span class="token plain">      </span><span class="token number" style="color:rgb(9, 134, 88)">0.00</span><span class="token plain"></span><br></span><span class="token-line" style="color:#000000"><span class="token plain"></span><span class="token number" style="color:rgb(9, 134, 88)">21</span><span class="token plain">时43分55秒      </span><span class="token number" style="color:rgb(9, 134, 88)">0.00</span><span class="token plain">      </span><span class="token number" style="color:rgb(9, 134, 88)">0.00</span><span class="token plain"></span><br></span><span class="token-line" style="color:#000000"><span class="token plain"></span><span class="token number" style="color:rgb(9, 134, 88)">21</span><span class="token plain">时44分00秒      </span><span class="token number" style="color:rgb(9, 134, 88)">0.00</span><span class="token plain">      </span><span class="token number" style="color:rgb(9, 134, 88)">0.00</span><span class="token plain"></span><br></span><span class="token-line" style="color:#000000"><span class="token plain"></span><span class="token number" style="color:rgb(9, 134, 88)">21</span><span class="token plain">时44分05秒      </span><span class="token number" style="color:rgb(9, 134, 88)">0.00</span><span class="token plain">      </span><span class="token number" style="color:rgb(9, 134, 88)">0.00</span><span class="token plain"></span><br></span><span class="token-line" style="color:#000000"><span class="token plain"></span><span class="token number" style="color:rgb(9, 134, 88)">21</span><span class="token plain">时44分10秒      </span><span class="token number" style="color:rgb(9, 134, 88)">0.00</span><span class="token plain">      </span><span class="token number" style="color:rgb(9, 134, 88)">0.00</span><span class="token plain"></span><br></span><span class="token-line" style="color:#000000"><span class="token plain"></span><span class="token number" style="color:rgb(9, 134, 88)">21</span><span class="token plain">时44分15秒      </span><span class="token number" style="color:rgb(9, 134, 88)">0.00</span><span class="token plain">      </span><span class="token number" style="color:rgb(9, 134, 88)">0.00</span><span class="token plain"></span><br></span><span class="token-line" style="color:#000000"><span class="token plain"></span><span class="token number" style="color:rgb(9, 134, 88)">21</span><span class="token plain">时44分20秒      </span><span class="token number" style="color:rgb(9, 134, 88)">0.00</span><span class="token plain">      </span><span class="token number" style="color:rgb(9, 134, 88)">0.00</span><span class="token plain"></span><br></span><span class="token-line" style="color:#000000"><span class="token plain">平均时间:      </span><span class="token number" style="color:rgb(9, 134, 88)">0.00</span><span class="token plain">      </span><span class="token number" style="color:rgb(9, 134, 88)">0.00</span><span class="token plain"></span><br></span><span class="token-line" style="color:#000000"><span class="token plain"></span><span class="token punctuation" style="color:rgb(4, 81, 165)">[</span><span class="token plain">root@computer1 ~</span><span class="token punctuation" style="color:rgb(4, 81, 165)">]</span><span class="token comment" style="color:rgb(0, 128, 0)">#</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg class="copyButtonIcon_y97N" viewBox="0 0 24 24"><path d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg class="copyButtonSuccessIcon_LjdS" viewBox="0 0 24 24"><path d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><p>输出项说明：</p><div class="language-bash codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#000000;--prism-background-color:#ffffff"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-bash codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#000000"><span class="token plain">pswpin/s：每秒系统换入的交换页面（swap page）数量</span><br></span><span class="token-line" style="color:#000000"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#000000"><span class="token plain">pswpout/s：每秒系统换出的交换页面（swap page）数量</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg class="copyButtonIcon_y97N" viewBox="0 0 24 24"><path d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg class="copyButtonSuccessIcon_LjdS" viewBox="0 0 24 24"><path d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><h3 class="anchor anchorWithHideOnScrollNavbar_WYt5" id="1058统计网络信息">10.5.8、统计网络信息<a href="#1058统计网络信息" class="hash-link" aria-label="Direct link to heading" title="Direct link to heading">​</a></h3><p>sar 命令统计网络信息比较细致，语法是：</p><div class="language-bash codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#000000;--prism-background-color:#ffffff"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-bash codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#000000"><span class="token plain">sar -n </span><span class="token punctuation" style="color:rgb(4, 81, 165)">{</span><span class="token plain"> keyword </span><span class="token punctuation" style="color:rgb(4, 81, 165)">[</span><span class="token plain">,</span><span class="token punctuation" style="color:rgb(4, 81, 165)">..</span><span class="token plain">.</span><span class="token punctuation" style="color:rgb(4, 81, 165)">]</span><span class="token plain"> </span><span class="token operator" style="color:rgb(0, 0, 0)">|</span><span class="token plain"> ALL </span><span class="token punctuation" style="color:rgb(4, 81, 165)">}</span><span class="token plain"></span><br></span><span class="token-line" style="color:#000000"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#000000"><span class="token plain">keyword: DEV, EDEV, FC, ICMP, EICMP, ICMP6,  EICMP6,  IP,  EIP, IP6, EIP6, NFS, NFSD, SOCK, SOCK6, SOFT, TCP, ETCP, UDP and UDP6.</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg class="copyButtonIcon_y97N" viewBox="0 0 24 24"><path d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg class="copyButtonSuccessIcon_LjdS" viewBox="0 0 24 24"><path d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><ul><li>DEV 显示网络接口信息</li><li>EDEV 显示关于网络错误的统计数据</li><li>NFS 统计活动的 NFS 客户端的信息</li><li>NFSD 统计 NFS 服务器的信息</li><li>SOCK 显示套接字信息</li><li>ALL 表示所有 keyword</li><li>它们可以单独或者一起使用</li></ul><h4 class="anchor anchorWithHideOnScrollNavbar_WYt5" id="10581sar--n-dev-1-3">10.5.8.1、sar -n DEV 1 3<a href="#10581sar--n-dev-1-3" class="hash-link" aria-label="Direct link to heading" title="Direct link to heading">​</a></h4><p>每间隔 1 秒统计一次，总计统计 3 次，下面的 average 是在多次统计后的平均值</p><div class="language-bash codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#000000;--prism-background-color:#ffffff"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-bash codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#000000"><span class="token punctuation" style="color:rgb(4, 81, 165)">[</span><span class="token plain">root@controller1 ~</span><span class="token punctuation" style="color:rgb(4, 81, 165)">]</span><span class="token comment" style="color:rgb(0, 128, 0)"># sar -n DEV 1 1</span><span class="token plain"></span><br></span><span class="token-line" style="color:#000000"><span class="token plain">Linux </span><span class="token number" style="color:rgb(9, 134, 88)">4.19</span><span class="token plain">.90-17.ky10.aarch64 </span><span class="token punctuation" style="color:rgb(4, 81, 165)">(</span><span class="token plain">controller1</span><span class="token punctuation" style="color:rgb(4, 81, 165)">)</span><span class="token plain">     07/27/2021  _aarch64_   </span><span class="token punctuation" style="color:rgb(4, 81, 165)">(</span><span class="token number" style="color:rgb(9, 134, 88)">64</span><span class="token plain"> CPU</span><span class="token punctuation" style="color:rgb(4, 81, 165)">)</span><span class="token plain"></span><br></span><span class="token-line" style="color:#000000"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#000000"><span class="token plain"></span><span class="token number" style="color:rgb(9, 134, 88)">10</span><span class="token plain">:15:52 PM     IFACE   rxpck/s   txpck/s    rxkB/s    txkB/s   rxcmp/s   txcmp/s  rxmcst/s   %ifutil</span><br></span><span class="token-line" style="color:#000000"><span class="token plain"></span><span class="token number" style="color:rgb(9, 134, 88)">10</span><span class="token plain">:15:53 PM  enp2s0f0      </span><span class="token number" style="color:rgb(9, 134, 88)">0.00</span><span class="token plain">      </span><span class="token number" style="color:rgb(9, 134, 88)">0.00</span><span class="token plain">      </span><span class="token number" style="color:rgb(9, 134, 88)">0.00</span><span class="token plain">      </span><span class="token number" style="color:rgb(9, 134, 88)">0.00</span><span class="token plain">      </span><span class="token number" style="color:rgb(9, 134, 88)">0.00</span><span class="token plain">      </span><span class="token number" style="color:rgb(9, 134, 88)">0.00</span><span class="token plain">      </span><span class="token number" style="color:rgb(9, 134, 88)">0.00</span><span class="token plain">      </span><span class="token number" style="color:rgb(9, 134, 88)">0.00</span><span class="token plain"></span><br></span><span class="token-line" style="color:#000000"><span class="token plain"></span><span class="token number" style="color:rgb(9, 134, 88)">10</span><span class="token plain">:15:53 PM   rename3      </span><span class="token number" style="color:rgb(9, 134, 88)">0.00</span><span class="token plain">      </span><span class="token number" style="color:rgb(9, 134, 88)">0.00</span><span class="token plain">      </span><span class="token number" style="color:rgb(9, 134, 88)">0.00</span><span class="token plain">      </span><span class="token number" style="color:rgb(9, 134, 88)">0.00</span><span class="token plain">      </span><span class="token number" style="color:rgb(9, 134, 88)">0.00</span><span class="token plain">      </span><span class="token number" style="color:rgb(9, 134, 88)">0.00</span><span class="token plain">      </span><span class="token number" style="color:rgb(9, 134, 88)">0.00</span><span class="token plain">      </span><span class="token number" style="color:rgb(9, 134, 88)">0.00</span><span class="token plain"></span><br></span><span class="token-line" style="color:#000000"><span class="token plain"></span><span class="token number" style="color:rgb(9, 134, 88)">10</span><span class="token plain">:15:53 PM      ens1     </span><span class="token number" style="color:rgb(9, 134, 88)">73.00</span><span class="token plain">     </span><span class="token number" style="color:rgb(9, 134, 88)">45.00</span><span class="token plain">     </span><span class="token number" style="color:rgb(9, 134, 88)">47.98</span><span class="token plain">      </span><span class="token number" style="color:rgb(9, 134, 88)">5.14</span><span class="token plain">      </span><span class="token number" style="color:rgb(9, 134, 88)">0.00</span><span class="token plain">      </span><span class="token number" style="color:rgb(9, 134, 88)">0.00</span><span class="token plain">      </span><span class="token number" style="color:rgb(9, 134, 88)">0.00</span><span class="token plain">      </span><span class="token number" style="color:rgb(9, 134, 88)">0.04</span><span class="token plain"></span><br></span><span class="token-line" style="color:#000000"><span class="token plain"></span><span class="token number" style="color:rgb(9, 134, 88)">10</span><span class="token plain">:15:53 PM  enp2s0f1      </span><span class="token number" style="color:rgb(9, 134, 88)">0.00</span><span class="token plain">      </span><span class="token number" style="color:rgb(9, 134, 88)">0.00</span><span class="token plain">      </span><span class="token number" style="color:rgb(9, 134, 88)">0.00</span><span class="token plain">      </span><span class="token number" style="color:rgb(9, 134, 88)">0.00</span><span class="token plain">      </span><span class="token number" style="color:rgb(9, 134, 88)">0.00</span><span class="token plain">      </span><span class="token number" style="color:rgb(9, 134, 88)">0.00</span><span class="token plain">      </span><span class="token number" style="color:rgb(9, 134, 88)">0.00</span><span class="token plain">      </span><span class="token number" style="color:rgb(9, 134, 88)">0.00</span><span class="token plain"></span><br></span><span class="token-line" style="color:#000000"><span class="token plain"></span><span class="token number" style="color:rgb(9, 134, 88)">10</span><span class="token plain">:15:53 PM        lo      </span><span class="token number" style="color:rgb(9, 134, 88)">0.00</span><span class="token plain">      </span><span class="token number" style="color:rgb(9, 134, 88)">0.00</span><span class="token plain">      </span><span class="token number" style="color:rgb(9, 134, 88)">0.00</span><span class="token plain">      </span><span class="token number" style="color:rgb(9, 134, 88)">0.00</span><span class="token plain">      </span><span class="token number" style="color:rgb(9, 134, 88)">0.00</span><span class="token plain">      </span><span class="token number" style="color:rgb(9, 134, 88)">0.00</span><span class="token plain">      </span><span class="token number" style="color:rgb(9, 134, 88)">0.00</span><span class="token plain">      </span><span class="token number" style="color:rgb(9, 134, 88)">0.00</span><span class="token plain"></span><br></span><span class="token-line" style="color:#000000"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#000000"><span class="token plain">Average:        IFACE   rxpck/s   txpck/s    rxkB/s    txkB/s   rxcmp/s   txcmp/s  rxmcst/s   %ifutil</span><br></span><span class="token-line" style="color:#000000"><span class="token plain">Average:     enp2s0f0      </span><span class="token number" style="color:rgb(9, 134, 88)">0.00</span><span class="token plain">      </span><span class="token number" style="color:rgb(9, 134, 88)">0.00</span><span class="token plain">      </span><span class="token number" style="color:rgb(9, 134, 88)">0.00</span><span class="token plain">      </span><span class="token number" style="color:rgb(9, 134, 88)">0.00</span><span class="token plain">      </span><span class="token number" style="color:rgb(9, 134, 88)">0.00</span><span class="token plain">      </span><span class="token number" style="color:rgb(9, 134, 88)">0.00</span><span class="token plain">      </span><span class="token number" style="color:rgb(9, 134, 88)">0.00</span><span class="token plain">      </span><span class="token number" style="color:rgb(9, 134, 88)">0.00</span><span class="token plain"></span><br></span><span class="token-line" style="color:#000000"><span class="token plain">Average:      rename3      </span><span class="token number" style="color:rgb(9, 134, 88)">0.00</span><span class="token plain">      </span><span class="token number" style="color:rgb(9, 134, 88)">0.00</span><span class="token plain">      </span><span class="token number" style="color:rgb(9, 134, 88)">0.00</span><span class="token plain">      </span><span class="token number" style="color:rgb(9, 134, 88)">0.00</span><span class="token plain">      </span><span class="token number" style="color:rgb(9, 134, 88)">0.00</span><span class="token plain">      </span><span class="token number" style="color:rgb(9, 134, 88)">0.00</span><span class="token plain">      </span><span class="token number" style="color:rgb(9, 134, 88)">0.00</span><span class="token plain">      </span><span class="token number" style="color:rgb(9, 134, 88)">0.00</span><span class="token plain"></span><br></span><span class="token-line" style="color:#000000"><span class="token plain">Average:         ens1     </span><span class="token number" style="color:rgb(9, 134, 88)">73.00</span><span class="token plain">     </span><span class="token number" style="color:rgb(9, 134, 88)">45.00</span><span class="token plain">     </span><span class="token number" style="color:rgb(9, 134, 88)">47.98</span><span class="token plain">      </span><span class="token number" style="color:rgb(9, 134, 88)">5.14</span><span class="token plain">      </span><span class="token number" style="color:rgb(9, 134, 88)">0.00</span><span class="token plain">      </span><span class="token number" style="color:rgb(9, 134, 88)">0.00</span><span class="token plain">      </span><span class="token number" style="color:rgb(9, 134, 88)">0.00</span><span class="token plain">      </span><span class="token number" style="color:rgb(9, 134, 88)">0.04</span><span class="token plain"></span><br></span><span class="token-line" style="color:#000000"><span class="token plain">Average:     enp2s0f1      </span><span class="token number" style="color:rgb(9, 134, 88)">0.00</span><span class="token plain">      </span><span class="token number" style="color:rgb(9, 134, 88)">0.00</span><span class="token plain">      </span><span class="token number" style="color:rgb(9, 134, 88)">0.00</span><span class="token plain">      </span><span class="token number" style="color:rgb(9, 134, 88)">0.00</span><span class="token plain">      </span><span class="token number" style="color:rgb(9, 134, 88)">0.00</span><span class="token plain">      </span><span class="token number" style="color:rgb(9, 134, 88)">0.00</span><span class="token plain">      </span><span class="token number" style="color:rgb(9, 134, 88)">0.00</span><span class="token plain">      </span><span class="token number" style="color:rgb(9, 134, 88)">0.00</span><span class="token plain"></span><br></span><span class="token-line" style="color:#000000"><span class="token plain">Average:           lo      </span><span class="token number" style="color:rgb(9, 134, 88)">0.00</span><span class="token plain">      </span><span class="token number" style="color:rgb(9, 134, 88)">0.00</span><span class="token plain">      </span><span class="token number" style="color:rgb(9, 134, 88)">0.00</span><span class="token plain">      </span><span class="token number" style="color:rgb(9, 134, 88)">0.00</span><span class="token plain">      </span><span class="token number" style="color:rgb(9, 134, 88)">0.00</span><span class="token plain">      </span><span class="token number" style="color:rgb(9, 134, 88)">0.00</span><span class="token plain">      </span><span class="token number" style="color:rgb(9, 134, 88)">0.00</span><span class="token plain">      </span><span class="token number" style="color:rgb(9, 134, 88)">0.00</span><span class="token plain"></span><br></span><span class="token-line" style="color:#000000"><span class="token plain"></span><span class="token punctuation" style="color:rgb(4, 81, 165)">[</span><span class="token plain">root@controller1 ~</span><span class="token punctuation" style="color:rgb(4, 81, 165)">]</span><span class="token comment" style="color:rgb(0, 128, 0)">#</span><span class="token plain"></span><br></span><span class="token-line" style="color:#000000"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#000000"><span class="token plain"></span><span class="token comment" style="color:rgb(0, 128, 0)"># 如果接口太多，可以使用 --iface 指定接口</span><span class="token plain"></span><br></span><span class="token-line" style="color:#000000"><span class="token plain"></span><span class="token punctuation" style="color:rgb(4, 81, 165)">[</span><span class="token plain">root@controller1 ~</span><span class="token punctuation" style="color:rgb(4, 81, 165)">]</span><span class="token comment" style="color:rgb(0, 128, 0)"># sar -n DEV --iface=enp2s0f0 1 1</span><span class="token plain"></span><br></span><span class="token-line" style="color:#000000"><span class="token plain">Linux </span><span class="token number" style="color:rgb(9, 134, 88)">4.19</span><span class="token plain">.90-17.ky10.aarch64 </span><span class="token punctuation" style="color:rgb(4, 81, 165)">(</span><span class="token plain">controller1</span><span class="token punctuation" style="color:rgb(4, 81, 165)">)</span><span class="token plain">     07/27/2021  _aarch64_   </span><span class="token punctuation" style="color:rgb(4, 81, 165)">(</span><span class="token number" style="color:rgb(9, 134, 88)">64</span><span class="token plain"> CPU</span><span class="token punctuation" style="color:rgb(4, 81, 165)">)</span><span class="token plain"></span><br></span><span class="token-line" style="color:#000000"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#000000"><span class="token plain"></span><span class="token number" style="color:rgb(9, 134, 88)">10</span><span class="token plain">:16:29 PM     IFACE   rxpck/s   txpck/s    rxkB/s    txkB/s   rxcmp/s   txcmp/s  rxmcst/s   %ifutil</span><br></span><span class="token-line" style="color:#000000"><span class="token plain"></span><span class="token number" style="color:rgb(9, 134, 88)">10</span><span class="token plain">:16:30 PM  enp2s0f0      </span><span class="token number" style="color:rgb(9, 134, 88)">0.00</span><span class="token plain">      </span><span class="token number" style="color:rgb(9, 134, 88)">0.00</span><span class="token plain">      </span><span class="token number" style="color:rgb(9, 134, 88)">0.00</span><span class="token plain">      </span><span class="token number" style="color:rgb(9, 134, 88)">0.00</span><span class="token plain">      </span><span class="token number" style="color:rgb(9, 134, 88)">0.00</span><span class="token plain">      </span><span class="token number" style="color:rgb(9, 134, 88)">0.00</span><span class="token plain">      </span><span class="token number" style="color:rgb(9, 134, 88)">0.00</span><span class="token plain">      </span><span class="token number" style="color:rgb(9, 134, 88)">0.00</span><span class="token plain"></span><br></span><span class="token-line" style="color:#000000"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#000000"><span class="token plain">Average:        IFACE   rxpck/s   txpck/s    rxkB/s    txkB/s   rxcmp/s   txcmp/s  rxmcst/s   %ifutil</span><br></span><span class="token-line" style="color:#000000"><span class="token plain">Average:     enp2s0f0      </span><span class="token number" style="color:rgb(9, 134, 88)">0.00</span><span class="token plain">      </span><span class="token number" style="color:rgb(9, 134, 88)">0.00</span><span class="token plain">      </span><span class="token number" style="color:rgb(9, 134, 88)">0.00</span><span class="token plain">      </span><span class="token number" style="color:rgb(9, 134, 88)">0.00</span><span class="token plain">      </span><span class="token number" style="color:rgb(9, 134, 88)">0.00</span><span class="token plain">      </span><span class="token number" style="color:rgb(9, 134, 88)">0.00</span><span class="token plain">      </span><span class="token number" style="color:rgb(9, 134, 88)">0.00</span><span class="token plain">      </span><span class="token number" style="color:rgb(9, 134, 88)">0.00</span><span class="token plain"></span><br></span><span class="token-line" style="color:#000000"><span class="token plain"></span><span class="token punctuation" style="color:rgb(4, 81, 165)">[</span><span class="token plain">root@controller1 ~</span><span class="token punctuation" style="color:rgb(4, 81, 165)">]</span><span class="token comment" style="color:rgb(0, 128, 0)">#</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg class="copyButtonIcon_y97N" viewBox="0 0 24 24"><path d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg class="copyButtonSuccessIcon_LjdS" viewBox="0 0 24 24"><path d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><p>输出项说明：</p><div class="language-bash codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#000000;--prism-background-color:#ffffff"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-bash codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#000000"><span class="token plain">IFACE       本地网卡接口的名称</span><br></span><span class="token-line" style="color:#000000"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#000000"><span class="token plain">rxpck/s     每秒钟接受的数据包</span><br></span><span class="token-line" style="color:#000000"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#000000"><span class="token plain">txpck/s     每秒钟发送的数据库</span><br></span><span class="token-line" style="color:#000000"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#000000"><span class="token plain">rxKB/S      每秒钟接受的数据包大小，单位为KB</span><br></span><span class="token-line" style="color:#000000"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#000000"><span class="token plain">txKB/S      每秒钟发送的数据包大小，单位为KB</span><br></span><span class="token-line" style="color:#000000"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#000000"><span class="token plain">rxcmp/s     每秒钟接受的压缩数据包</span><br></span><span class="token-line" style="color:#000000"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#000000"><span class="token plain">txcmp/s     每秒钟发送的压缩包</span><br></span><span class="token-line" style="color:#000000"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#000000"><span class="token plain">rxmcst/s    每秒钟接收的多播数据包</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg class="copyButtonIcon_y97N" viewBox="0 0 24 24"><path d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg class="copyButtonSuccessIcon_LjdS" viewBox="0 0 24 24"><path d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><h4 class="anchor anchorWithHideOnScrollNavbar_WYt5" id="10582sar--n-edev-1-1">10.5.8.2、sar -n EDEV 1 1<a href="#10582sar--n-edev-1-1" class="hash-link" aria-label="Direct link to heading" title="Direct link to heading">​</a></h4><p>统计网络设备通信失败信息</p><div class="language-bash codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#000000;--prism-background-color:#ffffff"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-bash codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#000000"><span class="token punctuation" style="color:rgb(4, 81, 165)">[</span><span class="token plain">root@controller1 ~</span><span class="token punctuation" style="color:rgb(4, 81, 165)">]</span><span class="token comment" style="color:rgb(0, 128, 0)"># sar -n EDEV 1 1</span><span class="token plain"></span><br></span><span class="token-line" style="color:#000000"><span class="token plain">Linux </span><span class="token number" style="color:rgb(9, 134, 88)">4.19</span><span class="token plain">.90-17.ky10.aarch64 </span><span class="token punctuation" style="color:rgb(4, 81, 165)">(</span><span class="token plain">controller1</span><span class="token punctuation" style="color:rgb(4, 81, 165)">)</span><span class="token plain">     07/27/2021  _aarch64_   </span><span class="token punctuation" style="color:rgb(4, 81, 165)">(</span><span class="token number" style="color:rgb(9, 134, 88)">64</span><span class="token plain"> CPU</span><span class="token punctuation" style="color:rgb(4, 81, 165)">)</span><span class="token plain"></span><br></span><span class="token-line" style="color:#000000"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#000000"><span class="token plain"></span><span class="token number" style="color:rgb(9, 134, 88)">10</span><span class="token plain">:20:07 PM     IFACE   rxerr/s   txerr/s    coll/s  rxdrop/s  txdrop/s  txcarr/s  rxfram/s  rxfifo/s  txfifo/s</span><br></span><span class="token-line" style="color:#000000"><span class="token plain"></span><span class="token number" style="color:rgb(9, 134, 88)">10</span><span class="token plain">:20:08 PM  enp2s0f0      </span><span class="token number" style="color:rgb(9, 134, 88)">0.00</span><span class="token plain">      </span><span class="token number" style="color:rgb(9, 134, 88)">0.00</span><span class="token plain">      </span><span class="token number" style="color:rgb(9, 134, 88)">0.00</span><span class="token plain">      </span><span class="token number" style="color:rgb(9, 134, 88)">0.00</span><span class="token plain">      </span><span class="token number" style="color:rgb(9, 134, 88)">0.00</span><span class="token plain">      </span><span class="token number" style="color:rgb(9, 134, 88)">0.00</span><span class="token plain">      </span><span class="token number" style="color:rgb(9, 134, 88)">0.00</span><span class="token plain">      </span><span class="token number" style="color:rgb(9, 134, 88)">0.00</span><span class="token plain">      </span><span class="token number" style="color:rgb(9, 134, 88)">0.00</span><span class="token plain"></span><br></span><span class="token-line" style="color:#000000"><span class="token plain"></span><span class="token number" style="color:rgb(9, 134, 88)">10</span><span class="token plain">:20:08 PM   rename3      </span><span class="token number" style="color:rgb(9, 134, 88)">0.00</span><span class="token plain">      </span><span class="token number" style="color:rgb(9, 134, 88)">0.00</span><span class="token plain">      </span><span class="token number" style="color:rgb(9, 134, 88)">0.00</span><span class="token plain">      </span><span class="token number" style="color:rgb(9, 134, 88)">0.00</span><span class="token plain">      </span><span class="token number" style="color:rgb(9, 134, 88)">0.00</span><span class="token plain">      </span><span class="token number" style="color:rgb(9, 134, 88)">0.00</span><span class="token plain">      </span><span class="token number" style="color:rgb(9, 134, 88)">0.00</span><span class="token plain">      </span><span class="token number" style="color:rgb(9, 134, 88)">0.00</span><span class="token plain">      </span><span class="token number" style="color:rgb(9, 134, 88)">0.00</span><span class="token plain"></span><br></span><span class="token-line" style="color:#000000"><span class="token plain"></span><span class="token number" style="color:rgb(9, 134, 88)">10</span><span class="token plain">:20:08 PM      ens1      </span><span class="token number" style="color:rgb(9, 134, 88)">0.00</span><span class="token plain">      </span><span class="token number" style="color:rgb(9, 134, 88)">0.00</span><span class="token plain">      </span><span class="token number" style="color:rgb(9, 134, 88)">0.00</span><span class="token plain">      </span><span class="token number" style="color:rgb(9, 134, 88)">0.00</span><span class="token plain">      </span><span class="token number" style="color:rgb(9, 134, 88)">0.00</span><span class="token plain">      </span><span class="token number" style="color:rgb(9, 134, 88)">0.00</span><span class="token plain">      </span><span class="token number" style="color:rgb(9, 134, 88)">0.00</span><span class="token plain">      </span><span class="token number" style="color:rgb(9, 134, 88)">0.00</span><span class="token plain">      </span><span class="token number" style="color:rgb(9, 134, 88)">0.00</span><span class="token plain"></span><br></span><span class="token-line" style="color:#000000"><span class="token plain"></span><span class="token number" style="color:rgb(9, 134, 88)">10</span><span class="token plain">:20:08 PM  enp2s0f1      </span><span class="token number" style="color:rgb(9, 134, 88)">0.00</span><span class="token plain">      </span><span class="token number" style="color:rgb(9, 134, 88)">0.00</span><span class="token plain">      </span><span class="token number" style="color:rgb(9, 134, 88)">0.00</span><span class="token plain">      </span><span class="token number" style="color:rgb(9, 134, 88)">0.00</span><span class="token plain">      </span><span class="token number" style="color:rgb(9, 134, 88)">0.00</span><span class="token plain">      </span><span class="token number" style="color:rgb(9, 134, 88)">0.00</span><span class="token plain">      </span><span class="token number" style="color:rgb(9, 134, 88)">0.00</span><span class="token plain">      </span><span class="token number" style="color:rgb(9, 134, 88)">0.00</span><span class="token plain">      </span><span class="token number" style="color:rgb(9, 134, 88)">0.00</span><span class="token plain"></span><br></span><span class="token-line" style="color:#000000"><span class="token plain"></span><span class="token number" style="color:rgb(9, 134, 88)">10</span><span class="token plain">:20:08 PM        lo      </span><span class="token number" style="color:rgb(9, 134, 88)">0.00</span><span class="token plain">      </span><span class="token number" style="color:rgb(9, 134, 88)">0.00</span><span class="token plain">      </span><span class="token number" style="color:rgb(9, 134, 88)">0.00</span><span class="token plain">      </span><span class="token number" style="color:rgb(9, 134, 88)">0.00</span><span class="token plain">      </span><span class="token number" style="color:rgb(9, 134, 88)">0.00</span><span class="token plain">      </span><span class="token number" style="color:rgb(9, 134, 88)">0.00</span><span class="token plain">      </span><span class="token number" style="color:rgb(9, 134, 88)">0.00</span><span class="token plain">      </span><span class="token number" style="color:rgb(9, 134, 88)">0.00</span><span class="token plain">      </span><span class="token number" style="color:rgb(9, 134, 88)">0.00</span><span class="token plain"></span><br></span><span class="token-line" style="color:#000000"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#000000"><span class="token plain">Average:        IFACE   rxerr/s   txerr/s    coll/s  rxdrop/s  txdrop/s  txcarr/s  rxfram/s  rxfifo/s  txfifo/s</span><br></span><span class="token-line" style="color:#000000"><span class="token plain">Average:     enp2s0f0      </span><span class="token number" style="color:rgb(9, 134, 88)">0.00</span><span class="token plain">      </span><span class="token number" style="color:rgb(9, 134, 88)">0.00</span><span class="token plain">      </span><span class="token number" style="color:rgb(9, 134, 88)">0.00</span><span class="token plain">      </span><span class="token number" style="color:rgb(9, 134, 88)">0.00</span><span class="token plain">      </span><span class="token number" style="color:rgb(9, 134, 88)">0.00</span><span class="token plain">      </span><span class="token number" style="color:rgb(9, 134, 88)">0.00</span><span class="token plain">      </span><span class="token number" style="color:rgb(9, 134, 88)">0.00</span><span class="token plain">      </span><span class="token number" style="color:rgb(9, 134, 88)">0.00</span><span class="token plain">      </span><span class="token number" style="color:rgb(9, 134, 88)">0.00</span><span class="token plain"></span><br></span><span class="token-line" style="color:#000000"><span class="token plain">Average:      rename3      </span><span class="token number" style="color:rgb(9, 134, 88)">0.00</span><span class="token plain">      </span><span class="token number" style="color:rgb(9, 134, 88)">0.00</span><span class="token plain">      </span><span class="token number" style="color:rgb(9, 134, 88)">0.00</span><span class="token plain">      </span><span class="token number" style="color:rgb(9, 134, 88)">0.00</span><span class="token plain">      </span><span class="token number" style="color:rgb(9, 134, 88)">0.00</span><span class="token plain">      </span><span class="token number" style="color:rgb(9, 134, 88)">0.00</span><span class="token plain">      </span><span class="token number" style="color:rgb(9, 134, 88)">0.00</span><span class="token plain">      </span><span class="token number" style="color:rgb(9, 134, 88)">0.00</span><span class="token plain">      </span><span class="token number" style="color:rgb(9, 134, 88)">0.00</span><span class="token plain"></span><br></span><span class="token-line" style="color:#000000"><span class="token plain">Average:         ens1      </span><span class="token number" style="color:rgb(9, 134, 88)">0.00</span><span class="token plain">      </span><span class="token number" style="color:rgb(9, 134, 88)">0.00</span><span class="token plain">      </span><span class="token number" style="color:rgb(9, 134, 88)">0.00</span><span class="token plain">      </span><span class="token number" style="color:rgb(9, 134, 88)">0.00</span><span class="token plain">      </span><span class="token number" style="color:rgb(9, 134, 88)">0.00</span><span class="token plain">      </span><span class="token number" style="color:rgb(9, 134, 88)">0.00</span><span class="token plain">      </span><span class="token number" style="color:rgb(9, 134, 88)">0.00</span><span class="token plain">      </span><span class="token number" style="color:rgb(9, 134, 88)">0.00</span><span class="token plain">      </span><span class="token number" style="color:rgb(9, 134, 88)">0.00</span><span class="token plain"></span><br></span><span class="token-line" style="color:#000000"><span class="token plain">Average:     enp2s0f1      </span><span class="token number" style="color:rgb(9, 134, 88)">0.00</span><span class="token plain">      </span><span class="token number" style="color:rgb(9, 134, 88)">0.00</span><span class="token plain">      </span><span class="token number" style="color:rgb(9, 134, 88)">0.00</span><span class="token plain">      </span><span class="token number" style="color:rgb(9, 134, 88)">0.00</span><span class="token plain">      </span><span class="token number" style="color:rgb(9, 134, 88)">0.00</span><span class="token plain">      </span><span class="token number" style="color:rgb(9, 134, 88)">0.00</span><span class="token plain">      </span><span class="token number" style="color:rgb(9, 134, 88)">0.00</span><span class="token plain">      </span><span class="token number" style="color:rgb(9, 134, 88)">0.00</span><span class="token plain">      </span><span class="token number" style="color:rgb(9, 134, 88)">0.00</span><span class="token plain"></span><br></span><span class="token-line" style="color:#000000"><span class="token plain">Average:           lo      </span><span class="token number" style="color:rgb(9, 134, 88)">0.00</span><span class="token plain">      </span><span class="token number" style="color:rgb(9, 134, 88)">0.00</span><span class="token plain">      </span><span class="token number" style="color:rgb(9, 134, 88)">0.00</span><span class="token plain">      </span><span class="token number" style="color:rgb(9, 134, 88)">0.00</span><span class="token plain">      </span><span class="token number" style="color:rgb(9, 134, 88)">0.00</span><span class="token plain">      </span><span class="token number" style="color:rgb(9, 134, 88)">0.00</span><span class="token plain">      </span><span class="token number" style="color:rgb(9, 134, 88)">0.00</span><span class="token plain">      </span><span class="token number" style="color:rgb(9, 134, 88)">0.00</span><span class="token plain">      </span><span class="token number" style="color:rgb(9, 134, 88)">0.00</span><span class="token plain"></span><br></span><span class="token-line" style="color:#000000"><span class="token plain"></span><span class="token punctuation" style="color:rgb(4, 81, 165)">[</span><span class="token plain">root@controller1 ~</span><span class="token punctuation" style="color:rgb(4, 81, 165)">]</span><span class="token comment" style="color:rgb(0, 128, 0)">#</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg class="copyButtonIcon_y97N" viewBox="0 0 24 24"><path d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg class="copyButtonSuccessIcon_LjdS" viewBox="0 0 24 24"><path d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><p>输出项说明：</p><div class="language-bash codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#000000;--prism-background-color:#ffffff"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-bash codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#000000"><span class="token plain">IFACE       网卡名称</span><br></span><span class="token-line" style="color:#000000"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#000000"><span class="token plain">rxerr/s     每秒钟接收到的损坏的数据包</span><br></span><span class="token-line" style="color:#000000"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#000000"><span class="token plain">txerr/s     每秒钟发送的数据包错误数</span><br></span><span class="token-line" style="color:#000000"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#000000"><span class="token plain">coll/s      当发送数据包时候，每秒钟发生的冲撞（collisions）数，这个是在半双工模式下才有</span><br></span><span class="token-line" style="color:#000000"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#000000"><span class="token plain">rxdrop/s    当由于缓冲区满的时候，网卡设备接收端每秒钟丢掉的网络包的数目</span><br></span><span class="token-line" style="color:#000000"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#000000"><span class="token plain">txdrop/s    当由于缓冲区满的时候，网络设备发送端每秒钟丢掉的网络包的数目</span><br></span><span class="token-line" style="color:#000000"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#000000"><span class="token plain">txcarr/s    当发送数据包的时候，每秒钟载波错误发生的次数</span><br></span><span class="token-line" style="color:#000000"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#000000"><span class="token plain">rxfram      在接收数据包的时候，每秒钟发生的帧对其错误的次数</span><br></span><span class="token-line" style="color:#000000"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#000000"><span class="token plain">rxfifo      在接收数据包的时候，每秒钟缓冲区溢出的错误发生的次数</span><br></span><span class="token-line" style="color:#000000"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#000000"><span class="token plain">txfifo      在发生数据包的时候，每秒钟缓冲区溢出的错误发生的次数</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg class="copyButtonIcon_y97N" viewBox="0 0 24 24"><path d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg class="copyButtonSuccessIcon_LjdS" viewBox="0 0 24 24"><path d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><h4 class="anchor anchorWithHideOnScrollNavbar_WYt5" id="10583sar--n-sock-1-1">10.5.8.3、sar -n SOCK 1 1<a href="#10583sar--n-sock-1-1" class="hash-link" aria-label="Direct link to heading" title="Direct link to heading">​</a></h4><p>统计 socket 连接信息</p><div class="language-bash codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#000000;--prism-background-color:#ffffff"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-bash codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#000000"><span class="token punctuation" style="color:rgb(4, 81, 165)">[</span><span class="token plain">root@controller1 ~</span><span class="token punctuation" style="color:rgb(4, 81, 165)">]</span><span class="token comment" style="color:rgb(0, 128, 0)"># sar -n SOCK 1 1</span><span class="token plain"></span><br></span><span class="token-line" style="color:#000000"><span class="token plain">Linux </span><span class="token number" style="color:rgb(9, 134, 88)">4.19</span><span class="token plain">.90-17.ky10.aarch64 </span><span class="token punctuation" style="color:rgb(4, 81, 165)">(</span><span class="token plain">controller1</span><span class="token punctuation" style="color:rgb(4, 81, 165)">)</span><span class="token plain">     07/27/2021  _aarch64_   </span><span class="token punctuation" style="color:rgb(4, 81, 165)">(</span><span class="token number" style="color:rgb(9, 134, 88)">64</span><span class="token plain"> CPU</span><span class="token punctuation" style="color:rgb(4, 81, 165)">)</span><span class="token plain"></span><br></span><span class="token-line" style="color:#000000"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#000000"><span class="token plain"></span><span class="token number" style="color:rgb(9, 134, 88)">10</span><span class="token plain">:23:12 PM    totsck    tcpsck    udpsck    rawsck   ip-frag    tcp-tw</span><br></span><span class="token-line" style="color:#000000"><span class="token plain"></span><span class="token number" style="color:rgb(9, 134, 88)">10</span><span class="token plain">:23:13 PM       </span><span class="token number" style="color:rgb(9, 134, 88)">271</span><span class="token plain">        </span><span class="token number" style="color:rgb(9, 134, 88)">65</span><span class="token plain">         </span><span class="token number" style="color:rgb(9, 134, 88)">2</span><span class="token plain">         </span><span class="token number" style="color:rgb(9, 134, 88)">2</span><span class="token plain">         </span><span class="token number" style="color:rgb(9, 134, 88)">0</span><span class="token plain">        </span><span class="token number" style="color:rgb(9, 134, 88)">64</span><span class="token plain"></span><br></span><span class="token-line" style="color:#000000"><span class="token plain">Average:          </span><span class="token number" style="color:rgb(9, 134, 88)">271</span><span class="token plain">        </span><span class="token number" style="color:rgb(9, 134, 88)">65</span><span class="token plain">         </span><span class="token number" style="color:rgb(9, 134, 88)">2</span><span class="token plain">         </span><span class="token number" style="color:rgb(9, 134, 88)">2</span><span class="token plain">         </span><span class="token number" style="color:rgb(9, 134, 88)">0</span><span class="token plain">        </span><span class="token number" style="color:rgb(9, 134, 88)">64</span><span class="token plain"></span><br></span><span class="token-line" style="color:#000000"><span class="token plain"></span><span class="token punctuation" style="color:rgb(4, 81, 165)">[</span><span class="token plain">root@controller1 ~</span><span class="token punctuation" style="color:rgb(4, 81, 165)">]</span><span class="token comment" style="color:rgb(0, 128, 0)">#</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg class="copyButtonIcon_y97N" viewBox="0 0 24 24"><path d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg class="copyButtonSuccessIcon_LjdS" viewBox="0 0 24 24"><path d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><p>输出项说明：</p><div class="language-bash codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#000000;--prism-background-color:#ffffff"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-bash codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#000000"><span class="token plain">totsck      当前被使用的socket总数</span><br></span><span class="token-line" style="color:#000000"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#000000"><span class="token plain">tcpsck      当前正在被使用的TCP的socket总数</span><br></span><span class="token-line" style="color:#000000"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#000000"><span class="token plain">udpsck      当前正在被使用的UDP的socket总数</span><br></span><span class="token-line" style="color:#000000"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#000000"><span class="token plain">rawsck      当前正在被使用于RAW的skcket总数</span><br></span><span class="token-line" style="color:#000000"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#000000"><span class="token plain">if-frag     当前的IP分片的数目</span><br></span><span class="token-line" style="color:#000000"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#000000"><span class="token plain">tcp-twTCP   套接字中处于TIME-WAIT状态的连接数量</span><br></span><span class="token-line" style="color:#000000"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#000000"><span class="token plain">如果你使用 FULL 关键字，相当于上述 DEV、EDEV 和 SOCK 三者的综合</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg class="copyButtonIcon_y97N" viewBox="0 0 24 24"><path d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg class="copyButtonSuccessIcon_LjdS" viewBox="0 0 24 24"><path d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><h4 class="anchor anchorWithHideOnScrollNavbar_WYt5" id="10584sar--n-tcp-1-3">10.5.8.4、sar -n TCP 1 3<a href="#10584sar--n-tcp-1-3" class="hash-link" aria-label="Direct link to heading" title="Direct link to heading">​</a></h4><p>TCP连接的统计</p><div class="language-bash codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#000000;--prism-background-color:#ffffff"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-bash codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#000000"><span class="token punctuation" style="color:rgb(4, 81, 165)">[</span><span class="token plain">root@controller1 ~</span><span class="token punctuation" style="color:rgb(4, 81, 165)">]</span><span class="token comment" style="color:rgb(0, 128, 0)"># sar -n TCP 1 3</span><span class="token plain"></span><br></span><span class="token-line" style="color:#000000"><span class="token plain">Linux </span><span class="token number" style="color:rgb(9, 134, 88)">4.19</span><span class="token plain">.90-17.ky10.aarch64 </span><span class="token punctuation" style="color:rgb(4, 81, 165)">(</span><span class="token plain">controller1</span><span class="token punctuation" style="color:rgb(4, 81, 165)">)</span><span class="token plain">     07/27/2021  _aarch64_   </span><span class="token punctuation" style="color:rgb(4, 81, 165)">(</span><span class="token number" style="color:rgb(9, 134, 88)">64</span><span class="token plain"> CPU</span><span class="token punctuation" style="color:rgb(4, 81, 165)">)</span><span class="token plain"></span><br></span><span class="token-line" style="color:#000000"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#000000"><span class="token plain"></span><span class="token number" style="color:rgb(9, 134, 88)">10</span><span class="token plain">:25:18 PM  active/s passive/s    iseg/s    oseg/s</span><br></span><span class="token-line" style="color:#000000"><span class="token plain"></span><span class="token number" style="color:rgb(9, 134, 88)">10</span><span class="token plain">:25:19 PM      </span><span class="token number" style="color:rgb(9, 134, 88)">5.00</span><span class="token plain">      </span><span class="token number" style="color:rgb(9, 134, 88)">5.00</span><span class="token plain">     </span><span class="token number" style="color:rgb(9, 134, 88)">82.00</span><span class="token plain">     </span><span class="token number" style="color:rgb(9, 134, 88)">82.00</span><span class="token plain"></span><br></span><span class="token-line" style="color:#000000"><span class="token plain"></span><span class="token number" style="color:rgb(9, 134, 88)">10</span><span class="token plain">:25:20 PM      </span><span class="token number" style="color:rgb(9, 134, 88)">0.00</span><span class="token plain">      </span><span class="token number" style="color:rgb(9, 134, 88)">0.00</span><span class="token plain">     </span><span class="token number" style="color:rgb(9, 134, 88)">11.00</span><span class="token plain">     </span><span class="token number" style="color:rgb(9, 134, 88)">10.00</span><span class="token plain"></span><br></span><span class="token-line" style="color:#000000"><span class="token plain"></span><span class="token number" style="color:rgb(9, 134, 88)">10</span><span class="token plain">:25:21 PM      </span><span class="token number" style="color:rgb(9, 134, 88)">1.00</span><span class="token plain">      </span><span class="token number" style="color:rgb(9, 134, 88)">0.00</span><span class="token plain">      </span><span class="token number" style="color:rgb(9, 134, 88)">3.00</span><span class="token plain">      </span><span class="token number" style="color:rgb(9, 134, 88)">4.00</span><span class="token plain"></span><br></span><span class="token-line" style="color:#000000"><span class="token plain">Average:         </span><span class="token number" style="color:rgb(9, 134, 88)">2.00</span><span class="token plain">      </span><span class="token number" style="color:rgb(9, 134, 88)">1.67</span><span class="token plain">     </span><span class="token number" style="color:rgb(9, 134, 88)">32.00</span><span class="token plain">     </span><span class="token number" style="color:rgb(9, 134, 88)">32.00</span><span class="token plain"></span><br></span><span class="token-line" style="color:#000000"><span class="token plain"></span><span class="token punctuation" style="color:rgb(4, 81, 165)">[</span><span class="token plain">root@controller1 ~</span><span class="token punctuation" style="color:rgb(4, 81, 165)">]</span><span class="token comment" style="color:rgb(0, 128, 0)">#</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg class="copyButtonIcon_y97N" viewBox="0 0 24 24"><path d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg class="copyButtonSuccessIcon_LjdS" viewBox="0 0 24 24"><path d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><p>输出项说明：</p><div class="language-bash codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#000000;--prism-background-color:#ffffff"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-bash codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#000000"><span class="token plain">active/s    新的主动连接</span><br></span><span class="token-line" style="color:#000000"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#000000"><span class="token plain">passive/s   新的被动连接</span><br></span><span class="token-line" style="color:#000000"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#000000"><span class="token plain">iseg/s      接受的段</span><br></span><span class="token-line" style="color:#000000"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#000000"><span class="token plain">oseg/s      输出的段</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg class="copyButtonIcon_y97N" viewBox="0 0 24 24"><path d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg class="copyButtonSuccessIcon_LjdS" viewBox="0 0 24 24"><path d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><h3 class="anchor anchorWithHideOnScrollNavbar_WYt5" id="1059设备使用情况监控">10.5.9、设备使用情况监控<a href="#1059设备使用情况监控" class="hash-link" aria-label="Direct link to heading" title="Direct link to heading">​</a></h3><p>每 5s 采样一次，连续采样 10 次，报告设备使用情况</p><div class="language-bash codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#000000;--prism-background-color:#ffffff"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-bash codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#000000"><span class="token punctuation" style="color:rgb(4, 81, 165)">[</span><span class="token plain">root@controller1 ~</span><span class="token punctuation" style="color:rgb(4, 81, 165)">]</span><span class="token comment" style="color:rgb(0, 128, 0)"># sar -d 5 5 -p</span><span class="token plain"></span><br></span><span class="token-line" style="color:#000000"><span class="token plain">Linux </span><span class="token number" style="color:rgb(9, 134, 88)">4.19</span><span class="token plain">.90-17.ky10.aarch64 </span><span class="token punctuation" style="color:rgb(4, 81, 165)">(</span><span class="token plain">controller1</span><span class="token punctuation" style="color:rgb(4, 81, 165)">)</span><span class="token plain">     07/27/2021  _aarch64_   </span><span class="token punctuation" style="color:rgb(4, 81, 165)">(</span><span class="token number" style="color:rgb(9, 134, 88)">64</span><span class="token plain"> CPU</span><span class="token punctuation" style="color:rgb(4, 81, 165)">)</span><span class="token plain"></span><br></span><span class="token-line" style="color:#000000"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#000000"><span class="token plain"></span><span class="token number" style="color:rgb(9, 134, 88)">10</span><span class="token plain">:30:02 PM       DEV       tps     rkB/s     wkB/s     dkB/s   areq-sz    aqu-sz     await     %util</span><br></span><span class="token-line" style="color:#000000"><span class="token plain"></span><span class="token number" style="color:rgb(9, 134, 88)">10</span><span class="token plain">:30:07 PM       sda      </span><span class="token number" style="color:rgb(9, 134, 88)">7.40</span><span class="token plain">      </span><span class="token number" style="color:rgb(9, 134, 88)">0.00</span><span class="token plain">     </span><span class="token number" style="color:rgb(9, 134, 88)">84.00</span><span class="token plain">      </span><span class="token number" style="color:rgb(9, 134, 88)">0.00</span><span class="token plain">     </span><span class="token number" style="color:rgb(9, 134, 88)">11.35</span><span class="token plain">      </span><span class="token number" style="color:rgb(9, 134, 88)">0.00</span><span class="token plain">      </span><span class="token number" style="color:rgb(9, 134, 88)">0.11</span><span class="token plain">      </span><span class="token number" style="color:rgb(9, 134, 88)">0.00</span><span class="token plain"></span><br></span><span class="token-line" style="color:#000000"><span class="token plain"></span><span class="token number" style="color:rgb(9, 134, 88)">10</span><span class="token plain">:30:07 PM     loop0      </span><span class="token number" style="color:rgb(9, 134, 88)">0.00</span><span class="token plain">      </span><span class="token number" style="color:rgb(9, 134, 88)">0.00</span><span class="token plain">      </span><span class="token number" style="color:rgb(9, 134, 88)">0.00</span><span class="token plain">      </span><span class="token number" style="color:rgb(9, 134, 88)">0.00</span><span class="token plain">      </span><span class="token number" style="color:rgb(9, 134, 88)">0.00</span><span class="token plain">      </span><span class="token number" style="color:rgb(9, 134, 88)">0.00</span><span class="token plain">      </span><span class="token number" style="color:rgb(9, 134, 88)">0.00</span><span class="token plain">      </span><span class="token number" style="color:rgb(9, 134, 88)">0.00</span><span class="token plain"></span><br></span><span class="token-line" style="color:#000000"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#000000"><span class="token plain"></span><span class="token number" style="color:rgb(9, 134, 88)">10</span><span class="token plain">:30:07 PM       DEV       tps     rkB/s     wkB/s     dkB/s   areq-sz    aqu-sz     await     %util</span><br></span><span class="token-line" style="color:#000000"><span class="token plain"></span><span class="token number" style="color:rgb(9, 134, 88)">10</span><span class="token plain">:30:12 PM       sda     </span><span class="token number" style="color:rgb(9, 134, 88)">39.60</span><span class="token plain">      </span><span class="token number" style="color:rgb(9, 134, 88)">0.00</span><span class="token plain">   </span><span class="token number" style="color:rgb(9, 134, 88)">3297.60</span><span class="token plain">      </span><span class="token number" style="color:rgb(9, 134, 88)">0.00</span><span class="token plain">     </span><span class="token number" style="color:rgb(9, 134, 88)">83.27</span><span class="token plain">      </span><span class="token number" style="color:rgb(9, 134, 88)">0.67</span><span class="token plain">     </span><span class="token number" style="color:rgb(9, 134, 88)">19.43</span><span class="token plain">      </span><span class="token number" style="color:rgb(9, 134, 88)">1.00</span><span class="token plain"></span><br></span><span class="token-line" style="color:#000000"><span class="token plain"></span><span class="token number" style="color:rgb(9, 134, 88)">10</span><span class="token plain">:30:12 PM     loop0      </span><span class="token number" style="color:rgb(9, 134, 88)">0.00</span><span class="token plain">      </span><span class="token number" style="color:rgb(9, 134, 88)">0.00</span><span class="token plain">      </span><span class="token number" style="color:rgb(9, 134, 88)">0.00</span><span class="token plain">      </span><span class="token number" style="color:rgb(9, 134, 88)">0.00</span><span class="token plain">      </span><span class="token number" style="color:rgb(9, 134, 88)">0.00</span><span class="token plain">      </span><span class="token number" style="color:rgb(9, 134, 88)">0.00</span><span class="token plain">      </span><span class="token number" style="color:rgb(9, 134, 88)">0.00</span><span class="token plain">      </span><span class="token number" style="color:rgb(9, 134, 88)">0.00</span><span class="token plain"></span><br></span><span class="token-line" style="color:#000000"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#000000"><span class="token plain"></span><span class="token number" style="color:rgb(9, 134, 88)">10</span><span class="token plain">:30:12 PM       DEV       tps     rkB/s     wkB/s     dkB/s   areq-sz    aqu-sz     await     %util</span><br></span><span class="token-line" style="color:#000000"><span class="token plain"></span><span class="token number" style="color:rgb(9, 134, 88)">10</span><span class="token plain">:30:17 PM       sda      </span><span class="token number" style="color:rgb(9, 134, 88)">7.00</span><span class="token plain">      </span><span class="token number" style="color:rgb(9, 134, 88)">0.00</span><span class="token plain">     </span><span class="token number" style="color:rgb(9, 134, 88)">75.20</span><span class="token plain">      </span><span class="token number" style="color:rgb(9, 134, 88)">0.00</span><span class="token plain">     </span><span class="token number" style="color:rgb(9, 134, 88)">10.74</span><span class="token plain">      </span><span class="token number" style="color:rgb(9, 134, 88)">0.00</span><span class="token plain">      </span><span class="token number" style="color:rgb(9, 134, 88)">0.09</span><span class="token plain">      </span><span class="token number" style="color:rgb(9, 134, 88)">0.00</span><span class="token plain"></span><br></span><span class="token-line" style="color:#000000"><span class="token plain"></span><span class="token number" style="color:rgb(9, 134, 88)">10</span><span class="token plain">:30:17 PM     loop0      </span><span class="token number" style="color:rgb(9, 134, 88)">0.00</span><span class="token plain">      </span><span class="token number" style="color:rgb(9, 134, 88)">0.00</span><span class="token plain">      </span><span class="token number" style="color:rgb(9, 134, 88)">0.00</span><span class="token plain">      </span><span class="token number" style="color:rgb(9, 134, 88)">0.00</span><span class="token plain">      </span><span class="token number" style="color:rgb(9, 134, 88)">0.00</span><span class="token plain">      </span><span class="token number" style="color:rgb(9, 134, 88)">0.00</span><span class="token plain">      </span><span class="token number" style="color:rgb(9, 134, 88)">0.00</span><span class="token plain">      </span><span class="token number" style="color:rgb(9, 134, 88)">0.00</span><span class="token plain"></span><br></span><span class="token-line" style="color:#000000"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#000000"><span class="token plain"></span><span class="token number" style="color:rgb(9, 134, 88)">10</span><span class="token plain">:30:17 PM       DEV       tps     rkB/s     wkB/s     dkB/s   areq-sz    aqu-sz     await     %util</span><br></span><span class="token-line" style="color:#000000"><span class="token plain"></span><span class="token number" style="color:rgb(9, 134, 88)">10</span><span class="token plain">:30:22 PM       sda     </span><span class="token number" style="color:rgb(9, 134, 88)">14.20</span><span class="token plain">      </span><span class="token number" style="color:rgb(9, 134, 88)">0.00</span><span class="token plain">    </span><span class="token number" style="color:rgb(9, 134, 88)">132.80</span><span class="token plain">      </span><span class="token number" style="color:rgb(9, 134, 88)">0.00</span><span class="token plain">      </span><span class="token number" style="color:rgb(9, 134, 88)">9.35</span><span class="token plain">      </span><span class="token number" style="color:rgb(9, 134, 88)">0.00</span><span class="token plain">      </span><span class="token number" style="color:rgb(9, 134, 88)">0.21</span><span class="token plain">      </span><span class="token number" style="color:rgb(9, 134, 88)">0.00</span><span class="token plain"></span><br></span><span class="token-line" style="color:#000000"><span class="token plain"></span><span class="token number" style="color:rgb(9, 134, 88)">10</span><span class="token plain">:30:22 PM     loop0      </span><span class="token number" style="color:rgb(9, 134, 88)">0.00</span><span class="token plain">      </span><span class="token number" style="color:rgb(9, 134, 88)">0.00</span><span class="token plain">      </span><span class="token number" style="color:rgb(9, 134, 88)">0.00</span><span class="token plain">      </span><span class="token number" style="color:rgb(9, 134, 88)">0.00</span><span class="token plain">      </span><span class="token number" style="color:rgb(9, 134, 88)">0.00</span><span class="token plain">      </span><span class="token number" style="color:rgb(9, 134, 88)">0.00</span><span class="token plain">      </span><span class="token number" style="color:rgb(9, 134, 88)">0.00</span><span class="token plain">      </span><span class="token number" style="color:rgb(9, 134, 88)">0.00</span><span class="token plain"></span><br></span><span class="token-line" style="color:#000000"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#000000"><span class="token plain"></span><span class="token number" style="color:rgb(9, 134, 88)">10</span><span class="token plain">:30:22 PM       DEV       tps     rkB/s     wkB/s     dkB/s   areq-sz    aqu-sz     await     %util</span><br></span><span class="token-line" style="color:#000000"><span class="token plain"></span><span class="token number" style="color:rgb(9, 134, 88)">10</span><span class="token plain">:30:27 PM       sda      </span><span class="token number" style="color:rgb(9, 134, 88)">6.80</span><span class="token plain">      </span><span class="token number" style="color:rgb(9, 134, 88)">0.00</span><span class="token plain">     </span><span class="token number" style="color:rgb(9, 134, 88)">74.40</span><span class="token plain">      </span><span class="token number" style="color:rgb(9, 134, 88)">0.00</span><span class="token plain">     </span><span class="token number" style="color:rgb(9, 134, 88)">10.94</span><span class="token plain">      </span><span class="token number" style="color:rgb(9, 134, 88)">0.00</span><span class="token plain">      </span><span class="token number" style="color:rgb(9, 134, 88)">0.09</span><span class="token plain">      </span><span class="token number" style="color:rgb(9, 134, 88)">0.00</span><span class="token plain"></span><br></span><span class="token-line" style="color:#000000"><span class="token plain"></span><span class="token number" style="color:rgb(9, 134, 88)">10</span><span class="token plain">:30:27 PM     loop0      </span><span class="token number" style="color:rgb(9, 134, 88)">0.00</span><span class="token plain">      </span><span class="token number" style="color:rgb(9, 134, 88)">0.00</span><span class="token plain">      </span><span class="token number" style="color:rgb(9, 134, 88)">0.00</span><span class="token plain">      </span><span class="token number" style="color:rgb(9, 134, 88)">0.00</span><span class="token plain">      </span><span class="token number" style="color:rgb(9, 134, 88)">0.00</span><span class="token plain">      </span><span class="token number" style="color:rgb(9, 134, 88)">0.00</span><span class="token plain">      </span><span class="token number" style="color:rgb(9, 134, 88)">0.00</span><span class="token plain">      </span><span class="token number" style="color:rgb(9, 134, 88)">0.00</span><span class="token plain"></span><br></span><span class="token-line" style="color:#000000"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#000000"><span class="token plain">Average:          DEV       tps     rkB/s     wkB/s     dkB/s   areq-sz    aqu-sz     await     %util</span><br></span><span class="token-line" style="color:#000000"><span class="token plain">Average:          sda     </span><span class="token number" style="color:rgb(9, 134, 88)">15.00</span><span class="token plain">      </span><span class="token number" style="color:rgb(9, 134, 88)">0.00</span><span class="token plain">    </span><span class="token number" style="color:rgb(9, 134, 88)">732.80</span><span class="token plain">      </span><span class="token number" style="color:rgb(9, 134, 88)">0.00</span><span class="token plain">     </span><span class="token number" style="color:rgb(9, 134, 88)">48.85</span><span class="token plain">      </span><span class="token number" style="color:rgb(9, 134, 88)">0.13</span><span class="token plain">     </span><span class="token number" style="color:rgb(9, 134, 88)">10.33</span><span class="token plain">      </span><span class="token number" style="color:rgb(9, 134, 88)">0.20</span><span class="token plain"></span><br></span><span class="token-line" style="color:#000000"><span class="token plain">Average:        loop0      </span><span class="token number" style="color:rgb(9, 134, 88)">0.00</span><span class="token plain">      </span><span class="token number" style="color:rgb(9, 134, 88)">0.00</span><span class="token plain">      </span><span class="token number" style="color:rgb(9, 134, 88)">0.00</span><span class="token plain">      </span><span class="token number" style="color:rgb(9, 134, 88)">0.00</span><span class="token plain">      </span><span class="token number" style="color:rgb(9, 134, 88)">0.00</span><span class="token plain">      </span><span class="token number" style="color:rgb(9, 134, 88)">0.00</span><span class="token plain">      </span><span class="token number" style="color:rgb(9, 134, 88)">0.00</span><span class="token plain">      </span><span class="token number" style="color:rgb(9, 134, 88)">0.00</span><span class="token plain"></span><br></span><span class="token-line" style="color:#000000"><span class="token plain"></span><span class="token punctuation" style="color:rgb(4, 81, 165)">[</span><span class="token plain">root@controller1 ~</span><span class="token punctuation" style="color:rgb(4, 81, 165)">]</span><span class="token comment" style="color:rgb(0, 128, 0)"># </span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg class="copyButtonIcon_y97N" viewBox="0 0 24 24"><path d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg class="copyButtonSuccessIcon_LjdS" viewBox="0 0 24 24"><path d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><p>参数</p><div class="language-bash codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#000000;--prism-background-color:#ffffff"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-bash codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#000000"><span class="token plain">-p 可以打印出sda,hdc等磁盘设备名称,如果不用参数-p,设备节点则有可能是dev8-0,dev22-0</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg class="copyButtonIcon_y97N" viewBox="0 0 24 24"><path d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg class="copyButtonSuccessIcon_LjdS" viewBox="0 0 24 24"><path d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><p>输出项说明：</p><div class="language-bash codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#000000;--prism-background-color:#ffffff"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-bash codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#000000"><span class="token plain">tps:        每秒从物理磁盘I/O的次数.多个逻辑请求会被合并为一个I/O磁盘请求,一次传输的大小是不确定的.</span><br></span><span class="token-line" style="color:#000000"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#000000"><span class="token plain">rd_sec/s:   每秒读扇区的次数.</span><br></span><span class="token-line" style="color:#000000"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#000000"><span class="token plain">wr_sec/s:   每秒写扇区的次数.</span><br></span><span class="token-line" style="color:#000000"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#000000"><span class="token plain">avgrq-sz:   平均每次设备I/O操作的数据大小</span><span class="token punctuation" style="color:rgb(4, 81, 165)">(</span><span class="token plain">扇区</span><span class="token punctuation" style="color:rgb(4, 81, 165)">)</span><span class="token plain">.</span><br></span><span class="token-line" style="color:#000000"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#000000"><span class="token plain">avgqu-sz:   磁盘请求队列的平均长度.</span><br></span><span class="token-line" style="color:#000000"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#000000"><span class="token plain">await:      从请求磁盘操作到系统完成处理,每次请求的平均消耗时间,包括请求队列等待时间,单位是毫秒</span><span class="token punctuation" style="color:rgb(4, 81, 165)">(</span><span class="token number" style="color:rgb(9, 134, 88)">1</span><span class="token plain">秒</span><span class="token operator" style="color:rgb(0, 0, 0)">=</span><span class="token number" style="color:rgb(9, 134, 88)">1000</span><span class="token plain">毫秒</span><span class="token punctuation" style="color:rgb(4, 81, 165)">)</span><span class="token plain">.</span><br></span><span class="token-line" style="color:#000000"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#000000"><span class="token plain">svctm:      系统处理每次请求的平均时间,不包括在请求队列中消耗的时间.</span><br></span><span class="token-line" style="color:#000000"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#000000"><span class="token plain">%util:      I/O请求占CPU的百分比,比率越大,说明越饱和.</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg class="copyButtonIcon_y97N" viewBox="0 0 24 24"><path d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg class="copyButtonSuccessIcon_LjdS" viewBox="0 0 24 24"><path d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><h2 class="anchor anchorWithHideOnScrollNavbar_WYt5" id="106free-命令">10.6、free 命令<a href="#106free-命令" class="hash-link" aria-label="Direct link to heading" title="Direct link to heading">​</a></h2><p>free 用于查看内存使用情况。</p><div class="language-bash codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#000000;--prism-background-color:#ffffff"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-bash codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#000000"><span class="token function" style="color:rgb(0, 0, 255)">free</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(4, 81, 165)">[</span><span class="token plain">options</span><span class="token punctuation" style="color:rgb(4, 81, 165)">]</span><span class="token plain"></span><br></span><span class="token-line" style="color:#000000"><span class="token plain">选项说明：</span><br></span><span class="token-line" style="color:#000000"><span class="token plain">-h：人类可读方式显式单位</span><br></span><span class="token-line" style="color:#000000"><span class="token plain">-m：以MB为显示单位</span><br></span><span class="token-line" style="color:#000000"><span class="token plain">-w：将buffers和cache分开单独显示。只对CentOS </span><span class="token number" style="color:rgb(9, 134, 88)">7</span><span class="token plain">上有效</span><br></span><span class="token-line" style="color:#000000"><span class="token plain">-s：动态查看内存信息时的刷新时间间隔</span><br></span><span class="token-line" style="color:#000000"><span class="token plain">-c：一共要刷新多少次退出free</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg class="copyButtonIcon_y97N" viewBox="0 0 24 24"><path d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg class="copyButtonSuccessIcon_LjdS" viewBox="0 0 24 24"><path d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><div class="language-bash codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#000000;--prism-background-color:#ffffff"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-bash codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#000000"><span class="token punctuation" style="color:rgb(4, 81, 165)">[</span><span class="token plain">root@computer1 ~</span><span class="token punctuation" style="color:rgb(4, 81, 165)">]</span><span class="token comment" style="color:rgb(0, 128, 0)"># free -mh</span><span class="token plain"></span><br></span><span class="token-line" style="color:#000000"><span class="token plain">              total        used        </span><span class="token function" style="color:rgb(0, 0, 255)">free</span><span class="token plain">      shared  buff/cache   available</span><br></span><span class="token-line" style="color:#000000"><span class="token plain">Mem:          252Gi       209Gi        24Gi       320Mi        18Gi        36Gi</span><br></span><span class="token-line" style="color:#000000"><span class="token plain">Swap:         </span><span class="token number" style="color:rgb(9, 134, 88)">4</span><span class="token plain">.0Gi       </span><span class="token number" style="color:rgb(9, 134, 88)">4</span><span class="token plain">.0Gi          0B</span><br></span><span class="token-line" style="color:#000000"><span class="token plain"></span><span class="token punctuation" style="color:rgb(4, 81, 165)">[</span><span class="token plain">root@computer1 ~</span><span class="token punctuation" style="color:rgb(4, 81, 165)">]</span><span class="token comment" style="color:rgb(0, 128, 0)">#</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg class="copyButtonIcon_y97N" viewBox="0 0 24 24"><path d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg class="copyButtonSuccessIcon_LjdS" viewBox="0 0 24 24"><path d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><p>Mem 和 Swap 分别表示物理内存和交换分区的使用情况。</p><ul><li>total：总内存空间</li><li>used：已使用的内存空间。该值是 total - free - buffers - cache的结果</li><li>free：未使用的内存空间</li><li>shared：多数情况下 /tmpfs 用的内存空间。对内核版本有要求，若版本不够，则显示为 0。</li><li>buff/cache：buffers 和 cache 的总占用空间</li><li>available：可用的内存空间。即程序启动时，将认为可用空间有这么多。可用的内存空间为free + buffers + cache。</li></ul><p>所以 available 才是真正需要关注的可使用内存空间量。</p><p>使用 -w 可以将 buffers/cache 分开显示。</p><div class="language-bash codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#000000;--prism-background-color:#ffffff"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-bash codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#000000"><span class="token punctuation" style="color:rgb(4, 81, 165)">[</span><span class="token plain">root@computer1 ~</span><span class="token punctuation" style="color:rgb(4, 81, 165)">]</span><span class="token comment" style="color:rgb(0, 128, 0)"># free -wh</span><span class="token plain"></span><br></span><span class="token-line" style="color:#000000"><span class="token plain">              total        used        </span><span class="token function" style="color:rgb(0, 0, 255)">free</span><span class="token plain">      shared     buffers       cache   available</span><br></span><span class="token-line" style="color:#000000"><span class="token plain">Mem:          252Gi       209Gi        24Gi       320Mi       </span><span class="token number" style="color:rgb(9, 134, 88)">1</span><span class="token plain">.2Gi        17Gi        36Gi</span><br></span><span class="token-line" style="color:#000000"><span class="token plain">Swap:         </span><span class="token number" style="color:rgb(9, 134, 88)">4</span><span class="token plain">.0Gi       </span><span class="token number" style="color:rgb(9, 134, 88)">4</span><span class="token plain">.0Gi          0B</span><br></span><span class="token-line" style="color:#000000"><span class="token plain"></span><span class="token punctuation" style="color:rgb(4, 81, 165)">[</span><span class="token plain">root@computer1 ~</span><span class="token punctuation" style="color:rgb(4, 81, 165)">]</span><span class="token comment" style="color:rgb(0, 128, 0)">#</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg class="copyButtonIcon_y97N" viewBox="0 0 24 24"><path d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg class="copyButtonSuccessIcon_LjdS" viewBox="0 0 24 24"><path d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><p>还可以动态统计内存信息，例如每秒统计一次，统计 2 次。</p><div class="language-bash codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#000000;--prism-background-color:#ffffff"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-bash codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#000000"><span class="token punctuation" style="color:rgb(4, 81, 165)">[</span><span class="token plain">root@computer1 ~</span><span class="token punctuation" style="color:rgb(4, 81, 165)">]</span><span class="token comment" style="color:rgb(0, 128, 0)"># free -w -m -h -s 1 -c 2</span><span class="token plain"></span><br></span><span class="token-line" style="color:#000000"><span class="token plain">              total        used        </span><span class="token function" style="color:rgb(0, 0, 255)">free</span><span class="token plain">      shared     buffers       cache   available</span><br></span><span class="token-line" style="color:#000000"><span class="token plain">Mem:          252Gi       209Gi        24Gi       316Mi       </span><span class="token number" style="color:rgb(9, 134, 88)">1</span><span class="token plain">.2Gi        17Gi        36Gi</span><br></span><span class="token-line" style="color:#000000"><span class="token plain">Swap:         </span><span class="token number" style="color:rgb(9, 134, 88)">4</span><span class="token plain">.0Gi       </span><span class="token number" style="color:rgb(9, 134, 88)">4</span><span class="token plain">.0Gi          0B</span><br></span><span class="token-line" style="color:#000000"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#000000"><span class="token plain">              total        used        </span><span class="token function" style="color:rgb(0, 0, 255)">free</span><span class="token plain">      shared     buffers       cache   available</span><br></span><span class="token-line" style="color:#000000"><span class="token plain">Mem:          252Gi       209Gi        24Gi       320Mi       </span><span class="token number" style="color:rgb(9, 134, 88)">1</span><span class="token plain">.2Gi        17Gi        36Gi</span><br></span><span class="token-line" style="color:#000000"><span class="token plain">Swap:         </span><span class="token number" style="color:rgb(9, 134, 88)">4</span><span class="token plain">.0Gi       </span><span class="token number" style="color:rgb(9, 134, 88)">4</span><span class="token plain">.0Gi          0B</span><br></span><span class="token-line" style="color:#000000"><span class="token plain"></span><span class="token punctuation" style="color:rgb(4, 81, 165)">[</span><span class="token plain">root@computer1 ~</span><span class="token punctuation" style="color:rgb(4, 81, 165)">]</span><span class="token comment" style="color:rgb(0, 128, 0)">#</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg class="copyButtonIcon_y97N" viewBox="0 0 24 24"><path d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg class="copyButtonSuccessIcon_LjdS" viewBox="0 0 24 24"><path d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div></div></article><nav class="pagination-nav docusaurus-mt-lg" aria-label="Docs pages navigation"><a class="pagination-nav__link pagination-nav__link--prev" href="/en/docs/linux-primary-9"><div class="pagination-nav__sublabel">Previous</div><div class="pagination-nav__label">第 9 章 Linux 进程和信号</div></a><a class="pagination-nav__link pagination-nav__link--next" href="/en/docs/linux-primary-11"><div class="pagination-nav__sublabel">Next</div><div class="pagination-nav__label">第 11 章 Linux 服务管理</div></a></nav></div></div><div class="col col--3"><div class="tableOfContents_bqdL thin-scrollbar theme-doc-toc-desktop"><ul class="table-of-contents table-of-contents__left-border"><li><a href="#101伪文件系统" class="table-of-contents__link toc-highlight">10.1、伪文件系统</a></li><li><a href="#102查看进程信息" class="table-of-contents__link toc-highlight">10.2、查看进程信息</a><ul><li><a href="#1021pstree-命令" class="table-of-contents__link toc-highlight">10.2.1、pstree 命令</a></li><li><a href="#1022ps-命令" class="table-of-contents__link toc-highlight">10.2.2、ps 命令</a></li><li><a href="#1023ps-后-grep-问题" class="table-of-contents__link toc-highlight">10.2.3、ps 后 grep 问题</a></li><li><a href="#1024uptime-命令" class="table-of-contents__link toc-highlight">10.2.4、uptime 命令</a></li><li><a href="#1025tophtop-和-iftop-命令" class="table-of-contents__link toc-highlight">10.2.5、top、htop 和 iftop 命令</a></li><li><a href="#1026分析系统负载" class="table-of-contents__link toc-highlight">10.2.6、分析系统负载</a></li></ul></li><li><a href="#103vmstat-命令" class="table-of-contents__link toc-highlight">10.3、vmstat 命令</a></li><li><a href="#104iostat-命令" class="table-of-contents__link toc-highlight">10.4、iostat 命令</a></li><li><a href="#105sar-命令" class="table-of-contents__link toc-highlight">10.5、sar 命令</a><ul><li><a href="#1051cpu-资源监控" class="table-of-contents__link toc-highlight">10.5.1、CPU 资源监控</a></li><li><a href="#1052inode文件和其他内核表监控" class="table-of-contents__link toc-highlight">10.5.2、inode、文件和其他内核表监控</a></li><li><a href="#1053内存和交换空间监控" class="table-of-contents__link toc-highlight">10.5.3、内存和交换空间监控</a></li><li><a href="#1054内存分页监控" class="table-of-contents__link toc-highlight">10.5.4、内存分页监控</a></li><li><a href="#1055io-和传送速率监控" class="table-of-contents__link toc-highlight">10.5.5、I/O 和传送速率监控</a></li><li><a href="#1056进程队列长度和平均负载状态监控" class="table-of-contents__link toc-highlight">10.5.6、进程队列长度和平均负载状态监控</a></li><li><a href="#1057系统交换活动信息监控" class="table-of-contents__link toc-highlight">10.5.7、系统交换活动信息监控</a></li><li><a href="#1058统计网络信息" class="table-of-contents__link toc-highlight">10.5.8、统计网络信息</a><ul><li><a href="#10581sar--n-dev-1-3" class="table-of-contents__link toc-highlight">10.5.8.1、sar -n DEV 1 3</a></li><li><a href="#10582sar--n-edev-1-1" class="table-of-contents__link toc-highlight">10.5.8.2、sar -n EDEV 1 1</a></li><li><a href="#10583sar--n-sock-1-1" class="table-of-contents__link toc-highlight">10.5.8.3、sar -n SOCK 1 1</a></li><li><a href="#10584sar--n-tcp-1-3" class="table-of-contents__link toc-highlight">10.5.8.4、sar -n TCP 1 3</a></li></ul></li><li><a href="#1059设备使用情况监控" class="table-of-contents__link toc-highlight">10.5.9、设备使用情况监控</a></li></ul></li><li><a href="#106free-命令" class="table-of-contents__link toc-highlight">10.6、free 命令</a></li></ul></div></div></div></div></main></div></div><footer class="footer footer--dark"><div class="container container-fluid"><div class="row footer__links"><div class="col footer__col"><div class="footer__title">笔记</div><ul class="footer__items clean-list"><li class="footer__item"><a class="footer__link-item" href="/en/docs/category/存储">存储</a></li><li class="footer__item"><a class="footer__link-item" href="/en/tags">Tags</a></li><li class="footer__item"><a class="footer__link-item" href="/en/archive">Archive</a></li><li class="footer__item"><a class="footer__link-item" href="/en/project">Projects</a></li><li class="footer__item"><a class="footer__link-item" href="/en/docs/linux">Linux</a></li></ul></div><div class="col footer__col"><div class="footer__title">Social Media</div><ul class="footer__items clean-list"><li class="footer__item"><a class="footer__link-item" href="/en/about">About Me</a></li><li class="footer__item"><a href="https://github.com/zqingfa" target="_blank" rel="noopener noreferrer" class="footer__link-item">GitHub<svg width="13.5" height="13.5" aria-hidden="true" viewBox="0 0 24 24" class="iconExternalLink_nPIU"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"></path></svg></a></li><li class="footer__item"><a href="https://juejin.cn/" target="_blank" rel="noopener noreferrer" class="footer__link-item">Juejin<svg width="13.5" height="13.5" aria-hidden="true" viewBox="0 0 24 24" class="iconExternalLink_nPIU"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"></path></svg></a></li><li class="footer__item"><a href="https://discord.gg/" target="_blank" rel="noopener noreferrer" class="footer__link-item">Discord<svg width="13.5" height="13.5" aria-hidden="true" viewBox="0 0 24 24" class="iconExternalLink_nPIU"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"></path></svg></a></li></ul></div><div class="col footer__col"><div class="footer__title">More</div><ul class="footer__items clean-list"><li class="footer__item"><a class="footer__link-item" position="right" href="/en/friends">Friends</a></li><li class="footer__item"><a class="footer__link-item" position="right" href="/en/website">Links</a></li><li class="footer__item"><a href="https://docusaurus.io/zh-CN/" target="_blank"><img style="height:50px;margin-top:0.5rem" src="/img/buildwith.png"><a></a></li></ul></div></div><div class="footer__bottom text--center"><div class="footer__copyright"><p><a href="http://beian.miit.gov.cn/">浙ICP备20024502号-1</a></p><p>Copyright © 2022 – PRESENT zhangqf Built with Docusaurus.</p></div></div></div></footer></div>
<script src="/en/assets/js/runtime~main.403f05fc.js"></script>
<script src="/en/assets/js/main.4747bdb7.js"></script>
</body>
</html>