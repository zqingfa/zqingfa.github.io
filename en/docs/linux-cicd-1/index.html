<!doctype html>
<html lang="en-GB" dir="ltr" class="docs-wrapper docs-doc-page docs-version-current plugin-docs plugin-id-default docs-doc-id-linux/cicd/linux-cicd-1">
<head>
<meta charset="UTF-8">
<meta name="generator" content="Docusaurus v2.4.0">
<title data-rh="true">第 1 章 Git 版本控制系统 - Linux技术分享</title><meta data-rh="true" name="viewport" content="width=device-width,initial-scale=1"><meta data-rh="true" name="twitter:card" content="summary_large_image"><meta data-rh="true" property="og:image" content="https://zhangqf.com/en/img/logo.png"><meta data-rh="true" name="twitter:image" content="https://zhangqf.com/en/img/logo.png"><meta data-rh="true" property="og:url" content="https://zhangqf.com/en/docs/linux-cicd-1"><meta data-rh="true" name="docusaurus_locale" content="en"><meta data-rh="true" name="docsearch:language" content="en"><meta data-rh="true" name="docusaurus_version" content="current"><meta data-rh="true" name="docusaurus_tag" content="docs-default-current"><meta data-rh="true" name="docsearch:version" content="current"><meta data-rh="true" name="docsearch:docusaurus_tag" content="docs-default-current"><meta data-rh="true" property="og:title" content="第 1 章 Git 版本控制系统 - Linux技术分享"><meta data-rh="true" name="description" content="1.1、Git、Github、Gitlab 的区别"><meta data-rh="true" property="og:description" content="1.1、Git、Github、Gitlab 的区别"><meta data-rh="true" name="keywords" content="linux,git"><link data-rh="true" rel="icon" href="/en/img/favicon.ico"><link data-rh="true" rel="canonical" href="https://zhangqf.com/en/docs/linux-cicd-1"><link data-rh="true" rel="alternate" href="https://zhangqf.com/en/docs/linux-cicd-1" hreflang="en-GB"><link data-rh="true" rel="alternate" href="https://zhangqf.com/docs/linux-cicd-1" hreflang="zh"><link data-rh="true" rel="alternate" href="https://zhangqf.com/docs/linux-cicd-1" hreflang="x-default"><link data-rh="true" rel="preconnect" href="https://9B0V5WT2X8-dsn.algolia.net" crossorigin="anonymous"><link rel="preconnect" href="https://www.google-analytics.com">
<link rel="preconnect" href="https://www.googletagmanager.com">
<script async src="https://www.googletagmanager.com/gtag/js?id=G-S4SD5NXWXF"></script>
<script>function gtag(){dataLayer.push(arguments)}window.dataLayer=window.dataLayer||[],gtag("js",new Date),gtag("config","G-S4SD5NXWXF",{anonymize_ip:!0})</script>


<link rel="search" type="application/opensearchdescription+xml" title="Linux技术分享" href="/en/opensearch.xml">
<link rel="preconnect" href="https://zhangqf.com/">
<script>var _paq=window._paq=window._paq||[];_paq.push(["setRequestMethod","POST"]),_paq.push(["trackPageView"]),_paq.push(["enableLinkTracking"]),_paq.push(["enableHeartBeatTimer"]),function(){var e="https://zhangqf.com/";_paq.push(["setRequestMethod","POST"]),_paq.push(["setTrackerUrl",e+"matomo.php"]),_paq.push(["setSiteId","1"]);var a=document,t=a.createElement("script"),p=a.getElementsByTagName("script")[0];t.type="text/javascript",t.async=!0,t.src=e+"matomo.js",p.parentNode.insertBefore(t,p)}()</script>


<script>var _hmt=_hmt||[];!function(){var e=document.createElement("script");e.src="https://hm.baidu.com/hm.js?77dc6b24cf1d939292e9fe13be271a96",e.defer=!0;var t=document.getElementsByTagName("script")[0];t.parentNode.insertBefore(e,t)}()</script>
<meta name="baidu-site-verification" content="code-rqLUw5reVS">
<script>!function(){var t=document.createElement("script"),e=window.location.protocol.split(":")[0];t.src="https"===e?"https://zz.bdstatic.com/linksubmit/push.js":"http://push.zhanzhang.baidu.com/push.js",t.defer=!0;var s=document.getElementsByTagName("script")[0];s.parentNode.insertBefore(t,s)}()</script>
<link rel="alternate" type="application/rss+xml" href="/en/rss.xml" title="zhangqf RSS Feed">
<link rel="alternate" type="application/atom+xml" href="/en/atom.xml" title="zhangqf Atom Feed">
<link rel="alternate" type="application/json" href="/en/feed.json" title="zhangqf JSON Feed">

<link rel="icon" href="/en/img/logo.png">
<link rel="manifest" href="/en/manifest.json">
<meta name="theme-color" content="rgb(51 139 255)"><link rel="stylesheet" href="/en/assets/css/styles.bf38107f.css">
<link rel="preload" href="/en/assets/js/runtime~main.403f05fc.js" as="script">
<link rel="preload" href="/en/assets/js/main.4747bdb7.js" as="script">
</head>
<body class="navigation-with-keyboard">
<script>!function(){function t(t){document.documentElement.setAttribute("data-theme",t)}var e=function(){var t=null;try{t=new URLSearchParams(window.location.search).get("docusaurus-theme")}catch(t){}return t}()||function(){var t=null;try{t=localStorage.getItem("theme")}catch(t){}return t}();t(null!==e?e:"light")}(),document.documentElement.setAttribute("data-announcement-bar-initially-dismissed",function(){try{return"true"===localStorage.getItem("docusaurus.announcement.dismiss")}catch(t){}return!1}())</script><div id="__docusaurus">
<div role="region" aria-label="Skip to main content"><a class="skipToContent_fXgn" href="#docusaurus_skipToContent_fallback">Skip to main content</a></div><div class="announcementBar_mb4j" role="banner"><div class="announcementBarPlaceholder_vyr4"></div><div class="content_knG7 announcementBarContent_xLdY"><span>更新 <a href="/website">网址导航</a> 带你发现感兴趣的技术</span></div><button type="button" aria-label="Close" class="clean-btn close closeButton_CVFx announcementBarClose_gvF7"><svg viewBox="0 0 15 15" width="14" height="14"><g stroke="currentColor" stroke-width="3.1"><path d="M.75.75l13.5 13.5M14.25.75L.75 14.25"></path></g></svg></button></div><nav aria-label="Main" class="navbar navbar--fixed-top navbarHideable_m1mJ"><div class="navbar__inner"><div class="navbar__items"><button aria-label="Toggle navigation bar" aria-expanded="false" class="navbar__toggle clean-btn" type="button"><svg width="30" height="30" viewBox="0 0 30 30" aria-hidden="true"><path stroke="currentColor" stroke-linecap="round" stroke-miterlimit="10" stroke-width="2" d="M4 7h22M4 15h22M4 23h22"></path></svg></button><a class="navbar__brand" href="/en/"><div class="navbar__logo"><img src="/en/img/logo.webp" alt="zhangqf" class="themedImage_ToTc themedImage--light_HNdA"><img src="/en/img/logo.webp" alt="zhangqf" class="themedImage_ToTc themedImage--dark_i4oU"></div><b class="navbar__title text--truncate">zhangqf</b></a></div><div class="navbar__items navbar__items--right"><div class="navbar__item dropdown dropdown--hoverable dropdown--right"><a class="navbar__link" aria-haspopup="true" aria-expanded="false" role="button" href="/en/docs/linux">Linux</a><ul class="dropdown__menu"><li><a class="dropdown__link" href="/en/docs/category/Linux基础">Linux 基础</a></li><li><a class="dropdown__link" href="/en/docs/category/Linux进阶">Linux 进阶</a></li><li><a class="dropdown__link" href="/en/docs/category/Linux测试">Linux 测试</a></li><li><a class="dropdown__link" href="/en/docs/category/LinuxCICD">Linux CICD研发</a></li></ul></div><div class="navbar__item dropdown dropdown--hoverable dropdown--right"><a class="navbar__link" aria-haspopup="true" aria-expanded="false" role="button" href="/en/docs/skill/">Notes</a><ul class="dropdown__menu"><li><a class="dropdown__link" href="/en/tags">Tags</a></li><li><a class="dropdown__link" href="/en/archive">Archive</a></li><li><a class="dropdown__link" href="/en/docs/category/存储">存储</a></li></ul></div><a class="navbar__item navbar__link" href="/en/website">Links</a><a class="navbar__item navbar__link" href="/en/project">Projects</a><div class="navbar__item dropdown dropdown--hoverable dropdown--right"><a href="#" aria-haspopup="true" aria-expanded="false" role="button" class="navbar__link"><svg viewBox="0 0 24 24" width="20" height="20" aria-hidden="true" class="iconLanguage_nlXk"><path fill="currentColor" d="M12.87 15.07l-2.54-2.51.03-.03c1.74-1.94 2.98-4.17 3.71-6.53H17V4h-7V2H8v2H1v1.99h11.17C11.5 7.92 10.44 9.75 9 11.35 8.07 10.32 7.3 9.19 6.69 8h-2c.73 1.63 1.73 3.17 2.98 4.56l-5.09 5.02L4 19l5-5 3.11 3.11.76-2.04zM18.5 10h-2L12 22h2l1.12-3h4.75L21 22h2l-4.5-12zm-2.62 7l1.62-4.33L19.12 17h-3.24z"></path></svg>English</a><ul class="dropdown__menu"><li><a href="/en/docs/linux-cicd-1" target="_self" rel="noopener noreferrer" class="dropdown__link dropdown__link--active" lang="en-GB">English</a></li><li><a href="/docs/linux-cicd-1" target="_self" rel="noopener noreferrer" class="dropdown__link" lang="zh">中文</a></li></ul></div><div class="toggle_vylO colorModeToggle_DEke"><button class="clean-btn toggleButton_gllP toggleButtonDisabled_aARS" type="button" disabled="" title="Switch between dark and light mode (currently light mode)" aria-label="Switch between dark and light mode (currently light mode)" aria-live="polite"><svg viewBox="0 0 24 24" width="24" height="24" class="lightToggleIcon_pyhR"><path fill="currentColor" d="M12,9c1.65,0,3,1.35,3,3s-1.35,3-3,3s-3-1.35-3-3S10.35,9,12,9 M12,7c-2.76,0-5,2.24-5,5s2.24,5,5,5s5-2.24,5-5 S14.76,7,12,7L12,7z M2,13l2,0c0.55,0,1-0.45,1-1s-0.45-1-1-1l-2,0c-0.55,0-1,0.45-1,1S1.45,13,2,13z M20,13l2,0c0.55,0,1-0.45,1-1 s-0.45-1-1-1l-2,0c-0.55,0-1,0.45-1,1S19.45,13,20,13z M11,2v2c0,0.55,0.45,1,1,1s1-0.45,1-1V2c0-0.55-0.45-1-1-1S11,1.45,11,2z M11,20v2c0,0.55,0.45,1,1,1s1-0.45,1-1v-2c0-0.55-0.45-1-1-1C11.45,19,11,19.45,11,20z M5.99,4.58c-0.39-0.39-1.03-0.39-1.41,0 c-0.39,0.39-0.39,1.03,0,1.41l1.06,1.06c0.39,0.39,1.03,0.39,1.41,0s0.39-1.03,0-1.41L5.99,4.58z M18.36,16.95 c-0.39-0.39-1.03-0.39-1.41,0c-0.39,0.39-0.39,1.03,0,1.41l1.06,1.06c0.39,0.39,1.03,0.39,1.41,0c0.39-0.39,0.39-1.03,0-1.41 L18.36,16.95z M19.42,5.99c0.39-0.39,0.39-1.03,0-1.41c-0.39-0.39-1.03-0.39-1.41,0l-1.06,1.06c-0.39,0.39-0.39,1.03,0,1.41 s1.03,0.39,1.41,0L19.42,5.99z M7.05,18.36c0.39-0.39,0.39-1.03,0-1.41c-0.39-0.39-1.03-0.39-1.41,0l-1.06,1.06 c-0.39,0.39-0.39,1.03,0,1.41s1.03,0.39,1.41,0L7.05,18.36z"></path></svg><svg viewBox="0 0 24 24" width="24" height="24" class="darkToggleIcon_wfgR"><path fill="currentColor" d="M9.37,5.51C9.19,6.15,9.1,6.82,9.1,7.5c0,4.08,3.32,7.4,7.4,7.4c0.68,0,1.35-0.09,1.99-0.27C17.45,17.19,14.93,19,12,19 c-3.86,0-7-3.14-7-7C5,9.07,6.81,6.55,9.37,5.51z M12,3c-4.97,0-9,4.03-9,9s4.03,9,9,9s9-4.03,9-9c0-0.46-0.04-0.92-0.1-1.36 c-0.98,1.37-2.58,2.26-4.4,2.26c-2.98,0-5.4-2.42-5.4-5.4c0-1.81,0.89-3.42,2.26-4.4C12.92,3.04,12.46,3,12,3L12,3z"></path></svg></button></div><div class="searchBox_ZlJk"><button type="button" class="DocSearch DocSearch-Button" aria-label="Search"><span class="DocSearch-Button-Container"><svg width="20" height="20" class="DocSearch-Search-Icon" viewBox="0 0 20 20"><path d="M14.386 14.386l4.0877 4.0877-4.0877-4.0877c-2.9418 2.9419-7.7115 2.9419-10.6533 0-2.9419-2.9418-2.9419-7.7115 0-10.6533 2.9418-2.9419 7.7115-2.9419 10.6533 0 2.9419 2.9418 2.9419 7.7115 0 10.6533z" stroke="currentColor" fill="none" fill-rule="evenodd" stroke-linecap="round" stroke-linejoin="round"></path></svg><span class="DocSearch-Button-Placeholder">Search</span></span><span class="DocSearch-Button-Keys"></span></button></div></div></div><div role="presentation" class="navbar-sidebar__backdrop"></div></nav><div id="docusaurus_skipToContent_fallback" class="main-wrapper mainWrapper_z2l0 docsWrapper_BCFX"><button aria-label="Scroll back to top" class="clean-btn theme-back-to-top-button backToTopButton_sjWU" type="button"></button><div class="docPage__5DB"><aside class="theme-doc-sidebar-container docSidebarContainer_b6E3"><div class="sidebarViewport_Xe31"><div class="sidebar_njMd sidebarWithHideableNavbar_wUlq"><a tabindex="-1" class="sidebarLogo_isFc" href="/en/"><img src="/en/img/logo.webp" alt="zhangqf" class="themedImage_ToTc themedImage--light_HNdA"><img src="/en/img/logo.webp" alt="zhangqf" class="themedImage_ToTc themedImage--dark_i4oU"><b>zhangqf</b></a><nav aria-label="Docs sidebar" class="menu thin-scrollbar menu_SIkG menuWithAnnouncementBar_GW3s"><ul class="theme-doc-sidebar-menu menu__list"><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-1 menu__list-item"><a class="menu__link" href="/en/docs/linux">linux</a></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist" aria-expanded="false" href="/en/docs/category/linux基础">Linux基础</a><button aria-label="Toggle the collapsible sidebar category &#x27;Linux基础&#x27;" type="button" class="clean-btn menu__caret"></button></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist" aria-expanded="false" href="/en/docs/category/linux进阶">Linux进阶</a><button aria-label="Toggle the collapsible sidebar category &#x27;Linux进阶&#x27;" type="button" class="clean-btn menu__caret"></button></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist" aria-expanded="false" href="/en/docs/category/linux测试">Linux测试</a><button aria-label="Toggle the collapsible sidebar category &#x27;Linux测试&#x27;" type="button" class="clean-btn menu__caret"></button></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist menu__link--active" aria-expanded="true" href="/en/docs/category/linuxcicd">LinuxCICD</a><button aria-label="Toggle the collapsible sidebar category &#x27;LinuxCICD&#x27;" type="button" class="clean-btn menu__caret"></button></div><ul style="display:block;overflow:visible;height:auto" class="menu__list"><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link menu__link--active" aria-current="page" tabindex="0" href="/en/docs/linux-cicd-1">第 1 章 Git 版本控制系统</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/en/docs/linux-cicd-2">第 2 章 Maven 代码构建系统</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/en/docs/linux/cicd/第 3 章 Jenkins 自动化系统">第 3 章 Jenkins 自动化系统</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/en/docs/linux-cicd-4">第 4 章 Linux Ansible 入门知识</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/en/docs/linux-cicd-5">第 5 章 Linux Ansible 进阶知识</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/en/docs/linux-cicd-6">第 6 章 DevOps 实践</a></li></ul></li></ul></nav><button type="button" title="Collapse sidebar" aria-label="Collapse sidebar" class="button button--secondary button--outline collapseSidebarButton_PEFL"><svg width="20" height="20" aria-hidden="true" class="collapseSidebarButtonIcon_kv0_"><g fill="#7a7a7a"><path d="M9.992 10.023c0 .2-.062.399-.172.547l-4.996 7.492a.982.982 0 01-.828.454H1c-.55 0-1-.453-1-1 0-.2.059-.403.168-.551l4.629-6.942L.168 3.078A.939.939 0 010 2.528c0-.548.45-.997 1-.997h2.996c.352 0 .649.18.828.45L9.82 9.472c.11.148.172.347.172.55zm0 0"></path><path d="M19.98 10.023c0 .2-.058.399-.168.547l-4.996 7.492a.987.987 0 01-.828.454h-3c-.547 0-.996-.453-.996-1 0-.2.059-.403.168-.551l4.625-6.942-4.625-6.945a.939.939 0 01-.168-.55 1 1 0 01.996-.997h3c.348 0 .649.18.828.45l4.996 7.492c.11.148.168.347.168.55zm0 0"></path></g></svg></button></div></div></aside><main class="docMainContainer_gTbr"><div class="container padding-top--md padding-bottom--lg"><div class="row"><div class="col docItemCol_VOVn"><div class="docItemContainer_Djhp"><article><nav class="theme-doc-breadcrumbs breadcrumbsContainer_Z_bl" aria-label="Breadcrumbs"><ul class="breadcrumbs" itemscope="" itemtype="https://schema.org/BreadcrumbList"><li class="breadcrumbs__item"><a aria-label="Home page" class="breadcrumbs__link" href="/en/"><svg viewBox="0 0 24 24" class="breadcrumbHomeIcon_YNFT"><path d="M10 19v-5h4v5c0 .55.45 1 1 1h3c.55 0 1-.45 1-1v-7h1.7c.46 0 .68-.57.33-.87L12.67 3.6c-.38-.34-.96-.34-1.34 0l-8.36 7.53c-.34.3-.13.87.33.87H5v7c0 .55.45 1 1 1h3c.55 0 1-.45 1-1z" fill="currentColor"></path></svg></a></li><li itemscope="" itemprop="itemListElement" itemtype="https://schema.org/ListItem" class="breadcrumbs__item"><a class="breadcrumbs__link" itemprop="item" href="/en/docs/category/linuxcicd"><span itemprop="name">LinuxCICD</span></a><meta itemprop="position" content="1"></li><li itemscope="" itemprop="itemListElement" itemtype="https://schema.org/ListItem" class="breadcrumbs__item breadcrumbs__item--active"><span class="breadcrumbs__link" itemprop="name">第 1 章 Git 版本控制系统</span><meta itemprop="position" content="2"></li></ul></nav><div class="tocCollapsible_ETCw theme-doc-toc-mobile tocMobile_ITEo"><button type="button" class="clean-btn tocCollapsibleButton_TO0P">On this page</button></div><div class="theme-doc-markdown markdown"><header><h1>第 1 章 Git 版本控制系统</h1></header><h2 class="anchor anchorWithHideOnScrollNavbar_WYt5" id="11gitgithubgitlab-的区别">1.1、Git、Github、Gitlab 的区别<a href="#11gitgithubgitlab-的区别" class="hash-link" aria-label="Direct link to heading" title="Direct link to heading">​</a></h2><p>Git 是一个开源的分布式版本控制系统，用于敏捷高效地处理任何或小或大的项目。是 Linus Torvalds 为了帮助管理 Linux 内核开发而开发的一个开放源码的版本控制软件。</p><p>Github 是在线的基于 Git 的代码托管服务。 GitHub 是 2008 年由 Ruby on Rails 编写而成。GitHub 同时提供付费账户和免费账户。这两种账户都可以创建公开的代码仓库，只有付费账户可以创建私有的代码仓库。</p><p>Gitlab 解决了这个问题，可以在上面创建免费的私人仓库。</p><p>git：是一套软件，可以做本地私有仓库。</p><p>github：本身是一个代码托管网站，公有和私有仓库(收费)，不能做本地私有仓库。</p><p>gitlab：本身也是一个代码托管的网站，功能上和 github 没有区别，公有和私有仓库(免费)可以部署本地私有仓库。</p><h2 class="anchor anchorWithHideOnScrollNavbar_WYt5" id="12git-与-svn-区别">1.2、Git 与 SVN 区别<a href="#12git-与-svn-区别" class="hash-link" aria-label="Direct link to heading" title="Direct link to heading">​</a></h2><p>Git 不仅仅是个版本控制系统，它也是个内容管理系统(CMS)，工作管理系统等。</p><p>如果你是一个具有使用 SVN 背景的人，你需要做一定的思想转换，来适应 Git 提供的一些概念和特征。</p><p><strong>Git 与 SVN 区别</strong></p><ol><li>Git 是分布式的，SVN 不是，这是 Git 和其它非分布式的版本控制系统，例如 SVN，CVS 等，最核心的区别。</li><li>Git 把内容按元数据方式存储，而 SVN 是按文件存储，所有的资源控制系统都是把文件的元信息隐藏在一个类似 .svn，.cvs 等的文件夹里。</li><li>Git 分支和 SVN 的分支不同，分支在 SVN 中一点不特别，就是版本库中的另外的一个目录。</li><li>Git 没有一个全局的版本号，而 SVN 有，目前为止这是跟 SVN 相比 GIT 缺少的最大的一个特征。</li><li>Git 的内容完整性要优于 SVN，Git 的内容存储使用的是 SHA-1 哈希算法。这能确保代码内容的完整性，确保在遇到磁盘故障和网络问题时降低对版本库的破坏。</li></ol><p>git：是分布式的版本控制器，没有客户端和服务器端的概念。</p><p>svn：它是 C/S 结构的版本控制器，有客户端和服务器端，服务器如果宕机而且代码没有备份的情况下，完整代码就会丢失。</p><h2 class="anchor anchorWithHideOnScrollNavbar_WYt5" id="13部署-git-服务">1.3、部署 Git 服务<a href="#13部署-git-服务" class="hash-link" aria-label="Direct link to heading" title="Direct link to heading">​</a></h2><h3 class="anchor anchorWithHideOnScrollNavbar_WYt5" id="131创建-git-仓库">1.3.1、创建 git 仓库<a href="#131创建-git-仓库" class="hash-link" aria-label="Direct link to heading" title="Direct link to heading">​</a></h3><p>git-server 上的操作：</p><div class="language-javascript codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#000000;--prism-background-color:#ffffff"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-javascript codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#000000"><span class="token punctuation" style="color:rgb(4, 81, 165)">[</span><span class="token plain">root@arm64v8 </span><span class="token operator" style="color:rgb(0, 0, 0)">~</span><span class="token punctuation" style="color:rgb(4, 81, 165)">]</span><span class="token plain"># yum install git gitweb </span><span class="token operator" style="color:rgb(0, 0, 0)">-</span><span class="token plain">y</span><br></span><span class="token-line" style="color:#000000"><span class="token plain"></span><span class="token punctuation" style="color:rgb(4, 81, 165)">[</span><span class="token plain">root@arm64v8 </span><span class="token operator" style="color:rgb(0, 0, 0)">~</span><span class="token punctuation" style="color:rgb(4, 81, 165)">]</span><span class="token plain"># useradd git</span><br></span><span class="token-line" style="color:#000000"><span class="token plain"></span><span class="token punctuation" style="color:rgb(4, 81, 165)">[</span><span class="token plain">root@arm64v8 </span><span class="token operator" style="color:rgb(0, 0, 0)">~</span><span class="token punctuation" style="color:rgb(4, 81, 165)">]</span><span class="token plain"># echo </span><span class="token string" style="color:rgb(163, 21, 21)">&quot;Brinnatt@487X&quot;</span><span class="token plain"> </span><span class="token operator" style="color:rgb(0, 0, 0)">|</span><span class="token plain"> passwd </span><span class="token operator" style="color:rgb(0, 0, 0)">--</span><span class="token plain">stdin git</span><br></span><span class="token-line" style="color:#000000"><span class="token plain"></span><span class="token punctuation" style="color:rgb(4, 81, 165)">[</span><span class="token plain">root@arm64v8 </span><span class="token operator" style="color:rgb(0, 0, 0)">~</span><span class="token punctuation" style="color:rgb(4, 81, 165)">]</span><span class="token plain"># su </span><span class="token operator" style="color:rgb(0, 0, 0)">-</span><span class="token plain"> git</span><br></span><span class="token-line" style="color:#000000"><span class="token plain"></span><span class="token maybe-class-name">Last</span><span class="token plain"> login</span><span class="token operator" style="color:rgb(0, 0, 0)">:</span><span class="token plain"> </span><span class="token maybe-class-name">Sat</span><span class="token plain"> </span><span class="token maybe-class-name">Mar</span><span class="token plain">  </span><span class="token number" style="color:rgb(9, 134, 88)">5</span><span class="token plain"> </span><span class="token number" style="color:rgb(9, 134, 88)">20</span><span class="token operator" style="color:rgb(0, 0, 0)">:</span><span class="token number" style="color:rgb(9, 134, 88)">06</span><span class="token operator" style="color:rgb(0, 0, 0)">:</span><span class="token number" style="color:rgb(9, 134, 88)">49</span><span class="token plain"> </span><span class="token constant" style="color:rgb(129, 31, 63)">CST</span><span class="token plain"> </span><span class="token number" style="color:rgb(9, 134, 88)">2022</span><span class="token plain"> on pts</span><span class="token operator" style="color:rgb(0, 0, 0)">/</span><span class="token number" style="color:rgb(9, 134, 88)">0</span><span class="token plain"></span><br></span><span class="token-line" style="color:#000000"><span class="token plain"></span><span class="token punctuation" style="color:rgb(4, 81, 165)">[</span><span class="token plain">git@arm64v8 </span><span class="token operator" style="color:rgb(0, 0, 0)">~</span><span class="token punctuation" style="color:rgb(4, 81, 165)">]</span><span class="token plain">$</span><br></span><span class="token-line" style="color:#000000"><span class="token plain"></span><span class="token punctuation" style="color:rgb(4, 81, 165)">[</span><span class="token plain">git@arm64v8 </span><span class="token operator" style="color:rgb(0, 0, 0)">~</span><span class="token punctuation" style="color:rgb(4, 81, 165)">]</span><span class="token plain">$ mkdir git</span><span class="token operator" style="color:rgb(0, 0, 0)">-</span><span class="token plain">root</span><br></span><span class="token-line" style="color:#000000"><span class="token plain"></span><span class="token punctuation" style="color:rgb(4, 81, 165)">[</span><span class="token plain">git@arm64v8 </span><span class="token operator" style="color:rgb(0, 0, 0)">~</span><span class="token punctuation" style="color:rgb(4, 81, 165)">]</span><span class="token plain">$ cd git</span><span class="token operator" style="color:rgb(0, 0, 0)">-</span><span class="token plain">root</span><span class="token operator" style="color:rgb(0, 0, 0)">/</span><span class="token plain"></span><br></span><span class="token-line" style="color:#000000"><span class="token plain"></span><span class="token punctuation" style="color:rgb(4, 81, 165)">[</span><span class="token plain">git@arm64v8 git</span><span class="token operator" style="color:rgb(0, 0, 0)">-</span><span class="token plain">root</span><span class="token punctuation" style="color:rgb(4, 81, 165)">]</span><span class="token plain">$ </span><br></span><span class="token-line" style="color:#000000"><span class="token plain"></span><span class="token punctuation" style="color:rgb(4, 81, 165)">[</span><span class="token plain">git@arm64v8 git</span><span class="token operator" style="color:rgb(0, 0, 0)">-</span><span class="token plain">root</span><span class="token punctuation" style="color:rgb(4, 81, 165)">]</span><span class="token plain">$ git init </span><span class="token operator" style="color:rgb(0, 0, 0)">--</span><span class="token plain">bare shell</span><span class="token punctuation" style="color:rgb(4, 81, 165)">.</span><span class="token property-access">git</span><span class="token plain"></span><br></span><span class="token-line" style="color:#000000"><span class="token plain"></span><span class="token maybe-class-name">Initialized</span><span class="token plain"> empty </span><span class="token maybe-class-name">Git</span><span class="token plain"> repository </span><span class="token keyword" style="color:rgb(0, 0, 255)">in</span><span class="token plain"> </span><span class="token operator" style="color:rgb(0, 0, 0)">/</span><span class="token plain">home</span><span class="token operator" style="color:rgb(0, 0, 0)">/</span><span class="token plain">git</span><span class="token operator" style="color:rgb(0, 0, 0)">/</span><span class="token plain">git</span><span class="token operator" style="color:rgb(0, 0, 0)">-</span><span class="token plain">root</span><span class="token operator" style="color:rgb(0, 0, 0)">/</span><span class="token plain">shell</span><span class="token punctuation" style="color:rgb(4, 81, 165)">.</span><span class="token property-access">git</span><span class="token operator" style="color:rgb(0, 0, 0)">/</span><span class="token plain"></span><br></span><span class="token-line" style="color:#000000"><span class="token plain"></span><span class="token punctuation" style="color:rgb(4, 81, 165)">[</span><span class="token plain">git@arm64v8 git</span><span class="token operator" style="color:rgb(0, 0, 0)">-</span><span class="token plain">root</span><span class="token punctuation" style="color:rgb(4, 81, 165)">]</span><span class="token plain">$ </span><br></span><span class="token-line" style="color:#000000"><span class="token plain"></span><span class="token punctuation" style="color:rgb(4, 81, 165)">[</span><span class="token plain">git@arm64v8 git</span><span class="token operator" style="color:rgb(0, 0, 0)">-</span><span class="token plain">root</span><span class="token punctuation" style="color:rgb(4, 81, 165)">]</span><span class="token plain">$ ls shell</span><span class="token punctuation" style="color:rgb(4, 81, 165)">.</span><span class="token property-access">git</span><span class="token operator" style="color:rgb(0, 0, 0)">/</span><span class="token plain"></span><br></span><span class="token-line" style="color:#000000"><span class="token plain">branches  config  description  </span><span class="token constant" style="color:rgb(129, 31, 63)">HEAD</span><span class="token plain">  hooks  info  objects  refs</span><br></span><span class="token-line" style="color:#000000"><span class="token plain"></span><span class="token punctuation" style="color:rgb(4, 81, 165)">[</span><span class="token plain">git@arm64v8 git</span><span class="token operator" style="color:rgb(0, 0, 0)">-</span><span class="token plain">root</span><span class="token punctuation" style="color:rgb(4, 81, 165)">]</span><span class="token plain">$</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg class="copyButtonIcon_y97N" viewBox="0 0 24 24"><path d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg class="copyButtonSuccessIcon_LjdS" viewBox="0 0 24 24"><path d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><ul><li>git init 和 git init --bare 的区别：<ul><li>使用 --bare 选项时，不再生成 .git 目录，而是只生成 .git 目录下面的版本历史记录文件，这些版本历史记录文件也不再存放在 .git 目录下面，而是直接存放在版本库的根目录下面。</li><li>用 &quot;git init&quot; 初始化的版本库用户也可以在该目录下执行所有 git 方面的操作。但远程的用户再将更新代码 push 上来的时候容易出现冲突。</li><li>使用 &quot;git init --bare&quot; 方法创建一个所谓的裸仓库，之所以叫裸仓库是因为这个仓库只保存 git 历史提交的版本信息，而不允许用户在上面进行各种 git 操作，如果你硬要操作的话，只会得到下面的错误（”This operation must be run in a work tree”）这个就是最好把远端仓库初始化成 bare 仓库的原因。</li></ul></li></ul><h3 class="anchor anchorWithHideOnScrollNavbar_WYt5" id="132git-仓库测试">1.3.2、git 仓库测试<a href="#132git-仓库测试" class="hash-link" aria-label="Direct link to heading" title="Direct link to heading">​</a></h3><p>git-client 上的操作：</p><div class="language-shell codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#000000;--prism-background-color:#ffffff"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-shell codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#000000"><span class="token punctuation" style="color:rgb(4, 81, 165)">[</span><span class="token plain">root@armcli ~</span><span class="token punctuation" style="color:rgb(4, 81, 165)">]</span><span class="token comment" style="color:rgb(0, 128, 0)"># yum install git -y</span><span class="token plain"></span><br></span><span class="token-line" style="color:#000000"><span class="token plain"></span><span class="token punctuation" style="color:rgb(4, 81, 165)">[</span><span class="token plain">root@armcli ~</span><span class="token punctuation" style="color:rgb(4, 81, 165)">]</span><span class="token comment" style="color:rgb(0, 128, 0)"># ssh-keygen -t rsa</span><span class="token plain"></span><br></span><span class="token-line" style="color:#000000"><span class="token plain"></span><span class="token punctuation" style="color:rgb(4, 81, 165)">[</span><span class="token plain">root@armcli ~</span><span class="token punctuation" style="color:rgb(4, 81, 165)">]</span><span class="token comment" style="color:rgb(0, 128, 0)"># ssh-copy-id -i git@arm64v8</span><span class="token plain"></span><br></span><span class="token-line" style="color:#000000"><span class="token plain"></span><span class="token punctuation" style="color:rgb(4, 81, 165)">[</span><span class="token plain">root@armcli ~</span><span class="token punctuation" style="color:rgb(4, 81, 165)">]</span><span class="token comment" style="color:rgb(0, 128, 0)"># mkdir localgit</span><span class="token plain"></span><br></span><span class="token-line" style="color:#000000"><span class="token plain"></span><span class="token punctuation" style="color:rgb(4, 81, 165)">[</span><span class="token plain">root@armcli ~</span><span class="token punctuation" style="color:rgb(4, 81, 165)">]</span><span class="token comment" style="color:rgb(0, 128, 0)"># cd localgit/</span><span class="token plain"></span><br></span><span class="token-line" style="color:#000000"><span class="token plain"></span><span class="token punctuation" style="color:rgb(4, 81, 165)">[</span><span class="token plain">root@armcli localgit</span><span class="token punctuation" style="color:rgb(4, 81, 165)">]</span><span class="token comment" style="color:rgb(0, 128, 0)"># git config --global user.email &quot;brinnatt@gmail.com&quot;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#000000"><span class="token plain"></span><span class="token punctuation" style="color:rgb(4, 81, 165)">[</span><span class="token plain">root@armcli localgit</span><span class="token punctuation" style="color:rgb(4, 81, 165)">]</span><span class="token comment" style="color:rgb(0, 128, 0)"># git config --global user.name &quot;Brinnatt&quot;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#000000"><span class="token plain"></span><span class="token punctuation" style="color:rgb(4, 81, 165)">[</span><span class="token plain">root@armcli localgit</span><span class="token punctuation" style="color:rgb(4, 81, 165)">]</span><span class="token comment" style="color:rgb(0, 128, 0)"># git clone git@arm64v8:/home/git/git-root/shell.git</span><span class="token plain"></span><br></span><span class="token-line" style="color:#000000"><span class="token plain">Cloning into </span><span class="token string" style="color:rgb(163, 21, 21)">&#x27;shell&#x27;</span><span class="token punctuation" style="color:rgb(4, 81, 165)">..</span><span class="token plain">.</span><br></span><span class="token-line" style="color:#000000"><span class="token plain">warning: You appear to have cloned an empty repository.</span><br></span><span class="token-line" style="color:#000000"><span class="token plain"></span><span class="token punctuation" style="color:rgb(4, 81, 165)">[</span><span class="token plain">root@armcli localgit</span><span class="token punctuation" style="color:rgb(4, 81, 165)">]</span><span class="token comment" style="color:rgb(0, 128, 0)"># ls</span><span class="token plain"></span><br></span><span class="token-line" style="color:#000000"><span class="token plain">shell</span><br></span><span class="token-line" style="color:#000000"><span class="token plain"></span><span class="token punctuation" style="color:rgb(4, 81, 165)">[</span><span class="token plain">root@armcli localgit</span><span class="token punctuation" style="color:rgb(4, 81, 165)">]</span><span class="token comment" style="color:rgb(0, 128, 0)">#</span><span class="token plain"></span><br></span><span class="token-line" style="color:#000000"><span class="token plain"></span><span class="token punctuation" style="color:rgb(4, 81, 165)">[</span><span class="token plain">root@armcli localgit</span><span class="token punctuation" style="color:rgb(4, 81, 165)">]</span><span class="token comment" style="color:rgb(0, 128, 0)"># cd shell/</span><span class="token plain"></span><br></span><span class="token-line" style="color:#000000"><span class="token plain"></span><span class="token punctuation" style="color:rgb(4, 81, 165)">[</span><span class="token plain">root@armcli shell</span><span class="token punctuation" style="color:rgb(4, 81, 165)">]</span><span class="token comment" style="color:rgb(0, 128, 0)"># vim test.sh</span><span class="token plain"></span><br></span><span class="token-line" style="color:#000000"><span class="token plain"></span><span class="token comment" style="color:rgb(0, 128, 0)">#!/bin/bash</span><span class="token plain"></span><br></span><span class="token-line" style="color:#000000"><span class="token plain"></span><span class="token builtin class-name" style="color:rgb(38, 127, 153)">echo</span><span class="token plain"> </span><span class="token string" style="color:rgb(163, 21, 21)">&quot;hello world&quot;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#000000"><span class="token plain"></span><span class="token punctuation" style="color:rgb(4, 81, 165)">[</span><span class="token plain">root@armcli shell</span><span class="token punctuation" style="color:rgb(4, 81, 165)">]</span><span class="token comment" style="color:rgb(0, 128, 0)"># git add test.sh </span><span class="token plain"></span><br></span><span class="token-line" style="color:#000000"><span class="token plain"></span><span class="token punctuation" style="color:rgb(4, 81, 165)">[</span><span class="token plain">root@armcli shell</span><span class="token punctuation" style="color:rgb(4, 81, 165)">]</span><span class="token comment" style="color:rgb(0, 128, 0)"># git commit -m &quot;first commit, changed test.sh&quot;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#000000"><span class="token plain"></span><span class="token punctuation" style="color:rgb(4, 81, 165)">[</span><span class="token plain">master </span><span class="token punctuation" style="color:rgb(4, 81, 165)">(</span><span class="token plain">root-commit</span><span class="token punctuation" style="color:rgb(4, 81, 165)">)</span><span class="token plain"> 7b55201</span><span class="token punctuation" style="color:rgb(4, 81, 165)">]</span><span class="token plain"> first commit, changed test.sh</span><br></span><span class="token-line" style="color:#000000"><span class="token plain"> </span><span class="token number" style="color:rgb(9, 134, 88)">1</span><span class="token plain"> </span><span class="token function" style="color:rgb(0, 0, 255)">file</span><span class="token plain"> changed, </span><span class="token number" style="color:rgb(9, 134, 88)">2</span><span class="token plain"> insertions</span><span class="token punctuation" style="color:rgb(4, 81, 165)">(</span><span class="token plain">+</span><span class="token punctuation" style="color:rgb(4, 81, 165)">)</span><span class="token plain"></span><br></span><span class="token-line" style="color:#000000"><span class="token plain"> create mode </span><span class="token number" style="color:rgb(9, 134, 88)">100644</span><span class="token plain"> test.sh</span><br></span><span class="token-line" style="color:#000000"><span class="token plain"></span><span class="token punctuation" style="color:rgb(4, 81, 165)">[</span><span class="token plain">root@armcli shell</span><span class="token punctuation" style="color:rgb(4, 81, 165)">]</span><span class="token comment" style="color:rgb(0, 128, 0)"># </span><span class="token plain"></span><br></span><span class="token-line" style="color:#000000"><span class="token plain"></span><span class="token punctuation" style="color:rgb(4, 81, 165)">[</span><span class="token plain">root@armcli shell</span><span class="token punctuation" style="color:rgb(4, 81, 165)">]</span><span class="token comment" style="color:rgb(0, 128, 0)"># git push origin master</span><span class="token plain"></span><br></span><span class="token-line" style="color:#000000"><span class="token plain">Counting objects: </span><span class="token number" style="color:rgb(9, 134, 88)">3</span><span class="token plain">, done.</span><br></span><span class="token-line" style="color:#000000"><span class="token plain">Writing objects: </span><span class="token number" style="color:rgb(9, 134, 88)">100</span><span class="token plain">% </span><span class="token punctuation" style="color:rgb(4, 81, 165)">(</span><span class="token number" style="color:rgb(9, 134, 88)">3</span><span class="token plain">/3</span><span class="token punctuation" style="color:rgb(4, 81, 165)">)</span><span class="token plain">, </span><span class="token number" style="color:rgb(9, 134, 88)">247</span><span class="token plain"> bytes </span><span class="token operator" style="color:rgb(0, 0, 0)">|</span><span class="token plain"> </span><span class="token number" style="color:rgb(9, 134, 88)">0</span><span class="token plain"> bytes/s, done.</span><br></span><span class="token-line" style="color:#000000"><span class="token plain">Total </span><span class="token number" style="color:rgb(9, 134, 88)">3</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(4, 81, 165)">(</span><span class="token plain">delta </span><span class="token number" style="color:rgb(9, 134, 88)">0</span><span class="token punctuation" style="color:rgb(4, 81, 165)">)</span><span class="token plain">, reused </span><span class="token number" style="color:rgb(9, 134, 88)">0</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(4, 81, 165)">(</span><span class="token plain">delta </span><span class="token number" style="color:rgb(9, 134, 88)">0</span><span class="token punctuation" style="color:rgb(4, 81, 165)">)</span><span class="token plain"></span><br></span><span class="token-line" style="color:#000000"><span class="token plain">To git@arm64v8:/home/git/git-root/shell.git</span><br></span><span class="token-line" style="color:#000000"><span class="token plain"> * </span><span class="token punctuation" style="color:rgb(4, 81, 165)">[</span><span class="token plain">new branch</span><span class="token punctuation" style="color:rgb(4, 81, 165)">]</span><span class="token plain">      master -</span><span class="token operator" style="color:rgb(0, 0, 0)">&gt;</span><span class="token plain"> master</span><br></span><span class="token-line" style="color:#000000"><span class="token plain"></span><span class="token punctuation" style="color:rgb(4, 81, 165)">[</span><span class="token plain">root@armcli shell</span><span class="token punctuation" style="color:rgb(4, 81, 165)">]</span><span class="token comment" style="color:rgb(0, 128, 0)">#</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg class="copyButtonIcon_y97N" viewBox="0 0 24 24"><path d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg class="copyButtonSuccessIcon_LjdS" viewBox="0 0 24 24"><path d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><p>再找一台 armcli2 的服务器：</p><div class="language-bash codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#000000;--prism-background-color:#ffffff"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-bash codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#000000"><span class="token punctuation" style="color:rgb(4, 81, 165)">[</span><span class="token plain">root@armcli2 ~</span><span class="token punctuation" style="color:rgb(4, 81, 165)">]</span><span class="token comment" style="color:rgb(0, 128, 0)"># yum install git -y</span><span class="token plain"></span><br></span><span class="token-line" style="color:#000000"><span class="token plain"></span><span class="token punctuation" style="color:rgb(4, 81, 165)">[</span><span class="token plain">root@armcli2 ~</span><span class="token punctuation" style="color:rgb(4, 81, 165)">]</span><span class="token comment" style="color:rgb(0, 128, 0)"># git clone git@arm64v8:/home/git/git-root/shell.git</span><span class="token plain"></span><br></span><span class="token-line" style="color:#000000"><span class="token plain"></span><span class="token punctuation" style="color:rgb(4, 81, 165)">[</span><span class="token plain">root@armcli2 ~</span><span class="token punctuation" style="color:rgb(4, 81, 165)">]</span><span class="token comment" style="color:rgb(0, 128, 0)"># cd shell/</span><span class="token plain"></span><br></span><span class="token-line" style="color:#000000"><span class="token plain"></span><span class="token punctuation" style="color:rgb(4, 81, 165)">[</span><span class="token plain">root@armcli2 shell</span><span class="token punctuation" style="color:rgb(4, 81, 165)">]</span><span class="token comment" style="color:rgb(0, 128, 0)"># ls</span><span class="token plain"></span><br></span><span class="token-line" style="color:#000000"><span class="token plain">test.sh</span><br></span><span class="token-line" style="color:#000000"><span class="token plain"></span><span class="token punctuation" style="color:rgb(4, 81, 165)">[</span><span class="token plain">root@armcli2 shell</span><span class="token punctuation" style="color:rgb(4, 81, 165)">]</span><span class="token comment" style="color:rgb(0, 128, 0)"># cat test.sh </span><span class="token plain"></span><br></span><span class="token-line" style="color:#000000"><span class="token plain"></span><span class="token comment" style="color:rgb(0, 128, 0)">#!/bin/bash</span><span class="token plain"></span><br></span><span class="token-line" style="color:#000000"><span class="token plain"></span><span class="token builtin class-name" style="color:rgb(38, 127, 153)">echo</span><span class="token plain"> </span><span class="token string" style="color:rgb(163, 21, 21)">&quot;hello world&quot;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#000000"><span class="token plain"></span><span class="token punctuation" style="color:rgb(4, 81, 165)">[</span><span class="token plain">root@armcli2 shell</span><span class="token punctuation" style="color:rgb(4, 81, 165)">]</span><span class="token comment" style="color:rgb(0, 128, 0)">#</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg class="copyButtonIcon_y97N" viewBox="0 0 24 24"><path d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg class="copyButtonSuccessIcon_LjdS" viewBox="0 0 24 24"><path d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><ul><li>经验证，Git 服务部署成功。</li></ul><h2 class="anchor anchorWithHideOnScrollNavbar_WYt5" id="14git-工作流程">1.4、Git 工作流程<a href="#14git-工作流程" class="hash-link" aria-label="Direct link to heading" title="Direct link to heading">​</a></h2><p>一般工作流程如下：</p><ul><li>克隆 Git 资源作为工作目录。</li><li>在克隆的资源上添加或修改文件。</li><li>如果其他人修改了，你可以更新资源。</li><li>在提交前查看修改。</li><li>提交修改。</li><li>在修改完成后，如果发现错误，可以撤回提交并再次修改并提交。<!-- -->  　　Git 的工作流程示意图：
</li></ul><p><img loading="lazy" alt="img" src="/en/assets/images/git_working_procedure-d9fcfbdd9d64061aa2fab095a6a6e470.png" width="654" height="885" class="img_ev3q"></p><h2 class="anchor anchorWithHideOnScrollNavbar_WYt5" id="15git-基本概念">1.5、Git 基本概念<a href="#15git-基本概念" class="hash-link" aria-label="Direct link to heading" title="Direct link to heading">​</a></h2><ul><li><strong>工作区：</strong>.git 所在的目录就是工作区，一般是项目的根目录。</li><li><strong>暂存区：</strong>英文叫 stage，或 index。一般存放在 &quot;git 目录&quot; 下的 index 文件（.git/index）中，所以我们把暂存区有时也叫作索引（index）。</li><li><strong>版本库：</strong>工作区有一个隐藏目录 .git，这个不算工作区，而是 Git 的版本库。</li></ul><p>工作区、版本库中的暂存区和版本库之间的关系的示意图：</p><p><img loading="lazy" alt="img" src="/en/assets/images/stage_head-812cadcdaa29979b9ec806e78a89a8dc.png" width="908" height="462" class="img_ev3q"></p><ul><li>　　图中左侧为工作区，右侧为版本库。在版本库中标记为 &quot;index&quot; 的区域是暂存区(stage，index)，标记为 &quot;master&quot; 的是 master 分支所代表的目录树。
</li><li>　　图中我们可以看出此时 &quot;HEAD&quot; 实际是指向 master 分支的一个&quot;游标&quot;。所以图示的命令中出现 HEAD 的地方可以用 master 来替换。
</li><li>　　图中的 objects 标识的区域为 Git 的对象库，实际位于 &quot;.git/objects&quot; 目录下，里面包含了创建的各种对象及内容。
</li><li>　　当对工作区修改（或新增）的文件执行 &quot;git add&quot; 命令时，暂存区的目录树被更新，同时工作区修改（或新增）的文件内容被写入到对象库中的一个新的对象中，而该对象的 ID 被记录在暂存区的文件索引中。
</li><li>　　当执行提交操作（git commit）时，暂存区的目录树写到版本库（对象库）中，master 分支会做相应的更新。即 master 指向的目录树就是提交时暂存区的目录树。
</li><li>　　当执行 &quot;git reset HEAD&quot; 命令时，暂存区的目录树会被重写，被 master 分支指向的目录树所替换，但是工作区不受影响。
</li><li>　　当执行 &quot;git rm --cached (file)&quot; 命令时，会直接从暂存区删除文件，工作区则不做出改变。
</li><li>　　当执行 &quot;git checkout .&quot; 或者 &quot;git checkout -- (file)&quot; 命令时，会用暂存区全部或指定的文件替换工作区的文件。这个操作很危险，会清除工作区中未添加到暂存区的改动。
</li><li>　　当执行 &quot;git checkout HEAD .&quot; 或者 &quot;git checkout HEAD (file)&quot; 命令时，会用 HEAD 指向的 master 分支中的全部或者部分文件替换暂存区和以及工作区中的文件。这个命令也是极具危险性的，因为不但会清除工作区中未提交的改动，也会清除暂存区中未提交的改动。
</li></ul><h2 class="anchor anchorWithHideOnScrollNavbar_WYt5" id="16git-客户端安装使用">1.6、Git 客户端安装使用<a href="#16git-客户端安装使用" class="hash-link" aria-label="Direct link to heading" title="Direct link to heading">​</a></h2><h3 class="anchor anchorWithHideOnScrollNavbar_WYt5" id="161git-安装">1.6.1、Git 安装<a href="#161git-安装" class="hash-link" aria-label="Direct link to heading" title="Direct link to heading">​</a></h3><div class="language-shell codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#000000;--prism-background-color:#ffffff"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-shell codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#000000"><span class="token punctuation" style="color:rgb(4, 81, 165)">[</span><span class="token plain">root@arm64v8 ~</span><span class="token punctuation" style="color:rgb(4, 81, 165)">]</span><span class="token comment" style="color:rgb(0, 128, 0)"># yum install git -y</span><span class="token plain"></span><br></span><span class="token-line" style="color:#000000"><span class="token plain"></span><span class="token punctuation" style="color:rgb(4, 81, 165)">[</span><span class="token plain">root@arm64v8 ~</span><span class="token punctuation" style="color:rgb(4, 81, 165)">]</span><span class="token comment" style="color:rgb(0, 128, 0)"># git version</span><span class="token plain"></span><br></span><span class="token-line" style="color:#000000"><span class="token plain"></span><span class="token function" style="color:rgb(0, 0, 255)">git</span><span class="token plain"> version </span><span class="token number" style="color:rgb(9, 134, 88)">1.8</span><span class="token plain">.3.1</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg class="copyButtonIcon_y97N" viewBox="0 0 24 24"><path d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg class="copyButtonSuccessIcon_LjdS" viewBox="0 0 24 24"><path d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><h3 class="anchor anchorWithHideOnScrollNavbar_WYt5" id="162git-配置">1.6.2、Git 配置<a href="#162git-配置" class="hash-link" aria-label="Direct link to heading" title="Direct link to heading">​</a></h3><p>Git 提供了一个叫做 git config 的工具，专门用来配置或读取相应的工作环境变量。</p><p>这些环境变量，决定了 Git 在各个环节的具体工作方式和行为。这些变量可以存放在以下三个不同的地方：</p><ul><li><code>/etc/gitconfig</code> 文件：系统中对所有用户都普遍适用的配置。若使用 <code>git config</code> 时用 <code>--system</code> 选项，读写的就是这个文件。</li><li><code>~/.gitconfig</code> 文件：用户目录下的配置文件只适用于该用户。若使用 <code>git config</code> 时用 <code>--global</code> 选项，读写的就是这个文件。</li><li>当前项目的 Git 目录中的配置文件（也就是工作目录中的 <code>.git/config</code> 文件）：这里的配置仅仅针对当前项目有效。每一个级别的配置都会覆盖上层的相同配置，所以 <code>.git/config</code> 里的配置会覆盖 <code>/etc/gitconfig</code> 中的同名变量。</li></ul><h4 class="anchor anchorWithHideOnScrollNavbar_WYt5" id="1621git-用户信息">1.6.2.1、Git 用户信息<a href="#1621git-用户信息" class="hash-link" aria-label="Direct link to heading" title="Direct link to heading">​</a></h4><p>配置个人的用户名称和电子邮件地址：</p><div class="language-shell codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#000000;--prism-background-color:#ffffff"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-shell codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#000000"><span class="token punctuation" style="color:rgb(4, 81, 165)">[</span><span class="token plain">root@armcli2 ~</span><span class="token punctuation" style="color:rgb(4, 81, 165)">]</span><span class="token comment" style="color:rgb(0, 128, 0)"># git config --global user.name &#x27;Brinnatt&#x27;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#000000"><span class="token plain"></span><span class="token punctuation" style="color:rgb(4, 81, 165)">[</span><span class="token plain">root@armcli2 ~</span><span class="token punctuation" style="color:rgb(4, 81, 165)">]</span><span class="token comment" style="color:rgb(0, 128, 0)"># git config --global user.email &#x27;brinnatt@gmail.com&#x27;</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg class="copyButtonIcon_y97N" viewBox="0 0 24 24"><path d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg class="copyButtonSuccessIcon_LjdS" viewBox="0 0 24 24"><path d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><ul><li>如果用了 <strong>-<!-- -->-global</strong> 选项，那么更改的配置文件就是位于你用户主目录下的那个，以后你所有的项目都会默认使用这里配置的用户信息。
</li><li>如果要在某个特定的项目中使用其他名字或者电邮，只要去掉 --global 选项重新配置即可，新的设定保存在当前项目的 .git/config 文件里。
</li></ul><h4 class="anchor anchorWithHideOnScrollNavbar_WYt5" id="1622文本编辑器">1.6.2.2、文本编辑器<a href="#1622文本编辑器" class="hash-link" aria-label="Direct link to heading" title="Direct link to heading">​</a></h4><p>设置 Git 默认使用的文本编辑器，一般可能会是 Vi 或者 Vim。如果你有其他偏好，比如 Emacs 的话，可以重新设置</p><div class="language-shell codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#000000;--prism-background-color:#ffffff"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-shell codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#000000"><span class="token punctuation" style="color:rgb(4, 81, 165)">[</span><span class="token plain">root@armcli2 ~</span><span class="token punctuation" style="color:rgb(4, 81, 165)">]</span><span class="token comment" style="color:rgb(0, 128, 0)"># git config --global core.editor vim</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg class="copyButtonIcon_y97N" viewBox="0 0 24 24"><path d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg class="copyButtonSuccessIcon_LjdS" viewBox="0 0 24 24"><path d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><h4 class="anchor anchorWithHideOnScrollNavbar_WYt5" id="1623差异分析工具">1.6.2.3、差异分析工具<a href="#1623差异分析工具" class="hash-link" aria-label="Direct link to heading" title="Direct link to heading">​</a></h4><p>还有一个比较常用的是，在解决合并冲突时使用哪种差异分析工具。比如要改用 vimdiff 的话：</p><div class="language-shell codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#000000;--prism-background-color:#ffffff"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-shell codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#000000"><span class="token punctuation" style="color:rgb(4, 81, 165)">[</span><span class="token plain">root@armcli2 ~</span><span class="token punctuation" style="color:rgb(4, 81, 165)">]</span><span class="token comment" style="color:rgb(0, 128, 0)"># git config --global merge.tool vimdiff</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg class="copyButtonIcon_y97N" viewBox="0 0 24 24"><path d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg class="copyButtonSuccessIcon_LjdS" viewBox="0 0 24 24"><path d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><ul><li>Git 可以理解 kdiff3，tkdiff，meld，xxdiff，emerge，vimdiff，gvimdiff，ecmerge 和 opendiff 等合并工具的输出信息。当然，你也可以指定使用自己开发的工具。</li></ul><h4 class="anchor anchorWithHideOnScrollNavbar_WYt5" id="1624查看配置信息">1.6.2.4、查看配置信息<a href="#1624查看配置信息" class="hash-link" aria-label="Direct link to heading" title="Direct link to heading">​</a></h4><p>要检查已有的配置信息，可以使用 git config --list 命令：</p><div class="language-shell codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#000000;--prism-background-color:#ffffff"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-shell codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#000000"><span class="token punctuation" style="color:rgb(4, 81, 165)">[</span><span class="token plain">root@armcli2 ~</span><span class="token punctuation" style="color:rgb(4, 81, 165)">]</span><span class="token comment" style="color:rgb(0, 128, 0)"># git config --list</span><span class="token plain"></span><br></span><span class="token-line" style="color:#000000"><span class="token plain">user.name</span><span class="token operator" style="color:rgb(0, 0, 0)">=</span><span class="token plain">Brinnatt</span><br></span><span class="token-line" style="color:#000000"><span class="token plain">user.email</span><span class="token operator" style="color:rgb(0, 0, 0)">=</span><span class="token plain">brinnatt@gmail.com</span><br></span><span class="token-line" style="color:#000000"><span class="token plain">core.editor</span><span class="token operator" style="color:rgb(0, 0, 0)">=</span><span class="token plain">vim</span><br></span><span class="token-line" style="color:#000000"><span class="token plain">merge.tool</span><span class="token operator" style="color:rgb(0, 0, 0)">=</span><span class="token plain">vimdiff</span><br></span><span class="token-line" style="color:#000000"><span class="token plain"></span><span class="token punctuation" style="color:rgb(4, 81, 165)">[</span><span class="token plain">root@armcli2 ~</span><span class="token punctuation" style="color:rgb(4, 81, 165)">]</span><span class="token comment" style="color:rgb(0, 128, 0)">#</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg class="copyButtonIcon_y97N" viewBox="0 0 24 24"><path d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg class="copyButtonSuccessIcon_LjdS" viewBox="0 0 24 24"><path d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><p>有时候会看到重复的变量名，那就说明它们来自不同的配置文件（比如 /etc/gitconfig 和 ~/.gitconfig），不过最终 Git 实际采用的是最后一个。</p><p>这些配置我们也可以在 <strong>~/.gitconfig</strong> 或 <strong>/etc/gitconfig</strong> 看到，如下所示：</p><div class="language-shell codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#000000;--prism-background-color:#ffffff"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-shell codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#000000"><span class="token punctuation" style="color:rgb(4, 81, 165)">[</span><span class="token plain">root@armcli2 ~</span><span class="token punctuation" style="color:rgb(4, 81, 165)">]</span><span class="token comment" style="color:rgb(0, 128, 0)"># cat ~/.gitconfig </span><span class="token plain"></span><br></span><span class="token-line" style="color:#000000"><span class="token plain"></span><span class="token punctuation" style="color:rgb(4, 81, 165)">[</span><span class="token plain">user</span><span class="token punctuation" style="color:rgb(4, 81, 165)">]</span><span class="token plain"></span><br></span><span class="token-line" style="color:#000000"><span class="token plain">    name </span><span class="token operator" style="color:rgb(0, 0, 0)">=</span><span class="token plain"> Brinnatt</span><br></span><span class="token-line" style="color:#000000"><span class="token plain">    email </span><span class="token operator" style="color:rgb(0, 0, 0)">=</span><span class="token plain"> brinnatt@gmail.com</span><br></span><span class="token-line" style="color:#000000"><span class="token plain"></span><span class="token punctuation" style="color:rgb(4, 81, 165)">[</span><span class="token plain">core</span><span class="token punctuation" style="color:rgb(4, 81, 165)">]</span><span class="token plain"></span><br></span><span class="token-line" style="color:#000000"><span class="token plain">    editor </span><span class="token operator" style="color:rgb(0, 0, 0)">=</span><span class="token plain"> </span><span class="token function" style="color:rgb(0, 0, 255)">vim</span><span class="token plain"></span><br></span><span class="token-line" style="color:#000000"><span class="token plain"></span><span class="token punctuation" style="color:rgb(4, 81, 165)">[</span><span class="token plain">merge</span><span class="token punctuation" style="color:rgb(4, 81, 165)">]</span><span class="token plain"></span><br></span><span class="token-line" style="color:#000000"><span class="token plain">    tool </span><span class="token operator" style="color:rgb(0, 0, 0)">=</span><span class="token plain"> vimdiff</span><br></span><span class="token-line" style="color:#000000"><span class="token plain"></span><span class="token punctuation" style="color:rgb(4, 81, 165)">[</span><span class="token plain">root@armcli2 ~</span><span class="token punctuation" style="color:rgb(4, 81, 165)">]</span><span class="token comment" style="color:rgb(0, 128, 0)">#</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg class="copyButtonIcon_y97N" viewBox="0 0 24 24"><path d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg class="copyButtonSuccessIcon_LjdS" viewBox="0 0 24 24"><path d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><p>也可以直接查阅某个环境变量的设定，只要把特定的名字跟在后面即可，像这样：</p><div class="language-shell codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#000000;--prism-background-color:#ffffff"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-shell codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#000000"><span class="token punctuation" style="color:rgb(4, 81, 165)">[</span><span class="token plain">root@armcli2 ~</span><span class="token punctuation" style="color:rgb(4, 81, 165)">]</span><span class="token comment" style="color:rgb(0, 128, 0)"># git config user.name</span><span class="token plain"></span><br></span><span class="token-line" style="color:#000000"><span class="token plain">Brinnatt</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg class="copyButtonIcon_y97N" viewBox="0 0 24 24"><path d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg class="copyButtonSuccessIcon_LjdS" viewBox="0 0 24 24"><path d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><h3 class="anchor anchorWithHideOnScrollNavbar_WYt5" id="163git-使用">1.6.3、Git 使用<a href="#163git-使用" class="hash-link" aria-label="Direct link to heading" title="Direct link to heading">​</a></h3><h4 class="anchor anchorWithHideOnScrollNavbar_WYt5" id="1631ssh-连接">1.6.3.1、SSH 连接<a href="#1631ssh-连接" class="hash-link" aria-label="Direct link to heading" title="Direct link to heading">​</a></h4><ol><li>本地生成 SSH 密钥对。</li></ol><div class="language-bash codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#000000;--prism-background-color:#ffffff"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-bash codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#000000"><span class="token punctuation" style="color:rgb(4, 81, 165)">[</span><span class="token plain">root@armcli2 ~</span><span class="token punctuation" style="color:rgb(4, 81, 165)">]</span><span class="token comment" style="color:rgb(0, 128, 0)"># rm -rf .ssh/</span><span class="token plain"></span><br></span><span class="token-line" style="color:#000000"><span class="token plain"></span><span class="token punctuation" style="color:rgb(4, 81, 165)">[</span><span class="token plain">root@armcli2 ~</span><span class="token punctuation" style="color:rgb(4, 81, 165)">]</span><span class="token comment" style="color:rgb(0, 128, 0)"># ssh-keygen -t rsa -b 4096 -N &#x27;&#x27; -f /root/.ssh/id_rsa -q</span><span class="token plain"></span><br></span><span class="token-line" style="color:#000000"><span class="token plain"></span><span class="token punctuation" style="color:rgb(4, 81, 165)">[</span><span class="token plain">root@armcli2 ~</span><span class="token punctuation" style="color:rgb(4, 81, 165)">]</span><span class="token comment" style="color:rgb(0, 128, 0)"># ls .ssh/</span><span class="token plain"></span><br></span><span class="token-line" style="color:#000000"><span class="token plain">id_rsa  id_rsa.pub</span><br></span><span class="token-line" style="color:#000000"><span class="token plain"></span><span class="token punctuation" style="color:rgb(4, 81, 165)">[</span><span class="token plain">root@armcli2 ~</span><span class="token punctuation" style="color:rgb(4, 81, 165)">]</span><span class="token comment" style="color:rgb(0, 128, 0)"># cat .ssh/id_rsa.pub </span><span class="token plain"></span><br></span><span class="token-line" style="color:#000000"><span class="token plain">ssh-rsa AAAAB3NzaC1yc2EAAAADAQABAAACAQDYbtRw0Sq2LOxPRJsVbL5xgaY8aVjsK0M22GWc2vZGv3yek0pYCyTAudPiC43Q29yquRkRMZoyZI/hasq6PKZH0LUrkRJM1eH1umpMr7YobHwU2nxsowzLdOGZWe1y80LmTiUQBbLt7NIG0rvDn0xWm/f1sdfsedgwesdg23dtytssdglTwOzyAuPYI8A3+mxZoKPbTL5ZNTVhxuLbPBkZQXFf0gD0NJjf4BnvvHnvbuTzKIa8P/ALOBQPD63HZAJ9uuqO0mCDhb1OADUJQ0DuQFUPaIYi0Bzvevm22QTv+BYHXTUnZON6AWeZDMqNuHUqLsgdrEOhBSnURo1HV7eTSUmS1wf+4L7YaxQGLn2pyezzV+LihHu+3LbHSrR+iwDhJW3o9R2BrVAbyYlzboZqT5FAmjNrmd+gM1v7jP/y2xIEecvSxhh8gFscsSTOGQdyxDvh6bPBnCCsWPHhsmDB41VZrvbrsBNOsAC9TvJC+EvldrWfdb6PsNvKT6UBojhknY3nfsTDVW7/f/UCia2xi9JVbwVlu4H+6oZL/9GTxv+hnF/2x4zD5CsKOxvle0/ltLrYLzYxr7q80hOug3MjbHw/r8Nc6324E3G3CLWWaDx4WEHhzC1MNkoTym+0EYve7TQE+MRurrx3vOKU+bCFrMnMPgPsHZpB14VJtZ/Vw</span><span class="token operator" style="color:rgb(0, 0, 0)">==</span><span class="token plain"> root@armcli2</span><br></span><span class="token-line" style="color:#000000"><span class="token plain"></span><span class="token punctuation" style="color:rgb(4, 81, 165)">[</span><span class="token plain">root@armcli2 ~</span><span class="token punctuation" style="color:rgb(4, 81, 165)">]</span><span class="token comment" style="color:rgb(0, 128, 0)">#</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg class="copyButtonIcon_y97N" viewBox="0 0 24 24"><path d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg class="copyButtonSuccessIcon_LjdS" viewBox="0 0 24 24"><path d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><ol start="2"><li>将 SSH 公钥复制到 github 账号对应的剪贴板上。</li></ol><p><img loading="lazy" alt="git ssh1" src="/en/assets/images/git_ssh1-fc09ae1748812d5dbbaad546336f3014.png" width="243" height="567" class="img_ev3q"></p><p><img loading="lazy" alt="git ssh2" src="/en/assets/images/git_ssh2-729b59047df150badaf3c561de0eb7d4.png" width="1106" height="436" class="img_ev3q"></p><p><img loading="lazy" alt="git ssh3" src="/en/assets/images/git_ssh3-a0e047c0c55d9c630d4058dec954de52.png" width="801" height="423" class="img_ev3q"></p><ol start="3"><li>测试 SSH 密钥认证是否成功。</li></ol><div class="language-bash codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#000000;--prism-background-color:#ffffff"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-bash codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#000000"><span class="token punctuation" style="color:rgb(4, 81, 165)">[</span><span class="token plain">root@armcli2 ~</span><span class="token punctuation" style="color:rgb(4, 81, 165)">]</span><span class="token comment" style="color:rgb(0, 128, 0)"># ssh -T git@github.com</span><span class="token plain"></span><br></span><span class="token-line" style="color:#000000"><span class="token plain">The authenticity of </span><span class="token function" style="color:rgb(0, 0, 255)">host</span><span class="token plain"> </span><span class="token string" style="color:rgb(163, 21, 21)">&#x27;github.com (20.205.243.166)&#x27;</span><span class="token plain"> can</span><span class="token string" style="color:rgb(163, 21, 21)">&#x27;t be established.</span><br></span><span class="token-line" style="color:#000000"><span class="token string" style="color:rgb(163, 21, 21)">ECDSA key fingerprint is SHA256:p2QAMXNIC1TJYWeIOttrVc98/R1BUFWu3/LiyKgUfQM.</span><br></span><span class="token-line" style="color:#000000"><span class="token string" style="color:rgb(163, 21, 21)">ECDSA key fingerprint is MD5:7b:99:81:1e:4c:91:a5:0d:5a:2e:2e:80:13:3f:24:ca.</span><br></span><span class="token-line" style="color:#000000"><span class="token string" style="color:rgb(163, 21, 21)">Are you sure you want to continue connecting (yes/no)? yes</span><br></span><span class="token-line" style="color:#000000"><span class="token string" style="color:rgb(163, 21, 21)">Warning: Permanently added &#x27;</span><span class="token plain">github.com,20.205.243.166</span><span class="token string" style="color:rgb(163, 21, 21)">&#x27; (ECDSA) to the list of known hosts.</span><br></span><span class="token-line" style="color:#000000"><span class="token string" style="color:rgb(163, 21, 21)">Hi liangtiansheng! You&#x27;</span><span class="token plain">ve successfully authenticated, but GitHub does not provide shell access.</span><br></span><span class="token-line" style="color:#000000"><span class="token plain"></span><span class="token punctuation" style="color:rgb(4, 81, 165)">[</span><span class="token plain">root@armcli2 ~</span><span class="token punctuation" style="color:rgb(4, 81, 165)">]</span><span class="token comment" style="color:rgb(0, 128, 0)">#</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg class="copyButtonIcon_y97N" viewBox="0 0 24 24"><path d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg class="copyButtonSuccessIcon_LjdS" viewBox="0 0 24 24"><path d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><ol start="4"><li>用我的 github 账号做一个测试，注意使用 ssh clone 的方式。当然，如果使用 https clone 也没有关系，在本地修改一下 url 的连接方式即可。</li></ol><div class="language-bash codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#000000;--prism-background-color:#ffffff"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-bash codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#000000"><span class="token punctuation" style="color:rgb(4, 81, 165)">[</span><span class="token plain">root@armcli2 ~</span><span class="token punctuation" style="color:rgb(4, 81, 165)">]</span><span class="token comment" style="color:rgb(0, 128, 0)"># git clone git@github.com:liangtiansheng/pipework.git</span><span class="token plain"></span><br></span><span class="token-line" style="color:#000000"><span class="token plain"></span><span class="token punctuation" style="color:rgb(4, 81, 165)">[</span><span class="token plain">root@armcli2 ~</span><span class="token punctuation" style="color:rgb(4, 81, 165)">]</span><span class="token comment" style="color:rgb(0, 128, 0)"># ls</span><span class="token plain"></span><br></span><span class="token-line" style="color:#000000"><span class="token plain">pipework</span><br></span><span class="token-line" style="color:#000000"><span class="token plain"></span><span class="token punctuation" style="color:rgb(4, 81, 165)">[</span><span class="token plain">root@armcli2 ~</span><span class="token punctuation" style="color:rgb(4, 81, 165)">]</span><span class="token comment" style="color:rgb(0, 128, 0)"># cd pipework/</span><span class="token plain"></span><br></span><span class="token-line" style="color:#000000"><span class="token plain"></span><span class="token punctuation" style="color:rgb(4, 81, 165)">[</span><span class="token plain">root@armcli2 pipework</span><span class="token punctuation" style="color:rgb(4, 81, 165)">]</span><span class="token comment" style="color:rgb(0, 128, 0)"># cat .git/config </span><span class="token plain"></span><br></span><span class="token-line" style="color:#000000"><span class="token plain"></span><span class="token punctuation" style="color:rgb(4, 81, 165)">[</span><span class="token plain">core</span><span class="token punctuation" style="color:rgb(4, 81, 165)">]</span><span class="token plain"></span><br></span><span class="token-line" style="color:#000000"><span class="token plain">    repositoryformatversion </span><span class="token operator" style="color:rgb(0, 0, 0)">=</span><span class="token plain"> </span><span class="token number" style="color:rgb(9, 134, 88)">0</span><span class="token plain"></span><br></span><span class="token-line" style="color:#000000"><span class="token plain">    filemode </span><span class="token operator" style="color:rgb(0, 0, 0)">=</span><span class="token plain"> </span><span class="token boolean">true</span><span class="token plain"></span><br></span><span class="token-line" style="color:#000000"><span class="token plain">    bare </span><span class="token operator" style="color:rgb(0, 0, 0)">=</span><span class="token plain"> </span><span class="token boolean">false</span><span class="token plain"></span><br></span><span class="token-line" style="color:#000000"><span class="token plain">    logallrefupdates </span><span class="token operator" style="color:rgb(0, 0, 0)">=</span><span class="token plain"> </span><span class="token boolean">true</span><span class="token plain"></span><br></span><span class="token-line" style="color:#000000"><span class="token plain"></span><span class="token punctuation" style="color:rgb(4, 81, 165)">[</span><span class="token plain">remote </span><span class="token string" style="color:rgb(163, 21, 21)">&quot;origin&quot;</span><span class="token punctuation" style="color:rgb(4, 81, 165)">]</span><span class="token plain"></span><br></span><span class="token-line" style="color:#000000"><span class="token plain">    url </span><span class="token operator" style="color:rgb(0, 0, 0)">=</span><span class="token plain"> git@github.com:liangtiansheng/pipework.git</span><br></span><span class="token-line" style="color:#000000"><span class="token plain">    fetch </span><span class="token operator" style="color:rgb(0, 0, 0)">=</span><span class="token plain"> +refs/heads/*:refs/remotes/origin/*</span><br></span><span class="token-line" style="color:#000000"><span class="token plain"></span><span class="token punctuation" style="color:rgb(4, 81, 165)">[</span><span class="token plain">branch </span><span class="token string" style="color:rgb(163, 21, 21)">&quot;master&quot;</span><span class="token punctuation" style="color:rgb(4, 81, 165)">]</span><span class="token plain"></span><br></span><span class="token-line" style="color:#000000"><span class="token plain">    remote </span><span class="token operator" style="color:rgb(0, 0, 0)">=</span><span class="token plain"> origin</span><br></span><span class="token-line" style="color:#000000"><span class="token plain">    merge </span><span class="token operator" style="color:rgb(0, 0, 0)">=</span><span class="token plain"> refs/heads/master</span><br></span><span class="token-line" style="color:#000000"><span class="token plain"></span><span class="token punctuation" style="color:rgb(4, 81, 165)">[</span><span class="token plain">root@armcli2 pipework</span><span class="token punctuation" style="color:rgb(4, 81, 165)">]</span><span class="token comment" style="color:rgb(0, 128, 0)"># echo &quot;for i in {1..10};do echo $i;done&quot; &gt; mytest.sh   # 增加一个文件，写点代码</span><span class="token plain"></span><br></span><span class="token-line" style="color:#000000"><span class="token plain"></span><span class="token punctuation" style="color:rgb(4, 81, 165)">[</span><span class="token plain">root@armcli2 pipework</span><span class="token punctuation" style="color:rgb(4, 81, 165)">]</span><span class="token comment" style="color:rgb(0, 128, 0)"># git add mytest.sh                                      # 加到缓存</span><span class="token plain"></span><br></span><span class="token-line" style="color:#000000"><span class="token plain"></span><span class="token punctuation" style="color:rgb(4, 81, 165)">[</span><span class="token plain">root@armcli2 pipework</span><span class="token punctuation" style="color:rgb(4, 81, 165)">]</span><span class="token comment" style="color:rgb(0, 128, 0)"># git commit -m &quot;try to change source code&quot;                # 提交到本地版本库</span><span class="token plain"></span><br></span><span class="token-line" style="color:#000000"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#000000"><span class="token plain">*** Please tell me </span><span class="token function" style="color:rgb(0, 0, 255)">who</span><span class="token plain"> you are.                                                 </span><span class="token comment" style="color:rgb(0, 128, 0)"># 要说明一下是谁修改的代码</span><span class="token plain"></span><br></span><span class="token-line" style="color:#000000"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#000000"><span class="token plain">Run</span><br></span><span class="token-line" style="color:#000000"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#000000"><span class="token plain">  </span><span class="token function" style="color:rgb(0, 0, 255)">git</span><span class="token plain"> config --global user.email </span><span class="token string" style="color:rgb(163, 21, 21)">&quot;you@example.com&quot;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#000000"><span class="token plain">  </span><span class="token function" style="color:rgb(0, 0, 255)">git</span><span class="token plain"> config --global user.name </span><span class="token string" style="color:rgb(163, 21, 21)">&quot;Your Name&quot;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#000000"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#000000"><span class="token plain">to </span><span class="token builtin class-name" style="color:rgb(38, 127, 153)">set</span><span class="token plain"> your account</span><span class="token string" style="color:rgb(163, 21, 21)">&#x27;s default identity.</span><br></span><span class="token-line" style="color:#000000"><span class="token string" style="color:rgb(163, 21, 21)">Omit --global to set the identity only in this repository.</span><br></span><span class="token-line" style="color:#000000"><span class="token string" style="display:inline-block;color:rgb(163, 21, 21)"></span><br></span><span class="token-line" style="color:#000000"><span class="token string" style="color:rgb(163, 21, 21)">fatal: unable to auto-detect email address (got &#x27;</span><span class="token plain">root@armcli2.</span><span class="token punctuation" style="color:rgb(4, 81, 165)">(</span><span class="token plain">none</span><span class="token punctuation" style="color:rgb(4, 81, 165)">)</span><span class="token plain">&#x27;</span><span class="token punctuation" style="color:rgb(4, 81, 165)">)</span><span class="token plain"></span><br></span><span class="token-line" style="color:#000000"><span class="token plain"></span><span class="token punctuation" style="color:rgb(4, 81, 165)">[</span><span class="token plain">root@armcli2 pipework</span><span class="token punctuation" style="color:rgb(4, 81, 165)">]</span><span class="token comment" style="color:rgb(0, 128, 0)">#</span><span class="token plain"></span><br></span><span class="token-line" style="color:#000000"><span class="token plain"></span><span class="token punctuation" style="color:rgb(4, 81, 165)">[</span><span class="token plain">root@armcli2 pipework</span><span class="token punctuation" style="color:rgb(4, 81, 165)">]</span><span class="token comment" style="color:rgb(0, 128, 0)"># git config user.name &quot;Jack&quot;                          # 随便取一个名字</span><span class="token plain"></span><br></span><span class="token-line" style="color:#000000"><span class="token plain"></span><span class="token punctuation" style="color:rgb(4, 81, 165)">[</span><span class="token plain">root@armcli2 pipework</span><span class="token punctuation" style="color:rgb(4, 81, 165)">]</span><span class="token comment" style="color:rgb(0, 128, 0)"># git config user.email &quot;Jackie@gmail.com&quot;             # 给一个邮箱地址</span><span class="token plain"></span><br></span><span class="token-line" style="color:#000000"><span class="token plain"></span><span class="token punctuation" style="color:rgb(4, 81, 165)">[</span><span class="token plain">root@armcli2 pipework</span><span class="token punctuation" style="color:rgb(4, 81, 165)">]</span><span class="token comment" style="color:rgb(0, 128, 0)"># git commit -m &quot;try to change source code&quot;                # 可以提交到本地版本库了</span><span class="token plain"></span><br></span><span class="token-line" style="color:#000000"><span class="token plain"></span><span class="token punctuation" style="color:rgb(4, 81, 165)">[</span><span class="token plain">master 6d8cb58</span><span class="token punctuation" style="color:rgb(4, 81, 165)">]</span><span class="token plain"> try to change </span><span class="token builtin class-name" style="color:rgb(38, 127, 153)">source</span><span class="token plain"> code</span><br></span><span class="token-line" style="color:#000000"><span class="token plain"> </span><span class="token number" style="color:rgb(9, 134, 88)">1</span><span class="token plain"> </span><span class="token function" style="color:rgb(0, 0, 255)">file</span><span class="token plain"> changed, </span><span class="token number" style="color:rgb(9, 134, 88)">1</span><span class="token plain"> insertion</span><span class="token punctuation" style="color:rgb(4, 81, 165)">(</span><span class="token plain">+</span><span class="token punctuation" style="color:rgb(4, 81, 165)">)</span><span class="token plain"></span><br></span><span class="token-line" style="color:#000000"><span class="token plain"> create mode </span><span class="token number" style="color:rgb(9, 134, 88)">100644</span><span class="token plain"> mytest.sh</span><br></span><span class="token-line" style="color:#000000"><span class="token plain"></span><span class="token punctuation" style="color:rgb(4, 81, 165)">[</span><span class="token plain">root@armcli2 pipework</span><span class="token punctuation" style="color:rgb(4, 81, 165)">]</span><span class="token comment" style="color:rgb(0, 128, 0)"># git push -u origin master                              # 基于 ssh key 直接提交到 github 账号仓库  </span><span class="token plain"></span><br></span><span class="token-line" style="color:#000000"><span class="token plain">Counting objects: </span><span class="token number" style="color:rgb(9, 134, 88)">4</span><span class="token plain">, done.</span><br></span><span class="token-line" style="color:#000000"><span class="token plain">Delta compression using up to </span><span class="token number" style="color:rgb(9, 134, 88)">8</span><span class="token plain"> threads.</span><br></span><span class="token-line" style="color:#000000"><span class="token plain">Compressing objects: </span><span class="token number" style="color:rgb(9, 134, 88)">100</span><span class="token plain">% </span><span class="token punctuation" style="color:rgb(4, 81, 165)">(</span><span class="token number" style="color:rgb(9, 134, 88)">2</span><span class="token plain">/2</span><span class="token punctuation" style="color:rgb(4, 81, 165)">)</span><span class="token plain">, done.</span><br></span><span class="token-line" style="color:#000000"><span class="token plain">Writing objects: </span><span class="token number" style="color:rgb(9, 134, 88)">100</span><span class="token plain">% </span><span class="token punctuation" style="color:rgb(4, 81, 165)">(</span><span class="token number" style="color:rgb(9, 134, 88)">3</span><span class="token plain">/3</span><span class="token punctuation" style="color:rgb(4, 81, 165)">)</span><span class="token plain">, </span><span class="token number" style="color:rgb(9, 134, 88)">300</span><span class="token plain"> bytes </span><span class="token operator" style="color:rgb(0, 0, 0)">|</span><span class="token plain"> </span><span class="token number" style="color:rgb(9, 134, 88)">0</span><span class="token plain"> bytes/s, done.</span><br></span><span class="token-line" style="color:#000000"><span class="token plain">Total </span><span class="token number" style="color:rgb(9, 134, 88)">3</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(4, 81, 165)">(</span><span class="token plain">delta </span><span class="token number" style="color:rgb(9, 134, 88)">1</span><span class="token punctuation" style="color:rgb(4, 81, 165)">)</span><span class="token plain">, reused </span><span class="token number" style="color:rgb(9, 134, 88)">0</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(4, 81, 165)">(</span><span class="token plain">delta </span><span class="token number" style="color:rgb(9, 134, 88)">0</span><span class="token punctuation" style="color:rgb(4, 81, 165)">)</span><span class="token plain"></span><br></span><span class="token-line" style="color:#000000"><span class="token plain">remote: Resolving deltas: </span><span class="token number" style="color:rgb(9, 134, 88)">100</span><span class="token plain">% </span><span class="token punctuation" style="color:rgb(4, 81, 165)">(</span><span class="token number" style="color:rgb(9, 134, 88)">1</span><span class="token plain">/1</span><span class="token punctuation" style="color:rgb(4, 81, 165)">)</span><span class="token plain">, completed with </span><span class="token number" style="color:rgb(9, 134, 88)">1</span><span class="token plain"> </span><span class="token builtin class-name" style="color:rgb(38, 127, 153)">local</span><span class="token plain"> object.</span><br></span><span class="token-line" style="color:#000000"><span class="token plain">To git@github.com:liangtiansheng/pipework.git</span><br></span><span class="token-line" style="color:#000000"><span class="token plain">   ae42f1b</span><span class="token punctuation" style="color:rgb(4, 81, 165)">..</span><span class="token plain">6d8cb58  master -</span><span class="token operator" style="color:rgb(0, 0, 0)">&gt;</span><span class="token plain"> master</span><br></span><span class="token-line" style="color:#000000"><span class="token plain">Branch master </span><span class="token builtin class-name" style="color:rgb(38, 127, 153)">set</span><span class="token plain"> up to track remote branch master from origin.                 </span><span class="token comment" style="color:rgb(0, 128, 0)"># 去 github 账号下检查代码提交情况</span><span class="token plain"></span><br></span><span class="token-line" style="color:#000000"><span class="token plain"></span><span class="token punctuation" style="color:rgb(4, 81, 165)">[</span><span class="token plain">root@armcli2 pipework</span><span class="token punctuation" style="color:rgb(4, 81, 165)">]</span><span class="token comment" style="color:rgb(0, 128, 0)">#</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg class="copyButtonIcon_y97N" viewBox="0 0 24 24"><path d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg class="copyButtonSuccessIcon_LjdS" viewBox="0 0 24 24"><path d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><h4 class="anchor anchorWithHideOnScrollNavbar_WYt5" id="1632token-连接">1.6.3.2、token 连接<a href="#1632token-连接" class="hash-link" aria-label="Direct link to heading" title="Direct link to heading">​</a></h4><p>本人用得少，后面再补充。</p><h4 class="anchor anchorWithHideOnScrollNavbar_WYt5" id="1633git-身份验证">1.6.3.3、Git 身份验证<a href="#1633git-身份验证" class="hash-link" aria-label="Direct link to heading" title="Direct link to heading">​</a></h4><div class="language-shell codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#000000;--prism-background-color:#ffffff"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-shell codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#000000"><span class="token punctuation" style="color:rgb(4, 81, 165)">[</span><span class="token plain">root@armcli2 ~</span><span class="token punctuation" style="color:rgb(4, 81, 165)">]</span><span class="token comment" style="color:rgb(0, 128, 0)"># git config --global user.name &#x27;Brinnatt&#x27;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#000000"><span class="token plain"></span><span class="token punctuation" style="color:rgb(4, 81, 165)">[</span><span class="token plain">root@armcli2 ~</span><span class="token punctuation" style="color:rgb(4, 81, 165)">]</span><span class="token comment" style="color:rgb(0, 128, 0)"># git config --global user.email &#x27;brinnatt@gmail.com&#x27;</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg class="copyButtonIcon_y97N" viewBox="0 0 24 24"><path d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg class="copyButtonSuccessIcon_LjdS" viewBox="0 0 24 24"><path d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><ul><li><strong>注意：</strong>设定本机用户名，绑定邮箱，让远程服务器知道来者的身份，无论是提交到自己的仓库还是提交到别人的仓库，需要自报代码修改者的家门。</li></ul><h4 class="anchor anchorWithHideOnScrollNavbar_WYt5" id="1634git-本地与远程项目交互">1.6.3.4、Git 本地与远程项目交互<a href="#1634git-本地与远程项目交互" class="hash-link" aria-label="Direct link to heading" title="Direct link to heading">​</a></h4><h5 class="anchor anchorWithHideOnScrollNavbar_WYt5" id="16341克隆-github-项目">1.6.3.4.1、克隆 github 项目<a href="#16341克隆-github-项目" class="hash-link" aria-label="Direct link to heading" title="Direct link to heading">​</a></h5><div class="language-shell codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#000000;--prism-background-color:#ffffff"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-shell codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#000000"><span class="token punctuation" style="color:rgb(4, 81, 165)">[</span><span class="token plain">root@armcli ~</span><span class="token punctuation" style="color:rgb(4, 81, 165)">]</span><span class="token comment" style="color:rgb(0, 128, 0)"># git clone https://github.com/liangtiansheng/pipework.git   # 这里是项目的地址，将远程服务器的内容完全复制过来</span><span class="token plain"></span><br></span><span class="token-line" style="color:#000000"><span class="token plain"></span><span class="token punctuation" style="color:rgb(4, 81, 165)">[</span><span class="token plain">root@armcli ~</span><span class="token punctuation" style="color:rgb(4, 81, 165)">]</span><span class="token comment" style="color:rgb(0, 128, 0)"># cd pipework/                                               # clone 之后进入该项目的文件夹</span><span class="token plain"></span><br></span><span class="token-line" style="color:#000000"><span class="token plain"></span><span class="token punctuation" style="color:rgb(4, 81, 165)">[</span><span class="token plain">root@armcli pipework</span><span class="token punctuation" style="color:rgb(4, 81, 165)">]</span><span class="token comment" style="color:rgb(0, 128, 0)"># echo &quot;for i in {1..10};do echo $i;done&quot; &gt; mytest.sh    # 创建 mytest.sh 写点东西进去</span><span class="token plain"></span><br></span><span class="token-line" style="color:#000000"><span class="token plain"></span><span class="token punctuation" style="color:rgb(4, 81, 165)">[</span><span class="token plain">root@armcli pipework</span><span class="token punctuation" style="color:rgb(4, 81, 165)">]</span><span class="token comment" style="color:rgb(0, 128, 0)"># git add mytest.sh                                   # 将新的文件添加到 git 的暂存区</span><span class="token plain"></span><br></span><span class="token-line" style="color:#000000"><span class="token plain"></span><span class="token punctuation" style="color:rgb(4, 81, 165)">[</span><span class="token plain">root@armcli pipework</span><span class="token punctuation" style="color:rgb(4, 81, 165)">]</span><span class="token comment" style="color:rgb(0, 128, 0)"># git commit -m &quot;try to change source code&quot;         # 将暂存区的文件提交到某一个版本保存下来，并加上注释</span><span class="token plain"></span><br></span><span class="token-line" style="color:#000000"><span class="token plain"></span><span class="token punctuation" style="color:rgb(4, 81, 165)">[</span><span class="token plain">root@armcli pipework</span><span class="token punctuation" style="color:rgb(4, 81, 165)">]</span><span class="token comment" style="color:rgb(0, 128, 0)"># git push -u origin master                           # 将本地的更改提交到远程服务器</span><span class="token plain"></span><br></span><span class="token-line" style="color:#000000"><span class="token plain">Username </span><span class="token keyword" style="color:rgb(0, 0, 255)">for</span><span class="token plain"> </span><span class="token string" style="color:rgb(163, 21, 21)">&#x27;https://github.com&#x27;</span><span class="token builtin class-name" style="color:rgb(38, 127, 153)">:</span><span class="token plain"> liangtiansheng</span><br></span><span class="token-line" style="color:#000000"><span class="token plain">Password </span><span class="token keyword" style="color:rgb(0, 0, 255)">for</span><span class="token plain"> </span><span class="token string" style="color:rgb(163, 21, 21)">&#x27;https://liangtiansheng@github.com&#x27;</span><span class="token builtin class-name" style="color:rgb(38, 127, 153)">:</span><span class="token plain"> </span><br></span><span class="token-line" style="color:#000000"><span class="token plain">remote: Support </span><span class="token keyword" style="color:rgb(0, 0, 255)">for</span><span class="token plain"> password authentication was removed on August </span><span class="token number" style="color:rgb(9, 134, 88)">13</span><span class="token plain">, </span><span class="token number" style="color:rgb(9, 134, 88)">2021</span><span class="token plain">. Please use a personal access token instead.</span><br></span><span class="token-line" style="color:#000000"><span class="token plain">remote: Please see https://github.blog/2020-12-15-token-authentication-requirements-for-git-operations/ </span><span class="token keyword" style="color:rgb(0, 0, 255)">for</span><span class="token plain"> </span><span class="token function" style="color:rgb(0, 0, 255)">more</span><span class="token plain"> information.</span><br></span><span class="token-line" style="color:#000000"><span class="token plain">fatal: Authentication failed </span><span class="token keyword" style="color:rgb(0, 0, 255)">for</span><span class="token plain"> </span><span class="token string" style="color:rgb(163, 21, 21)">&#x27;https://github.com/liangtiansheng/pipework.git/&#x27;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#000000"><span class="token plain"></span><span class="token punctuation" style="color:rgb(4, 81, 165)">[</span><span class="token plain">root@armcli pipework</span><span class="token punctuation" style="color:rgb(4, 81, 165)">]</span><span class="token comment" style="color:rgb(0, 128, 0)">#</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg class="copyButtonIcon_y97N" viewBox="0 0 24 24"><path d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg class="copyButtonSuccessIcon_LjdS" viewBox="0 0 24 24"><path d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><ul><li>最后一步将本地版本库中的代码提交到远程服务器失败，这是 github 从 2021.8.13 日起禁止使用用户名和密码认证。</li><li>参见上面的 ssh 密钥认证，然后再 push 即可。</li></ul><div class="language-bash codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#000000;--prism-background-color:#ffffff"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-bash codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#000000"><span class="token comment" style="color:rgb(0, 128, 0)"># 把 https url 改成 ssh url</span><span class="token plain"></span><br></span><span class="token-line" style="color:#000000"><span class="token plain"></span><span class="token punctuation" style="color:rgb(4, 81, 165)">[</span><span class="token plain">root@armcli2 pipework</span><span class="token punctuation" style="color:rgb(4, 81, 165)">]</span><span class="token comment" style="color:rgb(0, 128, 0)"># grep &quot;url&quot; .git/config </span><span class="token plain"></span><br></span><span class="token-line" style="color:#000000"><span class="token plain">    url </span><span class="token operator" style="color:rgb(0, 0, 0)">=</span><span class="token plain"> https://github.com/liangtiansheng/pipework.git</span><br></span><span class="token-line" style="color:#000000"><span class="token plain"></span><span class="token punctuation" style="color:rgb(4, 81, 165)">[</span><span class="token plain">root@armcli2 pipework</span><span class="token punctuation" style="color:rgb(4, 81, 165)">]</span><span class="token comment" style="color:rgb(0, 128, 0)">#</span><span class="token plain"></span><br></span><span class="token-line" style="color:#000000"><span class="token plain"></span><span class="token punctuation" style="color:rgb(4, 81, 165)">[</span><span class="token plain">root@armcli2 pipework</span><span class="token punctuation" style="color:rgb(4, 81, 165)">]</span><span class="token comment" style="color:rgb(0, 128, 0)"># git remote set-url origin git@github.com:liangtiansheng/pipework.git</span><span class="token plain"></span><br></span><span class="token-line" style="color:#000000"><span class="token plain"></span><span class="token punctuation" style="color:rgb(4, 81, 165)">[</span><span class="token plain">root@armcli2 pipework</span><span class="token punctuation" style="color:rgb(4, 81, 165)">]</span><span class="token comment" style="color:rgb(0, 128, 0)"># </span><span class="token plain"></span><br></span><span class="token-line" style="color:#000000"><span class="token plain"></span><span class="token punctuation" style="color:rgb(4, 81, 165)">[</span><span class="token plain">root@armcli2 pipework</span><span class="token punctuation" style="color:rgb(4, 81, 165)">]</span><span class="token comment" style="color:rgb(0, 128, 0)"># grep &quot;url&quot; .git/config </span><span class="token plain"></span><br></span><span class="token-line" style="color:#000000"><span class="token plain">    url </span><span class="token operator" style="color:rgb(0, 0, 0)">=</span><span class="token plain"> git@github.com:liangtiansheng/pipework.git</span><br></span><span class="token-line" style="color:#000000"><span class="token plain"></span><span class="token punctuation" style="color:rgb(4, 81, 165)">[</span><span class="token plain">root@armcli2 pipework</span><span class="token punctuation" style="color:rgb(4, 81, 165)">]</span><span class="token comment" style="color:rgb(0, 128, 0)">#</span><span class="token plain"></span><br></span><span class="token-line" style="color:#000000"><span class="token plain"></span><span class="token punctuation" style="color:rgb(4, 81, 165)">[</span><span class="token plain">root@armcli2 pipework</span><span class="token punctuation" style="color:rgb(4, 81, 165)">]</span><span class="token comment" style="color:rgb(0, 128, 0)"># git push -u origin master</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg class="copyButtonIcon_y97N" viewBox="0 0 24 24"><path d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg class="copyButtonSuccessIcon_LjdS" viewBox="0 0 24 24"><path d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><h5 class="anchor anchorWithHideOnScrollNavbar_WYt5" id="16342本地关联-github-项目">1.6.3.4.2、本地关联 github 项目<a href="#16342本地关联-github-项目" class="hash-link" aria-label="Direct link to heading" title="Direct link to heading">​</a></h5><ol><li>用 github 账号创建一个名叫 gitlearning 的测试仓库。</li></ol><div class="language-bash codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#000000;--prism-background-color:#ffffff"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-bash codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#000000"><span class="token plain">git@github.com:liangtiansheng/gitlearning.git</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg class="copyButtonIcon_y97N" viewBox="0 0 24 24"><path d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg class="copyButtonSuccessIcon_LjdS" viewBox="0 0 24 24"><path d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><ol start="2"><li>本地创建一个项目根目录，取名 localsource，并在该项目中写一些测试代码。</li></ol><div class="language-bash codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#000000;--prism-background-color:#ffffff"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-bash codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#000000"><span class="token punctuation" style="color:rgb(4, 81, 165)">[</span><span class="token plain">root@armcli2 ~</span><span class="token punctuation" style="color:rgb(4, 81, 165)">]</span><span class="token comment" style="color:rgb(0, 128, 0)"># mkdir localsource</span><span class="token plain"></span><br></span><span class="token-line" style="color:#000000"><span class="token plain"></span><span class="token punctuation" style="color:rgb(4, 81, 165)">[</span><span class="token plain">root@armcli2 ~</span><span class="token punctuation" style="color:rgb(4, 81, 165)">]</span><span class="token comment" style="color:rgb(0, 128, 0)"># </span><span class="token plain"></span><br></span><span class="token-line" style="color:#000000"><span class="token plain"></span><span class="token punctuation" style="color:rgb(4, 81, 165)">[</span><span class="token plain">root@armcli2 ~</span><span class="token punctuation" style="color:rgb(4, 81, 165)">]</span><span class="token comment" style="color:rgb(0, 128, 0)"># cd localsource/</span><span class="token plain"></span><br></span><span class="token-line" style="color:#000000"><span class="token plain"></span><span class="token punctuation" style="color:rgb(4, 81, 165)">[</span><span class="token plain">root@armcli2 localsource</span><span class="token punctuation" style="color:rgb(4, 81, 165)">]</span><span class="token comment" style="color:rgb(0, 128, 0)"># </span><span class="token plain"></span><br></span><span class="token-line" style="color:#000000"><span class="token plain"></span><span class="token punctuation" style="color:rgb(4, 81, 165)">[</span><span class="token plain">root@armcli2 localsource</span><span class="token punctuation" style="color:rgb(4, 81, 165)">]</span><span class="token comment" style="color:rgb(0, 128, 0)"># vim echo.sh</span><span class="token plain"></span><br></span><span class="token-line" style="color:#000000"><span class="token plain"></span><span class="token comment" style="color:rgb(0, 128, 0)">#!/bin/bash</span><span class="token plain"></span><br></span><span class="token-line" style="color:#000000"><span class="token plain"></span><span class="token keyword" style="color:rgb(0, 0, 255)">for</span><span class="token plain"> </span><span class="token for-or-select variable" style="color:rgb(9, 134, 88)">i</span><span class="token plain"> </span><span class="token keyword" style="color:rgb(0, 0, 255)">in</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(4, 81, 165)">{</span><span class="token number" style="color:rgb(9, 134, 88)">1</span><span class="token punctuation" style="color:rgb(4, 81, 165)">..</span><span class="token number" style="color:rgb(9, 134, 88)">9</span><span class="token punctuation" style="color:rgb(4, 81, 165)">}</span><span class="token punctuation" style="color:rgb(4, 81, 165)">;</span><span class="token plain"> </span><span class="token keyword" style="color:rgb(0, 0, 255)">do</span><span class="token plain"></span><br></span><span class="token-line" style="color:#000000"><span class="token plain">    </span><span class="token builtin class-name" style="color:rgb(38, 127, 153)">echo</span><span class="token plain"> </span><span class="token variable" style="color:rgb(9, 134, 88)">$i</span><span class="token plain"></span><br></span><span class="token-line" style="color:#000000"><span class="token plain"></span><span class="token keyword" style="color:rgb(0, 0, 255)">done</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg class="copyButtonIcon_y97N" viewBox="0 0 24 24"><path d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg class="copyButtonSuccessIcon_LjdS" viewBox="0 0 24 24"><path d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><ol start="3"><li>关联 github 账号，提交本地代码到远程 github 账号对应项目下。</li></ol><div class="language-bash codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#000000;--prism-background-color:#ffffff"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-bash codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#000000"><span class="token punctuation" style="color:rgb(4, 81, 165)">[</span><span class="token plain">root@armcli2 localsource</span><span class="token punctuation" style="color:rgb(4, 81, 165)">]</span><span class="token comment" style="color:rgb(0, 128, 0)"># git init                                                            # 初始化，准备 git 管理</span><span class="token plain"></span><br></span><span class="token-line" style="color:#000000"><span class="token plain"></span><span class="token punctuation" style="color:rgb(4, 81, 165)">[</span><span class="token plain">root@armcli2 localsource</span><span class="token punctuation" style="color:rgb(4, 81, 165)">]</span><span class="token comment" style="color:rgb(0, 128, 0)"># git remote add origin git@github.com:liangtiansheng/gitlearning.git # 关联 github 账号项目</span><span class="token plain"></span><br></span><span class="token-line" style="color:#000000"><span class="token plain"></span><span class="token punctuation" style="color:rgb(4, 81, 165)">[</span><span class="token plain">root@armcli2 localsource</span><span class="token punctuation" style="color:rgb(4, 81, 165)">]</span><span class="token comment" style="color:rgb(0, 128, 0)"># git config user.name &#x27;Brinnatt&#x27;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#000000"><span class="token plain"></span><span class="token punctuation" style="color:rgb(4, 81, 165)">[</span><span class="token plain">root@armcli2 localsource</span><span class="token punctuation" style="color:rgb(4, 81, 165)">]</span><span class="token comment" style="color:rgb(0, 128, 0)"># git config user.email &quot;brinnatt@gmail.com&quot;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#000000"><span class="token plain"></span><span class="token punctuation" style="color:rgb(4, 81, 165)">[</span><span class="token plain">root@armcli2 localsource</span><span class="token punctuation" style="color:rgb(4, 81, 165)">]</span><span class="token comment" style="color:rgb(0, 128, 0)"># </span><span class="token plain"></span><br></span><span class="token-line" style="color:#000000"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#000000"><span class="token plain"></span><span class="token comment" style="color:rgb(0, 128, 0)"># 先要把原仓库的代码拉下来合并，不然直接被github服务器拒绝，因为非clone情况下会对比本地和远程服务器代码差异</span><span class="token plain"></span><br></span><span class="token-line" style="color:#000000"><span class="token plain"></span><span class="token punctuation" style="color:rgb(4, 81, 165)">[</span><span class="token plain">root@armcli2 localsource</span><span class="token punctuation" style="color:rgb(4, 81, 165)">]</span><span class="token comment" style="color:rgb(0, 128, 0)"># git pull origin master                                              # 下载github远程代码同时合并本地代码</span><span class="token plain"></span><br></span><span class="token-line" style="color:#000000"><span class="token plain"></span><span class="token punctuation" style="color:rgb(4, 81, 165)">[</span><span class="token plain">root@armcli2 localsource</span><span class="token punctuation" style="color:rgb(4, 81, 165)">]</span><span class="token comment" style="color:rgb(0, 128, 0)"># git add .</span><span class="token plain"></span><br></span><span class="token-line" style="color:#000000"><span class="token plain"></span><span class="token punctuation" style="color:rgb(4, 81, 165)">[</span><span class="token plain">root@armcli2 localsource</span><span class="token punctuation" style="color:rgb(4, 81, 165)">]</span><span class="token comment" style="color:rgb(0, 128, 0)"># git commit -m &quot;my source to master&quot;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#000000"><span class="token plain"></span><span class="token punctuation" style="color:rgb(4, 81, 165)">[</span><span class="token plain">master a6b2265</span><span class="token punctuation" style="color:rgb(4, 81, 165)">]</span><span class="token plain"> my </span><span class="token builtin class-name" style="color:rgb(38, 127, 153)">source</span><span class="token plain"> to master</span><br></span><span class="token-line" style="color:#000000"><span class="token plain"> </span><span class="token number" style="color:rgb(9, 134, 88)">1</span><span class="token plain"> </span><span class="token function" style="color:rgb(0, 0, 255)">file</span><span class="token plain"> changed, </span><span class="token number" style="color:rgb(9, 134, 88)">4</span><span class="token plain"> insertions</span><span class="token punctuation" style="color:rgb(4, 81, 165)">(</span><span class="token plain">+</span><span class="token punctuation" style="color:rgb(4, 81, 165)">)</span><span class="token plain"></span><br></span><span class="token-line" style="color:#000000"><span class="token plain"> create mode </span><span class="token number" style="color:rgb(9, 134, 88)">100644</span><span class="token plain"> echo.sh</span><br></span><span class="token-line" style="color:#000000"><span class="token plain"></span><span class="token punctuation" style="color:rgb(4, 81, 165)">[</span><span class="token plain">root@armcli2 localsource</span><span class="token punctuation" style="color:rgb(4, 81, 165)">]</span><span class="token comment" style="color:rgb(0, 128, 0)"># </span><span class="token plain"></span><br></span><span class="token-line" style="color:#000000"><span class="token plain"></span><span class="token punctuation" style="color:rgb(4, 81, 165)">[</span><span class="token plain">root@armcli2 localsource</span><span class="token punctuation" style="color:rgb(4, 81, 165)">]</span><span class="token comment" style="color:rgb(0, 128, 0)"># git push -u origin master                                           # 提交代码到 github 账号项目下</span><span class="token plain"></span><br></span><span class="token-line" style="color:#000000"><span class="token plain">Counting objects: </span><span class="token number" style="color:rgb(9, 134, 88)">4</span><span class="token plain">, done.</span><br></span><span class="token-line" style="color:#000000"><span class="token plain">Delta compression using up to </span><span class="token number" style="color:rgb(9, 134, 88)">8</span><span class="token plain"> threads.</span><br></span><span class="token-line" style="color:#000000"><span class="token plain">Compressing objects: </span><span class="token number" style="color:rgb(9, 134, 88)">100</span><span class="token plain">% </span><span class="token punctuation" style="color:rgb(4, 81, 165)">(</span><span class="token number" style="color:rgb(9, 134, 88)">2</span><span class="token plain">/2</span><span class="token punctuation" style="color:rgb(4, 81, 165)">)</span><span class="token plain">, done.</span><br></span><span class="token-line" style="color:#000000"><span class="token plain">Writing objects: </span><span class="token number" style="color:rgb(9, 134, 88)">100</span><span class="token plain">% </span><span class="token punctuation" style="color:rgb(4, 81, 165)">(</span><span class="token number" style="color:rgb(9, 134, 88)">3</span><span class="token plain">/3</span><span class="token punctuation" style="color:rgb(4, 81, 165)">)</span><span class="token plain">, </span><span class="token number" style="color:rgb(9, 134, 88)">323</span><span class="token plain"> bytes </span><span class="token operator" style="color:rgb(0, 0, 0)">|</span><span class="token plain"> </span><span class="token number" style="color:rgb(9, 134, 88)">0</span><span class="token plain"> bytes/s, done.</span><br></span><span class="token-line" style="color:#000000"><span class="token plain">Total </span><span class="token number" style="color:rgb(9, 134, 88)">3</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(4, 81, 165)">(</span><span class="token plain">delta </span><span class="token number" style="color:rgb(9, 134, 88)">0</span><span class="token punctuation" style="color:rgb(4, 81, 165)">)</span><span class="token plain">, reused </span><span class="token number" style="color:rgb(9, 134, 88)">0</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(4, 81, 165)">(</span><span class="token plain">delta </span><span class="token number" style="color:rgb(9, 134, 88)">0</span><span class="token punctuation" style="color:rgb(4, 81, 165)">)</span><span class="token plain"></span><br></span><span class="token-line" style="color:#000000"><span class="token plain">To git@github.com:liangtiansheng/gitlearning.git</span><br></span><span class="token-line" style="color:#000000"><span class="token plain">   af2b709</span><span class="token punctuation" style="color:rgb(4, 81, 165)">..</span><span class="token plain">a6b2265  master -</span><span class="token operator" style="color:rgb(0, 0, 0)">&gt;</span><span class="token plain"> master</span><br></span><span class="token-line" style="color:#000000"><span class="token plain">Branch master </span><span class="token builtin class-name" style="color:rgb(38, 127, 153)">set</span><span class="token plain"> up to track remote branch master from origin.</span><br></span><span class="token-line" style="color:#000000"><span class="token plain"></span><span class="token punctuation" style="color:rgb(4, 81, 165)">[</span><span class="token plain">root@armcli2 localsource</span><span class="token punctuation" style="color:rgb(4, 81, 165)">]</span><span class="token comment" style="color:rgb(0, 128, 0)">#</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg class="copyButtonIcon_y97N" viewBox="0 0 24 24"><path d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg class="copyButtonSuccessIcon_LjdS" viewBox="0 0 24 24"><path d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><h5 class="anchor anchorWithHideOnScrollNavbar_WYt5" id="16343多人关联-github-项目">1.6.3.4.3、多人关联 github 项目<a href="#16343多人关联-github-项目" class="hash-link" aria-label="Direct link to heading" title="Direct link to heading">​</a></h5><p>接着 1.6.3.4.2 小节实验，再找一台主机 armcli，同样先配置好 ssh 密钥认证(见上文)，准备好要提交的本地代码。</p><ol><li>本地创建一个项目根目录，取名 nativesource，并在该项目中写一些测试代码。</li></ol><div class="language-bash codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#000000;--prism-background-color:#ffffff"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-bash codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#000000"><span class="token punctuation" style="color:rgb(4, 81, 165)">[</span><span class="token plain">root@armcli ~</span><span class="token punctuation" style="color:rgb(4, 81, 165)">]</span><span class="token comment" style="color:rgb(0, 128, 0)"># mkdir nativesource</span><span class="token plain"></span><br></span><span class="token-line" style="color:#000000"><span class="token plain"></span><span class="token punctuation" style="color:rgb(4, 81, 165)">[</span><span class="token plain">root@armcli ~</span><span class="token punctuation" style="color:rgb(4, 81, 165)">]</span><span class="token comment" style="color:rgb(0, 128, 0)"># </span><span class="token plain"></span><br></span><span class="token-line" style="color:#000000"><span class="token plain"></span><span class="token punctuation" style="color:rgb(4, 81, 165)">[</span><span class="token plain">root@armcli ~</span><span class="token punctuation" style="color:rgb(4, 81, 165)">]</span><span class="token comment" style="color:rgb(0, 128, 0)"># cd nativesource/</span><span class="token plain"></span><br></span><span class="token-line" style="color:#000000"><span class="token plain"></span><span class="token punctuation" style="color:rgb(4, 81, 165)">[</span><span class="token plain">root@armcli nativesource</span><span class="token punctuation" style="color:rgb(4, 81, 165)">]</span><span class="token comment" style="color:rgb(0, 128, 0)"># </span><span class="token plain"></span><br></span><span class="token-line" style="color:#000000"><span class="token plain"></span><span class="token punctuation" style="color:rgb(4, 81, 165)">[</span><span class="token plain">root@armcli nativesource</span><span class="token punctuation" style="color:rgb(4, 81, 165)">]</span><span class="token comment" style="color:rgb(0, 128, 0)"># vim echo.sh         # 这个文件 1.6.3.4.2 小节已经 push 到远程 github 上了，修改了一点</span><span class="token plain"></span><br></span><span class="token-line" style="color:#000000"><span class="token plain"></span><span class="token comment" style="color:rgb(0, 128, 0)">#!/bin/bash</span><span class="token plain"></span><br></span><span class="token-line" style="color:#000000"><span class="token plain"></span><span class="token keyword" style="color:rgb(0, 0, 255)">for</span><span class="token plain"> </span><span class="token for-or-select variable" style="color:rgb(9, 134, 88)">i</span><span class="token plain"> </span><span class="token keyword" style="color:rgb(0, 0, 255)">in</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(4, 81, 165)">{</span><span class="token number" style="color:rgb(9, 134, 88)">1</span><span class="token punctuation" style="color:rgb(4, 81, 165)">..</span><span class="token number" style="color:rgb(9, 134, 88)">9</span><span class="token punctuation" style="color:rgb(4, 81, 165)">}</span><span class="token punctuation" style="color:rgb(4, 81, 165)">;</span><span class="token plain"> </span><span class="token keyword" style="color:rgb(0, 0, 255)">do</span><span class="token plain"></span><br></span><span class="token-line" style="color:#000000"><span class="token plain">    </span><span class="token builtin class-name" style="color:rgb(38, 127, 153)">echo</span><span class="token plain"> </span><span class="token variable" style="color:rgb(9, 134, 88)">$i</span><span class="token plain"></span><br></span><span class="token-line" style="color:#000000"><span class="token plain"></span><span class="token keyword" style="color:rgb(0, 0, 255)">done</span><span class="token plain"></span><br></span><span class="token-line" style="color:#000000"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#000000"><span class="token plain"></span><span class="token builtin class-name" style="color:rgb(38, 127, 153)">echo</span><span class="token plain"> </span><span class="token string" style="color:rgb(163, 21, 21)">&quot;succeed!&quot;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#000000"><span class="token plain"></span><span class="token punctuation" style="color:rgb(4, 81, 165)">[</span><span class="token plain">root@armcli nativesource</span><span class="token punctuation" style="color:rgb(4, 81, 165)">]</span><span class="token comment" style="color:rgb(0, 128, 0)"># vim count.sh        # 新增一个文件</span><span class="token plain"></span><br></span><span class="token-line" style="color:#000000"><span class="token plain"></span><span class="token comment" style="color:rgb(0, 128, 0)">#!/bin/bash</span><span class="token plain"></span><br></span><span class="token-line" style="color:#000000"><span class="token plain"></span><span class="token function" style="color:rgb(0, 0, 255)">ls</span><span class="token plain"> /etc </span><span class="token operator" style="color:rgb(0, 0, 0)">|</span><span class="token plain"> </span><span class="token function" style="color:rgb(0, 0, 255)">wc</span><span class="token plain"> -l</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg class="copyButtonIcon_y97N" viewBox="0 0 24 24"><path d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg class="copyButtonSuccessIcon_LjdS" viewBox="0 0 24 24"><path d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><ol start="2"><li>关联 github 账号，提交本地代码到远程 github 账号对应项目下。</li></ol><div class="language-bash codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#000000;--prism-background-color:#ffffff"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-bash codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#000000"><span class="token punctuation" style="color:rgb(4, 81, 165)">[</span><span class="token plain">root@armcli nativesource</span><span class="token punctuation" style="color:rgb(4, 81, 165)">]</span><span class="token comment" style="color:rgb(0, 128, 0)"># git init</span><span class="token plain"></span><br></span><span class="token-line" style="color:#000000"><span class="token plain"></span><span class="token punctuation" style="color:rgb(4, 81, 165)">[</span><span class="token plain">root@armcli nativesource</span><span class="token punctuation" style="color:rgb(4, 81, 165)">]</span><span class="token comment" style="color:rgb(0, 128, 0)"># git remote add origin git@github.com:liangtiansheng/gitlearning.git     # 关联 github 账号项目</span><span class="token plain"></span><br></span><span class="token-line" style="color:#000000"><span class="token plain"></span><span class="token punctuation" style="color:rgb(4, 81, 165)">[</span><span class="token plain">root@armcli nativesource</span><span class="token punctuation" style="color:rgb(4, 81, 165)">]</span><span class="token comment" style="color:rgb(0, 128, 0)"># git config user.name &#x27;Susan&#x27;                                          # 自报家门</span><span class="token plain"></span><br></span><span class="token-line" style="color:#000000"><span class="token plain"></span><span class="token punctuation" style="color:rgb(4, 81, 165)">[</span><span class="token plain">root@armcli nativesource</span><span class="token punctuation" style="color:rgb(4, 81, 165)">]</span><span class="token comment" style="color:rgb(0, 128, 0)"># git config user.email &#x27;susan@gmail.com&#x27;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#000000"><span class="token plain"></span><span class="token punctuation" style="color:rgb(4, 81, 165)">[</span><span class="token plain">root@armcli nativesource</span><span class="token punctuation" style="color:rgb(4, 81, 165)">]</span><span class="token comment" style="color:rgb(0, 128, 0)">#</span><span class="token plain"></span><br></span><span class="token-line" style="color:#000000"><span class="token plain"></span><span class="token punctuation" style="color:rgb(4, 81, 165)">[</span><span class="token plain">root@armcli nativesource</span><span class="token punctuation" style="color:rgb(4, 81, 165)">]</span><span class="token comment" style="color:rgb(0, 128, 0)"># git add .                                   # 添加该文件夹中所有的文件到 git 的暂存区</span><span class="token plain"></span><br></span><span class="token-line" style="color:#000000"><span class="token plain"></span><span class="token punctuation" style="color:rgb(4, 81, 165)">[</span><span class="token plain">root@armcli nativesource</span><span class="token punctuation" style="color:rgb(4, 81, 165)">]</span><span class="token comment" style="color:rgb(0, 128, 0)"># git commit -m &quot;revise code by Susan&quot;      # 提交所有代码到本机的版本库 </span><span class="token plain"></span><br></span><span class="token-line" style="color:#000000"><span class="token plain"></span><span class="token punctuation" style="color:rgb(4, 81, 165)">[</span><span class="token plain">root@armcli nativesource</span><span class="token punctuation" style="color:rgb(4, 81, 165)">]</span><span class="token comment" style="color:rgb(0, 128, 0)"># git push -u origin master                   # 直接提交本地版本库代码到github远程服务器</span><span class="token plain"></span><br></span><span class="token-line" style="color:#000000"><span class="token plain">To git@github.com:liangtiansheng/gitlearning.git</span><br></span><span class="token-line" style="color:#000000"><span class="token plain"> </span><span class="token operator" style="color:rgb(0, 0, 0)">!</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(4, 81, 165)">[</span><span class="token plain">rejected</span><span class="token punctuation" style="color:rgb(4, 81, 165)">]</span><span class="token plain">        master -</span><span class="token operator" style="color:rgb(0, 0, 0)">&gt;</span><span class="token plain"> master </span><span class="token punctuation" style="color:rgb(4, 81, 165)">(</span><span class="token plain">fetch first</span><span class="token punctuation" style="color:rgb(4, 81, 165)">)</span><span class="token plain">                      </span><span class="token comment" style="color:rgb(0, 128, 0)"># 拒绝</span><span class="token plain"></span><br></span><span class="token-line" style="color:#000000"><span class="token plain">error: failed to push some refs to </span><span class="token string" style="color:rgb(163, 21, 21)">&#x27;git@github.com:liangtiansheng/gitlearning.git&#x27;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#000000"><span class="token plain">hint: Updates were rejected because the remote contains work that you </span><span class="token keyword" style="color:rgb(0, 0, 255)">do</span><span class="token plain"></span><br></span><span class="token-line" style="color:#000000"><span class="token plain">hint: not have locally. This is usually caused by another repository pushing</span><br></span><span class="token-line" style="color:#000000"><span class="token plain">hint: to the same ref. You may want to first merge the remote changes </span><span class="token punctuation" style="color:rgb(4, 81, 165)">(</span><span class="token plain">e.g.,</span><br></span><span class="token-line" style="color:#000000"><span class="token plain">hint: </span><span class="token string" style="color:rgb(163, 21, 21)">&#x27;git pull&#x27;</span><span class="token punctuation" style="color:rgb(4, 81, 165)">)</span><span class="token plain"> before pushing again.</span><br></span><span class="token-line" style="color:#000000"><span class="token plain">hint: See the </span><span class="token string" style="color:rgb(163, 21, 21)">&#x27;Note about fast-forwards&#x27;</span><span class="token plain"> </span><span class="token keyword" style="color:rgb(0, 0, 255)">in</span><span class="token plain"> </span><span class="token string" style="color:rgb(163, 21, 21)">&#x27;git push --help&#x27;</span><span class="token plain"> </span><span class="token keyword" style="color:rgb(0, 0, 255)">for</span><span class="token plain"> details.</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg class="copyButtonIcon_y97N" viewBox="0 0 24 24"><path d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg class="copyButtonSuccessIcon_LjdS" viewBox="0 0 24 24"><path d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><ul><li>很明显，当多人直接提交自己代码的时候会被拒绝，按照错误提示，需要合并操作。</li><li>git clone 过来的时候，git 不会对比本地和服务器的文件，也就不会有冲突。</li><li>建议确定完全覆盖本地的时候用 clone，不确定会不会有冲突的时候用 git pull，将远程服务器的代码 download 下来。<ul><li>git pull = git fetch + git merge</li></ul></li></ul><ol start="3"><li>为了解决多人提交代码可能被拒绝的问题，可以使用以下步骤进行处理。</li></ol><blockquote><p>本地机器在提交自己代码之前做 fetch 操作：</p></blockquote><div class="language-bash codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#000000;--prism-background-color:#ffffff"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-bash codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#000000"><span class="token punctuation" style="color:rgb(4, 81, 165)">[</span><span class="token plain">root@armcli nativesource</span><span class="token punctuation" style="color:rgb(4, 81, 165)">]</span><span class="token comment" style="color:rgb(0, 128, 0)"># git fetch origin master:test</span><span class="token plain"></span><br></span><span class="token-line" style="color:#000000"><span class="token plain">warning: no common commits</span><br></span><span class="token-line" style="color:#000000"><span class="token plain">remote: Enumerating objects: </span><span class="token number" style="color:rgb(9, 134, 88)">3</span><span class="token plain">, done.</span><br></span><span class="token-line" style="color:#000000"><span class="token plain">remote: Counting objects: </span><span class="token number" style="color:rgb(9, 134, 88)">100</span><span class="token plain">% </span><span class="token punctuation" style="color:rgb(4, 81, 165)">(</span><span class="token number" style="color:rgb(9, 134, 88)">3</span><span class="token plain">/3</span><span class="token punctuation" style="color:rgb(4, 81, 165)">)</span><span class="token plain">, done.</span><br></span><span class="token-line" style="color:#000000"><span class="token plain">remote: Total </span><span class="token number" style="color:rgb(9, 134, 88)">3</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(4, 81, 165)">(</span><span class="token plain">delta </span><span class="token number" style="color:rgb(9, 134, 88)">0</span><span class="token punctuation" style="color:rgb(4, 81, 165)">)</span><span class="token plain">, reused </span><span class="token number" style="color:rgb(9, 134, 88)">3</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(4, 81, 165)">(</span><span class="token plain">delta </span><span class="token number" style="color:rgb(9, 134, 88)">0</span><span class="token punctuation" style="color:rgb(4, 81, 165)">)</span><span class="token plain">, pack-reused </span><span class="token number" style="color:rgb(9, 134, 88)">0</span><span class="token plain"></span><br></span><span class="token-line" style="color:#000000"><span class="token plain">Unpacking objects: </span><span class="token number" style="color:rgb(9, 134, 88)">100</span><span class="token plain">% </span><span class="token punctuation" style="color:rgb(4, 81, 165)">(</span><span class="token number" style="color:rgb(9, 134, 88)">3</span><span class="token plain">/3</span><span class="token punctuation" style="color:rgb(4, 81, 165)">)</span><span class="token plain">, done.</span><br></span><span class="token-line" style="color:#000000"><span class="token plain">From github.com:liangtiansheng/gitlearning</span><br></span><span class="token-line" style="color:#000000"><span class="token plain"> * </span><span class="token punctuation" style="color:rgb(4, 81, 165)">[</span><span class="token plain">new branch</span><span class="token punctuation" style="color:rgb(4, 81, 165)">]</span><span class="token plain">      master     -</span><span class="token operator" style="color:rgb(0, 0, 0)">&gt;</span><span class="token plain"> </span><span class="token builtin class-name" style="color:rgb(38, 127, 153)">test</span><span class="token plain"></span><br></span><span class="token-line" style="color:#000000"><span class="token plain"></span><span class="token punctuation" style="color:rgb(4, 81, 165)">[</span><span class="token plain">root@armcli nativesource</span><span class="token punctuation" style="color:rgb(4, 81, 165)">]</span><span class="token comment" style="color:rgb(0, 128, 0)">#</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg class="copyButtonIcon_y97N" viewBox="0 0 24 24"><path d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg class="copyButtonSuccessIcon_LjdS" viewBox="0 0 24 24"><path d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><ul><li>fetch 是把远程代码作为本地的一个其他分支下载到本地，并不更新本地分支，这里的命令是把远程的 &quot;master&quot; 分支下载到本地作为一个新的分支 &quot;test&quot; 存在。</li></ul><blockquote><p>查看本地文件并没有发生变化</p></blockquote><div class="language-bash codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#000000;--prism-background-color:#ffffff"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-bash codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#000000"><span class="token punctuation" style="color:rgb(4, 81, 165)">[</span><span class="token plain">root@armcli nativesource</span><span class="token punctuation" style="color:rgb(4, 81, 165)">]</span><span class="token comment" style="color:rgb(0, 128, 0)"># ls</span><span class="token plain"></span><br></span><span class="token-line" style="color:#000000"><span class="token plain">count.sh  echo.sh</span><br></span><span class="token-line" style="color:#000000"><span class="token plain"></span><span class="token punctuation" style="color:rgb(4, 81, 165)">[</span><span class="token plain">root@armcli nativesource</span><span class="token punctuation" style="color:rgb(4, 81, 165)">]</span><span class="token comment" style="color:rgb(0, 128, 0)"># cat echo.sh </span><span class="token plain"></span><br></span><span class="token-line" style="color:#000000"><span class="token plain"></span><span class="token comment" style="color:rgb(0, 128, 0)">#!/bin/bash</span><span class="token plain"></span><br></span><span class="token-line" style="color:#000000"><span class="token plain"></span><span class="token keyword" style="color:rgb(0, 0, 255)">for</span><span class="token plain"> </span><span class="token for-or-select variable" style="color:rgb(9, 134, 88)">i</span><span class="token plain"> </span><span class="token keyword" style="color:rgb(0, 0, 255)">in</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(4, 81, 165)">{</span><span class="token number" style="color:rgb(9, 134, 88)">1</span><span class="token punctuation" style="color:rgb(4, 81, 165)">..</span><span class="token number" style="color:rgb(9, 134, 88)">9</span><span class="token punctuation" style="color:rgb(4, 81, 165)">}</span><span class="token punctuation" style="color:rgb(4, 81, 165)">;</span><span class="token plain"> </span><span class="token keyword" style="color:rgb(0, 0, 255)">do</span><span class="token plain"></span><br></span><span class="token-line" style="color:#000000"><span class="token plain">    </span><span class="token builtin class-name" style="color:rgb(38, 127, 153)">echo</span><span class="token plain"> </span><span class="token variable" style="color:rgb(9, 134, 88)">$i</span><span class="token plain"></span><br></span><span class="token-line" style="color:#000000"><span class="token plain"></span><span class="token keyword" style="color:rgb(0, 0, 255)">done</span><span class="token plain"></span><br></span><span class="token-line" style="color:#000000"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#000000"><span class="token plain"></span><span class="token builtin class-name" style="color:rgb(38, 127, 153)">echo</span><span class="token plain"> </span><span class="token string" style="color:rgb(163, 21, 21)">&quot;succeed!&quot;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#000000"><span class="token plain"></span><span class="token punctuation" style="color:rgb(4, 81, 165)">[</span><span class="token plain">root@armcli nativesource</span><span class="token punctuation" style="color:rgb(4, 81, 165)">]</span><span class="token comment" style="color:rgb(0, 128, 0)"># cat count.sh </span><span class="token plain"></span><br></span><span class="token-line" style="color:#000000"><span class="token plain"></span><span class="token comment" style="color:rgb(0, 128, 0)">#!/bin/bash</span><span class="token plain"></span><br></span><span class="token-line" style="color:#000000"><span class="token plain"></span><span class="token function" style="color:rgb(0, 0, 255)">ls</span><span class="token plain"> /etc </span><span class="token operator" style="color:rgb(0, 0, 0)">|</span><span class="token plain"> </span><span class="token function" style="color:rgb(0, 0, 255)">wc</span><span class="token plain"> -l</span><br></span><span class="token-line" style="color:#000000"><span class="token plain"></span><span class="token punctuation" style="color:rgb(4, 81, 165)">[</span><span class="token plain">root@armcli nativesource</span><span class="token punctuation" style="color:rgb(4, 81, 165)">]</span><span class="token comment" style="color:rgb(0, 128, 0)">#</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg class="copyButtonIcon_y97N" viewBox="0 0 24 24"><path d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg class="copyButtonSuccessIcon_LjdS" viewBox="0 0 24 24"><path d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><blockquote><p>用 diff 查看本地 master 分支和 fetch 下来的 test 分支有什么区别：</p></blockquote><div class="language-bash codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#000000;--prism-background-color:#ffffff"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-bash codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#000000"><span class="token punctuation" style="color:rgb(4, 81, 165)">[</span><span class="token plain">root@armcli nativesource</span><span class="token punctuation" style="color:rgb(4, 81, 165)">]</span><span class="token comment" style="color:rgb(0, 128, 0)"># git diff master test</span><span class="token plain"></span><br></span><span class="token-line" style="color:#000000"><span class="token plain"></span><span class="token function" style="color:rgb(0, 0, 255)">diff</span><span class="token plain"> --git a/README.md b/README.md</span><br></span><span class="token-line" style="color:#000000"><span class="token plain">new </span><span class="token function" style="color:rgb(0, 0, 255)">file</span><span class="token plain"> mode </span><span class="token number" style="color:rgb(9, 134, 88)">100644</span><span class="token plain"></span><br></span><span class="token-line" style="color:#000000"><span class="token plain">index 0000000</span><span class="token punctuation" style="color:rgb(4, 81, 165)">..</span><span class="token plain">c464c7b</span><br></span><span class="token-line" style="color:#000000"><span class="token plain">--- /dev/null</span><br></span><span class="token-line" style="color:#000000"><span class="token plain">+++ b/README.md</span><br></span><span class="token-line" style="color:#000000"><span class="token plain">@@ -0,0 +1 @@</span><br></span><span class="token-line" style="color:#000000"><span class="token plain">+</span><span class="token comment" style="color:rgb(0, 128, 0)"># gitlearning</span><span class="token plain"></span><br></span><span class="token-line" style="color:#000000"><span class="token plain"></span><span class="token punctuation" style="color:rgb(4, 81, 165)">\</span><span class="token plain"> No newline at end of </span><span class="token function" style="color:rgb(0, 0, 255)">file</span><span class="token plain"></span><br></span><span class="token-line" style="color:#000000"><span class="token plain"></span><span class="token function" style="color:rgb(0, 0, 255)">diff</span><span class="token plain"> --git a/count.sh b/count.sh</span><br></span><span class="token-line" style="color:#000000"><span class="token plain">deleted </span><span class="token function" style="color:rgb(0, 0, 255)">file</span><span class="token plain"> mode </span><span class="token number" style="color:rgb(9, 134, 88)">100644</span><span class="token plain"></span><br></span><span class="token-line" style="color:#000000"><span class="token plain">index f1f7f2d</span><span class="token punctuation" style="color:rgb(4, 81, 165)">..</span><span class="token plain">0000000</span><br></span><span class="token-line" style="color:#000000"><span class="token plain">--- a/count.sh</span><br></span><span class="token-line" style="color:#000000"><span class="token plain">+++ /dev/null</span><br></span><span class="token-line" style="color:#000000"><span class="token plain">@@ -1,2 +0,0 @@</span><br></span><span class="token-line" style="color:#000000"><span class="token plain">-</span><span class="token comment" style="color:rgb(0, 128, 0)">#!/bin/bash</span><span class="token plain"></span><br></span><span class="token-line" style="color:#000000"><span class="token plain">-ls /etc </span><span class="token operator" style="color:rgb(0, 0, 0)">|</span><span class="token plain"> </span><span class="token function" style="color:rgb(0, 0, 255)">wc</span><span class="token plain"> -l</span><br></span><span class="token-line" style="color:#000000"><span class="token plain"></span><span class="token function" style="color:rgb(0, 0, 255)">diff</span><span class="token plain"> --git a/echo.sh b/echo.sh</span><br></span><span class="token-line" style="color:#000000"><span class="token plain">index e7e933c</span><span class="token punctuation" style="color:rgb(4, 81, 165)">..</span><span class="token number" style="color:rgb(9, 134, 88)">7969251</span><span class="token plain"> </span><span class="token number" style="color:rgb(9, 134, 88)">100644</span><span class="token plain"></span><br></span><span class="token-line" style="color:#000000"><span class="token plain">--- a/echo.sh</span><br></span><span class="token-line" style="color:#000000"><span class="token plain">+++ b/echo.sh</span><br></span><span class="token-line" style="color:#000000"><span class="token plain">@@ -2,5 +2,3 @@</span><br></span><span class="token-line" style="color:#000000"><span class="token plain"> </span><span class="token keyword" style="color:rgb(0, 0, 255)">for</span><span class="token plain"> </span><span class="token for-or-select variable" style="color:rgb(9, 134, 88)">i</span><span class="token plain"> </span><span class="token keyword" style="color:rgb(0, 0, 255)">in</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(4, 81, 165)">{</span><span class="token number" style="color:rgb(9, 134, 88)">1</span><span class="token punctuation" style="color:rgb(4, 81, 165)">..</span><span class="token number" style="color:rgb(9, 134, 88)">9</span><span class="token punctuation" style="color:rgb(4, 81, 165)">}</span><span class="token punctuation" style="color:rgb(4, 81, 165)">;</span><span class="token plain"> </span><span class="token keyword" style="color:rgb(0, 0, 255)">do</span><span class="token plain"></span><br></span><span class="token-line" style="color:#000000"><span class="token plain">     </span><span class="token builtin class-name" style="color:rgb(38, 127, 153)">echo</span><span class="token plain"> </span><span class="token variable" style="color:rgb(9, 134, 88)">$i</span><span class="token plain"></span><br></span><span class="token-line" style="color:#000000"><span class="token plain"> </span><span class="token keyword" style="color:rgb(0, 0, 255)">done</span><span class="token plain"></span><br></span><span class="token-line" style="color:#000000"><span class="token plain">-</span><br></span><span class="token-line" style="color:#000000"><span class="token plain">-echo </span><span class="token string" style="color:rgb(163, 21, 21)">&quot;succeed!&quot;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#000000"><span class="token plain"></span><span class="token punctuation" style="color:rgb(4, 81, 165)">[</span><span class="token plain">root@armcli nativesource</span><span class="token punctuation" style="color:rgb(4, 81, 165)">]</span><span class="token comment" style="color:rgb(0, 128, 0)">#</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg class="copyButtonIcon_y97N" viewBox="0 0 24 24"><path d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg class="copyButtonSuccessIcon_LjdS" viewBox="0 0 24 24"><path d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><blockquote><p>如果发现 fetch 下来的代码没什么问题，可以选择和本地分支进行合并</p></blockquote><div class="language-bash codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#000000;--prism-background-color:#ffffff"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-bash codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#000000"><span class="token punctuation" style="color:rgb(4, 81, 165)">[</span><span class="token plain">root@armcli nativesource</span><span class="token punctuation" style="color:rgb(4, 81, 165)">]</span><span class="token comment" style="color:rgb(0, 128, 0)"># git merge test </span><span class="token plain"></span><br></span><span class="token-line" style="color:#000000"><span class="token plain">Auto-merging echo.sh</span><br></span><span class="token-line" style="color:#000000"><span class="token plain">CONFLICT </span><span class="token punctuation" style="color:rgb(4, 81, 165)">(</span><span class="token plain">add/add</span><span class="token punctuation" style="color:rgb(4, 81, 165)">)</span><span class="token plain">: Merge conflict </span><span class="token keyword" style="color:rgb(0, 0, 255)">in</span><span class="token plain"> echo.sh</span><br></span><span class="token-line" style="color:#000000"><span class="token plain">Automatic merge failed</span><span class="token punctuation" style="color:rgb(4, 81, 165)">;</span><span class="token plain"> fix conflicts and </span><span class="token keyword" style="color:rgb(0, 0, 255)">then</span><span class="token plain"> commit the result.</span><br></span><span class="token-line" style="color:#000000"><span class="token plain"></span><span class="token punctuation" style="color:rgb(4, 81, 165)">[</span><span class="token plain">root@armcli nativesource</span><span class="token punctuation" style="color:rgb(4, 81, 165)">]</span><span class="token comment" style="color:rgb(0, 128, 0)">#</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg class="copyButtonIcon_y97N" viewBox="0 0 24 24"><path d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg class="copyButtonSuccessIcon_LjdS" viewBox="0 0 24 24"><path d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><ul><li>发现 echo.sh 这个文件有冲突，这是我们预设的冲突点，上一小节有人提交过 echo.sh，这一小节另外一个主机新建了一个 echo.sh，代码还不完全一样，所以出现了冲突。</li></ul><blockquote><p>查看一下当前的状态和 git 表达 echo.sh 冲突的文件格式，然后手动修改代码，再</p></blockquote><div class="language-shell codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#000000;--prism-background-color:#ffffff"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-shell codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#000000"><span class="token comment" style="color:rgb(0, 128, 0)"># 当前状态</span><span class="token plain"></span><br></span><span class="token-line" style="color:#000000"><span class="token plain"></span><span class="token punctuation" style="color:rgb(4, 81, 165)">[</span><span class="token plain">root@armcli nativesource</span><span class="token punctuation" style="color:rgb(4, 81, 165)">]</span><span class="token comment" style="color:rgb(0, 128, 0)"># git status</span><span class="token plain"></span><br></span><span class="token-line" style="color:#000000"><span class="token plain"></span><span class="token comment" style="color:rgb(0, 128, 0)"># On branch master</span><span class="token plain"></span><br></span><span class="token-line" style="color:#000000"><span class="token plain"></span><span class="token comment" style="color:rgb(0, 128, 0)"># You have unmerged paths.</span><span class="token plain"></span><br></span><span class="token-line" style="color:#000000"><span class="token plain"></span><span class="token comment" style="color:rgb(0, 128, 0)">#   (fix conflicts and run &quot;git commit&quot;)</span><span class="token plain"></span><br></span><span class="token-line" style="color:#000000"><span class="token plain"></span><span class="token comment" style="color:rgb(0, 128, 0)">#</span><span class="token plain"></span><br></span><span class="token-line" style="color:#000000"><span class="token plain"></span><span class="token comment" style="color:rgb(0, 128, 0)"># Changes to be committed:</span><span class="token plain"></span><br></span><span class="token-line" style="color:#000000"><span class="token plain"></span><span class="token comment" style="color:rgb(0, 128, 0)">#</span><span class="token plain"></span><br></span><span class="token-line" style="color:#000000"><span class="token plain"></span><span class="token comment" style="color:rgb(0, 128, 0)">#   new file:   README.md</span><span class="token plain"></span><br></span><span class="token-line" style="color:#000000"><span class="token plain"></span><span class="token comment" style="color:rgb(0, 128, 0)">#</span><span class="token plain"></span><br></span><span class="token-line" style="color:#000000"><span class="token plain"></span><span class="token comment" style="color:rgb(0, 128, 0)"># Unmerged paths:</span><span class="token plain"></span><br></span><span class="token-line" style="color:#000000"><span class="token plain"></span><span class="token comment" style="color:rgb(0, 128, 0)">#   (use &quot;git add &lt;file&gt;...&quot; to mark resolution)</span><span class="token plain"></span><br></span><span class="token-line" style="color:#000000"><span class="token plain"></span><span class="token comment" style="color:rgb(0, 128, 0)">#</span><span class="token plain"></span><br></span><span class="token-line" style="color:#000000"><span class="token plain"></span><span class="token comment" style="color:rgb(0, 128, 0)">#   both added:         echo.sh</span><span class="token plain"></span><br></span><span class="token-line" style="color:#000000"><span class="token plain"></span><span class="token comment" style="color:rgb(0, 128, 0)">#</span><span class="token plain"></span><br></span><span class="token-line" style="color:#000000"><span class="token plain"></span><span class="token punctuation" style="color:rgb(4, 81, 165)">[</span><span class="token plain">root@armcli nativesource</span><span class="token punctuation" style="color:rgb(4, 81, 165)">]</span><span class="token comment" style="color:rgb(0, 128, 0)">#</span><span class="token plain"></span><br></span><span class="token-line" style="color:#000000"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#000000"><span class="token plain"></span><span class="token comment" style="color:rgb(0, 128, 0)"># git 表达冲突的格式</span><span class="token plain"></span><br></span><span class="token-line" style="color:#000000"><span class="token plain"></span><span class="token punctuation" style="color:rgb(4, 81, 165)">[</span><span class="token plain">root@armcli nativesource</span><span class="token punctuation" style="color:rgb(4, 81, 165)">]</span><span class="token comment" style="color:rgb(0, 128, 0)"># cat echo.sh </span><span class="token plain"></span><br></span><span class="token-line" style="color:#000000"><span class="token plain"></span><span class="token comment" style="color:rgb(0, 128, 0)">#!/bin/bash</span><span class="token plain"></span><br></span><span class="token-line" style="color:#000000"><span class="token plain"></span><span class="token keyword" style="color:rgb(0, 0, 255)">for</span><span class="token plain"> </span><span class="token for-or-select variable" style="color:rgb(9, 134, 88)">i</span><span class="token plain"> </span><span class="token keyword" style="color:rgb(0, 0, 255)">in</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(4, 81, 165)">{</span><span class="token number" style="color:rgb(9, 134, 88)">1</span><span class="token punctuation" style="color:rgb(4, 81, 165)">..</span><span class="token number" style="color:rgb(9, 134, 88)">9</span><span class="token punctuation" style="color:rgb(4, 81, 165)">}</span><span class="token punctuation" style="color:rgb(4, 81, 165)">;</span><span class="token plain"> </span><span class="token keyword" style="color:rgb(0, 0, 255)">do</span><span class="token plain"></span><br></span><span class="token-line" style="color:#000000"><span class="token plain">    </span><span class="token builtin class-name" style="color:rgb(38, 127, 153)">echo</span><span class="token plain"> </span><span class="token variable" style="color:rgb(9, 134, 88)">$i</span><span class="token plain"></span><br></span><span class="token-line" style="color:#000000"><span class="token plain"></span><span class="token keyword" style="color:rgb(0, 0, 255)">done</span><span class="token plain"></span><br></span><span class="token-line" style="color:#000000"><span class="token plain"></span><span class="token operator" style="color:rgb(0, 0, 0)">&lt;&lt;&lt;</span><span class="token operator" style="color:rgb(0, 0, 0)">&lt;&lt;&lt;</span><span class="token operator" style="color:rgb(0, 0, 0)">&lt;</span><span class="token plain"> HEAD</span><br></span><span class="token-line" style="color:#000000"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#000000"><span class="token plain"></span><span class="token builtin class-name" style="color:rgb(38, 127, 153)">echo</span><span class="token plain"> </span><span class="token string" style="color:rgb(163, 21, 21)">&quot;succeed!&quot;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#000000"><span class="token plain"></span><span class="token operator" style="color:rgb(0, 0, 0)">==</span><span class="token operator" style="color:rgb(0, 0, 0)">==</span><span class="token operator" style="color:rgb(0, 0, 0)">==</span><span class="token operator" style="color:rgb(0, 0, 0)">=</span><span class="token plain"></span><br></span><span class="token-line" style="color:#000000"><span class="token plain"></span><span class="token operator" style="color:rgb(0, 0, 0)">&gt;&gt;</span><span class="token operator" style="color:rgb(0, 0, 0)">&gt;&gt;</span><span class="token operator" style="color:rgb(0, 0, 0)">&gt;&gt;</span><span class="token operator" style="color:rgb(0, 0, 0)">&gt;</span><span class="token plain"> </span><span class="token builtin class-name" style="color:rgb(38, 127, 153)">test</span><span class="token plain"></span><br></span><span class="token-line" style="color:#000000"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#000000"><span class="token plain"></span><span class="token comment" style="color:rgb(0, 128, 0)"># 修改 echo.sh</span><span class="token plain"></span><br></span><span class="token-line" style="color:#000000"><span class="token plain"></span><span class="token punctuation" style="color:rgb(4, 81, 165)">[</span><span class="token plain">root@armcli nativesource</span><span class="token punctuation" style="color:rgb(4, 81, 165)">]</span><span class="token comment" style="color:rgb(0, 128, 0)"># vim echo.sh</span><span class="token plain"></span><br></span><span class="token-line" style="color:#000000"><span class="token plain"></span><span class="token comment" style="color:rgb(0, 128, 0)">#!/bin/bash</span><span class="token plain"></span><br></span><span class="token-line" style="color:#000000"><span class="token plain"></span><span class="token keyword" style="color:rgb(0, 0, 255)">for</span><span class="token plain"> </span><span class="token for-or-select variable" style="color:rgb(9, 134, 88)">i</span><span class="token plain"> </span><span class="token keyword" style="color:rgb(0, 0, 255)">in</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(4, 81, 165)">{</span><span class="token number" style="color:rgb(9, 134, 88)">1</span><span class="token punctuation" style="color:rgb(4, 81, 165)">..</span><span class="token number" style="color:rgb(9, 134, 88)">9</span><span class="token punctuation" style="color:rgb(4, 81, 165)">}</span><span class="token punctuation" style="color:rgb(4, 81, 165)">;</span><span class="token plain"> </span><span class="token keyword" style="color:rgb(0, 0, 255)">do</span><span class="token plain"></span><br></span><span class="token-line" style="color:#000000"><span class="token plain">    </span><span class="token builtin class-name" style="color:rgb(38, 127, 153)">echo</span><span class="token plain"> </span><span class="token variable" style="color:rgb(9, 134, 88)">$i</span><span class="token plain"></span><br></span><span class="token-line" style="color:#000000"><span class="token plain"></span><span class="token keyword" style="color:rgb(0, 0, 255)">done</span><span class="token plain"></span><br></span><span class="token-line" style="color:#000000"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#000000"><span class="token plain"></span><span class="token builtin class-name" style="color:rgb(38, 127, 153)">echo</span><span class="token plain"> </span><span class="token string" style="color:rgb(163, 21, 21)">&quot;succeed!&quot;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#000000"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#000000"><span class="token plain"></span><span class="token comment" style="color:rgb(0, 128, 0)"># 修改好冲突后，再次提交</span><span class="token plain"></span><br></span><span class="token-line" style="color:#000000"><span class="token plain"></span><span class="token punctuation" style="color:rgb(4, 81, 165)">[</span><span class="token plain">root@armcli nativesource</span><span class="token punctuation" style="color:rgb(4, 81, 165)">]</span><span class="token comment" style="color:rgb(0, 128, 0)"># git add echo.sh</span><span class="token plain"></span><br></span><span class="token-line" style="color:#000000"><span class="token plain"></span><span class="token punctuation" style="color:rgb(4, 81, 165)">[</span><span class="token plain">root@armcli nativesource</span><span class="token punctuation" style="color:rgb(4, 81, 165)">]</span><span class="token comment" style="color:rgb(0, 128, 0)"># git commit -m &quot;fix echo.sh confliction&quot;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#000000"><span class="token plain"></span><span class="token punctuation" style="color:rgb(4, 81, 165)">[</span><span class="token plain">master 72cc489</span><span class="token punctuation" style="color:rgb(4, 81, 165)">]</span><span class="token plain"> fix echo.sh confliction</span><br></span><span class="token-line" style="color:#000000"><span class="token plain"></span><span class="token punctuation" style="color:rgb(4, 81, 165)">[</span><span class="token plain">root@armcli nativesource</span><span class="token punctuation" style="color:rgb(4, 81, 165)">]</span><span class="token comment" style="color:rgb(0, 128, 0)">#</span><span class="token plain"></span><br></span><span class="token-line" style="color:#000000"><span class="token plain"></span><span class="token punctuation" style="color:rgb(4, 81, 165)">[</span><span class="token plain">root@armcli nativesource</span><span class="token punctuation" style="color:rgb(4, 81, 165)">]</span><span class="token comment" style="color:rgb(0, 128, 0)"># git status </span><span class="token plain"></span><br></span><span class="token-line" style="color:#000000"><span class="token plain"></span><span class="token comment" style="color:rgb(0, 128, 0)"># On branch master</span><span class="token plain"></span><br></span><span class="token-line" style="color:#000000"><span class="token plain">nothing to commit, working directory clean</span><br></span><span class="token-line" style="color:#000000"><span class="token plain"></span><span class="token punctuation" style="color:rgb(4, 81, 165)">[</span><span class="token plain">root@armcli nativesource</span><span class="token punctuation" style="color:rgb(4, 81, 165)">]</span><span class="token comment" style="color:rgb(0, 128, 0)">#</span><span class="token plain"></span><br></span><span class="token-line" style="color:#000000"><span class="token plain"></span><span class="token punctuation" style="color:rgb(4, 81, 165)">[</span><span class="token plain">root@armcli nativesource</span><span class="token punctuation" style="color:rgb(4, 81, 165)">]</span><span class="token comment" style="color:rgb(0, 128, 0)"># git push -u origin master</span><span class="token plain"></span><br></span><span class="token-line" style="color:#000000"><span class="token plain">Counting objects: </span><span class="token number" style="color:rgb(9, 134, 88)">8</span><span class="token plain">, done.</span><br></span><span class="token-line" style="color:#000000"><span class="token plain">Delta compression using up to </span><span class="token number" style="color:rgb(9, 134, 88)">8</span><span class="token plain"> threads.</span><br></span><span class="token-line" style="color:#000000"><span class="token plain">Compressing objects: </span><span class="token number" style="color:rgb(9, 134, 88)">100</span><span class="token plain">% </span><span class="token punctuation" style="color:rgb(4, 81, 165)">(</span><span class="token number" style="color:rgb(9, 134, 88)">5</span><span class="token plain">/5</span><span class="token punctuation" style="color:rgb(4, 81, 165)">)</span><span class="token plain">, done.</span><br></span><span class="token-line" style="color:#000000"><span class="token plain">Writing objects: </span><span class="token number" style="color:rgb(9, 134, 88)">100</span><span class="token plain">% </span><span class="token punctuation" style="color:rgb(4, 81, 165)">(</span><span class="token number" style="color:rgb(9, 134, 88)">6</span><span class="token plain">/6</span><span class="token punctuation" style="color:rgb(4, 81, 165)">)</span><span class="token plain">, </span><span class="token number" style="color:rgb(9, 134, 88)">636</span><span class="token plain"> bytes </span><span class="token operator" style="color:rgb(0, 0, 0)">|</span><span class="token plain"> </span><span class="token number" style="color:rgb(9, 134, 88)">0</span><span class="token plain"> bytes/s, done.</span><br></span><span class="token-line" style="color:#000000"><span class="token plain">Total </span><span class="token number" style="color:rgb(9, 134, 88)">6</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(4, 81, 165)">(</span><span class="token plain">delta </span><span class="token number" style="color:rgb(9, 134, 88)">0</span><span class="token punctuation" style="color:rgb(4, 81, 165)">)</span><span class="token plain">, reused </span><span class="token number" style="color:rgb(9, 134, 88)">0</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(4, 81, 165)">(</span><span class="token plain">delta </span><span class="token number" style="color:rgb(9, 134, 88)">0</span><span class="token punctuation" style="color:rgb(4, 81, 165)">)</span><span class="token plain"></span><br></span><span class="token-line" style="color:#000000"><span class="token plain">To git@github.com:liangtiansheng/gitlearning.git</span><br></span><span class="token-line" style="color:#000000"><span class="token plain">   a6b2265</span><span class="token punctuation" style="color:rgb(4, 81, 165)">..</span><span class="token plain">72cc489  master -</span><span class="token operator" style="color:rgb(0, 0, 0)">&gt;</span><span class="token plain"> master</span><br></span><span class="token-line" style="color:#000000"><span class="token plain">Branch master </span><span class="token builtin class-name" style="color:rgb(38, 127, 153)">set</span><span class="token plain"> up to track remote branch master from origin.</span><br></span><span class="token-line" style="color:#000000"><span class="token plain"></span><span class="token punctuation" style="color:rgb(4, 81, 165)">[</span><span class="token plain">root@armcli nativesource</span><span class="token punctuation" style="color:rgb(4, 81, 165)">]</span><span class="token comment" style="color:rgb(0, 128, 0)">#</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg class="copyButtonIcon_y97N" viewBox="0 0 24 24"><path d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg class="copyButtonSuccessIcon_LjdS" viewBox="0 0 24 24"><path d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><h3 class="anchor anchorWithHideOnScrollNavbar_WYt5" id="164常用的-git-命令">1.6.4、常用的 git 命令<a href="#164常用的-git-命令" class="hash-link" aria-label="Direct link to heading" title="Direct link to heading">​</a></h3><p>git 命令可以实现很复杂的软件版本管理系统，但是一般中小型公司很难维护这么复杂的系统，成本太高，所以学习一些基本的用法就足够了。下面是参见网上的一些自认为写得不错的文章修改而来，理解后再翻阅官方文档就很简单了 <a href="https://git-scm.com/book/zh/v2" target="_blank" rel="noopener noreferrer">https://git-scm.com/book/zh/v2</a>。</p><table><thead><tr><th>git 命令</th><th>说明</th></tr></thead><tbody><tr><td>git clone &lt;<em>url</em>&gt;</td><td>克隆远程仓库</td></tr><tr><td>git init</td><td>初始化本地 git 仓库（即创建新的本地仓库）</td></tr><tr><td>git status</td><td>查看当前分支状态</td></tr><tr><td>git diff</td><td>查看已跟踪文件的变更</td></tr><tr><td>git add &lt;<em>file</em>&gt;</td><td>将指定的文件添加到暂存区</td></tr><tr><td>git add .</td><td>将所有有变更的文件添加到暂存区</td></tr><tr><td>git commit -a</td><td>提交所有本地修改</td></tr><tr><td>git commit -m &quot;xxx&quot;</td><td>把已添加至暂存区的文件执行提交，并以 xxx 作为本次提交的描述</td></tr><tr><td>git commit --amend -m &quot;xxx&quot;</td><td>修改上一次提交（请勿用该命令修改已发布的提交）</td></tr><tr><td>git commit -am &quot;xxx&quot;</td><td>该命令是 <code>git add .</code> 和 <code>git commit -m &quot;xxx&quot;</code> 的快捷方式</td></tr><tr><td>git stash</td><td>暂存当前修改，将所有置为 HEAD 状态</td></tr><tr><td>git stash list</td><td>查看所有暂存列表</td></tr><tr><td>git stash push</td><td>把当前工作区的文件暂存到临时空间</td></tr><tr><td>git stash pop</td><td>把文件从临时空间中恢复到当前工作区</td></tr><tr><td>git log</td><td>查看提交日志</td></tr><tr><td>git log -n</td><td>显示 n 行日志，n 为整数</td></tr><tr><td>git log --stat</td><td>查看本地提交日志</td></tr><tr><td>git show &lt;commit<!-- -->&gt;</td><td>查看提交日志及相关变动文件</td></tr><tr><td>git show HEAD</td><td>查看 HEAD 提交日志</td></tr><tr><td>git show HEAD^</td><td>查看 HEAD 的上一个版本提交日志。    <br><code>git show HEAD^^</code> 是查看上 2 个版本的提交日志；  <br><code>git show HEAD~5</code> 是查看上 5 个版本的提交日志。</td></tr><tr><td>git blame &lt;file<!-- -->&gt;</td><td>对于指定文件，逐行显示提交的哈希 ID、提交者、提交日期以及修改的内容</td></tr><tr><td>git whatchanged</td><td>显示提交历史，以及每次提交变更的文件</td></tr><tr><td>git branch</td><td>查看本地分支</td></tr><tr><td>git branch -r</td><td>查看远程分支</td></tr><tr><td>git branch -a</td><td>查看所有分支（本地和远程）</td></tr><tr><td>git branch --merged</td><td>查看所有分支已合并到当前分支的分支</td></tr><tr><td>git branch --no-merged</td><td>查看所有分支未合并到当前分支的分支</td></tr><tr><td>git branch -m &lt;<em>new-branch</em>&gt;</td><td>把当前分支的名称改成 <code>new-branch</code>；如果 <code>new-branch</code> 已存在，将不会执行改名。</td></tr><tr><td>git branch -M &lt;<em>new-branch</em>&gt;</td><td>强制把当前分支的名称改成 <code>new-branch</code>（即使 <code>new-branch</code> 已存在）</td></tr><tr><td>git branch -m &lt;<em>old-branch</em>&gt; &lt;<em>new-branch</em>&gt;</td><td>把分支 <code>old-branch</code> 的名称改成 <code>new-branch</code>；  如果 <code>new-branch</code> 已存在，将不会执行改名。</td></tr><tr><td>git branch -M &lt;<em>old-branch</em>&gt; &lt;<em>new-branch</em>&gt;</td><td>强制把分支 <code>old-branch</code> 的名称改成 <code>new-branch</code>（即使 <code>new-branch</code> 已存在）</td></tr><tr><td>git checkout &lt;<em>branch-name</em>&gt;</td><td>切换到 <code>branch-name</code> 分支</td></tr><tr><td>git branch &lt;<em>new-branch</em>&gt;</td><td>新建分支（也可以用 <code>git checkout -b &lt;new-branch&gt;</code>）</td></tr><tr><td>git branch --track &lt;new<!-- -->&gt;<!-- --> &lt;<em>remote</em>&gt;</td><td>基于远程分支创建一个新分支，同 <code>git checkout --track &lt;remote/branch&gt;</code></td></tr><tr><td>git branch -d &lt;<em>branch-name</em>&gt;</td><td>删除本地分支</td></tr><tr><td>git tag</td><td>列出所有本地标签</td></tr><tr><td>git tag &lt;<em>tag-name</em>&gt;</td><td>基于最新的提交创建标签</td></tr><tr><td>git tag -d &lt;<em>tag-name</em>&gt;</td><td>删除标签</td></tr><tr><td>git rm &lt;<em>file</em>&gt;</td><td>删除文件（将从磁盘中删除文件）</td></tr><tr><td>git rm -r &lt;<em>directory</em>&gt;</td><td>递归删除指定目录下的文件</td></tr><tr><td>git rm --cached &lt;<em>file</em>&gt;</td><td>停止跟踪文件，不会从磁盘中删除</td></tr><tr><td>git merge &lt;<em>branch</em>&gt;</td><td>合并指定分支到当前分支，保留两个</td></tr><tr><td>git rebase &lt;<em>branch</em>&gt;</td><td>合并指定分支到当前分支，只保留一个</td></tr><tr><td>git rebase --abort</td><td>终止 rebase 操作，即回到执行 rebase 之前的状态</td></tr><tr><td>git rebase --continue</td><td>解决冲突后继续执行 rebase</td></tr><tr><td>git mergetool</td><td>使用配置文件指定的 mergetool 解决冲突</td></tr><tr><td>git add &lt;<em>resolved-file</em>&gt;  <br>git rm &lt;<em>resolved-file</em>&gt;</td><td>使用编辑器手动解决文件冲突，并在冲突解决后，把文件标记为 resolved</td></tr><tr><td>git reset --hard HEAD</td><td>将当前版本重置为 HEAD（用于 merge 失败的时候）</td></tr><tr><td>git reset &lt;<em>commit</em>&gt;</td><td>将当前版本重置为某一个提交状态，代码不变</td></tr><tr><td>git reset --hard &lt;<em>commit</em>&gt;</td><td>强制将当前版本重置为某一个提交状态，并丢弃那个状态之后的所有修改(请谨慎使用该命令)</td></tr><tr><td>git reset --merge &lt;<em>commit</em>&gt;</td><td>将当前版本重置为某一个提交状态，并保留版本库中不同的文件</td></tr><tr><td>git reset --keep &lt;<em>commit</em>&gt;</td><td>将当前版本重置为某一个提交状态，并保留未提交的本地修改</td></tr><tr><td>git revert &lt;<em>commit</em>&gt;</td><td>撤销提交</td></tr><tr><td>git restore &lt;<em>file</em>&gt;</td><td>丢弃指定文件的修改信息，即恢复到文件修改前的状态</td></tr><tr><td>git checkout -- &lt;<em>file</em>&gt;</td><td>同 <code>git restore &lt;file&gt;</code> 命令</td></tr><tr><td>git checkout HEAD &lt;<em>file</em>&gt;</td><td>对于指定文件，丢弃该文件的本地修改信息</td></tr><tr><td>git clean</td><td>清除工作目录中未跟踪的文件</td></tr><tr><td>git clean -n</td><td>列出哪些文件将从工作目录中删除</td></tr><tr><td>git config --list</td><td>列出当前 Git 配置</td></tr><tr><td>git config --global user.name &lt;<em>name</em>&gt;</td><td>把参数 <code>name</code> 设置为当前用户使用的提交者的姓名；<br>如果未指定 <code>name</code> 参数，则显示当前用户使用的提交者姓名。</td></tr><tr><td>git config --global user.email &lt;<em>email</em>&gt;</td><td>把参数 <code>email</code> 设置为当前用户使用的提交者的邮箱； <br>如果未指定 <code>email</code> 参数，则显示当前用户使用的提交者邮箱。</td></tr><tr><td>git config --global alias.&lt;<em>alias</em>&gt; &lt;<em>command</em>&gt;</td><td>为 Git 命令创建全局的别名。 <br>    比如，执行 <code>alias.glog log --graph --oneline --decorate</code> 命令后， <br> <code>git glog</code> 就相当于 <code>git log --graph --oneline --decorate</code>。</td></tr><tr><td>git config --system core.editor &lt;<em>editor</em>&gt;</td><td>对于本机的所有用户，设置命令使用的编辑器（比如 <code>vim</code>）</td></tr><tr><td>git config --global --edit</td><td>在编辑器中打开全局配置文件（用于手动修改）</td></tr><tr><td>git config --global color.ui auto</td><td>使用不同的颜色渲染 Git 命令的输出结果</td></tr><tr><td>git remote -v</td><td>列出详细信息，在每一个名字后面列出其远程 url</td></tr><tr><td>git remote show <!-- -->[<!-- -->name/url<!-- -->]</td><td>显示某个远程仓库的信息</td></tr><tr><td>git remote add <!-- -->[<!-- -->shortname<!-- -->]<!-- --> <!-- -->[<!-- -->url<!-- -->]</td><td>添加远程版本库</td></tr><tr><td>git remote rm name</td><td>删除远程仓库</td></tr><tr><td>git remote rename old<!-- -->_<!-- -->name new <!-- -->_<!-- -->name</td><td>修改仓库名</td></tr></tbody></table><h4 class="anchor anchorWithHideOnScrollNavbar_WYt5" id="1641基本用法">1.6.4.1、基本用法<a href="#1641基本用法" class="hash-link" aria-label="Direct link to heading" title="Direct link to heading">​</a></h4><p><img loading="lazy" alt="git basic" src="data:image/png;base64,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" width="728" height="312" class="img_ev3q"></p><p>上面的四条命令在工作目录、暂存目录(也叫做索引)和仓库之间复制文件。</p><ul><li><code>git add files</code> 把当前文件放入暂存区域。</li><li><code>git commit</code> 给暂存区域生成快照并提交。</li><li><code>git reset -- files</code> 用来撤销最后一次 <code>git add files</code>，你也可以用 <code>git reset</code> 撤销所有暂存区域文件。</li><li><code>git checkout -- files</code> 把文件从暂存区域复制到工作目录，用来丢弃本地修改。</li></ul><p><em>你可以用 <code>git reset -p</code>， <code>git checkout -p</code>，or <code>git add -p</code> 进入交互模式。</em></p><p>也可以跳过暂存区域直接从仓库取出文件或者直接提交代码。</p><ul><li><code>git commit -a</code> 相当于运行 <code>git add</code> 把所有当前目录下的文件加入暂存区域再运行 <code>git commit</code>。</li><li><code>git commit files</code> 进行一次包含最后一次提交加上工作目录中文件快照的提交。并且文件被添加到暂存区域。</li><li><code>git checkout HEAD -- files</code> 回滚到复制最后一次提交。</li></ul><p><img loading="lazy" alt="git basic" src="data:image/png;base64,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" width="866" height="312" class="img_ev3q"></p><h4 class="anchor anchorWithHideOnScrollNavbar_WYt5" id="1642命令图解">1.6.4.2、命令图解<a href="#1642命令图解" class="hash-link" aria-label="Direct link to heading" title="Direct link to heading">​</a></h4><p>后文中以下面的形式使用图片。</p><p><img loading="lazy" alt="git conventions" src="/en/assets/images/git_conventions-56cbbcd693a9a17fe6ed706ba0d73807.png" width="831" height="485" class="img_ev3q"></p><p>绿色的 5 位字符表示提交的 ID，分别指向父节点。分支用橘色显示，分别指向特定的提交。当前分支由附在其上的 <em>HEAD</em> 标识。 这张图片里显示最后 5 次提交，<em>ed489</em> 是最新提交。 <em>main</em> 分支指向此次提交，另一个 <em>stable</em> 分支指向祖父提交节点。</p><h5 class="anchor anchorWithHideOnScrollNavbar_WYt5" id="16421diff">1.6.4.2.1、Diff<a href="#16421diff" class="hash-link" aria-label="Direct link to heading" title="Direct link to heading">​</a></h5><p>有许多种方法查看两次提交之间的变动。下面是一些示例。</p><p><img loading="lazy" alt="git diff" src="/en/assets/images/git_diff-bfb6633634c63dbf47b9f2ed889813a0.png" width="831" height="485" class="img_ev3q"></p><h5 class="anchor anchorWithHideOnScrollNavbar_WYt5" id="16422commit">1.6.4.2.2、Commit<a href="#16422commit" class="hash-link" aria-label="Direct link to heading" title="Direct link to heading">​</a></h5><p>提交时，git 用暂存区域的文件创建一个新的提交，并把此时的节点设为父节点。然后把当前分支指向新的提交节点。下图中，当前分支是 <em>main</em>。 在运行命令之前，<em>main</em> 指向 <em>ed489</em>，提交后，<em>main</em> 指向新的节点 <em>f0cec</em> 并以 <em>ed489</em> 作为父节点。</p><p><img loading="lazy" alt="git commit" src="/en/assets/images/git_commit_main-bddb7e7980d724466a41df7d697cd545.png" width="831" height="485" class="img_ev3q"></p><p>即便当前分支是某次提交的祖父节点，git 会同样操作。下图中，在 <em>main</em> 分支的祖父节点 <em>stable</em> 分支进行一次提交，生成了 <em>1800b</em>。 这样，<em>stable</em> 分支就不再是 <em>main</em> 分支的祖父节点。此时，合并(或者衍合)是必须的。</p><p><img loading="lazy" alt="git commit" src="/en/assets/images/git_commit_stable-818bd8971e98de7b2076618d805f5795.png" width="831" height="485" class="img_ev3q"></p><p>如果想更改一次提交，使用 <code>git commit --amend</code>。git 会使用与当前提交相同的父节点进行一次新提交，旧的提交会被取消。</p><p><img loading="lazy" alt="git commit" src="/en/assets/images/git_commit_amend-9b56303a89a4d5b6afc84f5586adf730.png" width="831" height="485" class="img_ev3q"></p><p>另一个例子是分离 HEAD 提交，后文讲。</p><h5 class="anchor anchorWithHideOnScrollNavbar_WYt5" id="16423checkout">1.6.4.2.3、Checkout<a href="#16423checkout" class="hash-link" aria-label="Direct link to heading" title="Direct link to heading">​</a></h5><p>checkout 命令用于从历史提交（或者暂存区域）中拷贝文件到工作目录，也可用于切换分支。</p><p>当给定某个文件名（或者打开 -p 选项，或者文件名和 -p 选项同时打开）时，git 会从指定的提交中拷贝文件到暂存区域和工作目录。比如，<code>git checkout HEAD~ foo.c</code> 会将提交节点 <code>HEAD~</code>(即当前提交节点的父节点)中的 <code>foo.c</code> 复制到工作目录并且加到暂存区域中。（如果命令中没有指定提交节点，则会从暂存区域中拷贝内容。）注意当前分支不会发生变化。</p><p><img loading="lazy" alt="git checkout" src="/en/assets/images/git_checkout_files-a74f29d44d109b3fdfc42039b4d87d05.png" width="831" height="485" class="img_ev3q"></p><p>当不指定文件名，而是给出一个（本地）分支时，那么 <em>HEAD</em> 标识会移动到那个分支（也就是说，我们“切换”到那个分支了），然后暂存区域和工作目录中的内容会和 <em>HEAD</em> 对应的提交节点一致。新提交节点（下图中的a47c3）中的所有文件都会被复制（到暂存区域和工作目录中）；只存在于老的提交节点（ed489）中的文件会被删除；不属于上述两者的文件会被忽略，不受影响。</p><p><img loading="lazy" alt="git checkout" src="/en/assets/images/git_checkout_branch-29085450a73bb91b1189b12c9bfa2f4d.png" width="831" height="485" class="img_ev3q"></p><p>如果既没有指定文件名，也没有指定分支名，而是一个标签、远程分支、SHA-1 值或者是像 <em>main~3</em> 类似的东西，就得到一个匿名分支，称作 <em>detached HEAD</em>（被分离的 <em>HEAD</em> 标识）。这样可以很方便地在历史版本之间互相切换。比如说你想要编译 1.6.6.1 版本的 git，你可以运行 <code>git checkout v1.6.6.1</code>（这是一个标签，而非分支名），编译，安装，然后切换回另一个分支，比如说 <code>git checkout main</code>。然而，当提交操作涉及到 “分离的 HEAD” 时，其行为会略有不同，详情见下面。</p><p><img loading="lazy" alt="git checkout" src="/en/assets/images/git_checkout_detached-7fd9c5d0d0b9d9e8649368445c319b90.png" width="831" height="485" class="img_ev3q"></p><blockquote><p>HEAD 标识处于分离状态时的提交操作</p></blockquote><p>当 <em>HEAD</em> 处于分离状态（不依附于任一分支）时，提交操作可以正常进行，但是不会更新任何已命名的分支。(你可以认为这是在更新一个匿名分支。)</p><p><img loading="lazy" alt="git commit detached" src="/en/assets/images/git_commit_detached-db282d058b7bfd68f2297f27140e44c8.png" width="831" height="485" class="img_ev3q"></p><p>一旦此后你切换到别的分支，比如说 <em>main</em>，那么这个提交节点（可能）再也不会被引用到，然后就会被丢弃掉了。注意这个命令之后就不会有东西引用 <em>2eecb</em>。</p><p><img loading="lazy" alt="git checkou after detached" src="/en/assets/images/git_checkout_after_detached-2a04bb7a424434273879bca79c7489b3.png" width="831" height="485" class="img_ev3q"></p><p>但是，如果你想保存这个状态，可以用命令 <code>git checkout -b name</code> 来创建一个新的分支。</p><p><img loading="lazy" alt="git checkout b detached" src="/en/assets/images/git_checkout_b_detached-0f291bd03283e07ce3a9fda681ae30a6.png" width="831" height="485" class="img_ev3q"></p><h5 class="anchor anchorWithHideOnScrollNavbar_WYt5" id="16424reset">1.6.4.2.4、Reset<a href="#16424reset" class="hash-link" aria-label="Direct link to heading" title="Direct link to heading">​</a></h5><p>reset 命令把当前分支指向另一个位置，并且有选择的变动工作目录和索引。也用来在从历史仓库中复制文件到索引，而不动工作目录。</p><p>如果不给选项，那么当前分支指向到那个提交。如果用 <code>--hard</code> 选项，那么工作目录也更新，如果用 <code>--soft</code> 选项，那么都不变。</p><p><img loading="lazy" alt="git reset commit" src="/en/assets/images/git_reset_commit-6edae51457e887fd52d656795f16d2ef.png" width="831" height="485" class="img_ev3q"></p><p>如果没有给出提交点的版本号，那么默认用 <em>HEAD</em>。这样，分支指向不变，但是索引会回滚到最后一次提交，如果用 <code>--hard</code> 选项，工作目录也同样。</p><p><img loading="lazy" alt="git reset" src="/en/assets/images/git_reset-9d5e00690a2779c30baf205b02e8d873.png" width="831" height="485" class="img_ev3q"></p><p>如果给了文件名(或者 <code>-p</code> 选项)，那么工作效果和带文件名的 checkout 差不多，除了索引被更新。</p><p><img loading="lazy" alt="git reset files" src="/en/assets/images/git_reset_files-7e3b73c03b7ef7378395c9ccb3f6c493.png" width="831" height="485" class="img_ev3q"></p><h5 class="anchor anchorWithHideOnScrollNavbar_WYt5" id="16425merge">1.6.4.2.5、Merge<a href="#16425merge" class="hash-link" aria-label="Direct link to heading" title="Direct link to heading">​</a></h5><p>merge 命令把不同分支合并起来。合并前，索引必须和当前提交相同。如果另一个分支是当前提交的祖父节点，那么合并命令将什么也不做。 另一种情况是如果当前提交是另一个分支的祖父节点，就导致 <em>fast-forward</em> 合并。指向只是简单的移动，并生成一个新的提交。</p><p><img loading="lazy" alt="git merge ff" src="/en/assets/images/git_merge_ff-3059b19d8e8ca97adad54d16988f964a.png" width="831" height="485" class="img_ev3q"></p><p>否则就是一次真正的合并。默认把当前提交( <em>ed489</em> 如下所示)和另一个提交(<em>33104</em>)以及他们的共同祖父节点(<em>b325c</em>)进行一次<a href="http://en.wikipedia.org/wiki/Three-way_merge" target="_blank" rel="noopener noreferrer">三方合并</a>。结果是先保存当前目录和索引，然后和父节点 <em>33104</em> 一起做一次新提交。</p><p><img loading="lazy" alt="git merge" src="/en/assets/images/git_merge-decb0edd5ac26d4358c4aa94336ee9cc.png" width="831" height="485" class="img_ev3q"></p><h5 class="anchor anchorWithHideOnScrollNavbar_WYt5" id="16426cherry-pick">1.6.4.2.6、Cherry Pick<a href="#16426cherry-pick" class="hash-link" aria-label="Direct link to heading" title="Direct link to heading">​</a></h5><p>cherry-pick 命令&quot;复制&quot;一个提交节点并在当前分支做一次完全一样的新提交。</p><p><img loading="lazy" alt="git cherry pick" src="/en/assets/images/git_cherry_pick-da5e12c747a54e4fdeb71840d7393a57.png" width="831" height="485" class="img_ev3q"></p><h5 class="anchor anchorWithHideOnScrollNavbar_WYt5" id="16427rebase">1.6.4.2.7、Rebase<a href="#16427rebase" class="hash-link" aria-label="Direct link to heading" title="Direct link to heading">​</a></h5><p>衍合是合并命令的另一种选择。合并把两个父分支合并进行一次提交，提交历史不是线性的。衍合在当前分支上重演另一个分支的历史，提交历史是线性的。 本质上，这是线性化的自动的 cherry-pick。</p><p><img loading="lazy" alt="git rebase" src="/en/assets/images/git_rebase-0ae5b784ac412d9dad6be3fd375e0e43.png" width="831" height="485" class="img_ev3q"></p><p>上面的命令都在 <em>topic</em> 分支中进行，而不是 <em>main</em> 分支，在 <em>main</em> 分支上重演，并且把分支指向新的节点。注意旧提交没有被引用，将被回收。</p><p>要限制回滚范围，使用 <code>--onto</code> 选项。下面的命令在 <em>main</em> 分支上重演当前分支从 <em>169a6</em> 以来的最近几个提交，即 <em>2c33a</em>。</p><p><img loading="lazy" alt="git rebase onto" src="/en/assets/images/git_rebase_onto-2a466c1c64e150741509f5d1ed1f9534.png" width="831" height="485" class="img_ev3q"></p><p>同样有 <code>git rebase --interactive</code> 让你更方便的完成一些复杂操作，比如丢弃、重排、修改、合并提交。没有图片体现这些，细节看这里：<a href="http://www.kernel.org/pub/software/scm/git/docs/git-rebase.html#_interactive_mode" target="_blank" rel="noopener noreferrer">git-rebase(1)</a>。</p><p>说明：</p><p>文件内容并没有真正存储在索引(<em>.git/index</em>)或者提交对象中，而是以 blob 的形式分别存储在数据库中(<em>.git/objects</em>)，并用 SHA-1 值来校验。 索引文件用识别码列出相关的 blob 文件以及别的数据。</p><p>对于提交来说，以树(<em>tree</em>)的形式存储，同样用对于的哈希值识别。树对应着工作目录中的文件夹，树中包含的树或者 blob 对象对应着相应的子目录和文件。每次提交都存储下它的上一级树的识别码。</p><p>如果用 detached HEAD 提交，那么最后一次提交会被 the reflog for HEAD 引用。但是过一段时间就失效，最终被回收，与 <code>git commit --amend</code> 或者 <code>git rebase</code> 很像。</p><h2 class="anchor anchorWithHideOnScrollNavbar_WYt5" id="17gitlab-server-部署">1.7、Gitlab Server 部署<a href="#17gitlab-server-部署" class="hash-link" aria-label="Direct link to heading" title="Direct link to heading">​</a></h2><p>aarch64 版本的 Gitlab 在 Centos8 以后都支持，可以直接通过 rpm 包安装，如果是 Centos8 以前，需要手动编译 aarch64 版本，当然也可以使用 x86 版本。下面介绍 Gitlab 一般使用方法，详细教程请参考官方文档 <a href="https://docs.gitlab.com/" target="_blank" rel="noopener noreferrer">https://docs.gitlab.com/</a>。</p><p>下载地址：<a href="https://packages.gitlab.com/gitlab/gitlab-ce" target="_blank" rel="noopener noreferrer">https://packages.gitlab.com/gitlab/gitlab-ce</a></p><h3 class="anchor anchorWithHideOnScrollNavbar_WYt5" id="171环境配置">1.7.1、环境配置<a href="#171环境配置" class="hash-link" aria-label="Direct link to heading" title="Direct link to heading">​</a></h3><p>关闭防火墙、SELinux</p><div class="language-bash codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#000000;--prism-background-color:#ffffff"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-bash codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#000000"><span class="token punctuation" style="color:rgb(4, 81, 165)">[</span><span class="token plain">root@cide ~</span><span class="token punctuation" style="color:rgb(4, 81, 165)">]</span><span class="token comment" style="color:rgb(0, 128, 0)"># setenforce 0</span><span class="token plain"></span><br></span><span class="token-line" style="color:#000000"><span class="token plain"></span><span class="token punctuation" style="color:rgb(4, 81, 165)">[</span><span class="token plain">root@cide ~</span><span class="token punctuation" style="color:rgb(4, 81, 165)">]</span><span class="token comment" style="color:rgb(0, 128, 0)"># yum remove firewalld NetworkManager -y</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg class="copyButtonIcon_y97N" viewBox="0 0 24 24"><path d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg class="copyButtonSuccessIcon_LjdS" viewBox="0 0 24 24"><path d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><p>开启邮件服务</p><div class="language-shell codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#000000;--prism-background-color:#ffffff"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-shell codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#000000"><span class="token punctuation" style="color:rgb(4, 81, 165)">[</span><span class="token plain">root@cide ~</span><span class="token punctuation" style="color:rgb(4, 81, 165)">]</span><span class="token comment" style="color:rgb(0, 128, 0)"># systemctl start postfix</span><span class="token plain"></span><br></span><span class="token-line" style="color:#000000"><span class="token plain"></span><span class="token punctuation" style="color:rgb(4, 81, 165)">[</span><span class="token plain">root@cide ~</span><span class="token punctuation" style="color:rgb(4, 81, 165)">]</span><span class="token comment" style="color:rgb(0, 128, 0)"># systemctl enable postfix</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg class="copyButtonIcon_y97N" viewBox="0 0 24 24"><path d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg class="copyButtonSuccessIcon_LjdS" viewBox="0 0 24 24"><path d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><h3 class="anchor anchorWithHideOnScrollNavbar_WYt5" id="172部署-gitlab">1.7.2、部署 Gitlab<a href="#172部署-gitlab" class="hash-link" aria-label="Direct link to heading" title="Direct link to heading">​</a></h3><h4 class="anchor anchorWithHideOnScrollNavbar_WYt5" id="1721安装-gitlab-依赖包">1.7.2.1、安装 gitlab 依赖包<a href="#1721安装-gitlab-依赖包" class="hash-link" aria-label="Direct link to heading" title="Direct link to heading">​</a></h4><div class="language-shell codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#000000;--prism-background-color:#ffffff"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-shell codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#000000"><span class="token plain">centos7:</span><br></span><span class="token-line" style="color:#000000"><span class="token plain"></span><span class="token punctuation" style="color:rgb(4, 81, 165)">[</span><span class="token plain">root@cide ~</span><span class="token punctuation" style="color:rgb(4, 81, 165)">]</span><span class="token comment" style="color:rgb(0, 128, 0)"># yum install -y curl openssh-server openssh-clients postfix cronie policycoreutils-python</span><span class="token plain"></span><br></span><span class="token-line" style="color:#000000"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#000000"><span class="token plain">centos8:</span><br></span><span class="token-line" style="color:#000000"><span class="token plain"></span><span class="token punctuation" style="color:rgb(4, 81, 165)">[</span><span class="token plain">root@cide ~</span><span class="token punctuation" style="color:rgb(4, 81, 165)">]</span><span class="token comment" style="color:rgb(0, 128, 0)"># yum install -y curl openssh-server openssh-clients postfix cronie policycoreutils-python-utils</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg class="copyButtonIcon_y97N" viewBox="0 0 24 24"><path d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg class="copyButtonSuccessIcon_LjdS" viewBox="0 0 24 24"><path d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><ul><li>gitlab-ce 10.x.x 以后的版本需要依赖 policycoreutils-python。</li></ul><h4 class="anchor anchorWithHideOnScrollNavbar_WYt5" id="1722添加官方源">1.7.2.2、添加官方源<a href="#1722添加官方源" class="hash-link" aria-label="Direct link to heading" title="Direct link to heading">​</a></h4><div class="language-shell codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#000000;--prism-background-color:#ffffff"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-shell codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#000000"><span class="token punctuation" style="color:rgb(4, 81, 165)">[</span><span class="token plain">root@cide ~</span><span class="token punctuation" style="color:rgb(4, 81, 165)">]</span><span class="token comment" style="color:rgb(0, 128, 0)"># curl https://packages.gitlab.com/install/repositories/gitlab/gitlab-ce/script.rpm.sh | sudo bash</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg class="copyButtonIcon_y97N" viewBox="0 0 24 24"><path d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg class="copyButtonSuccessIcon_LjdS" viewBox="0 0 24 24"><path d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><p>因为官方源太慢，可以使用国内 yum 源，配置如下：</p><div class="language-bash codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#000000;--prism-background-color:#ffffff"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-bash codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#000000"><span class="token punctuation" style="color:rgb(4, 81, 165)">[</span><span class="token plain">root@cide ~</span><span class="token punctuation" style="color:rgb(4, 81, 165)">]</span><span class="token comment" style="color:rgb(0, 128, 0)"># vim /etc/yum.repos.d/gitlab-ce.repo</span><span class="token plain"></span><br></span><span class="token-line" style="color:#000000"><span class="token plain"></span><span class="token punctuation" style="color:rgb(4, 81, 165)">[</span><span class="token plain">gitlab-ce</span><span class="token punctuation" style="color:rgb(4, 81, 165)">]</span><span class="token plain"></span><br></span><span class="token-line" style="color:#000000"><span class="token plain"></span><span class="token assign-left variable" style="color:rgb(9, 134, 88)">name</span><span class="token operator" style="color:rgb(0, 0, 0)">=</span><span class="token plain">Gitlab CE Repository</span><br></span><span class="token-line" style="color:#000000"><span class="token plain"></span><span class="token assign-left variable" style="color:rgb(9, 134, 88)">baseurl</span><span class="token operator" style="color:rgb(0, 0, 0)">=</span><span class="token plain">https://mirrors.cloud.tencent.com/gitlab-ce/yum/el</span><span class="token variable" style="color:rgb(9, 134, 88)">$releasever</span><span class="token plain">/</span><br></span><span class="token-line" style="color:#000000"><span class="token plain"></span><span class="token assign-left variable" style="color:rgb(9, 134, 88)">gpgcheck</span><span class="token operator" style="color:rgb(0, 0, 0)">=</span><span class="token number" style="color:rgb(9, 134, 88)">0</span><span class="token plain"></span><br></span><span class="token-line" style="color:#000000"><span class="token plain"></span><span class="token assign-left variable" style="color:rgb(9, 134, 88)">enabled</span><span class="token operator" style="color:rgb(0, 0, 0)">=</span><span class="token number" style="color:rgb(9, 134, 88)">1</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg class="copyButtonIcon_y97N" viewBox="0 0 24 24"><path d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg class="copyButtonSuccessIcon_LjdS" viewBox="0 0 24 24"><path d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><h4 class="anchor anchorWithHideOnScrollNavbar_WYt5" id="1723安装-gitlab">1.7.2.3、安装 Gitlab<a href="#1723安装-gitlab" class="hash-link" aria-label="Direct link to heading" title="Direct link to heading">​</a></h4><div class="language-shell codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#000000;--prism-background-color:#ffffff"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-shell codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#000000"><span class="token punctuation" style="color:rgb(4, 81, 165)">[</span><span class="token plain">root@cide ~</span><span class="token punctuation" style="color:rgb(4, 81, 165)">]</span><span class="token comment" style="color:rgb(0, 128, 0)"># yum -y install gitlab-ce             # 自动安装最新版</span><span class="token plain"></span><br></span><span class="token-line" style="color:#000000"><span class="token plain">或：</span><br></span><span class="token-line" style="color:#000000"><span class="token plain"></span><span class="token punctuation" style="color:rgb(4, 81, 165)">[</span><span class="token plain">root@cide ~</span><span class="token punctuation" style="color:rgb(4, 81, 165)">]</span><span class="token comment" style="color:rgb(0, 128, 0)"># yum -y install gitlab-ce-x.x.x       # 安装指定版本Gitlab</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg class="copyButtonIcon_y97N" viewBox="0 0 24 24"><path d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg class="copyButtonSuccessIcon_LjdS" viewBox="0 0 24 24"><path d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><h4 class="anchor anchorWithHideOnScrollNavbar_WYt5" id="1724配置-gitlab">1.7.2.4、配置 Gitlab<a href="#1724配置-gitlab" class="hash-link" aria-label="Direct link to heading" title="Direct link to heading">​</a></h4><ol><li>查看 Gitlab 版本</li></ol><div class="language-shell codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#000000;--prism-background-color:#ffffff"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-shell codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#000000"><span class="token punctuation" style="color:rgb(4, 81, 165)">[</span><span class="token plain">root@cide ~</span><span class="token punctuation" style="color:rgb(4, 81, 165)">]</span><span class="token comment" style="color:rgb(0, 128, 0)"># head -1 /opt/gitlab/version-manifest.txt </span><span class="token plain"></span><br></span><span class="token-line" style="color:#000000"><span class="token plain">gitlab-ce </span><span class="token number" style="color:rgb(9, 134, 88)">14.8</span><span class="token plain">.2</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg class="copyButtonIcon_y97N" viewBox="0 0 24 24"><path d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg class="copyButtonSuccessIcon_LjdS" viewBox="0 0 24 24"><path d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><ol start="2"><li>Gitlab 配置登录链接</li></ol><div class="language-shell codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#000000;--prism-background-color:#ffffff"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-shell codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#000000"><span class="token punctuation" style="color:rgb(4, 81, 165)">[</span><span class="token plain">root@cide ~</span><span class="token punctuation" style="color:rgb(4, 81, 165)">]</span><span class="token comment" style="color:rgb(0, 128, 0)"># vim /etc/gitlab/gitlab.rb</span><span class="token plain"></span><br></span><span class="token-line" style="color:#000000"><span class="token plain"></span><span class="token punctuation" style="color:rgb(4, 81, 165)">..</span><span class="token punctuation" style="color:rgb(4, 81, 165)">..</span><span class="token punctuation" style="color:rgb(4, 81, 165)">..</span><span class="token plain"></span><br></span><span class="token-line" style="color:#000000"><span class="token plain"></span><span class="token comment" style="color:rgb(0, 128, 0)"># 没有域名，可以设置为本机 IP 地址</span><span class="token plain"></span><br></span><span class="token-line" style="color:#000000"><span class="token plain">external_url </span><span class="token string" style="color:rgb(163, 21, 21)">&#x27;http://172.17.0.61&#x27;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#000000"><span class="token plain"></span><span class="token punctuation" style="color:rgb(4, 81, 165)">..</span><span class="token punctuation" style="color:rgb(4, 81, 165)">..</span><span class="token punctuation" style="color:rgb(4, 81, 165)">..</span><span class="token plain"></span><br></span><span class="token-line" style="color:#000000"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#000000"><span class="token plain"></span><span class="token comment" style="color:rgb(0, 128, 0)"># 绑定监听的域名或 IP</span><span class="token plain"></span><br></span><span class="token-line" style="color:#000000"><span class="token plain"></span><span class="token punctuation" style="color:rgb(4, 81, 165)">[</span><span class="token plain">root@cide ~</span><span class="token punctuation" style="color:rgb(4, 81, 165)">]</span><span class="token comment" style="color:rgb(0, 128, 0)"># grep &quot;^external_url&quot; /etc/gitlab/gitlab.rb</span><span class="token plain"></span><br></span><span class="token-line" style="color:#000000"><span class="token plain">external_url </span><span class="token string" style="color:rgb(163, 21, 21)">&#x27;http://192.168.114.129&#x27;</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg class="copyButtonIcon_y97N" viewBox="0 0 24 24"><path d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg class="copyButtonSuccessIcon_LjdS" viewBox="0 0 24 24"><path d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><ol start="3"><li>初始化 Gitlab</li></ol><p>gitlab 要求语言环境为英文环境，必须切换，切换方法如下：</p><blockquote><p>可以先尝试以下方案</p></blockquote><div class="language-bash codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#000000;--prism-background-color:#ffffff"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-bash codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#000000"><span class="token punctuation" style="color:rgb(4, 81, 165)">[</span><span class="token plain">root@cide ~</span><span class="token punctuation" style="color:rgb(4, 81, 165)">]</span><span class="token comment" style="color:rgb(0, 128, 0)"># echo &quot;export LC_ALL=en_US.UTF-8&quot;  &gt;&gt;  /etc/profile</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg class="copyButtonIcon_y97N" viewBox="0 0 24 24"><path d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg class="copyButtonSuccessIcon_LjdS" viewBox="0 0 24 24"><path d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><ul><li>语言环境问题：如果碰到之后的解决方案如上操作，需要重新登录。</li></ul><blockquote><p>如果上面的方案不可以，再使用下面的方案</p></blockquote><div class="language-bash codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#000000;--prism-background-color:#ffffff"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-bash codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#000000"><span class="token punctuation" style="color:rgb(4, 81, 165)">[</span><span class="token plain">root@cide ~</span><span class="token punctuation" style="color:rgb(4, 81, 165)">]</span><span class="token comment" style="color:rgb(0, 128, 0)"># yum install langpacks-zh_CN langpacks-en langpacks-en_GB -y</span><span class="token plain"></span><br></span><span class="token-line" style="color:#000000"><span class="token plain"></span><span class="token punctuation" style="color:rgb(4, 81, 165)">[</span><span class="token plain">root@cide ~</span><span class="token punctuation" style="color:rgb(4, 81, 165)">]</span><span class="token comment" style="color:rgb(0, 128, 0)"># cat &gt; /etc/profile.d/locale.sh&lt;&lt;-EOF</span><span class="token plain"></span><br></span><span class="token-line" style="color:#000000"><span class="token plain"> </span><span class="token builtin class-name" style="color:rgb(38, 127, 153)">export</span><span class="token plain"> </span><span class="token assign-left variable environment constant" style="color:rgb(129, 31, 63)">LANG</span><span class="token operator" style="color:rgb(0, 0, 0)">=</span><span class="token plain">en_US.UTF-8</span><br></span><span class="token-line" style="color:#000000"><span class="token plain"> </span><span class="token builtin class-name" style="color:rgb(38, 127, 153)">export</span><span class="token plain"> </span><span class="token assign-left variable environment constant" style="color:rgb(129, 31, 63)">LANGUAGE</span><span class="token operator" style="color:rgb(0, 0, 0)">=</span><span class="token plain">en_US.UTF-8</span><br></span><span class="token-line" style="color:#000000"><span class="token plain"> </span><span class="token builtin class-name" style="color:rgb(38, 127, 153)">export</span><span class="token plain"> </span><span class="token assign-left variable" style="color:rgb(9, 134, 88)">LC_COLLATE</span><span class="token operator" style="color:rgb(0, 0, 0)">=</span><span class="token plain">C</span><br></span><span class="token-line" style="color:#000000"><span class="token plain"> </span><span class="token builtin class-name" style="color:rgb(38, 127, 153)">export</span><span class="token plain"> </span><span class="token assign-left variable" style="color:rgb(9, 134, 88)">LC_CTYPE</span><span class="token operator" style="color:rgb(0, 0, 0)">=</span><span class="token plain">en_US.UTF-8</span><br></span><span class="token-line" style="color:#000000"><span class="token plain"> EOF</span><br></span><span class="token-line" style="color:#000000"><span class="token plain"></span><span class="token punctuation" style="color:rgb(4, 81, 165)">[</span><span class="token plain">root@cide ~</span><span class="token punctuation" style="color:rgb(4, 81, 165)">]</span><span class="token comment" style="color:rgb(0, 128, 0)"># source /etc/profile.d/locale.sh</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg class="copyButtonIcon_y97N" viewBox="0 0 24 24"><path d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg class="copyButtonSuccessIcon_LjdS" viewBox="0 0 24 24"><path d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><ul><li>退出终端重新登陆</li></ul><blockquote><p>第一次使用配置时间较长</p></blockquote><div class="language-shell codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#000000;--prism-background-color:#ffffff"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-shell codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#000000"><span class="token punctuation" style="color:rgb(4, 81, 165)">[</span><span class="token plain">root@cide ~</span><span class="token punctuation" style="color:rgb(4, 81, 165)">]</span><span class="token comment" style="color:rgb(0, 128, 0)"># gitlab-ctl reconfigure</span><span class="token plain"></span><br></span><span class="token-line" style="color:#000000"><span class="token plain"></span><span class="token punctuation" style="color:rgb(4, 81, 165)">..</span><span class="token punctuation" style="color:rgb(4, 81, 165)">..</span><span class="token plain">.</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg class="copyButtonIcon_y97N" viewBox="0 0 24 24"><path d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg class="copyButtonSuccessIcon_LjdS" viewBox="0 0 24 24"><path d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><h4 class="anchor anchorWithHideOnScrollNavbar_WYt5" id="1725启动-gitlab-服务">1.7.2.5、启动 Gitlab 服务<a href="#1725启动-gitlab-服务" class="hash-link" aria-label="Direct link to heading" title="Direct link to heading">​</a></h4><div class="language-shell codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#000000;--prism-background-color:#ffffff"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-shell codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#000000"><span class="token punctuation" style="color:rgb(4, 81, 165)">[</span><span class="token plain">root@cide ~</span><span class="token punctuation" style="color:rgb(4, 81, 165)">]</span><span class="token comment" style="color:rgb(0, 128, 0)"># gitlab-ctl start </span><span class="token plain"></span><br></span><span class="token-line" style="color:#000000"><span class="token plain">ok: run: alertmanager: </span><span class="token punctuation" style="color:rgb(4, 81, 165)">(</span><span class="token plain">pid </span><span class="token number" style="color:rgb(9, 134, 88)">3187</span><span class="token punctuation" style="color:rgb(4, 81, 165)">)</span><span class="token plain"> 40s</span><br></span><span class="token-line" style="color:#000000"><span class="token plain">ok: run: gitaly: </span><span class="token punctuation" style="color:rgb(4, 81, 165)">(</span><span class="token plain">pid </span><span class="token number" style="color:rgb(9, 134, 88)">3206</span><span class="token punctuation" style="color:rgb(4, 81, 165)">)</span><span class="token plain"> 39s</span><br></span><span class="token-line" style="color:#000000"><span class="token plain">ok: run: gitlab-exporter: </span><span class="token punctuation" style="color:rgb(4, 81, 165)">(</span><span class="token plain">pid </span><span class="token number" style="color:rgb(9, 134, 88)">3160</span><span class="token punctuation" style="color:rgb(4, 81, 165)">)</span><span class="token plain"> 43s</span><br></span><span class="token-line" style="color:#000000"><span class="token plain">ok: run: gitlab-kas: </span><span class="token punctuation" style="color:rgb(4, 81, 165)">(</span><span class="token plain">pid </span><span class="token number" style="color:rgb(9, 134, 88)">3130</span><span class="token punctuation" style="color:rgb(4, 81, 165)">)</span><span class="token plain"> 44s</span><br></span><span class="token-line" style="color:#000000"><span class="token plain">ok: run: gitlab-workhorse: </span><span class="token punctuation" style="color:rgb(4, 81, 165)">(</span><span class="token plain">pid </span><span class="token number" style="color:rgb(9, 134, 88)">3141</span><span class="token punctuation" style="color:rgb(4, 81, 165)">)</span><span class="token plain"> 44s</span><br></span><span class="token-line" style="color:#000000"><span class="token plain">ok: run: grafana: </span><span class="token punctuation" style="color:rgb(4, 81, 165)">(</span><span class="token plain">pid </span><span class="token number" style="color:rgb(9, 134, 88)">3215</span><span class="token punctuation" style="color:rgb(4, 81, 165)">)</span><span class="token plain"> 39s</span><br></span><span class="token-line" style="color:#000000"><span class="token plain">ok: run: logrotate: </span><span class="token punctuation" style="color:rgb(4, 81, 165)">(</span><span class="token plain">pid </span><span class="token number" style="color:rgb(9, 134, 88)">2223</span><span class="token punctuation" style="color:rgb(4, 81, 165)">)</span><span class="token plain"> 261s</span><br></span><span class="token-line" style="color:#000000"><span class="token plain">ok: run: nginx: </span><span class="token punctuation" style="color:rgb(4, 81, 165)">(</span><span class="token plain">pid </span><span class="token number" style="color:rgb(9, 134, 88)">2699</span><span class="token punctuation" style="color:rgb(4, 81, 165)">)</span><span class="token plain"> 152s</span><br></span><span class="token-line" style="color:#000000"><span class="token plain">ok: run: node-exporter: </span><span class="token punctuation" style="color:rgb(4, 81, 165)">(</span><span class="token plain">pid </span><span class="token number" style="color:rgb(9, 134, 88)">3150</span><span class="token punctuation" style="color:rgb(4, 81, 165)">)</span><span class="token plain"> 43s</span><br></span><span class="token-line" style="color:#000000"><span class="token plain">ok: run: postgres-exporter: </span><span class="token punctuation" style="color:rgb(4, 81, 165)">(</span><span class="token plain">pid </span><span class="token number" style="color:rgb(9, 134, 88)">3201</span><span class="token punctuation" style="color:rgb(4, 81, 165)">)</span><span class="token plain"> 40s</span><br></span><span class="token-line" style="color:#000000"><span class="token plain">ok: run: postgresql: </span><span class="token punctuation" style="color:rgb(4, 81, 165)">(</span><span class="token plain">pid </span><span class="token number" style="color:rgb(9, 134, 88)">2417</span><span class="token punctuation" style="color:rgb(4, 81, 165)">)</span><span class="token plain"> 238s</span><br></span><span class="token-line" style="color:#000000"><span class="token plain">ok: run: prometheus: </span><span class="token punctuation" style="color:rgb(4, 81, 165)">(</span><span class="token plain">pid </span><span class="token number" style="color:rgb(9, 134, 88)">3170</span><span class="token punctuation" style="color:rgb(4, 81, 165)">)</span><span class="token plain"> 42s</span><br></span><span class="token-line" style="color:#000000"><span class="token plain">ok: run: puma: </span><span class="token punctuation" style="color:rgb(4, 81, 165)">(</span><span class="token plain">pid </span><span class="token number" style="color:rgb(9, 134, 88)">2618</span><span class="token punctuation" style="color:rgb(4, 81, 165)">)</span><span class="token plain"> 170s</span><br></span><span class="token-line" style="color:#000000"><span class="token plain">ok: run: redis: </span><span class="token punctuation" style="color:rgb(4, 81, 165)">(</span><span class="token plain">pid </span><span class="token number" style="color:rgb(9, 134, 88)">2254</span><span class="token punctuation" style="color:rgb(4, 81, 165)">)</span><span class="token plain"> 255s</span><br></span><span class="token-line" style="color:#000000"><span class="token plain">ok: run: redis-exporter: </span><span class="token punctuation" style="color:rgb(4, 81, 165)">(</span><span class="token plain">pid </span><span class="token number" style="color:rgb(9, 134, 88)">3162</span><span class="token punctuation" style="color:rgb(4, 81, 165)">)</span><span class="token plain"> 42s</span><br></span><span class="token-line" style="color:#000000"><span class="token plain">ok: run: sidekiq: </span><span class="token punctuation" style="color:rgb(4, 81, 165)">(</span><span class="token plain">pid </span><span class="token number" style="color:rgb(9, 134, 88)">2635</span><span class="token punctuation" style="color:rgb(4, 81, 165)">)</span><span class="token plain"> 164s</span><br></span><span class="token-line" style="color:#000000"><span class="token plain"></span><span class="token punctuation" style="color:rgb(4, 81, 165)">[</span><span class="token plain">root@cide ~</span><span class="token punctuation" style="color:rgb(4, 81, 165)">]</span><span class="token comment" style="color:rgb(0, 128, 0)">#</span><span class="token plain"></span><br></span><span class="token-line" style="color:#000000"><span class="token plain"></span><span class="token punctuation" style="color:rgb(4, 81, 165)">[</span><span class="token plain">root@cide ~</span><span class="token punctuation" style="color:rgb(4, 81, 165)">]</span><span class="token comment" style="color:rgb(0, 128, 0)"># lsof -i:80</span><span class="token plain"></span><br></span><span class="token-line" style="color:#000000"><span class="token plain">COMMAND  PID       </span><span class="token environment constant" style="color:rgb(129, 31, 63)">USER</span><span class="token plain">   FD   TYPE DEVICE SIZE/OFF NODE NAME</span><br></span><span class="token-line" style="color:#000000"><span class="token plain">nginx   </span><span class="token number" style="color:rgb(9, 134, 88)">2699</span><span class="token plain">       root    7u  IPv4  </span><span class="token number" style="color:rgb(9, 134, 88)">25593</span><span class="token plain">      0t0  TCP *:http </span><span class="token punctuation" style="color:rgb(4, 81, 165)">(</span><span class="token plain">LISTEN</span><span class="token punctuation" style="color:rgb(4, 81, 165)">)</span><span class="token plain"></span><br></span><span class="token-line" style="color:#000000"><span class="token plain">nginx   </span><span class="token number" style="color:rgb(9, 134, 88)">2700</span><span class="token plain"> gitlab-www    7u  IPv4  </span><span class="token number" style="color:rgb(9, 134, 88)">25593</span><span class="token plain">      0t0  TCP *:http </span><span class="token punctuation" style="color:rgb(4, 81, 165)">(</span><span class="token plain">LISTEN</span><span class="token punctuation" style="color:rgb(4, 81, 165)">)</span><span class="token plain"></span><br></span><span class="token-line" style="color:#000000"><span class="token plain">nginx   </span><span class="token number" style="color:rgb(9, 134, 88)">2701</span><span class="token plain"> gitlab-www    7u  IPv4  </span><span class="token number" style="color:rgb(9, 134, 88)">25593</span><span class="token plain">      0t0  TCP *:http </span><span class="token punctuation" style="color:rgb(4, 81, 165)">(</span><span class="token plain">LISTEN</span><span class="token punctuation" style="color:rgb(4, 81, 165)">)</span><span class="token plain"></span><br></span><span class="token-line" style="color:#000000"><span class="token plain">nginx   </span><span class="token number" style="color:rgb(9, 134, 88)">2702</span><span class="token plain"> gitlab-www    7u  IPv4  </span><span class="token number" style="color:rgb(9, 134, 88)">25593</span><span class="token plain">      0t0  TCP *:http </span><span class="token punctuation" style="color:rgb(4, 81, 165)">(</span><span class="token plain">LISTEN</span><span class="token punctuation" style="color:rgb(4, 81, 165)">)</span><span class="token plain"></span><br></span><span class="token-line" style="color:#000000"><span class="token plain"></span><span class="token punctuation" style="color:rgb(4, 81, 165)">[</span><span class="token plain">root@cide ~</span><span class="token punctuation" style="color:rgb(4, 81, 165)">]</span><span class="token comment" style="color:rgb(0, 128, 0)">#</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg class="copyButtonIcon_y97N" viewBox="0 0 24 24"><path d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg class="copyButtonSuccessIcon_LjdS" viewBox="0 0 24 24"><path d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><h4 class="anchor anchorWithHideOnScrollNavbar_WYt5" id="1726gitlab-设置-https-方式">1.7.2.6、Gitlab 设置 HTTPS 方式<a href="#1726gitlab-设置-https-方式" class="hash-link" aria-label="Direct link to heading" title="Direct link to heading">​</a></h4><p>如果想要 https 方式正常生效使用，则需要把 letsencrypt 自动生成证书的配置打开，这样在执行重新让配置生效命令 (gitlab-ctl reconfigure) 的时候会自动给域名生成免费的证书并自动在 gitlab 自带的 nginx 中加上相关的跳转配置，都是全自动的，非常方便。</p><div class="language-shell codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#000000;--prism-background-color:#ffffff"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-shell codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#000000"><span class="token punctuation" style="color:rgb(4, 81, 165)">[</span><span class="token plain">root@cide ~</span><span class="token punctuation" style="color:rgb(4, 81, 165)">]</span><span class="token comment" style="color:rgb(0, 128, 0)"># vim /etc/gitlab/gitlab.rb</span><span class="token plain"></span><br></span><span class="token-line" style="color:#000000"><span class="token plain"></span><span class="token punctuation" style="color:rgb(4, 81, 165)">[</span><span class="token plain">root@cide ~</span><span class="token punctuation" style="color:rgb(4, 81, 165)">]</span><span class="token comment" style="color:rgb(0, 128, 0)"># vim /etc/gitlab/gitlab.rb</span><span class="token plain"></span><br></span><span class="token-line" style="color:#000000"><span class="token plain">letsencrypt</span><span class="token punctuation" style="color:rgb(4, 81, 165)">[</span><span class="token string" style="color:rgb(163, 21, 21)">&#x27;enable&#x27;</span><span class="token punctuation" style="color:rgb(4, 81, 165)">]</span><span class="token plain"> </span><span class="token operator" style="color:rgb(0, 0, 0)">=</span><span class="token plain"> </span><span class="token boolean">false</span><span class="token plain"></span><br></span><span class="token-line" style="color:#000000"><span class="token plain">letsencrypt</span><span class="token punctuation" style="color:rgb(4, 81, 165)">[</span><span class="token string" style="color:rgb(163, 21, 21)">&#x27;contact_emails&#x27;</span><span class="token punctuation" style="color:rgb(4, 81, 165)">]</span><span class="token plain"> </span><span class="token operator" style="color:rgb(0, 0, 0)">=</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(4, 81, 165)">[</span><span class="token string" style="color:rgb(163, 21, 21)">&#x27;1062817308@qq.com&#x27;</span><span class="token punctuation" style="color:rgb(4, 81, 165)">]</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg class="copyButtonIcon_y97N" viewBox="0 0 24 24"><path d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg class="copyButtonSuccessIcon_LjdS" viewBox="0 0 24 24"><path d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><ul><li>Gitlab 可以集成 <a href="https://letsencrypt.org/" target="_blank" rel="noopener noreferrer">Let’s Encrypt</a>，需要域名支持，我们这里测试用的是 IP 地址，所以设置为 false，参见 <a href="https://docs.gitlab.com/omnibus/settings/ssl.html" target="_blank" rel="noopener noreferrer">https://docs.gitlab.com/omnibus/settings/ssl.html</a>。</li></ul><h4 class="anchor anchorWithHideOnScrollNavbar_WYt5" id="1727gitlab-添加-smtp-邮件功能">1.7.2.7、Gitlab 添加 smtp 邮件功能<a href="#1727gitlab-添加-smtp-邮件功能" class="hash-link" aria-label="Direct link to heading" title="Direct link to heading">​</a></h4><div class="language-shell codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#000000;--prism-background-color:#ffffff"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-shell codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#000000"><span class="token punctuation" style="color:rgb(4, 81, 165)">[</span><span class="token plain">root@cide ~</span><span class="token punctuation" style="color:rgb(4, 81, 165)">]</span><span class="token comment" style="color:rgb(0, 128, 0)"># vim /etc/gitlab/gitlab.rb</span><span class="token plain"></span><br></span><span class="token-line" style="color:#000000"><span class="token plain"></span><span class="token punctuation" style="color:rgb(4, 81, 165)">..</span><span class="token punctuation" style="color:rgb(4, 81, 165)">..</span><span class="token punctuation" style="color:rgb(4, 81, 165)">..</span><span class="token plain"></span><br></span><span class="token-line" style="color:#000000"><span class="token plain"></span><span class="token comment" style="color:rgb(0, 128, 0)">### Email Settings</span><span class="token plain"></span><br></span><span class="token-line" style="color:#000000"><span class="token plain">gitlab_rails</span><span class="token punctuation" style="color:rgb(4, 81, 165)">[</span><span class="token string" style="color:rgb(163, 21, 21)">&#x27;gitlab_email_enabled&#x27;</span><span class="token punctuation" style="color:rgb(4, 81, 165)">]</span><span class="token plain"> </span><span class="token operator" style="color:rgb(0, 0, 0)">=</span><span class="token plain"> </span><span class="token boolean">true</span><span class="token plain"></span><br></span><span class="token-line" style="color:#000000"><span class="token plain">gitlab_rails</span><span class="token punctuation" style="color:rgb(4, 81, 165)">[</span><span class="token string" style="color:rgb(163, 21, 21)">&#x27;gitlab_email_from&#x27;</span><span class="token punctuation" style="color:rgb(4, 81, 165)">]</span><span class="token plain"> </span><span class="token operator" style="color:rgb(0, 0, 0)">=</span><span class="token plain"> </span><span class="token string" style="color:rgb(163, 21, 21)">&#x27;1062817308@qq.com&#x27;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#000000"><span class="token plain">gitlab_rails</span><span class="token punctuation" style="color:rgb(4, 81, 165)">[</span><span class="token string" style="color:rgb(163, 21, 21)">&#x27;gitlab_email_display_name&#x27;</span><span class="token punctuation" style="color:rgb(4, 81, 165)">]</span><span class="token plain"> </span><span class="token operator" style="color:rgb(0, 0, 0)">=</span><span class="token plain"> </span><span class="token string" style="color:rgb(163, 21, 21)">&#x27;gitlab&#x27;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#000000"><span class="token plain">gitlab_rails</span><span class="token punctuation" style="color:rgb(4, 81, 165)">[</span><span class="token string" style="color:rgb(163, 21, 21)">&#x27;gitlab_email_reply_to&#x27;</span><span class="token punctuation" style="color:rgb(4, 81, 165)">]</span><span class="token plain"> </span><span class="token operator" style="color:rgb(0, 0, 0)">=</span><span class="token plain"> </span><span class="token string" style="color:rgb(163, 21, 21)">&#x27;1062817308@qq.com&#x27;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#000000"><span class="token plain">gitlab_rails</span><span class="token punctuation" style="color:rgb(4, 81, 165)">[</span><span class="token string" style="color:rgb(163, 21, 21)">&#x27;gitlab_email_subject_suffix&#x27;</span><span class="token punctuation" style="color:rgb(4, 81, 165)">]</span><span class="token plain"> </span><span class="token operator" style="color:rgb(0, 0, 0)">=</span><span class="token plain"> </span><span class="token string" style="color:rgb(163, 21, 21)">&#x27;[gitlab]&#x27;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#000000"><span class="token plain">gitlab_rails</span><span class="token punctuation" style="color:rgb(4, 81, 165)">[</span><span class="token string" style="color:rgb(163, 21, 21)">&#x27;smtp_enable&#x27;</span><span class="token punctuation" style="color:rgb(4, 81, 165)">]</span><span class="token plain"> </span><span class="token operator" style="color:rgb(0, 0, 0)">=</span><span class="token plain"> </span><span class="token boolean">true</span><span class="token plain"></span><br></span><span class="token-line" style="color:#000000"><span class="token plain">gitlab_rails</span><span class="token punctuation" style="color:rgb(4, 81, 165)">[</span><span class="token string" style="color:rgb(163, 21, 21)">&#x27;smtp_address&#x27;</span><span class="token punctuation" style="color:rgb(4, 81, 165)">]</span><span class="token plain"> </span><span class="token operator" style="color:rgb(0, 0, 0)">=</span><span class="token plain"> </span><span class="token string" style="color:rgb(163, 21, 21)">&quot;smtp.qq.com&quot;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#000000"><span class="token plain">gitlab_rails</span><span class="token punctuation" style="color:rgb(4, 81, 165)">[</span><span class="token string" style="color:rgb(163, 21, 21)">&#x27;smtp_port&#x27;</span><span class="token punctuation" style="color:rgb(4, 81, 165)">]</span><span class="token plain"> </span><span class="token operator" style="color:rgb(0, 0, 0)">=</span><span class="token plain"> </span><span class="token number" style="color:rgb(9, 134, 88)">465</span><span class="token plain"></span><br></span><span class="token-line" style="color:#000000"><span class="token plain">gitlab_rails</span><span class="token punctuation" style="color:rgb(4, 81, 165)">[</span><span class="token string" style="color:rgb(163, 21, 21)">&#x27;smtp_user_name&#x27;</span><span class="token punctuation" style="color:rgb(4, 81, 165)">]</span><span class="token plain"> </span><span class="token operator" style="color:rgb(0, 0, 0)">=</span><span class="token plain"> </span><span class="token string" style="color:rgb(163, 21, 21)">&quot;1062817308@qq.com&quot;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#000000"><span class="token plain">gitlab_rails</span><span class="token punctuation" style="color:rgb(4, 81, 165)">[</span><span class="token string" style="color:rgb(163, 21, 21)">&#x27;smtp_password&#x27;</span><span class="token punctuation" style="color:rgb(4, 81, 165)">]</span><span class="token plain"> </span><span class="token operator" style="color:rgb(0, 0, 0)">=</span><span class="token plain"> </span><span class="token string" style="color:rgb(163, 21, 21)">&quot;kktohrvdryglbjjh&quot;</span><span class="token plain"> </span><span class="token comment" style="color:rgb(0, 128, 0)"># 这是我的 qq 邮箱授权码</span><span class="token plain"></span><br></span><span class="token-line" style="color:#000000"><span class="token plain">gitlab_rails</span><span class="token punctuation" style="color:rgb(4, 81, 165)">[</span><span class="token string" style="color:rgb(163, 21, 21)">&#x27;smtp_domain&#x27;</span><span class="token punctuation" style="color:rgb(4, 81, 165)">]</span><span class="token plain"> </span><span class="token operator" style="color:rgb(0, 0, 0)">=</span><span class="token plain"> </span><span class="token string" style="color:rgb(163, 21, 21)">&quot;smtp.qq.com&quot;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#000000"><span class="token plain">gitlab_rails</span><span class="token punctuation" style="color:rgb(4, 81, 165)">[</span><span class="token string" style="color:rgb(163, 21, 21)">&#x27;smtp_authentication&#x27;</span><span class="token punctuation" style="color:rgb(4, 81, 165)">]</span><span class="token plain"> </span><span class="token operator" style="color:rgb(0, 0, 0)">=</span><span class="token plain"> </span><span class="token string" style="color:rgb(163, 21, 21)">&quot;login&quot;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#000000"><span class="token plain">gitlab_rails</span><span class="token punctuation" style="color:rgb(4, 81, 165)">[</span><span class="token string" style="color:rgb(163, 21, 21)">&#x27;smtp_enable_starttls_auto&#x27;</span><span class="token punctuation" style="color:rgb(4, 81, 165)">]</span><span class="token plain"> </span><span class="token operator" style="color:rgb(0, 0, 0)">=</span><span class="token plain"> </span><span class="token boolean">true</span><span class="token plain"></span><br></span><span class="token-line" style="color:#000000"><span class="token plain">gitlab_rails</span><span class="token punctuation" style="color:rgb(4, 81, 165)">[</span><span class="token string" style="color:rgb(163, 21, 21)">&#x27;smtp_tls&#x27;</span><span class="token punctuation" style="color:rgb(4, 81, 165)">]</span><span class="token plain"> </span><span class="token operator" style="color:rgb(0, 0, 0)">=</span><span class="token plain"> </span><span class="token boolean">true</span><span class="token plain"></span><br></span><span class="token-line" style="color:#000000"><span class="token plain"></span><span class="token punctuation" style="color:rgb(4, 81, 165)">..</span><span class="token punctuation" style="color:rgb(4, 81, 165)">..</span><span class="token punctuation" style="color:rgb(4, 81, 165)">..</span><span class="token plain"></span><br></span><span class="token-line" style="color:#000000"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#000000"><span class="token plain"></span><span class="token comment" style="color:rgb(0, 128, 0)"># 修改配置后需要初始化配置，先关掉服务再重新初始化</span><span class="token plain"></span><br></span><span class="token-line" style="color:#000000"><span class="token plain"></span><span class="token punctuation" style="color:rgb(4, 81, 165)">[</span><span class="token plain">root@cide ~</span><span class="token punctuation" style="color:rgb(4, 81, 165)">]</span><span class="token comment" style="color:rgb(0, 128, 0)"># gitlab-ctl stop</span><span class="token plain"></span><br></span><span class="token-line" style="color:#000000"><span class="token plain"></span><span class="token punctuation" style="color:rgb(4, 81, 165)">[</span><span class="token plain">root@cide ~</span><span class="token punctuation" style="color:rgb(4, 81, 165)">]</span><span class="token comment" style="color:rgb(0, 128, 0)"># gitlab-ctl reconfigure</span><span class="token plain"></span><br></span><span class="token-line" style="color:#000000"><span class="token plain"></span><span class="token punctuation" style="color:rgb(4, 81, 165)">[</span><span class="token plain">root@cide ~</span><span class="token punctuation" style="color:rgb(4, 81, 165)">]</span><span class="token comment" style="color:rgb(0, 128, 0)"># gitlab-ctl start</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg class="copyButtonIcon_y97N" viewBox="0 0 24 24"><path d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg class="copyButtonSuccessIcon_LjdS" viewBox="0 0 24 24"><path d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><ul><li>前面虽然安装了 postfix，但是这里不打算使用；实际上官方建议使用外部 SMTP Server 方式进行配置，上面就是借用 qq smtp 配置邮件服务器来实现通知；参见 <a href="https://docs.gitlab.com/omnibus/settings/smtp.html" target="_blank" rel="noopener noreferrer">https://docs.gitlab.com/omnibus/settings/smtp.html</a>。</li><li>qq 邮箱授权码要到自己的 qq 邮箱 -&gt; 设置 -&gt; 账户 -&gt; 开启 smtp 服务，进行设置。</li></ul><h4 class="anchor anchorWithHideOnScrollNavbar_WYt5" id="1728gitlab-发送邮件测试">1.7.2.8、Gitlab 发送邮件测试<a href="#1728gitlab-发送邮件测试" class="hash-link" aria-label="Direct link to heading" title="Direct link to heading">​</a></h4><div class="language-shell codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#000000;--prism-background-color:#ffffff"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-shell codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#000000"><span class="token punctuation" style="color:rgb(4, 81, 165)">[</span><span class="token plain">root@cide ~</span><span class="token punctuation" style="color:rgb(4, 81, 165)">]</span><span class="token comment" style="color:rgb(0, 128, 0)"># gitlab-rails console</span><span class="token plain"></span><br></span><span class="token-line" style="color:#000000"><span class="token plain">--------------------------------------------------------------------------------</span><br></span><span class="token-line" style="color:#000000"><span class="token plain"> Ruby:         ruby </span><span class="token number" style="color:rgb(9, 134, 88)">2.7</span><span class="token plain">.5p203 </span><span class="token punctuation" style="color:rgb(4, 81, 165)">(</span><span class="token number" style="color:rgb(9, 134, 88)">2021</span><span class="token plain">-11-24 revision f69aeb8314</span><span class="token punctuation" style="color:rgb(4, 81, 165)">)</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(4, 81, 165)">[</span><span class="token plain">x86_64-linux</span><span class="token punctuation" style="color:rgb(4, 81, 165)">]</span><span class="token plain"></span><br></span><span class="token-line" style="color:#000000"><span class="token plain"> GitLab:       </span><span class="token number" style="color:rgb(9, 134, 88)">14.8</span><span class="token plain">.2 </span><span class="token punctuation" style="color:rgb(4, 81, 165)">(</span><span class="token plain">c7be43f6dd3</span><span class="token punctuation" style="color:rgb(4, 81, 165)">)</span><span class="token plain"> FOSS</span><br></span><span class="token-line" style="color:#000000"><span class="token plain"> GitLab Shell: </span><span class="token number" style="color:rgb(9, 134, 88)">13.23</span><span class="token plain">.2</span><br></span><span class="token-line" style="color:#000000"><span class="token plain"> PostgreSQL:   </span><span class="token number" style="color:rgb(9, 134, 88)">12.7</span><span class="token plain"></span><br></span><span class="token-line" style="color:#000000"><span class="token plain">------------------------------------------------------------</span><span class="token punctuation" style="color:rgb(4, 81, 165)">[</span><span class="token plain"> booted </span><span class="token keyword" style="color:rgb(0, 0, 255)">in</span><span class="token plain"> </span><span class="token number" style="color:rgb(9, 134, 88)">28</span><span class="token plain">.17s </span><span class="token punctuation" style="color:rgb(4, 81, 165)">]</span><span class="token plain"></span><br></span><span class="token-line" style="color:#000000"><span class="token plain">Loading production environment </span><span class="token punctuation" style="color:rgb(4, 81, 165)">(</span><span class="token plain">Rails </span><span class="token number" style="color:rgb(9, 134, 88)">6.1</span><span class="token plain">.4.6</span><span class="token punctuation" style="color:rgb(4, 81, 165)">)</span><span class="token plain"></span><br></span><span class="token-line" style="color:#000000"><span class="token plain">// 输入测试命令，回车</span><br></span><span class="token-line" style="color:#000000"><span class="token plain">irb</span><span class="token punctuation" style="color:rgb(4, 81, 165)">(</span><span class="token plain">main</span><span class="token punctuation" style="color:rgb(4, 81, 165)">)</span><span class="token plain">:001:</span><span class="token operator file-descriptor important" style="color:rgb(0, 0, 0)">0</span><span class="token operator" style="color:rgb(0, 0, 0)">&gt;</span><span class="token plain"> Notify.test_email</span><span class="token punctuation" style="color:rgb(4, 81, 165)">(</span><span class="token string" style="color:rgb(163, 21, 21)">&#x27;1062817308@qq.com&#x27;</span><span class="token plain">, </span><span class="token string" style="color:rgb(163, 21, 21)">&#x27;Message Subject&#x27;</span><span class="token plain">, </span><span class="token string" style="color:rgb(163, 21, 21)">&#x27;Message Body&#x27;</span><span class="token punctuation" style="color:rgb(4, 81, 165)">)</span><span class="token plain">.deliver_now </span><br></span><span class="token-line" style="color:#000000"><span class="token plain">Delivered mail 62275913aa0c4_49e55a64307a9@cide.mail </span><span class="token punctuation" style="color:rgb(4, 81, 165)">(</span><span class="token number" style="color:rgb(9, 134, 88)">2163</span><span class="token plain">.2ms</span><span class="token punctuation" style="color:rgb(4, 81, 165)">)</span><span class="token plain"></span><br></span><span class="token-line" style="color:#000000"><span class="token plain"></span><span class="token operator" style="color:rgb(0, 0, 0)">=</span><span class="token operator" style="color:rgb(0, 0, 0)">&gt;</span><span class="token plain"> </span><span class="token comment" style="color:rgb(0, 128, 0)">#&lt;Mail::Message:270420, Multipart: false, Headers: &lt;Date: Tue, 08 Mar 2022 21:24:35 +0800&gt;, &lt;From: gitlab &lt;1062817308@qq.com&gt;&gt;, &lt;Reply-To: gitlab &lt;1062817308@qq.com&gt;&gt;, &lt;To: 1062817308@qq.com&gt;, &lt;Message-ID: &lt;62275913aa0c4_49e55a64307a9@cide.mail&gt;&gt;, &lt;Subject: Message Subject&gt;, &lt;Mime-Version: 1.0&gt;, &lt;Content-Type: text/html; charset=UTF-8&gt;, &lt;Content-Transfer-Encoding: 7bit&gt;, &lt;Auto-Submitted: auto-generated&gt;, &lt;X-Auto-Response-Suppress: All&gt;&gt;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#000000"><span class="token plain">irb</span><span class="token punctuation" style="color:rgb(4, 81, 165)">(</span><span class="token plain">main</span><span class="token punctuation" style="color:rgb(4, 81, 165)">)</span><span class="token plain">:002:</span><span class="token operator file-descriptor important" style="color:rgb(0, 0, 0)">0</span><span class="token operator" style="color:rgb(0, 0, 0)">&gt;</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg class="copyButtonIcon_y97N" viewBox="0 0 24 24"><path d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg class="copyButtonSuccessIcon_LjdS" viewBox="0 0 24 24"><path d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><ul><li>去 qq 邮箱 web 界面查看是否收到邮件，经查看已收到邮件，测试成功。</li></ul><h3 class="anchor anchorWithHideOnScrollNavbar_WYt5" id="173gitlab-的使用">1.7.3、Gitlab 的使用<a href="#173gitlab-的使用" class="hash-link" aria-label="Direct link to heading" title="Direct link to heading">​</a></h3><p>在浏览器中输入 <a href="https://192.168.114.129/%EF%BC%8C%E7%84%B6%E5%90%8E" target="_blank" rel="noopener noreferrer">https://192.168.114.129/，然后</a> change password，并使用 root 用户登录即可(后续动作根据提示操作)。</p><h4 class="anchor anchorWithHideOnScrollNavbar_WYt5" id="1731gitlab-命令行修改密码">1.7.3.1、Gitlab 命令行修改密码<a href="#1731gitlab-命令行修改密码" class="hash-link" aria-label="Direct link to heading" title="Direct link to heading">​</a></h4><div class="language-shell codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#000000;--prism-background-color:#ffffff"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-shell codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#000000"><span class="token punctuation" style="color:rgb(4, 81, 165)">[</span><span class="token plain">root@cide ~</span><span class="token punctuation" style="color:rgb(4, 81, 165)">]</span><span class="token comment" style="color:rgb(0, 128, 0)"># gitlab-rails console -e production</span><span class="token plain"></span><br></span><span class="token-line" style="color:#000000"><span class="token plain">--------------------------------------------------------------------------------</span><br></span><span class="token-line" style="color:#000000"><span class="token plain"> Ruby:         ruby </span><span class="token number" style="color:rgb(9, 134, 88)">2.7</span><span class="token plain">.5p203 </span><span class="token punctuation" style="color:rgb(4, 81, 165)">(</span><span class="token number" style="color:rgb(9, 134, 88)">2021</span><span class="token plain">-11-24 revision f69aeb8314</span><span class="token punctuation" style="color:rgb(4, 81, 165)">)</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(4, 81, 165)">[</span><span class="token plain">x86_64-linux</span><span class="token punctuation" style="color:rgb(4, 81, 165)">]</span><span class="token plain"></span><br></span><span class="token-line" style="color:#000000"><span class="token plain"> GitLab:       </span><span class="token number" style="color:rgb(9, 134, 88)">14.8</span><span class="token plain">.2 </span><span class="token punctuation" style="color:rgb(4, 81, 165)">(</span><span class="token plain">c7be43f6dd3</span><span class="token punctuation" style="color:rgb(4, 81, 165)">)</span><span class="token plain"> FOSS</span><br></span><span class="token-line" style="color:#000000"><span class="token plain"> GitLab Shell: </span><span class="token number" style="color:rgb(9, 134, 88)">13.23</span><span class="token plain">.2</span><br></span><span class="token-line" style="color:#000000"><span class="token plain"> PostgreSQL:   </span><span class="token number" style="color:rgb(9, 134, 88)">12.7</span><span class="token plain"></span><br></span><span class="token-line" style="color:#000000"><span class="token plain">------------------------------------------------------------</span><span class="token punctuation" style="color:rgb(4, 81, 165)">[</span><span class="token plain"> booted </span><span class="token keyword" style="color:rgb(0, 0, 255)">in</span><span class="token plain"> </span><span class="token number" style="color:rgb(9, 134, 88)">35</span><span class="token plain">.98s </span><span class="token punctuation" style="color:rgb(4, 81, 165)">]</span><span class="token plain"></span><br></span><span class="token-line" style="color:#000000"><span class="token plain">Loading production environment </span><span class="token punctuation" style="color:rgb(4, 81, 165)">(</span><span class="token plain">Rails </span><span class="token number" style="color:rgb(9, 134, 88)">6.1</span><span class="token plain">.4.6</span><span class="token punctuation" style="color:rgb(4, 81, 165)">)</span><span class="token plain"></span><br></span><span class="token-line" style="color:#000000"><span class="token plain">irb</span><span class="token punctuation" style="color:rgb(4, 81, 165)">(</span><span class="token plain">main</span><span class="token punctuation" style="color:rgb(4, 81, 165)">)</span><span class="token plain">:001:</span><span class="token operator file-descriptor important" style="color:rgb(0, 0, 0)">0</span><span class="token operator" style="color:rgb(0, 0, 0)">&gt;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#000000"><span class="token plain">irb</span><span class="token punctuation" style="color:rgb(4, 81, 165)">(</span><span class="token plain">main</span><span class="token punctuation" style="color:rgb(4, 81, 165)">)</span><span class="token plain">:021:</span><span class="token operator file-descriptor important" style="color:rgb(0, 0, 0)">0</span><span class="token operator" style="color:rgb(0, 0, 0)">&gt;</span><span class="token plain"> user </span><span class="token operator" style="color:rgb(0, 0, 0)">=</span><span class="token plain"> User.where</span><span class="token punctuation" style="color:rgb(4, 81, 165)">(</span><span class="token plain">id: </span><span class="token number" style="color:rgb(9, 134, 88)">1</span><span class="token punctuation" style="color:rgb(4, 81, 165)">)</span><span class="token plain">.first                  </span><span class="token comment" style="color:rgb(0, 128, 0)"># id 为 1 的是超级管理员</span><span class="token plain"></span><br></span><span class="token-line" style="color:#000000"><span class="token plain"></span><span class="token operator" style="color:rgb(0, 0, 0)">=</span><span class="token operator" style="color:rgb(0, 0, 0)">&gt;</span><span class="token plain"> </span><span class="token comment" style="color:rgb(0, 128, 0)">#&lt;User id:1 @root&gt;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#000000"><span class="token plain">irb</span><span class="token punctuation" style="color:rgb(4, 81, 165)">(</span><span class="token plain">main</span><span class="token punctuation" style="color:rgb(4, 81, 165)">)</span><span class="token plain">:022:</span><span class="token operator file-descriptor important" style="color:rgb(0, 0, 0)">0</span><span class="token operator" style="color:rgb(0, 0, 0)">&gt;</span><span class="token plain"> user.password </span><span class="token operator" style="color:rgb(0, 0, 0)">=</span><span class="token plain"> </span><span class="token string" style="color:rgb(163, 21, 21)">&#x27;Greatwall487X&#x27;</span><span class="token plain">               </span><span class="token comment" style="color:rgb(0, 128, 0)"># 密码必须至少8个字符</span><span class="token plain"></span><br></span><span class="token-line" style="color:#000000"><span class="token plain"></span><span class="token operator" style="color:rgb(0, 0, 0)">=</span><span class="token operator" style="color:rgb(0, 0, 0)">&gt;</span><span class="token plain"> </span><span class="token string" style="color:rgb(163, 21, 21)">&quot;Greatwall487X&quot;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#000000"><span class="token plain">irb</span><span class="token punctuation" style="color:rgb(4, 81, 165)">(</span><span class="token plain">main</span><span class="token punctuation" style="color:rgb(4, 81, 165)">)</span><span class="token plain">:023:</span><span class="token operator file-descriptor important" style="color:rgb(0, 0, 0)">0</span><span class="token operator" style="color:rgb(0, 0, 0)">&gt;</span><span class="token plain"> user.password_confirmation </span><span class="token operator" style="color:rgb(0, 0, 0)">=</span><span class="token plain"> </span><span class="token string" style="color:rgb(163, 21, 21)">&#x27;Greatwall487X&#x27;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#000000"><span class="token plain"></span><span class="token operator" style="color:rgb(0, 0, 0)">=</span><span class="token operator" style="color:rgb(0, 0, 0)">&gt;</span><span class="token plain"> </span><span class="token string" style="color:rgb(163, 21, 21)">&quot;Greatwall487X&quot;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#000000"><span class="token plain">irb</span><span class="token punctuation" style="color:rgb(4, 81, 165)">(</span><span class="token plain">main</span><span class="token punctuation" style="color:rgb(4, 81, 165)">)</span><span class="token plain">:024:</span><span class="token operator file-descriptor important" style="color:rgb(0, 0, 0)">0</span><span class="token operator" style="color:rgb(0, 0, 0)">&gt;</span><span class="token plain"> user.save</span><span class="token operator" style="color:rgb(0, 0, 0)">!</span><span class="token plain">                                      </span><span class="token comment" style="color:rgb(0, 128, 0)"># 保存如没有问题 返回 true</span><span class="token plain"></span><br></span><span class="token-line" style="color:#000000"><span class="token plain"></span><span class="token operator" style="color:rgb(0, 0, 0)">=</span><span class="token operator" style="color:rgb(0, 0, 0)">&gt;</span><span class="token plain"> </span><span class="token boolean">true</span><span class="token plain"></span><br></span><span class="token-line" style="color:#000000"><span class="token plain">irb</span><span class="token punctuation" style="color:rgb(4, 81, 165)">(</span><span class="token plain">main</span><span class="token punctuation" style="color:rgb(4, 81, 165)">)</span><span class="token plain">:025:</span><span class="token operator file-descriptor important" style="color:rgb(0, 0, 0)">0</span><span class="token operator" style="color:rgb(0, 0, 0)">&gt;</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg class="copyButtonIcon_y97N" viewBox="0 0 24 24"><path d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg class="copyButtonSuccessIcon_LjdS" viewBox="0 0 24 24"><path d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><h4 class="anchor anchorWithHideOnScrollNavbar_WYt5" id="1732gitlab-服务管理">1.7.3.2、Gitlab 服务管理<a href="#1732gitlab-服务管理" class="hash-link" aria-label="Direct link to heading" title="Direct link to heading">​</a></h4><div class="language-shell codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#000000;--prism-background-color:#ffffff"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-shell codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#000000"><span class="token comment" style="color:rgb(0, 128, 0)"># gitlab-ctl start                      # 启动所有 gitlab 组件；</span><span class="token plain"></span><br></span><span class="token-line" style="color:#000000"><span class="token plain"></span><span class="token comment" style="color:rgb(0, 128, 0)"># gitlab-ctl stop                       # 停止所有 gitlab 组件；</span><span class="token plain"></span><br></span><span class="token-line" style="color:#000000"><span class="token plain"></span><span class="token comment" style="color:rgb(0, 128, 0)"># gitlab-ctl restart                    # 重启所有 gitlab 组件；</span><span class="token plain"></span><br></span><span class="token-line" style="color:#000000"><span class="token plain"></span><span class="token comment" style="color:rgb(0, 128, 0)"># gitlab-ctl status                     # 查看服务状态；</span><span class="token plain"></span><br></span><span class="token-line" style="color:#000000"><span class="token plain"></span><span class="token comment" style="color:rgb(0, 128, 0)"># gitlab-ctl reconfigure                # 初始化服务；</span><span class="token plain"></span><br></span><span class="token-line" style="color:#000000"><span class="token plain"></span><span class="token comment" style="color:rgb(0, 128, 0)"># vim /etc/gitlab/gitlab.rb             # 修改默认的配置文件；</span><span class="token plain"></span><br></span><span class="token-line" style="color:#000000"><span class="token plain"></span><span class="token comment" style="color:rgb(0, 128, 0)"># gitlab-ctl tail                       # 查看日志；</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg class="copyButtonIcon_y97N" viewBox="0 0 24 24"><path d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg class="copyButtonSuccessIcon_LjdS" viewBox="0 0 24 24"><path d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><h4 class="anchor anchorWithHideOnScrollNavbar_WYt5" id="1733登陆-gitlab">1.7.3.3、登陆 Gitlab<a href="#1733登陆-gitlab" class="hash-link" aria-label="Direct link to heading" title="Direct link to heading">​</a></h4><p>如果需要手工修改 nginx 的 port ，可以在 gitlab.rb 中设置 nginx<!-- -->[<!-- -->&#x27;listen<!-- -->_<!-- -->port&#x27;<!-- -->]<!-- --> = 8000 ，然后再次 gitlab-ctl reconfigure 即可。</p><p>登录 gitlab 如下所示(首次登陆设置 root 密码)：<br>
<img loading="lazy" alt="gitlab login" src="/en/assets/images/gitlab_login-2fe8faf52223bceb83019dc64dcb6489.png" width="950" height="363" class="img_ev3q"></p><h4 class="anchor anchorWithHideOnScrollNavbar_WYt5" id="1734创建项目组-group">1.7.3.4、创建项目组 group<a href="#1734创建项目组-group" class="hash-link" aria-label="Direct link to heading" title="Direct link to heading">​</a></h4><p>创建一个名叫 Adapted 项目组：</p><p><img loading="lazy" alt="gitlab group" src="/en/assets/images/gitlab_group-c0fa7d8b5dc9343958de4118d9dc71ca.png" width="698" height="781" class="img_ev3q"></p><h4 class="anchor anchorWithHideOnScrollNavbar_WYt5" id="1735打开用户注册">1.7.3.5、打开用户注册<a href="#1735打开用户注册" class="hash-link" aria-label="Direct link to heading" title="Direct link to heading">​</a></h4><p>Menu -&gt; Admin -&gt; Settings -&gt; Sign-up restrictions 如下图勾选，然后拉到最下面保存，重新登录。</p><p><img loading="lazy" alt="gitlab sign up" src="/en/assets/images/gitlab_sign_up-5d259ff5baba27290e8deb3cf11bdb0c.png" width="850" height="250" class="img_ev3q"></p><h2 class="anchor anchorWithHideOnScrollNavbar_WYt5" id="18gitlab-开发代码提交流程">1.8、Gitlab 开发代码提交流程<a href="#18gitlab-开发代码提交流程" class="hash-link" aria-label="Direct link to heading" title="Direct link to heading">​</a></h2><h3 class="anchor anchorWithHideOnScrollNavbar_WYt5" id="181公司代码提交合并流程">1.8.1、公司代码提交合并流程<a href="#181公司代码提交合并流程" class="hash-link" aria-label="Direct link to heading" title="Direct link to heading">​</a></h3><ol><li>PM（项目主管/项目经理）在 gitlab 创建任务，分配给开发人员。</li><li>开发人员领取任务后，在本地使用 git clone 拉取代码库。</li><li>开发人员创建开发分支（git checkout -b dev），并进行开发。</li><li>开发人员完成之后，提交到本地仓库（git commit ）。</li><li>开发人员在 gitlab 界面上申请分支合并请求（Merge request）。</li><li>PM 在 gitlab 上查看提交和代码修改情况，确认无误后，确认将开发人员的分支合并到主分支（master）。</li><li>开发人员在 gitlab 上 Mark done 确认开发完成，并关闭 issue。这一步在提交合并请求时可以通过描述中填写 &quot;close #1&quot; 等字样，可以直接关闭 issue。</li></ol><h3 class="anchor anchorWithHideOnScrollNavbar_WYt5" id="182创建项目管理用户-brinnatt">1.8.2、创建项目管理用户 Brinnatt<a href="#182创建项目管理用户-brinnatt" class="hash-link" aria-label="Direct link to heading" title="Direct link to heading">​</a></h3><p>Menu -&gt; Admin -&gt; Overview -&gt; Users -&gt; New user 创建用户 Brinnatt，如下图所示：</p><p><img loading="lazy" alt="gitlab create user" src="/en/assets/images/gitlab_create_user-3be11a857a3cd5077f5338aab6e1ce1e.png" width="740" height="812" class="img_ev3q"></p><p>同样的方法，再创建 Eric 、Hellen 用户。用户添加完毕后，gitlab 会给用户发一封修改密码的邮件，各用户需要登录自己的邮箱，并点击相关的链接，设置新密码。</p><h3 class="anchor anchorWithHideOnScrollNavbar_WYt5" id="183brinnatt-设为组管理员">1.8.3、Brinnatt 设为组管理员<a href="#183brinnatt-设为组管理员" class="hash-link" aria-label="Direct link to heading" title="Direct link to heading">​</a></h3><p>Menu -&gt; Admin -&gt; Groups -&gt; Adapted，选择 Brinnatt 用户，角色设为 Owner，点击 Add users to group。</p><p><img loading="lazy" alt="gitlab adduser" src="/en/assets/images/gitlab_adduser-e456722bdde73ff870f55cdd2c7e10cc.png" width="642" height="455" class="img_ev3q"></p><h3 class="anchor anchorWithHideOnScrollNavbar_WYt5" id="184erichellen-设为组-developer">1.8.4、Eric、Hellen 设为组 Developer<a href="#184erichellen-设为组-developer" class="hash-link" aria-label="Direct link to heading" title="Direct link to heading">​</a></h3><p>Menu -&gt; Admin -&gt; Groups -&gt; Adapted，选择 Eric、Hellen 用户，角色设为 Developer，点击 Add users to group。</p><p><img loading="lazy" alt="gitlab_addusers" src="/en/assets/images/gitlab_addusers-1e385d49ccbcee1d2e3da9177a0fe773.png" width="646" height="461" class="img_ev3q"></p><h3 class="anchor anchorWithHideOnScrollNavbar_WYt5" id="185brinnatt-登陆创建-project">1.8.5、Brinnatt 登陆创建 Project<a href="#185brinnatt-登陆创建-project" class="hash-link" aria-label="Direct link to heading" title="Direct link to heading">​</a></h3><p><img loading="lazy" alt="gitlab create project" src="/en/assets/images/gitlab_create_project-ce47e150d446ef3a5b599cd136b4a657.png" width="1133" height="613" class="img_ev3q"></p><h3 class="anchor anchorWithHideOnScrollNavbar_WYt5" id="186指定项目的存储路径和项目名称">1.8.6、指定项目的存储路径和项目名称<a href="#186指定项目的存储路径和项目名称" class="hash-link" aria-label="Direct link to heading" title="Direct link to heading">​</a></h3><p><img loading="lazy" alt="gitlab project detail" src="/en/assets/images/gitlab_project_detail-80accf9e9219480349fdef742406e603.png" width="960" height="770" class="img_ev3q"></p><h3 class="anchor anchorWithHideOnScrollNavbar_WYt5" id="187为项目创建-dev-分支">1.8.7、为项目创建 Dev 分支<a href="#187为项目创建-dev-分支" class="hash-link" aria-label="Direct link to heading" title="Direct link to heading">​</a></h3><p>左上角 GitLab -&gt; 选择 Projects -&gt; 左菜单 Repository -&gt; Branched -&gt; New branch，创建 dev 分支，如下图：</p><p><img loading="lazy" alt="gitlab project branch" src="/en/assets/images/gitlab_project_branch-386cf759234fccc0ac74bb5746948844.png" width="795" height="377" class="img_ev3q"></p><h3 class="anchor anchorWithHideOnScrollNavbar_WYt5" id="188客户端创建-brinnatt-用户">1.8.8、客户端创建 Brinnatt 用户<a href="#188客户端创建-brinnatt-用户" class="hash-link" aria-label="Direct link to heading" title="Direct link to heading">​</a></h3><div class="language-shell codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#000000;--prism-background-color:#ffffff"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-shell codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#000000"><span class="token punctuation" style="color:rgb(4, 81, 165)">[</span><span class="token plain">root@cide ~</span><span class="token punctuation" style="color:rgb(4, 81, 165)">]</span><span class="token comment" style="color:rgb(0, 128, 0)"># useradd Brinnatt</span><span class="token plain"></span><br></span><span class="token-line" style="color:#000000"><span class="token plain"></span><span class="token punctuation" style="color:rgb(4, 81, 165)">[</span><span class="token plain">root@cide ~</span><span class="token punctuation" style="color:rgb(4, 81, 165)">]</span><span class="token comment" style="color:rgb(0, 128, 0)"># passwd Brinnatt </span><span class="token plain"></span><br></span><span class="token-line" style="color:#000000"><span class="token plain">Changing password </span><span class="token keyword" style="color:rgb(0, 0, 255)">for</span><span class="token plain"> user Brinnatt.</span><br></span><span class="token-line" style="color:#000000"><span class="token plain">New password: </span><br></span><span class="token-line" style="color:#000000"><span class="token plain">Retype new password: </span><br></span><span class="token-line" style="color:#000000"><span class="token plain">passwd: all authentication tokens updated successfully.</span><br></span><span class="token-line" style="color:#000000"><span class="token plain"></span><span class="token punctuation" style="color:rgb(4, 81, 165)">[</span><span class="token plain">root@cide ~</span><span class="token punctuation" style="color:rgb(4, 81, 165)">]</span><span class="token comment" style="color:rgb(0, 128, 0)"># su - Brinnatt </span><span class="token plain"></span><br></span><span class="token-line" style="color:#000000"><span class="token plain"></span><span class="token punctuation" style="color:rgb(4, 81, 165)">[</span><span class="token plain">Brinnatt@cide ~</span><span class="token punctuation" style="color:rgb(4, 81, 165)">]</span><span class="token plain">$</span><br></span><span class="token-line" style="color:#000000"><span class="token plain"></span><span class="token punctuation" style="color:rgb(4, 81, 165)">[</span><span class="token plain">Brinnatt@cide ~</span><span class="token punctuation" style="color:rgb(4, 81, 165)">]</span><span class="token plain">$ ssh-keygen -t rsa</span><br></span><span class="token-line" style="color:#000000"><span class="token plain">Generating public/private rsa key pair.</span><br></span><span class="token-line" style="color:#000000"><span class="token plain">Enter </span><span class="token function" style="color:rgb(0, 0, 255)">file</span><span class="token plain"> </span><span class="token keyword" style="color:rgb(0, 0, 255)">in</span><span class="token plain"> </span><span class="token function" style="color:rgb(0, 0, 255)">which</span><span class="token plain"> to save the key </span><span class="token punctuation" style="color:rgb(4, 81, 165)">(</span><span class="token plain">/home/Brinnatt/.ssh/id_rsa</span><span class="token punctuation" style="color:rgb(4, 81, 165)">)</span><span class="token plain">: </span><br></span><span class="token-line" style="color:#000000"><span class="token plain">Created directory </span><span class="token string" style="color:rgb(163, 21, 21)">&#x27;/home/Brinnatt/.ssh&#x27;</span><span class="token builtin class-name" style="color:rgb(38, 127, 153)">.</span><span class="token plain"></span><br></span><span class="token-line" style="color:#000000"><span class="token plain">Enter passphrase </span><span class="token punctuation" style="color:rgb(4, 81, 165)">(</span><span class="token plain">empty </span><span class="token keyword" style="color:rgb(0, 0, 255)">for</span><span class="token plain"> no passphrase</span><span class="token punctuation" style="color:rgb(4, 81, 165)">)</span><span class="token plain">: </span><br></span><span class="token-line" style="color:#000000"><span class="token plain">Enter same passphrase again: </span><br></span><span class="token-line" style="color:#000000"><span class="token plain">Your identification has been saved </span><span class="token keyword" style="color:rgb(0, 0, 255)">in</span><span class="token plain"> /home/Brinnatt/.ssh/id_rsa.</span><br></span><span class="token-line" style="color:#000000"><span class="token plain">Your public key has been saved </span><span class="token keyword" style="color:rgb(0, 0, 255)">in</span><span class="token plain"> /home/Brinnatt/.ssh/id_rsa.pub.</span><br></span><span class="token-line" style="color:#000000"><span class="token plain">The key fingerprint is:</span><br></span><span class="token-line" style="color:#000000"><span class="token plain">SHA256:hslPBZSGrqb8/d67o4RRajl65XhKAe81MsiSKKOQISY Brinnatt@cide</span><br></span><span class="token-line" style="color:#000000"><span class="token plain">The key&#x27;s randomart image is:</span><br></span><span class="token-line" style="color:#000000"><span class="token plain">+---</span><span class="token punctuation" style="color:rgb(4, 81, 165)">[</span><span class="token plain">RSA </span><span class="token number" style="color:rgb(9, 134, 88)">2048</span><span class="token punctuation" style="color:rgb(4, 81, 165)">]</span><span class="token plain">----+</span><br></span><span class="token-line" style="color:#000000"><span class="token plain"></span><span class="token operator" style="color:rgb(0, 0, 0)">|</span><span class="token plain">       oo.       </span><span class="token operator" style="color:rgb(0, 0, 0)">|</span><span class="token plain"></span><br></span><span class="token-line" style="color:#000000"><span class="token plain"></span><span class="token operator" style="color:rgb(0, 0, 0)">|</span><span class="token plain">      </span><span class="token builtin class-name" style="color:rgb(38, 127, 153)">.</span><span class="token plain"> o.       </span><span class="token operator" style="color:rgb(0, 0, 0)">|</span><span class="token plain"></span><br></span><span class="token-line" style="color:#000000"><span class="token plain"></span><span class="token operator" style="color:rgb(0, 0, 0)">|</span><span class="token plain">E.  </span><span class="token punctuation" style="color:rgb(4, 81, 165)">..</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(4, 81, 165)">..</span><span class="token plain"> </span><span class="token builtin class-name" style="color:rgb(38, 127, 153)">.</span><span class="token plain">      </span><span class="token operator" style="color:rgb(0, 0, 0)">|</span><span class="token plain"></span><br></span><span class="token-line" style="color:#000000"><span class="token plain"></span><span class="token operator" style="color:rgb(0, 0, 0)">|</span><span class="token plain">++ o </span><span class="token operator" style="color:rgb(0, 0, 0)">=</span><span class="token plain">.* </span><span class="token builtin class-name" style="color:rgb(38, 127, 153)">.</span><span class="token plain">       </span><span class="token operator" style="color:rgb(0, 0, 0)">|</span><span class="token plain"></span><br></span><span class="token-line" style="color:#000000"><span class="token plain"></span><span class="token operator" style="color:rgb(0, 0, 0)">|</span><span class="token plain">* o o.</span><span class="token comment" style="color:rgb(0, 128, 0)"># S        |</span><span class="token plain"></span><br></span><span class="token-line" style="color:#000000"><span class="token plain"></span><span class="token operator" style="color:rgb(0, 0, 0)">|</span><span class="token plain">+. .o+ / </span><span class="token builtin class-name" style="color:rgb(38, 127, 153)">.</span><span class="token plain">       </span><span class="token operator" style="color:rgb(0, 0, 0)">|</span><span class="token plain"></span><br></span><span class="token-line" style="color:#000000"><span class="token plain"></span><span class="token operator" style="color:rgb(0, 0, 0)">|</span><span class="token punctuation" style="color:rgb(4, 81, 165)">..</span><span class="token plain"> o. * </span><span class="token operator" style="color:rgb(0, 0, 0)">=</span><span class="token plain">        </span><span class="token operator" style="color:rgb(0, 0, 0)">|</span><span class="token plain"></span><br></span><span class="token-line" style="color:#000000"><span class="token plain"></span><span class="token operator" style="color:rgb(0, 0, 0)">|</span><span class="token plain">  o  + + </span><span class="token punctuation" style="color:rgb(4, 81, 165)">..</span><span class="token plain">      </span><span class="token operator" style="color:rgb(0, 0, 0)">|</span><span class="token plain"></span><br></span><span class="token-line" style="color:#000000"><span class="token plain"></span><span class="token operator" style="color:rgb(0, 0, 0)">|</span><span class="token plain">   </span><span class="token punctuation" style="color:rgb(4, 81, 165)">..</span><span class="token plain"> oo+.++     </span><span class="token operator" style="color:rgb(0, 0, 0)">|</span><span class="token plain"></span><br></span><span class="token-line" style="color:#000000"><span class="token plain">+----</span><span class="token punctuation" style="color:rgb(4, 81, 165)">[</span><span class="token plain">SHA256</span><span class="token punctuation" style="color:rgb(4, 81, 165)">]</span><span class="token plain">-----+</span><br></span><span class="token-line" style="color:#000000"><span class="token plain"></span><span class="token punctuation" style="color:rgb(4, 81, 165)">[</span><span class="token plain">Brinnatt@cide ~</span><span class="token punctuation" style="color:rgb(4, 81, 165)">]</span><span class="token plain">$</span><br></span><span class="token-line" style="color:#000000"><span class="token plain"></span><span class="token punctuation" style="color:rgb(4, 81, 165)">[</span><span class="token plain">Brinnatt@cide ~</span><span class="token punctuation" style="color:rgb(4, 81, 165)">]</span><span class="token plain">$ </span><span class="token function" style="color:rgb(0, 0, 255)">cat</span><span class="token plain"> .ssh/id_rsa.pub </span><br></span><span class="token-line" style="color:#000000"><span class="token plain">ssh-rsa AAAAB3NzaC1yc2EAAAADAQABAAABAQDaJfDilzrSzjbcmhOwH83FOKFkSRf0WpG34IXjLjkbDrDQEZDApTbbmNKLTgN29WZTT2cpT2dfcpS6m+l2NTWIKVACYpSlTjIYmQBawULqIQzZx3lxnFdGRNbPK2aJvs8uw89oTZaD9F0IsiSkyGljMww0KuUAvJ61eiD9mvkkBfahduJWxRhqSeCAIXr6//ESVIrkbxPa9VcfcuDQW5GFw3/5MgSQW6J/zmnQOQOv62M13+WV4esNUAZXMDw0Bca+YOu2Dkzy6tBR+DkAUH7WVSnunI4twZ3Hmmw6rEb5awrgp6PWEAAnkU+x3Nnm5Qax9k/END6kALeUkLY8PkBT Brinnatt@cide</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg class="copyButtonIcon_y97N" viewBox="0 0 24 24"><path d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg class="copyButtonSuccessIcon_LjdS" viewBox="0 0 24 24"><path d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><h3 class="anchor anchorWithHideOnScrollNavbar_WYt5" id="189公钥复制到-gitlab-中">1.8.9、公钥复制到 gitlab 中<a href="#189公钥复制到-gitlab-中" class="hash-link" aria-label="Direct link to heading" title="Direct link to heading">​</a></h3><p>右上角用户菜单 Brinnatt -&gt; Edit profile -&gt; SSH Keys，按提示粘贴公钥，如下图：</p><p><img loading="lazy" alt="gitlab sshkey" src="/en/assets/images/gitlab_sshkey-8bf1e3888ce427ac40b8c8e6d4d92173.png" width="979" height="383" class="img_ev3q"></p><h3 class="anchor anchorWithHideOnScrollNavbar_WYt5" id="1810brinnatt-用户配置-git">1.8.10、Brinnatt 用户配置 git<a href="#1810brinnatt-用户配置-git" class="hash-link" aria-label="Direct link to heading" title="Direct link to heading">​</a></h3><div class="language-shell codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#000000;--prism-background-color:#ffffff"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-shell codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#000000"><span class="token punctuation" style="color:rgb(4, 81, 165)">[</span><span class="token plain">Brinnatt@cide ~</span><span class="token punctuation" style="color:rgb(4, 81, 165)">]</span><span class="token plain">$ </span><span class="token function" style="color:rgb(0, 0, 255)">git</span><span class="token plain"> config --global user.email </span><span class="token string" style="color:rgb(163, 21, 21)">&#x27;brinnatt@gmail.com&#x27;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#000000"><span class="token plain"></span><span class="token punctuation" style="color:rgb(4, 81, 165)">[</span><span class="token plain">Brinnatt@cide ~</span><span class="token punctuation" style="color:rgb(4, 81, 165)">]</span><span class="token plain">$ </span><span class="token function" style="color:rgb(0, 0, 255)">git</span><span class="token plain"> config --global user.name </span><span class="token string" style="color:rgb(163, 21, 21)">&#x27;brinnatt&#x27;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#000000"><span class="token plain"></span><span class="token punctuation" style="color:rgb(4, 81, 165)">[</span><span class="token plain">Brinnatt@cide ~</span><span class="token punctuation" style="color:rgb(4, 81, 165)">]</span><span class="token plain">$ </span><br></span><span class="token-line" style="color:#000000"><span class="token plain"></span><span class="token punctuation" style="color:rgb(4, 81, 165)">[</span><span class="token plain">Brinnatt@cide ~</span><span class="token punctuation" style="color:rgb(4, 81, 165)">]</span><span class="token plain">$ </span><span class="token function" style="color:rgb(0, 0, 255)">git</span><span class="token plain"> clone git@192.168.114.129:adapted/arm64v8.git</span><br></span><span class="token-line" style="color:#000000"><span class="token plain">Cloning into </span><span class="token string" style="color:rgb(163, 21, 21)">&#x27;arm64v8&#x27;</span><span class="token punctuation" style="color:rgb(4, 81, 165)">..</span><span class="token plain">.</span><br></span><span class="token-line" style="color:#000000"><span class="token plain">remote: Enumerating objects: </span><span class="token number" style="color:rgb(9, 134, 88)">7</span><span class="token plain">, done.</span><br></span><span class="token-line" style="color:#000000"><span class="token plain">remote: Counting objects: </span><span class="token number" style="color:rgb(9, 134, 88)">100</span><span class="token plain">% </span><span class="token punctuation" style="color:rgb(4, 81, 165)">(</span><span class="token number" style="color:rgb(9, 134, 88)">7</span><span class="token plain">/7</span><span class="token punctuation" style="color:rgb(4, 81, 165)">)</span><span class="token plain">, done.</span><br></span><span class="token-line" style="color:#000000"><span class="token plain">remote: Compressing objects: </span><span class="token number" style="color:rgb(9, 134, 88)">100</span><span class="token plain">% </span><span class="token punctuation" style="color:rgb(4, 81, 165)">(</span><span class="token number" style="color:rgb(9, 134, 88)">5</span><span class="token plain">/5</span><span class="token punctuation" style="color:rgb(4, 81, 165)">)</span><span class="token plain">, done.</span><br></span><span class="token-line" style="color:#000000"><span class="token plain">remote: Total </span><span class="token number" style="color:rgb(9, 134, 88)">7</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(4, 81, 165)">(</span><span class="token plain">delta </span><span class="token number" style="color:rgb(9, 134, 88)">1</span><span class="token punctuation" style="color:rgb(4, 81, 165)">)</span><span class="token plain">, reused </span><span class="token number" style="color:rgb(9, 134, 88)">0</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(4, 81, 165)">(</span><span class="token plain">delta </span><span class="token number" style="color:rgb(9, 134, 88)">0</span><span class="token punctuation" style="color:rgb(4, 81, 165)">)</span><span class="token plain">, pack-reused </span><span class="token number" style="color:rgb(9, 134, 88)">0</span><span class="token plain"></span><br></span><span class="token-line" style="color:#000000"><span class="token plain">Receiving objects: </span><span class="token number" style="color:rgb(9, 134, 88)">100</span><span class="token plain">% </span><span class="token punctuation" style="color:rgb(4, 81, 165)">(</span><span class="token number" style="color:rgb(9, 134, 88)">7</span><span class="token plain">/7</span><span class="token punctuation" style="color:rgb(4, 81, 165)">)</span><span class="token plain">, done.</span><br></span><span class="token-line" style="color:#000000"><span class="token plain">Resolving deltas: </span><span class="token number" style="color:rgb(9, 134, 88)">100</span><span class="token plain">% </span><span class="token punctuation" style="color:rgb(4, 81, 165)">(</span><span class="token number" style="color:rgb(9, 134, 88)">1</span><span class="token plain">/1</span><span class="token punctuation" style="color:rgb(4, 81, 165)">)</span><span class="token plain">, done.</span><br></span><span class="token-line" style="color:#000000"><span class="token plain"></span><span class="token punctuation" style="color:rgb(4, 81, 165)">[</span><span class="token plain">Brinnatt@cide ~</span><span class="token punctuation" style="color:rgb(4, 81, 165)">]</span><span class="token plain">$ </span><span class="token builtin class-name" style="color:rgb(38, 127, 153)">cd</span><span class="token plain"> arm64v8/</span><br></span><span class="token-line" style="color:#000000"><span class="token plain"></span><span class="token punctuation" style="color:rgb(4, 81, 165)">[</span><span class="token plain">Brinnatt@cide arm64v8</span><span class="token punctuation" style="color:rgb(4, 81, 165)">]</span><span class="token plain">$ </span><br></span><span class="token-line" style="color:#000000"><span class="token plain"></span><span class="token punctuation" style="color:rgb(4, 81, 165)">[</span><span class="token plain">Brinnatt@cide arm64v8</span><span class="token punctuation" style="color:rgb(4, 81, 165)">]</span><span class="token plain">$ </span><span class="token function" style="color:rgb(0, 0, 255)">ls</span><span class="token plain"></span><br></span><span class="token-line" style="color:#000000"><span class="token plain">README.md</span><br></span><span class="token-line" style="color:#000000"><span class="token plain"></span><span class="token punctuation" style="color:rgb(4, 81, 165)">[</span><span class="token plain">Brinnatt@cide arm64v8</span><span class="token punctuation" style="color:rgb(4, 81, 165)">]</span><span class="token plain">$</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg class="copyButtonIcon_y97N" viewBox="0 0 24 24"><path d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg class="copyButtonSuccessIcon_LjdS" viewBox="0 0 24 24"><path d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><h3 class="anchor anchorWithHideOnScrollNavbar_WYt5" id="1811修改代码并提交到-main-分支">1.8.11、修改代码并提交到 main 分支<a href="#1811修改代码并提交到-main-分支" class="hash-link" aria-label="Direct link to heading" title="Direct link to heading">​</a></h3><div class="language-shell codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#000000;--prism-background-color:#ffffff"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-shell codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#000000"><span class="token punctuation" style="color:rgb(4, 81, 165)">[</span><span class="token plain">Brinnatt@cide arm64v8</span><span class="token punctuation" style="color:rgb(4, 81, 165)">]</span><span class="token plain">$ </span><span class="token function" style="color:rgb(0, 0, 255)">vim</span><span class="token plain"> echo.sh</span><br></span><span class="token-line" style="color:#000000"><span class="token plain"></span><span class="token comment" style="color:rgb(0, 128, 0)">#!/bin/bash</span><span class="token plain"></span><br></span><span class="token-line" style="color:#000000"><span class="token plain"></span><span class="token builtin class-name" style="color:rgb(38, 127, 153)">echo</span><span class="token plain"> </span><span class="token string" style="color:rgb(163, 21, 21)">&quot;brinnatt code to greatwall project whose owner is Brinnatt&quot;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#000000"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#000000"><span class="token plain"></span><span class="token comment" style="color:rgb(0, 128, 0)"># 注意：可以先查看一下当前分支，如果想提交代码的分支不同会报错，需要手动 checkout 分支</span><span class="token plain"></span><br></span><span class="token-line" style="color:#000000"><span class="token plain"></span><span class="token punctuation" style="color:rgb(4, 81, 165)">[</span><span class="token plain">Brinnatt@cide arm64v8</span><span class="token punctuation" style="color:rgb(4, 81, 165)">]</span><span class="token plain">$ </span><span class="token function" style="color:rgb(0, 0, 255)">git</span><span class="token plain"> branch </span><br></span><span class="token-line" style="color:#000000"><span class="token plain">* main</span><br></span><span class="token-line" style="color:#000000"><span class="token plain"></span><span class="token punctuation" style="color:rgb(4, 81, 165)">[</span><span class="token plain">Brinnatt@cide arm64v8</span><span class="token punctuation" style="color:rgb(4, 81, 165)">]</span><span class="token plain">$ </span><span class="token function" style="color:rgb(0, 0, 255)">git</span><span class="token plain"> </span><span class="token function" style="color:rgb(0, 0, 255)">add</span><span class="token plain"> </span><span class="token builtin class-name" style="color:rgb(38, 127, 153)">.</span><span class="token plain"></span><br></span><span class="token-line" style="color:#000000"><span class="token plain"></span><span class="token punctuation" style="color:rgb(4, 81, 165)">[</span><span class="token plain">Brinnatt@cide arm64v8</span><span class="token punctuation" style="color:rgb(4, 81, 165)">]</span><span class="token plain">$ </span><span class="token function" style="color:rgb(0, 0, 255)">git</span><span class="token plain"> commit -m </span><span class="token string" style="color:rgb(163, 21, 21)">&quot;first commit&quot;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#000000"><span class="token plain"></span><span class="token punctuation" style="color:rgb(4, 81, 165)">[</span><span class="token plain">main </span><span class="token number" style="color:rgb(9, 134, 88)">1142737</span><span class="token punctuation" style="color:rgb(4, 81, 165)">]</span><span class="token plain"> first commit</span><br></span><span class="token-line" style="color:#000000"><span class="token plain"> </span><span class="token number" style="color:rgb(9, 134, 88)">1</span><span class="token plain"> </span><span class="token function" style="color:rgb(0, 0, 255)">file</span><span class="token plain"> changed, </span><span class="token number" style="color:rgb(9, 134, 88)">2</span><span class="token plain"> insertions</span><span class="token punctuation" style="color:rgb(4, 81, 165)">(</span><span class="token plain">+</span><span class="token punctuation" style="color:rgb(4, 81, 165)">)</span><span class="token plain"></span><br></span><span class="token-line" style="color:#000000"><span class="token plain"> create mode </span><span class="token number" style="color:rgb(9, 134, 88)">100644</span><span class="token plain"> echo.sh</span><br></span><span class="token-line" style="color:#000000"><span class="token plain"></span><span class="token punctuation" style="color:rgb(4, 81, 165)">[</span><span class="token plain">Brinnatt@cide arm64v8</span><span class="token punctuation" style="color:rgb(4, 81, 165)">]</span><span class="token plain">$ </span><br></span><span class="token-line" style="color:#000000"><span class="token plain"></span><span class="token punctuation" style="color:rgb(4, 81, 165)">[</span><span class="token plain">Brinnatt@cide arm64v8</span><span class="token punctuation" style="color:rgb(4, 81, 165)">]</span><span class="token plain">$ </span><span class="token function" style="color:rgb(0, 0, 255)">git</span><span class="token plain"> push -u origin main</span><br></span><span class="token-line" style="color:#000000"><span class="token plain">Counting objects: </span><span class="token number" style="color:rgb(9, 134, 88)">4</span><span class="token plain">, done.</span><br></span><span class="token-line" style="color:#000000"><span class="token plain">Delta compression using up to </span><span class="token number" style="color:rgb(9, 134, 88)">3</span><span class="token plain"> threads.</span><br></span><span class="token-line" style="color:#000000"><span class="token plain">Compressing objects: </span><span class="token number" style="color:rgb(9, 134, 88)">100</span><span class="token plain">% </span><span class="token punctuation" style="color:rgb(4, 81, 165)">(</span><span class="token number" style="color:rgb(9, 134, 88)">3</span><span class="token plain">/3</span><span class="token punctuation" style="color:rgb(4, 81, 165)">)</span><span class="token plain">, done.</span><br></span><span class="token-line" style="color:#000000"><span class="token plain">Writing objects: </span><span class="token number" style="color:rgb(9, 134, 88)">100</span><span class="token plain">% </span><span class="token punctuation" style="color:rgb(4, 81, 165)">(</span><span class="token number" style="color:rgb(9, 134, 88)">3</span><span class="token plain">/3</span><span class="token punctuation" style="color:rgb(4, 81, 165)">)</span><span class="token plain">, </span><span class="token number" style="color:rgb(9, 134, 88)">335</span><span class="token plain"> bytes </span><span class="token operator" style="color:rgb(0, 0, 0)">|</span><span class="token plain"> </span><span class="token number" style="color:rgb(9, 134, 88)">0</span><span class="token plain"> bytes/s, done.</span><br></span><span class="token-line" style="color:#000000"><span class="token plain">Total </span><span class="token number" style="color:rgb(9, 134, 88)">3</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(4, 81, 165)">(</span><span class="token plain">delta </span><span class="token number" style="color:rgb(9, 134, 88)">0</span><span class="token punctuation" style="color:rgb(4, 81, 165)">)</span><span class="token plain">, reused </span><span class="token number" style="color:rgb(9, 134, 88)">0</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(4, 81, 165)">(</span><span class="token plain">delta </span><span class="token number" style="color:rgb(9, 134, 88)">0</span><span class="token punctuation" style="color:rgb(4, 81, 165)">)</span><span class="token plain"></span><br></span><span class="token-line" style="color:#000000"><span class="token plain">To git@192.168.114.129:adapted/arm64v8.git</span><br></span><span class="token-line" style="color:#000000"><span class="token plain">   14f3e19</span><span class="token punctuation" style="color:rgb(4, 81, 165)">..</span><span class="token number" style="color:rgb(9, 134, 88)">1142737</span><span class="token plain">  main -</span><span class="token operator" style="color:rgb(0, 0, 0)">&gt;</span><span class="token plain"> main</span><br></span><span class="token-line" style="color:#000000"><span class="token plain">Branch main </span><span class="token builtin class-name" style="color:rgb(38, 127, 153)">set</span><span class="token plain"> up to track remote branch main from origin.</span><br></span><span class="token-line" style="color:#000000"><span class="token plain"></span><span class="token punctuation" style="color:rgb(4, 81, 165)">[</span><span class="token plain">Brinnatt@cide arm64v8</span><span class="token punctuation" style="color:rgb(4, 81, 165)">]</span><span class="token plain">$</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg class="copyButtonIcon_y97N" viewBox="0 0 24 24"><path d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg class="copyButtonSuccessIcon_LjdS" viewBox="0 0 24 24"><path d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><ul><li>gitlab 和 github 以后都默认使用 main 分支，不叫 master。</li></ul><h3 class="anchor anchorWithHideOnScrollNavbar_WYt5" id="1812eric-用户上传公钥到-gitlab">1.8.12、Eric 用户上传公钥到 gitlab<a href="#1812eric-用户上传公钥到-gitlab" class="hash-link" aria-label="Direct link to heading" title="Direct link to heading">​</a></h3><div class="language-shell codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#000000;--prism-background-color:#ffffff"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-shell codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#000000"><span class="token punctuation" style="color:rgb(4, 81, 165)">[</span><span class="token plain">root@cide ~</span><span class="token punctuation" style="color:rgb(4, 81, 165)">]</span><span class="token comment" style="color:rgb(0, 128, 0)"># useradd Eric &amp;&amp; echo &#x27;Greatwall487X&#x27; | passwd --stdin Eric</span><span class="token plain"></span><br></span><span class="token-line" style="color:#000000"><span class="token plain">Changing password </span><span class="token keyword" style="color:rgb(0, 0, 255)">for</span><span class="token plain"> user Eric.</span><br></span><span class="token-line" style="color:#000000"><span class="token plain">passwd: all authentication tokens updated successfully.</span><br></span><span class="token-line" style="color:#000000"><span class="token plain"></span><span class="token punctuation" style="color:rgb(4, 81, 165)">[</span><span class="token plain">root@cide ~</span><span class="token punctuation" style="color:rgb(4, 81, 165)">]</span><span class="token comment" style="color:rgb(0, 128, 0)">#</span><span class="token plain"></span><br></span><span class="token-line" style="color:#000000"><span class="token plain"></span><span class="token punctuation" style="color:rgb(4, 81, 165)">[</span><span class="token plain">root@cide ~</span><span class="token punctuation" style="color:rgb(4, 81, 165)">]</span><span class="token comment" style="color:rgb(0, 128, 0)"># su - Eric </span><span class="token plain"></span><br></span><span class="token-line" style="color:#000000"><span class="token plain"></span><span class="token punctuation" style="color:rgb(4, 81, 165)">[</span><span class="token plain">Eric@cide ~</span><span class="token punctuation" style="color:rgb(4, 81, 165)">]</span><span class="token plain">$ ssh-keygen -t rsa</span><br></span><span class="token-line" style="color:#000000"><span class="token plain">Generating public/private rsa key pair.</span><br></span><span class="token-line" style="color:#000000"><span class="token plain">Enter </span><span class="token function" style="color:rgb(0, 0, 255)">file</span><span class="token plain"> </span><span class="token keyword" style="color:rgb(0, 0, 255)">in</span><span class="token plain"> </span><span class="token function" style="color:rgb(0, 0, 255)">which</span><span class="token plain"> to save the key </span><span class="token punctuation" style="color:rgb(4, 81, 165)">(</span><span class="token plain">/home/Eric/.ssh/id_rsa</span><span class="token punctuation" style="color:rgb(4, 81, 165)">)</span><span class="token plain">: </span><br></span><span class="token-line" style="color:#000000"><span class="token plain">Created directory </span><span class="token string" style="color:rgb(163, 21, 21)">&#x27;/home/Eric/.ssh&#x27;</span><span class="token builtin class-name" style="color:rgb(38, 127, 153)">.</span><span class="token plain"></span><br></span><span class="token-line" style="color:#000000"><span class="token plain">Enter passphrase </span><span class="token punctuation" style="color:rgb(4, 81, 165)">(</span><span class="token plain">empty </span><span class="token keyword" style="color:rgb(0, 0, 255)">for</span><span class="token plain"> no passphrase</span><span class="token punctuation" style="color:rgb(4, 81, 165)">)</span><span class="token plain">: </span><br></span><span class="token-line" style="color:#000000"><span class="token plain">Enter same passphrase again: </span><br></span><span class="token-line" style="color:#000000"><span class="token plain">Your identification has been saved </span><span class="token keyword" style="color:rgb(0, 0, 255)">in</span><span class="token plain"> /home/Eric/.ssh/id_rsa.</span><br></span><span class="token-line" style="color:#000000"><span class="token plain">Your public key has been saved </span><span class="token keyword" style="color:rgb(0, 0, 255)">in</span><span class="token plain"> /home/Eric/.ssh/id_rsa.pub.</span><br></span><span class="token-line" style="color:#000000"><span class="token plain">The key fingerprint is:</span><br></span><span class="token-line" style="color:#000000"><span class="token plain">SHA256:+G/FQv61E/W3yN7FyPhTi+ybwAmDqtzv9R4J3IN7ArM Eric@cide</span><br></span><span class="token-line" style="color:#000000"><span class="token plain">The key&#x27;s randomart image is:</span><br></span><span class="token-line" style="color:#000000"><span class="token plain">+---</span><span class="token punctuation" style="color:rgb(4, 81, 165)">[</span><span class="token plain">RSA </span><span class="token number" style="color:rgb(9, 134, 88)">2048</span><span class="token punctuation" style="color:rgb(4, 81, 165)">]</span><span class="token plain">----+</span><br></span><span class="token-line" style="color:#000000"><span class="token plain"></span><span class="token operator" style="color:rgb(0, 0, 0)">|</span><span class="token plain">                 </span><span class="token operator" style="color:rgb(0, 0, 0)">|</span><span class="token plain"></span><br></span><span class="token-line" style="color:#000000"><span class="token plain"></span><span class="token operator" style="color:rgb(0, 0, 0)">|</span><span class="token plain">                 </span><span class="token operator" style="color:rgb(0, 0, 0)">|</span><span class="token plain"></span><br></span><span class="token-line" style="color:#000000"><span class="token plain"></span><span class="token operator" style="color:rgb(0, 0, 0)">|</span><span class="token plain">                 </span><span class="token operator" style="color:rgb(0, 0, 0)">|</span><span class="token plain"></span><br></span><span class="token-line" style="color:#000000"><span class="token plain"></span><span class="token operator" style="color:rgb(0, 0, 0)">|</span><span class="token plain">       .o +     </span><span class="token builtin class-name" style="color:rgb(38, 127, 153)">.</span><span class="token operator" style="color:rgb(0, 0, 0)">|</span><span class="token plain"></span><br></span><span class="token-line" style="color:#000000"><span class="token plain"></span><span class="token operator" style="color:rgb(0, 0, 0)">|</span><span class="token plain">      .+SO +   </span><span class="token punctuation" style="color:rgb(4, 81, 165)">..</span><span class="token operator" style="color:rgb(0, 0, 0)">|</span><span class="token plain"></span><br></span><span class="token-line" style="color:#000000"><span class="token plain"></span><span class="token operator" style="color:rgb(0, 0, 0)">|</span><span class="token plain">      </span><span class="token punctuation" style="color:rgb(4, 81, 165)">..</span><span class="token plain">+ O *ooo+</span><span class="token operator" style="color:rgb(0, 0, 0)">|</span><span class="token plain"></span><br></span><span class="token-line" style="color:#000000"><span class="token plain"></span><span class="token operator" style="color:rgb(0, 0, 0)">|</span><span class="token plain">     </span><span class="token builtin class-name" style="color:rgb(38, 127, 153)">.</span><span class="token plain"> E.+ @+.</span><span class="token operator" style="color:rgb(0, 0, 0)">=</span><span class="token plain">+*</span><span class="token operator" style="color:rgb(0, 0, 0)">|</span><span class="token plain"></span><br></span><span class="token-line" style="color:#000000"><span class="token plain"></span><span class="token operator" style="color:rgb(0, 0, 0)">|</span><span class="token plain">  </span><span class="token builtin class-name" style="color:rgb(38, 127, 153)">.</span><span class="token plain"> o   </span><span class="token punctuation" style="color:rgb(4, 81, 165)">..</span><span class="token operator" style="color:rgb(0, 0, 0)">=</span><span class="token plain"> +**o.</span><span class="token operator" style="color:rgb(0, 0, 0)">|</span><span class="token plain"></span><br></span><span class="token-line" style="color:#000000"><span class="token plain"></span><span class="token operator" style="color:rgb(0, 0, 0)">|</span><span class="token plain">   o .oo .ooo</span><span class="token operator" style="color:rgb(0, 0, 0)">=</span><span class="token plain">o+ </span><span class="token operator" style="color:rgb(0, 0, 0)">|</span><span class="token plain"></span><br></span><span class="token-line" style="color:#000000"><span class="token plain">+----</span><span class="token punctuation" style="color:rgb(4, 81, 165)">[</span><span class="token plain">SHA256</span><span class="token punctuation" style="color:rgb(4, 81, 165)">]</span><span class="token plain">-----+</span><br></span><span class="token-line" style="color:#000000"><span class="token plain"></span><span class="token punctuation" style="color:rgb(4, 81, 165)">[</span><span class="token plain">Eric@cide ~</span><span class="token punctuation" style="color:rgb(4, 81, 165)">]</span><span class="token plain">$ </span><br></span><span class="token-line" style="color:#000000"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#000000"><span class="token plain"></span><span class="token comment" style="color:rgb(0, 128, 0)"># 需要上传 Eric 公钥到 gitlab Eric 账户 SSH Key 下</span><span class="token plain"></span><br></span><span class="token-line" style="color:#000000"><span class="token plain"></span><span class="token punctuation" style="color:rgb(4, 81, 165)">[</span><span class="token plain">Eric@cide ~</span><span class="token punctuation" style="color:rgb(4, 81, 165)">]</span><span class="token plain">$ </span><span class="token function" style="color:rgb(0, 0, 255)">cat</span><span class="token plain"> .ssh/id_rsa.pub </span><br></span><span class="token-line" style="color:#000000"><span class="token plain">ssh-rsa AAAAB3NzaC1yc2EAAAADAQABAAABAQDDkV2T9di6S//LiH6LhxBTxfeI5+ako4PPe5MMvRQ34L2q5GWFm8AWGnvTYDbXbfLg4rBejBRnPoo0Nx5jLUms3IDcPCWJWiNb/bgy0AzpKtCBkUM59RSYFfCdybCE+8ptyP78OCvUyekq18oJoneGLC+SV4+Z9v2EjzoVVB6sAlfjkcX/7x6MTH6qla3ysQrRjU2gw8kQ8J7sfGQ6yN6E8S0fu0JCLspz5H9GSAlROCHGtMptrKS8AoDuxYebmOcALrpCb/J1WKztDRsZpnNhyZmAcA7+3Q9joKklX9OCx6+daCHJa+PnkBjleZTB359gp8R6X95bm8+2XGhoP+eJ Eric@cide</span><br></span><span class="token-line" style="color:#000000"><span class="token plain"></span><span class="token punctuation" style="color:rgb(4, 81, 165)">[</span><span class="token plain">Eric@cide ~</span><span class="token punctuation" style="color:rgb(4, 81, 165)">]</span><span class="token plain">$</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg class="copyButtonIcon_y97N" viewBox="0 0 24 24"><path d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg class="copyButtonSuccessIcon_LjdS" viewBox="0 0 24 24"><path d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><h3 class="anchor anchorWithHideOnScrollNavbar_WYt5" id="1813eric-用户-clone-项目">1.8.13、Eric 用户 clone 项目<a href="#1813eric-用户-clone-项目" class="hash-link" aria-label="Direct link to heading" title="Direct link to heading">​</a></h3><div class="language-shell codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#000000;--prism-background-color:#ffffff"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-shell codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#000000"><span class="token punctuation" style="color:rgb(4, 81, 165)">[</span><span class="token plain">Eric@cide ~</span><span class="token punctuation" style="color:rgb(4, 81, 165)">]</span><span class="token plain">$ </span><span class="token function" style="color:rgb(0, 0, 255)">git</span><span class="token plain"> config --global user.email </span><span class="token string" style="color:rgb(163, 21, 21)">&#x27;brinnatt@163.com&#x27;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#000000"><span class="token plain"></span><span class="token punctuation" style="color:rgb(4, 81, 165)">[</span><span class="token plain">Eric@cide ~</span><span class="token punctuation" style="color:rgb(4, 81, 165)">]</span><span class="token plain">$ </span><span class="token function" style="color:rgb(0, 0, 255)">git</span><span class="token plain"> config --global user.name </span><span class="token string" style="color:rgb(163, 21, 21)">&#x27;Eric&#x27;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#000000"><span class="token plain"></span><span class="token punctuation" style="color:rgb(4, 81, 165)">[</span><span class="token plain">Eric@cide ~</span><span class="token punctuation" style="color:rgb(4, 81, 165)">]</span><span class="token plain">$ </span><br></span><span class="token-line" style="color:#000000"><span class="token plain"></span><span class="token punctuation" style="color:rgb(4, 81, 165)">[</span><span class="token plain">Eric@cide ~</span><span class="token punctuation" style="color:rgb(4, 81, 165)">]</span><span class="token plain">$ </span><span class="token function" style="color:rgb(0, 0, 255)">git</span><span class="token plain"> clone git@192.168.114.129:adapted/arm64v8.git</span><br></span><span class="token-line" style="color:#000000"><span class="token plain">Cloning into </span><span class="token string" style="color:rgb(163, 21, 21)">&#x27;arm64v8&#x27;</span><span class="token punctuation" style="color:rgb(4, 81, 165)">..</span><span class="token plain">.</span><br></span><span class="token-line" style="color:#000000"><span class="token plain">The authenticity of </span><span class="token function" style="color:rgb(0, 0, 255)">host</span><span class="token plain"> </span><span class="token string" style="color:rgb(163, 21, 21)">&#x27;192.168.114.129 (192.168.114.129)&#x27;</span><span class="token plain"> can</span><span class="token string" style="color:rgb(163, 21, 21)">&#x27;t be established.</span><br></span><span class="token-line" style="color:#000000"><span class="token string" style="color:rgb(163, 21, 21)">ECDSA key fingerprint is SHA256:VabnUICGwCT+kVr32Jybbvvpc9VmUSq7Psd0JJv+Jfg.</span><br></span><span class="token-line" style="color:#000000"><span class="token string" style="color:rgb(163, 21, 21)">ECDSA key fingerprint is MD5:18:4f:e6:94:52:5b:b9:98:ca:e3:3c:10:77:ab:a8:d7.</span><br></span><span class="token-line" style="color:#000000"><span class="token string" style="color:rgb(163, 21, 21)">Are you sure you want to continue connecting (yes/no)? yes</span><br></span><span class="token-line" style="color:#000000"><span class="token string" style="color:rgb(163, 21, 21)">Warning: Permanently added &#x27;</span><span class="token number" style="color:rgb(9, 134, 88)">192.168</span><span class="token plain">.114.129&#x27; </span><span class="token punctuation" style="color:rgb(4, 81, 165)">(</span><span class="token plain">ECDSA</span><span class="token punctuation" style="color:rgb(4, 81, 165)">)</span><span class="token plain"> to the list of known hosts.</span><br></span><span class="token-line" style="color:#000000"><span class="token plain">remote: Enumerating objects: </span><span class="token number" style="color:rgb(9, 134, 88)">10</span><span class="token plain">, done.</span><br></span><span class="token-line" style="color:#000000"><span class="token plain">remote: Counting objects: </span><span class="token number" style="color:rgb(9, 134, 88)">100</span><span class="token plain">% </span><span class="token punctuation" style="color:rgb(4, 81, 165)">(</span><span class="token number" style="color:rgb(9, 134, 88)">10</span><span class="token plain">/10</span><span class="token punctuation" style="color:rgb(4, 81, 165)">)</span><span class="token plain">, done.</span><br></span><span class="token-line" style="color:#000000"><span class="token plain">remote: Compressing objects: </span><span class="token number" style="color:rgb(9, 134, 88)">100</span><span class="token plain">% </span><span class="token punctuation" style="color:rgb(4, 81, 165)">(</span><span class="token number" style="color:rgb(9, 134, 88)">8</span><span class="token plain">/8</span><span class="token punctuation" style="color:rgb(4, 81, 165)">)</span><span class="token plain">, done.</span><br></span><span class="token-line" style="color:#000000"><span class="token plain">remote: Total </span><span class="token number" style="color:rgb(9, 134, 88)">10</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(4, 81, 165)">(</span><span class="token plain">delta </span><span class="token number" style="color:rgb(9, 134, 88)">1</span><span class="token punctuation" style="color:rgb(4, 81, 165)">)</span><span class="token plain">, reused </span><span class="token number" style="color:rgb(9, 134, 88)">0</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(4, 81, 165)">(</span><span class="token plain">delta </span><span class="token number" style="color:rgb(9, 134, 88)">0</span><span class="token punctuation" style="color:rgb(4, 81, 165)">)</span><span class="token plain">, pack-reused </span><span class="token number" style="color:rgb(9, 134, 88)">0</span><span class="token plain"></span><br></span><span class="token-line" style="color:#000000"><span class="token plain">Receiving objects: </span><span class="token number" style="color:rgb(9, 134, 88)">100</span><span class="token plain">% </span><span class="token punctuation" style="color:rgb(4, 81, 165)">(</span><span class="token number" style="color:rgb(9, 134, 88)">10</span><span class="token plain">/10</span><span class="token punctuation" style="color:rgb(4, 81, 165)">)</span><span class="token plain">, done.</span><br></span><span class="token-line" style="color:#000000"><span class="token plain">Resolving deltas: </span><span class="token number" style="color:rgb(9, 134, 88)">100</span><span class="token plain">% </span><span class="token punctuation" style="color:rgb(4, 81, 165)">(</span><span class="token number" style="color:rgb(9, 134, 88)">1</span><span class="token plain">/1</span><span class="token punctuation" style="color:rgb(4, 81, 165)">)</span><span class="token plain">, done.</span><br></span><span class="token-line" style="color:#000000"><span class="token plain"></span><span class="token punctuation" style="color:rgb(4, 81, 165)">[</span><span class="token plain">Eric@cide ~</span><span class="token punctuation" style="color:rgb(4, 81, 165)">]</span><span class="token plain">$</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg class="copyButtonIcon_y97N" viewBox="0 0 24 24"><path d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg class="copyButtonSuccessIcon_LjdS" viewBox="0 0 24 24"><path d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><h3 class="anchor anchorWithHideOnScrollNavbar_WYt5" id="1814eric-提交代码到-dev-分支">1.8.14、Eric 提交代码到 dev 分支<a href="#1814eric-提交代码到-dev-分支" class="hash-link" aria-label="Direct link to heading" title="Direct link to heading">​</a></h3><div class="language-shell codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#000000;--prism-background-color:#ffffff"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-shell codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#000000"><span class="token punctuation" style="color:rgb(4, 81, 165)">[</span><span class="token plain">Eric@cide ~</span><span class="token punctuation" style="color:rgb(4, 81, 165)">]</span><span class="token plain">$ </span><span class="token builtin class-name" style="color:rgb(38, 127, 153)">cd</span><span class="token plain"> arm64v8/</span><br></span><span class="token-line" style="color:#000000"><span class="token plain"></span><span class="token punctuation" style="color:rgb(4, 81, 165)">[</span><span class="token plain">Eric@cide arm64v8</span><span class="token punctuation" style="color:rgb(4, 81, 165)">]</span><span class="token plain">$ </span><span class="token function" style="color:rgb(0, 0, 255)">git</span><span class="token plain"> branch </span><br></span><span class="token-line" style="color:#000000"><span class="token plain">* main</span><br></span><span class="token-line" style="color:#000000"><span class="token plain"></span><span class="token punctuation" style="color:rgb(4, 81, 165)">[</span><span class="token plain">Eric@cide arm64v8</span><span class="token punctuation" style="color:rgb(4, 81, 165)">]</span><span class="token plain">$ </span><span class="token function" style="color:rgb(0, 0, 255)">ls</span><span class="token plain"></span><br></span><span class="token-line" style="color:#000000"><span class="token plain">echo.sh  README.md</span><br></span><span class="token-line" style="color:#000000"><span class="token plain"></span><span class="token punctuation" style="color:rgb(4, 81, 165)">[</span><span class="token plain">Eric@cide arm64v8</span><span class="token punctuation" style="color:rgb(4, 81, 165)">]</span><span class="token plain">$ </span><br></span><span class="token-line" style="color:#000000"><span class="token plain"></span><span class="token punctuation" style="color:rgb(4, 81, 165)">[</span><span class="token plain">Eric@cide arm64v8</span><span class="token punctuation" style="color:rgb(4, 81, 165)">]</span><span class="token plain">$ </span><span class="token function" style="color:rgb(0, 0, 255)">git</span><span class="token plain"> checkout dev</span><br></span><span class="token-line" style="color:#000000"><span class="token plain">Branch dev </span><span class="token builtin class-name" style="color:rgb(38, 127, 153)">set</span><span class="token plain"> up to track remote branch dev from origin.</span><br></span><span class="token-line" style="color:#000000"><span class="token plain">Switched to a new branch </span><span class="token string" style="color:rgb(163, 21, 21)">&#x27;dev&#x27;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#000000"><span class="token plain"></span><span class="token punctuation" style="color:rgb(4, 81, 165)">[</span><span class="token plain">Eric@cide arm64v8</span><span class="token punctuation" style="color:rgb(4, 81, 165)">]</span><span class="token plain">$ </span><br></span><span class="token-line" style="color:#000000"><span class="token plain"></span><span class="token punctuation" style="color:rgb(4, 81, 165)">[</span><span class="token plain">Eric@cide arm64v8</span><span class="token punctuation" style="color:rgb(4, 81, 165)">]</span><span class="token plain">$ </span><span class="token function" style="color:rgb(0, 0, 255)">git</span><span class="token plain"> branch </span><br></span><span class="token-line" style="color:#000000"><span class="token plain">* dev</span><br></span><span class="token-line" style="color:#000000"><span class="token plain">  main</span><br></span><span class="token-line" style="color:#000000"><span class="token plain"></span><span class="token punctuation" style="color:rgb(4, 81, 165)">[</span><span class="token plain">Eric@cide arm64v8</span><span class="token punctuation" style="color:rgb(4, 81, 165)">]</span><span class="token plain">$ </span><span class="token function" style="color:rgb(0, 0, 255)">ls</span><span class="token plain"></span><br></span><span class="token-line" style="color:#000000"><span class="token plain">README.md</span><br></span><span class="token-line" style="color:#000000"><span class="token plain"></span><span class="token punctuation" style="color:rgb(4, 81, 165)">[</span><span class="token plain">Eric@cide arm64v8</span><span class="token punctuation" style="color:rgb(4, 81, 165)">]</span><span class="token plain">$ </span><br></span><span class="token-line" style="color:#000000"><span class="token plain"></span><span class="token punctuation" style="color:rgb(4, 81, 165)">[</span><span class="token plain">Eric@cide arm64v8</span><span class="token punctuation" style="color:rgb(4, 81, 165)">]</span><span class="token plain">$ </span><span class="token function" style="color:rgb(0, 0, 255)">vim</span><span class="token plain"> eric.sh</span><br></span><span class="token-line" style="color:#000000"><span class="token plain"></span><span class="token punctuation" style="color:rgb(4, 81, 165)">[</span><span class="token plain">Eric@cide arm64v8</span><span class="token punctuation" style="color:rgb(4, 81, 165)">]</span><span class="token plain">$ </span><span class="token function" style="color:rgb(0, 0, 255)">cat</span><span class="token plain"> eric.sh</span><br></span><span class="token-line" style="color:#000000"><span class="token plain"></span><span class="token comment" style="color:rgb(0, 128, 0)">#!/bin/bash</span><span class="token plain"></span><br></span><span class="token-line" style="color:#000000"><span class="token plain"></span><span class="token builtin class-name" style="color:rgb(38, 127, 153)">echo</span><span class="token plain"> </span><span class="token string" style="color:rgb(163, 21, 21)">&quot;eric code&quot;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#000000"><span class="token plain"></span><span class="token punctuation" style="color:rgb(4, 81, 165)">[</span><span class="token plain">Eric@cide arm64v8</span><span class="token punctuation" style="color:rgb(4, 81, 165)">]</span><span class="token plain">$ </span><br></span><span class="token-line" style="color:#000000"><span class="token plain"></span><span class="token punctuation" style="color:rgb(4, 81, 165)">[</span><span class="token plain">Eric@cide arm64v8</span><span class="token punctuation" style="color:rgb(4, 81, 165)">]</span><span class="token plain">$ </span><span class="token function" style="color:rgb(0, 0, 255)">git</span><span class="token plain"> </span><span class="token function" style="color:rgb(0, 0, 255)">add</span><span class="token plain"> </span><span class="token builtin class-name" style="color:rgb(38, 127, 153)">.</span><span class="token plain"></span><br></span><span class="token-line" style="color:#000000"><span class="token plain"></span><span class="token punctuation" style="color:rgb(4, 81, 165)">[</span><span class="token plain">Eric@cide arm64v8</span><span class="token punctuation" style="color:rgb(4, 81, 165)">]</span><span class="token plain">$ </span><span class="token function" style="color:rgb(0, 0, 255)">git</span><span class="token plain"> commit -m </span><span class="token string" style="color:rgb(163, 21, 21)">&quot;eric devlop&quot;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#000000"><span class="token plain"></span><span class="token punctuation" style="color:rgb(4, 81, 165)">[</span><span class="token plain">dev 0bf9864</span><span class="token punctuation" style="color:rgb(4, 81, 165)">]</span><span class="token plain"> eric devlop</span><br></span><span class="token-line" style="color:#000000"><span class="token plain"> </span><span class="token number" style="color:rgb(9, 134, 88)">1</span><span class="token plain"> </span><span class="token function" style="color:rgb(0, 0, 255)">file</span><span class="token plain"> changed, </span><span class="token number" style="color:rgb(9, 134, 88)">2</span><span class="token plain"> insertions</span><span class="token punctuation" style="color:rgb(4, 81, 165)">(</span><span class="token plain">+</span><span class="token punctuation" style="color:rgb(4, 81, 165)">)</span><span class="token plain"></span><br></span><span class="token-line" style="color:#000000"><span class="token plain"> create mode </span><span class="token number" style="color:rgb(9, 134, 88)">100644</span><span class="token plain"> eric.sh</span><br></span><span class="token-line" style="color:#000000"><span class="token plain"></span><span class="token punctuation" style="color:rgb(4, 81, 165)">[</span><span class="token plain">Eric@cide arm64v8</span><span class="token punctuation" style="color:rgb(4, 81, 165)">]</span><span class="token plain">$ </span><br></span><span class="token-line" style="color:#000000"><span class="token plain"></span><span class="token punctuation" style="color:rgb(4, 81, 165)">[</span><span class="token plain">Eric@cide arm64v8</span><span class="token punctuation" style="color:rgb(4, 81, 165)">]</span><span class="token plain">$ </span><br></span><span class="token-line" style="color:#000000"><span class="token plain"></span><span class="token punctuation" style="color:rgb(4, 81, 165)">[</span><span class="token plain">Eric@cide arm64v8</span><span class="token punctuation" style="color:rgb(4, 81, 165)">]</span><span class="token plain">$ </span><span class="token function" style="color:rgb(0, 0, 255)">git</span><span class="token plain"> push -u origin dev</span><br></span><span class="token-line" style="color:#000000"><span class="token plain">Counting objects: </span><span class="token number" style="color:rgb(9, 134, 88)">4</span><span class="token plain">, done.</span><br></span><span class="token-line" style="color:#000000"><span class="token plain">Delta compression using up to </span><span class="token number" style="color:rgb(9, 134, 88)">3</span><span class="token plain"> threads.</span><br></span><span class="token-line" style="color:#000000"><span class="token plain">Compressing objects: </span><span class="token number" style="color:rgb(9, 134, 88)">100</span><span class="token plain">% </span><span class="token punctuation" style="color:rgb(4, 81, 165)">(</span><span class="token number" style="color:rgb(9, 134, 88)">2</span><span class="token plain">/2</span><span class="token punctuation" style="color:rgb(4, 81, 165)">)</span><span class="token plain">, done.</span><br></span><span class="token-line" style="color:#000000"><span class="token plain">Writing objects: </span><span class="token number" style="color:rgb(9, 134, 88)">100</span><span class="token plain">% </span><span class="token punctuation" style="color:rgb(4, 81, 165)">(</span><span class="token number" style="color:rgb(9, 134, 88)">3</span><span class="token plain">/3</span><span class="token punctuation" style="color:rgb(4, 81, 165)">)</span><span class="token plain">, </span><span class="token number" style="color:rgb(9, 134, 88)">296</span><span class="token plain"> bytes </span><span class="token operator" style="color:rgb(0, 0, 0)">|</span><span class="token plain"> </span><span class="token number" style="color:rgb(9, 134, 88)">0</span><span class="token plain"> bytes/s, done.</span><br></span><span class="token-line" style="color:#000000"><span class="token plain">Total </span><span class="token number" style="color:rgb(9, 134, 88)">3</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(4, 81, 165)">(</span><span class="token plain">delta </span><span class="token number" style="color:rgb(9, 134, 88)">0</span><span class="token punctuation" style="color:rgb(4, 81, 165)">)</span><span class="token plain">, reused </span><span class="token number" style="color:rgb(9, 134, 88)">0</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(4, 81, 165)">(</span><span class="token plain">delta </span><span class="token number" style="color:rgb(9, 134, 88)">0</span><span class="token punctuation" style="color:rgb(4, 81, 165)">)</span><span class="token plain"></span><br></span><span class="token-line" style="color:#000000"><span class="token plain">remote: </span><br></span><span class="token-line" style="color:#000000"><span class="token plain">remote: To create a merge request </span><span class="token keyword" style="color:rgb(0, 0, 255)">for</span><span class="token plain"> dev, visit:</span><br></span><span class="token-line" style="color:#000000"><span class="token plain">remote:   https://192.168.114.129/adapted/arm64v8/-/merge_requests/new?merge_request%5Bsource_branch%5D</span><span class="token operator" style="color:rgb(0, 0, 0)">=</span><span class="token plain">dev</span><br></span><span class="token-line" style="color:#000000"><span class="token plain">remote: </span><br></span><span class="token-line" style="color:#000000"><span class="token plain">To git@192.168.114.129:adapted/arm64v8.git</span><br></span><span class="token-line" style="color:#000000"><span class="token plain">   fd95b3a</span><span class="token punctuation" style="color:rgb(4, 81, 165)">..</span><span class="token plain">0bf9864  dev -</span><span class="token operator" style="color:rgb(0, 0, 0)">&gt;</span><span class="token plain"> dev</span><br></span><span class="token-line" style="color:#000000"><span class="token plain">Branch dev </span><span class="token builtin class-name" style="color:rgb(38, 127, 153)">set</span><span class="token plain"> up to track remote branch dev from origin.</span><br></span><span class="token-line" style="color:#000000"><span class="token plain"></span><span class="token punctuation" style="color:rgb(4, 81, 165)">[</span><span class="token plain">Eric@cide arm64v8</span><span class="token punctuation" style="color:rgb(4, 81, 165)">]</span><span class="token plain">$</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg class="copyButtonIcon_y97N" viewBox="0 0 24 24"><path d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg class="copyButtonSuccessIcon_LjdS" viewBox="0 0 24 24"><path d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><p><strong>默认情况下，Developer 角色没有权限提交代码到 main 分支，如下：</strong></p><div class="language-bash codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#000000;--prism-background-color:#ffffff"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-bash codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#000000"><span class="token punctuation" style="color:rgb(4, 81, 165)">[</span><span class="token plain">Eric@cide arm64v8</span><span class="token punctuation" style="color:rgb(4, 81, 165)">]</span><span class="token plain">$ </span><span class="token function" style="color:rgb(0, 0, 255)">git</span><span class="token plain"> branch </span><br></span><span class="token-line" style="color:#000000"><span class="token plain">* dev</span><br></span><span class="token-line" style="color:#000000"><span class="token plain">  main</span><br></span><span class="token-line" style="color:#000000"><span class="token plain"></span><span class="token punctuation" style="color:rgb(4, 81, 165)">[</span><span class="token plain">Eric@cide arm64v8</span><span class="token punctuation" style="color:rgb(4, 81, 165)">]</span><span class="token plain">$ </span><span class="token function" style="color:rgb(0, 0, 255)">git</span><span class="token plain"> checkout main </span><br></span><span class="token-line" style="color:#000000"><span class="token plain">Switched to branch </span><span class="token string" style="color:rgb(163, 21, 21)">&#x27;main&#x27;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#000000"><span class="token plain"></span><span class="token punctuation" style="color:rgb(4, 81, 165)">[</span><span class="token plain">Eric@cide arm64v8</span><span class="token punctuation" style="color:rgb(4, 81, 165)">]</span><span class="token plain">$ </span><span class="token function" style="color:rgb(0, 0, 255)">ls</span><span class="token plain"></span><br></span><span class="token-line" style="color:#000000"><span class="token plain">echo.sh  README.md</span><br></span><span class="token-line" style="color:#000000"><span class="token plain"></span><span class="token punctuation" style="color:rgb(4, 81, 165)">[</span><span class="token plain">Eric@cide arm64v8</span><span class="token punctuation" style="color:rgb(4, 81, 165)">]</span><span class="token plain">$ </span><span class="token function" style="color:rgb(0, 0, 255)">vim</span><span class="token plain"> ericmain.sh</span><br></span><span class="token-line" style="color:#000000"><span class="token plain"></span><span class="token punctuation" style="color:rgb(4, 81, 165)">[</span><span class="token plain">Eric@cide arm64v8</span><span class="token punctuation" style="color:rgb(4, 81, 165)">]</span><span class="token plain">$ </span><span class="token function" style="color:rgb(0, 0, 255)">cat</span><span class="token plain"> ericmain.sh</span><br></span><span class="token-line" style="color:#000000"><span class="token plain"></span><span class="token comment" style="color:rgb(0, 128, 0)">#!/bin/bash</span><span class="token plain"></span><br></span><span class="token-line" style="color:#000000"><span class="token plain"></span><span class="token builtin class-name" style="color:rgb(38, 127, 153)">echo</span><span class="token plain"> </span><span class="token string" style="color:rgb(163, 21, 21)">&quot;Eric tries to push code to main&quot;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#000000"><span class="token plain"></span><span class="token punctuation" style="color:rgb(4, 81, 165)">[</span><span class="token plain">Eric@cide arm64v8</span><span class="token punctuation" style="color:rgb(4, 81, 165)">]</span><span class="token plain">$ </span><br></span><span class="token-line" style="color:#000000"><span class="token plain"></span><span class="token punctuation" style="color:rgb(4, 81, 165)">[</span><span class="token plain">Eric@cide arm64v8</span><span class="token punctuation" style="color:rgb(4, 81, 165)">]</span><span class="token plain">$ </span><span class="token function" style="color:rgb(0, 0, 255)">git</span><span class="token plain"> branch </span><br></span><span class="token-line" style="color:#000000"><span class="token plain">  dev</span><br></span><span class="token-line" style="color:#000000"><span class="token plain">* main</span><br></span><span class="token-line" style="color:#000000"><span class="token plain"></span><span class="token punctuation" style="color:rgb(4, 81, 165)">[</span><span class="token plain">Eric@cide arm64v8</span><span class="token punctuation" style="color:rgb(4, 81, 165)">]</span><span class="token plain">$ </span><span class="token function" style="color:rgb(0, 0, 255)">git</span><span class="token plain"> </span><span class="token function" style="color:rgb(0, 0, 255)">add</span><span class="token plain"> </span><span class="token builtin class-name" style="color:rgb(38, 127, 153)">.</span><span class="token plain"></span><br></span><span class="token-line" style="color:#000000"><span class="token plain"></span><span class="token punctuation" style="color:rgb(4, 81, 165)">[</span><span class="token plain">Eric@cide arm64v8</span><span class="token punctuation" style="color:rgb(4, 81, 165)">]</span><span class="token plain">$ </span><span class="token function" style="color:rgb(0, 0, 255)">git</span><span class="token plain"> commit -m </span><span class="token string" style="color:rgb(163, 21, 21)">&quot;eric to main&quot;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#000000"><span class="token plain"></span><span class="token punctuation" style="color:rgb(4, 81, 165)">[</span><span class="token plain">main c73eaee</span><span class="token punctuation" style="color:rgb(4, 81, 165)">]</span><span class="token plain"> eric to main</span><br></span><span class="token-line" style="color:#000000"><span class="token plain"> </span><span class="token number" style="color:rgb(9, 134, 88)">1</span><span class="token plain"> </span><span class="token function" style="color:rgb(0, 0, 255)">file</span><span class="token plain"> changed, </span><span class="token number" style="color:rgb(9, 134, 88)">2</span><span class="token plain"> insertions</span><span class="token punctuation" style="color:rgb(4, 81, 165)">(</span><span class="token plain">+</span><span class="token punctuation" style="color:rgb(4, 81, 165)">)</span><span class="token plain"></span><br></span><span class="token-line" style="color:#000000"><span class="token plain"> create mode </span><span class="token number" style="color:rgb(9, 134, 88)">100644</span><span class="token plain"> ericmain.sh</span><br></span><span class="token-line" style="color:#000000"><span class="token plain"></span><span class="token punctuation" style="color:rgb(4, 81, 165)">[</span><span class="token plain">Eric@cide arm64v8</span><span class="token punctuation" style="color:rgb(4, 81, 165)">]</span><span class="token plain">$ </span><span class="token function" style="color:rgb(0, 0, 255)">git</span><span class="token plain"> push -u origin main</span><br></span><span class="token-line" style="color:#000000"><span class="token plain">Counting objects: </span><span class="token number" style="color:rgb(9, 134, 88)">4</span><span class="token plain">, done.</span><br></span><span class="token-line" style="color:#000000"><span class="token plain">Delta compression using up to </span><span class="token number" style="color:rgb(9, 134, 88)">3</span><span class="token plain"> threads.</span><br></span><span class="token-line" style="color:#000000"><span class="token plain">Compressing objects: </span><span class="token number" style="color:rgb(9, 134, 88)">100</span><span class="token plain">% </span><span class="token punctuation" style="color:rgb(4, 81, 165)">(</span><span class="token number" style="color:rgb(9, 134, 88)">3</span><span class="token plain">/3</span><span class="token punctuation" style="color:rgb(4, 81, 165)">)</span><span class="token plain">, done.</span><br></span><span class="token-line" style="color:#000000"><span class="token plain">Writing objects: </span><span class="token number" style="color:rgb(9, 134, 88)">100</span><span class="token plain">% </span><span class="token punctuation" style="color:rgb(4, 81, 165)">(</span><span class="token number" style="color:rgb(9, 134, 88)">3</span><span class="token plain">/3</span><span class="token punctuation" style="color:rgb(4, 81, 165)">)</span><span class="token plain">, </span><span class="token number" style="color:rgb(9, 134, 88)">346</span><span class="token plain"> bytes </span><span class="token operator" style="color:rgb(0, 0, 0)">|</span><span class="token plain"> </span><span class="token number" style="color:rgb(9, 134, 88)">0</span><span class="token plain"> bytes/s, done.</span><br></span><span class="token-line" style="color:#000000"><span class="token plain">Total </span><span class="token number" style="color:rgb(9, 134, 88)">3</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(4, 81, 165)">(</span><span class="token plain">delta </span><span class="token number" style="color:rgb(9, 134, 88)">0</span><span class="token punctuation" style="color:rgb(4, 81, 165)">)</span><span class="token plain">, reused </span><span class="token number" style="color:rgb(9, 134, 88)">0</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(4, 81, 165)">(</span><span class="token plain">delta </span><span class="token number" style="color:rgb(9, 134, 88)">0</span><span class="token punctuation" style="color:rgb(4, 81, 165)">)</span><span class="token plain"></span><br></span><span class="token-line" style="color:#000000"><span class="token plain">remote: GitLab: You are not allowed to push code to protected branches on this project.To git@192.168.114.129:adapted/arm64v8.git</span><br></span><span class="token-line" style="color:#000000"><span class="token plain"> </span><span class="token operator" style="color:rgb(0, 0, 0)">!</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(4, 81, 165)">[</span><span class="token plain">remote rejected</span><span class="token punctuation" style="color:rgb(4, 81, 165)">]</span><span class="token plain"> main -</span><span class="token operator" style="color:rgb(0, 0, 0)">&gt;</span><span class="token plain"> main </span><span class="token punctuation" style="color:rgb(4, 81, 165)">(</span><span class="token plain">pre-receive hook declined</span><span class="token punctuation" style="color:rgb(4, 81, 165)">)</span><span class="token plain"></span><br></span><span class="token-line" style="color:#000000"><span class="token plain">error: failed to push some refs to </span><span class="token string" style="color:rgb(163, 21, 21)">&#x27;git@192.168.114.129:adapted/arm64v8.git&#x27;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#000000"><span class="token plain"></span><span class="token punctuation" style="color:rgb(4, 81, 165)">[</span><span class="token plain">Eric@cide arm64v8</span><span class="token punctuation" style="color:rgb(4, 81, 165)">]</span><span class="token plain">$</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg class="copyButtonIcon_y97N" viewBox="0 0 24 24"><path d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg class="copyButtonSuccessIcon_LjdS" viewBox="0 0 24 24"><path d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><h3 class="anchor anchorWithHideOnScrollNavbar_WYt5" id="1815eric-通过-gitlab-web-创建合并请求">1.8.15、Eric 通过 gitlab web 创建合并请求<a href="#1815eric-通过-gitlab-web-创建合并请求" class="hash-link" aria-label="Direct link to heading" title="Direct link to heading">​</a></h3><p><img loading="lazy" alt="merge" src="/en/assets/images/gitlab_eric_merge-a34e7f02def4007e3cad9f4de918ab41.png" width="747" height="837" class="img_ev3q"></p><h3 class="anchor anchorWithHideOnScrollNavbar_WYt5" id="1816brinnatt-审查执行-merge">1.8.16、Brinnatt 审查执行 merge<a href="#1816brinnatt-审查执行-merge" class="hash-link" aria-label="Direct link to heading" title="Direct link to heading">​</a></h3><p><img loading="lazy" alt="gitlab check merge" src="/en/assets/images/gitlab_check_merge-c5df009b7a90bad0a24ea92a8c37d025.png" width="881" height="790" class="img_ev3q"></p><h2 class="anchor anchorWithHideOnScrollNavbar_WYt5" id="19gitlab-备份与恢复">1.9、Gitlab 备份与恢复<a href="#19gitlab-备份与恢复" class="hash-link" aria-label="Direct link to heading" title="Direct link to heading">​</a></h2><h3 class="anchor anchorWithHideOnScrollNavbar_WYt5" id="191查看系统版本和软件版本">1.9.1、查看系统版本和软件版本<a href="#191查看系统版本和软件版本" class="hash-link" aria-label="Direct link to heading" title="Direct link to heading">​</a></h3><div class="language-shell codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#000000;--prism-background-color:#ffffff"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-shell codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#000000"><span class="token punctuation" style="color:rgb(4, 81, 165)">[</span><span class="token plain">root@cide ~</span><span class="token punctuation" style="color:rgb(4, 81, 165)">]</span><span class="token comment" style="color:rgb(0, 128, 0)"># cat /etc/redhat-release </span><span class="token plain"></span><br></span><span class="token-line" style="color:#000000"><span class="token plain">CentOS Linux release </span><span class="token number" style="color:rgb(9, 134, 88)">7.9</span><span class="token plain">.2009 </span><span class="token punctuation" style="color:rgb(4, 81, 165)">(</span><span class="token plain">Core</span><span class="token punctuation" style="color:rgb(4, 81, 165)">)</span><span class="token plain"></span><br></span><span class="token-line" style="color:#000000"><span class="token plain"></span><span class="token punctuation" style="color:rgb(4, 81, 165)">[</span><span class="token plain">root@cide ~</span><span class="token punctuation" style="color:rgb(4, 81, 165)">]</span><span class="token comment" style="color:rgb(0, 128, 0)"># </span><span class="token plain"></span><br></span><span class="token-line" style="color:#000000"><span class="token plain"></span><span class="token punctuation" style="color:rgb(4, 81, 165)">[</span><span class="token plain">root@cide ~</span><span class="token punctuation" style="color:rgb(4, 81, 165)">]</span><span class="token comment" style="color:rgb(0, 128, 0)"># cat /opt/gitlab/embedded/service/gitlab-rails/VERSION </span><span class="token plain"></span><br></span><span class="token-line" style="color:#000000"><span class="token plain"></span><span class="token number" style="color:rgb(9, 134, 88)">14.8</span><span class="token plain">.2</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg class="copyButtonIcon_y97N" viewBox="0 0 24 24"><path d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg class="copyButtonSuccessIcon_LjdS" viewBox="0 0 24 24"><path d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><h3 class="anchor anchorWithHideOnScrollNavbar_WYt5" id="192数据备份">1.9.2、数据备份<a href="#192数据备份" class="hash-link" aria-label="Direct link to heading" title="Direct link to heading">​</a></h3><h4 class="anchor anchorWithHideOnScrollNavbar_WYt5" id="1921查看备份相关的配置项">1.9.2.1、查看备份相关的配置项<a href="#1921查看备份相关的配置项" class="hash-link" aria-label="Direct link to heading" title="Direct link to heading">​</a></h4><div class="language-shell codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#000000;--prism-background-color:#ffffff"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-shell codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#000000"><span class="token punctuation" style="color:rgb(4, 81, 165)">[</span><span class="token plain">root@cide ~</span><span class="token punctuation" style="color:rgb(4, 81, 165)">]</span><span class="token comment" style="color:rgb(0, 128, 0)"># vim /etc/gitlab/gitlab.rb</span><span class="token plain"></span><br></span><span class="token-line" style="color:#000000"><span class="token plain">gitlab_rails</span><span class="token punctuation" style="color:rgb(4, 81, 165)">[</span><span class="token string" style="color:rgb(163, 21, 21)">&#x27;manage_backup_path&#x27;</span><span class="token punctuation" style="color:rgb(4, 81, 165)">]</span><span class="token plain"> </span><span class="token operator" style="color:rgb(0, 0, 0)">=</span><span class="token plain"> </span><span class="token boolean">true</span><span class="token plain"></span><br></span><span class="token-line" style="color:#000000"><span class="token plain">gitlab_rails</span><span class="token punctuation" style="color:rgb(4, 81, 165)">[</span><span class="token string" style="color:rgb(163, 21, 21)">&#x27;backup_path&#x27;</span><span class="token punctuation" style="color:rgb(4, 81, 165)">]</span><span class="token plain"> </span><span class="token operator" style="color:rgb(0, 0, 0)">=</span><span class="token plain"> </span><span class="token string" style="color:rgb(163, 21, 21)">&quot;/data/gitlab/backups&quot;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#000000"><span class="token plain"></span><span class="token punctuation" style="color:rgb(4, 81, 165)">[</span><span class="token plain">root@cide ~</span><span class="token punctuation" style="color:rgb(4, 81, 165)">]</span><span class="token comment" style="color:rgb(0, 128, 0)"># mkdir /data/gitlab/backups -pv</span><span class="token plain"></span><br></span><span class="token-line" style="color:#000000"><span class="token plain"></span><span class="token punctuation" style="color:rgb(4, 81, 165)">[</span><span class="token plain">root@cide ~</span><span class="token punctuation" style="color:rgb(4, 81, 165)">]</span><span class="token comment" style="color:rgb(0, 128, 0)"># gitlab-ctl reconfigure</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg class="copyButtonIcon_y97N" viewBox="0 0 24 24"><path d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg class="copyButtonSuccessIcon_LjdS" viewBox="0 0 24 24"><path d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><ul><li>该项定义了默认备份文件的路径，可以通过修改该配置，并执行 <strong>gitlab-ctl reconfigure</strong> 重载配置。</li></ul><h4 class="anchor anchorWithHideOnScrollNavbar_WYt5" id="1922执行备份命令进行备份">1.9.2.2、执行备份命令进行备份<a href="#1922执行备份命令进行备份" class="hash-link" aria-label="Direct link to heading" title="Direct link to heading">​</a></h4><div class="language-shell codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#000000;--prism-background-color:#ffffff"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-shell codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#000000"><span class="token punctuation" style="color:rgb(4, 81, 165)">[</span><span class="token plain">root@cide ~</span><span class="token punctuation" style="color:rgb(4, 81, 165)">]</span><span class="token comment" style="color:rgb(0, 128, 0)"># /opt/gitlab/bin/gitlab-rake gitlab:backup:create</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg class="copyButtonIcon_y97N" viewBox="0 0 24 24"><path d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg class="copyButtonSuccessIcon_LjdS" viewBox="0 0 24 24"><path d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><h4 class="anchor anchorWithHideOnScrollNavbar_WYt5" id="1923添加到-crontab-中定时执行">1.9.2.3、添加到 crontab 中定时执行<a href="#1923添加到-crontab-中定时执行" class="hash-link" aria-label="Direct link to heading" title="Direct link to heading">​</a></h4><div class="language-shell codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#000000;--prism-background-color:#ffffff"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-shell codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#000000"><span class="token punctuation" style="color:rgb(4, 81, 165)">[</span><span class="token plain">root@cide ~</span><span class="token punctuation" style="color:rgb(4, 81, 165)">]</span><span class="token comment" style="color:rgb(0, 128, 0)"># crontab -e</span><span class="token plain"></span><br></span><span class="token-line" style="color:#000000"><span class="token plain"></span><span class="token number" style="color:rgb(9, 134, 88)">0</span><span class="token plain"> </span><span class="token number" style="color:rgb(9, 134, 88)">2</span><span class="token plain"> * * * </span><span class="token function" style="color:rgb(0, 0, 255)">bash</span><span class="token plain"> /opt/gitlab/bin/gitlab-rake gitlab:backup:create</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg class="copyButtonIcon_y97N" viewBox="0 0 24 24"><path d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg class="copyButtonSuccessIcon_LjdS" viewBox="0 0 24 24"><path d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><ul><li>可以到 /data/gitlab/backups 找到备份包，解压查看，会发现备份的还是比较全面的，数据库、repositories、build、upload 等分类还是比较清晰的。</li></ul><h4 class="anchor anchorWithHideOnScrollNavbar_WYt5" id="1924设置备份保留时长">1.9.2.4、设置备份保留时长<a href="#1924设置备份保留时长" class="hash-link" aria-label="Direct link to heading" title="Direct link to heading">​</a></h4><p>防止每天执行备份，有目录被爆满的风险，打开 /etc/gitlab/gitlab.rb 配置文件，找到如下配置：</p><div class="language-shell codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#000000;--prism-background-color:#ffffff"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-shell codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#000000"><span class="token punctuation" style="color:rgb(4, 81, 165)">[</span><span class="token plain">root@cide ~</span><span class="token punctuation" style="color:rgb(4, 81, 165)">]</span><span class="token comment" style="color:rgb(0, 128, 0)"># vim /etc/gitlab/gitlab.rb</span><span class="token plain"></span><br></span><span class="token-line" style="color:#000000"><span class="token plain">gitlab_rails</span><span class="token punctuation" style="color:rgb(4, 81, 165)">[</span><span class="token string" style="color:rgb(163, 21, 21)">&#x27;backup_keep_time&#x27;</span><span class="token punctuation" style="color:rgb(4, 81, 165)">]</span><span class="token plain"> </span><span class="token operator" style="color:rgb(0, 0, 0)">=</span><span class="token plain"> </span><span class="token number" style="color:rgb(9, 134, 88)">604800</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg class="copyButtonIcon_y97N" viewBox="0 0 24 24"><path d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg class="copyButtonSuccessIcon_LjdS" viewBox="0 0 24 24"><path d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><ul><li>设置备份保留 7 天(7 x 3600 x 24 = 604800)，秒为单位，如果想增大或减小，可以直接在该处配置，并通过 gitlab-ctl reconfigure 重载配置。
</li><li>备份完成，会在备份目录中生成一个当天日期的 tar 包。
</li></ul><h3 class="anchor anchorWithHideOnScrollNavbar_WYt5" id="193数据恢复">1.9.3、数据恢复<a href="#193数据恢复" class="hash-link" aria-label="Direct link to heading" title="Direct link to heading">​</a></h3><h4 class="anchor anchorWithHideOnScrollNavbar_WYt5" id="1931安装部署-gitlab-server">1.9.3.1、安装部署 gitlab server<a href="#1931安装部署-gitlab-server" class="hash-link" aria-label="Direct link to heading" title="Direct link to heading">​</a></h4><p>具体步骤参见上面：gitlab server 搭建过程</p><h4 class="anchor anchorWithHideOnScrollNavbar_WYt5" id="1932恢复-gitlab">1.9.3.2、恢复 gitlab<a href="#1932恢复-gitlab" class="hash-link" aria-label="Direct link to heading" title="Direct link to heading">​</a></h4><h5 class="anchor anchorWithHideOnScrollNavbar_WYt5" id="19321查看备份相关的配置项">1.9.3.2.1、查看备份相关的配置项<a href="#19321查看备份相关的配置项" class="hash-link" aria-label="Direct link to heading" title="Direct link to heading">​</a></h5><div class="language-shell codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#000000;--prism-background-color:#ffffff"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-shell codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#000000"><span class="token punctuation" style="color:rgb(4, 81, 165)">[</span><span class="token plain">root@cide ~</span><span class="token punctuation" style="color:rgb(4, 81, 165)">]</span><span class="token comment" style="color:rgb(0, 128, 0)"># vim /etc/gitlab/gitlab.rb</span><span class="token plain"></span><br></span><span class="token-line" style="color:#000000"><span class="token plain">gitlab_rails</span><span class="token punctuation" style="color:rgb(4, 81, 165)">[</span><span class="token string" style="color:rgb(163, 21, 21)">&#x27;backup_path&#x27;</span><span class="token punctuation" style="color:rgb(4, 81, 165)">]</span><span class="token plain"> </span><span class="token operator" style="color:rgb(0, 0, 0)">=</span><span class="token plain"> </span><span class="token string" style="color:rgb(163, 21, 21)">&quot;/data/gitlab/backups&quot;</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg class="copyButtonIcon_y97N" viewBox="0 0 24 24"><path d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg class="copyButtonSuccessIcon_LjdS" viewBox="0 0 24 24"><path d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><ul><li>该路径就是备份时输出备份文件的路径，恢复时需要该路径下的备份文件。</li></ul><h5 class="anchor anchorWithHideOnScrollNavbar_WYt5" id="19322恢复前需要先停掉数据连接服务">1.9.3.2.2、恢复前需要先停掉数据连接服务<a href="#19322恢复前需要先停掉数据连接服务" class="hash-link" aria-label="Direct link to heading" title="Direct link to heading">​</a></h5><div class="language-shell codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#000000;--prism-background-color:#ffffff"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-shell codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#000000"><span class="token punctuation" style="color:rgb(4, 81, 165)">[</span><span class="token plain">root@cide ~</span><span class="token punctuation" style="color:rgb(4, 81, 165)">]</span><span class="token comment" style="color:rgb(0, 128, 0)"># gitlab-ctl stop unicorn</span><span class="token plain"></span><br></span><span class="token-line" style="color:#000000"><span class="token plain"></span><span class="token punctuation" style="color:rgb(4, 81, 165)">[</span><span class="token plain">root@cide ~</span><span class="token punctuation" style="color:rgb(4, 81, 165)">]</span><span class="token comment" style="color:rgb(0, 128, 0)"># gitlab-ctl stop sidekiq</span><span class="token plain"></span><br></span><span class="token-line" style="color:#000000"><span class="token plain">ok: down: sidekiq: 0s, normally up</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg class="copyButtonIcon_y97N" viewBox="0 0 24 24"><path d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg class="copyButtonSuccessIcon_LjdS" viewBox="0 0 24 24"><path d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><ul><li>如果是台新搭建的主机，不需要操作，理论上不停这两个服务也可以。停这两个服务是为了保证数据一致性。</li></ul><h5 class="anchor anchorWithHideOnScrollNavbar_WYt5" id="19323同步备份文件到新服务器">1.9.3.2.3、同步备份文件到新服务器<a href="#19323同步备份文件到新服务器" class="hash-link" aria-label="Direct link to heading" title="Direct link to heading">​</a></h5><p>将老服务器 /data/gitlab/backups 目录下的备份文件拷贝到新服务器上的 /data/gitlab/backups。</p><div class="language-shell codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#000000;--prism-background-color:#ffffff"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-shell codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#000000"><span class="token punctuation" style="color:rgb(4, 81, 165)">[</span><span class="token plain">root@cide ~</span><span class="token punctuation" style="color:rgb(4, 81, 165)">]</span><span class="token comment" style="color:rgb(0, 128, 0)"># rsync -avz 1646911227_2022_03_10_14.8.2_gitlab_backup.tar 192.168.114.130:/data/gitlab/backups/ </span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg class="copyButtonIcon_y97N" viewBox="0 0 24 24"><path d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg class="copyButtonSuccessIcon_LjdS" viewBox="0 0 24 24"><path d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><p>注意权限：600 权限是无权恢复的。 实验环境可改成了 777，生产环境建议修改属主属组。</p><div class="language-shell codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#000000;--prism-background-color:#ffffff"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-shell codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#000000"><span class="token punctuation" style="color:rgb(4, 81, 165)">[</span><span class="token plain">root@cide ~</span><span class="token punctuation" style="color:rgb(4, 81, 165)">]</span><span class="token comment" style="color:rgb(0, 128, 0)"># cd /data/gitlab/backups/</span><span class="token plain"></span><br></span><span class="token-line" style="color:#000000"><span class="token plain"></span><span class="token punctuation" style="color:rgb(4, 81, 165)">[</span><span class="token plain">root@cide backups</span><span class="token punctuation" style="color:rgb(4, 81, 165)">]</span><span class="token comment" style="color:rgb(0, 128, 0)"># chown -R git.git 1646911227_2022_03_10_14.8.2_gitlab_backup.tar</span><span class="token plain"></span><br></span><span class="token-line" style="color:#000000"><span class="token plain"></span><span class="token punctuation" style="color:rgb(4, 81, 165)">[</span><span class="token plain">root@cide backups</span><span class="token punctuation" style="color:rgb(4, 81, 165)">]</span><span class="token comment" style="color:rgb(0, 128, 0)"># ll</span><span class="token plain"></span><br></span><span class="token-line" style="color:#000000"><span class="token plain">total </span><span class="token number" style="color:rgb(9, 134, 88)">392</span><span class="token plain"></span><br></span><span class="token-line" style="color:#000000"><span class="token plain">-rw------- </span><span class="token number" style="color:rgb(9, 134, 88)">1</span><span class="token plain"> </span><span class="token function" style="color:rgb(0, 0, 255)">git</span><span class="token plain"> </span><span class="token function" style="color:rgb(0, 0, 255)">git</span><span class="token plain"> </span><span class="token number" style="color:rgb(9, 134, 88)">399360</span><span class="token plain"> Mar </span><span class="token number" style="color:rgb(9, 134, 88)">10</span><span class="token plain"> </span><span class="token number" style="color:rgb(9, 134, 88)">19</span><span class="token plain">:20 1646911227_2022_03_10_14.8.2_gitlab_backup.tar</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg class="copyButtonIcon_y97N" viewBox="0 0 24 24"><path d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg class="copyButtonSuccessIcon_LjdS" viewBox="0 0 24 24"><path d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><h5 class="anchor anchorWithHideOnScrollNavbar_WYt5" id="19324执行命令进行恢复">1.9.3.2.4、执行命令进行恢复<a href="#19324执行命令进行恢复" class="hash-link" aria-label="Direct link to heading" title="Direct link to heading">​</a></h5><p>后面再输入两次 yes 就完成恢复了。</p><div class="language-shell codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#000000;--prism-background-color:#ffffff"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-shell codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#000000"><span class="token punctuation" style="color:rgb(4, 81, 165)">[</span><span class="token plain">root@cide backups</span><span class="token punctuation" style="color:rgb(4, 81, 165)">]</span><span class="token comment" style="color:rgb(0, 128, 0)"># gitlab-rake gitlab:backup:restore BACKUP=1646911227_2022_03_10_14.8.2</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg class="copyButtonIcon_y97N" viewBox="0 0 24 24"><path d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg class="copyButtonSuccessIcon_LjdS" viewBox="0 0 24 24"><path d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><ul><li>后面再输入两次 yes 就完成恢复了。</li></ul><p>恢复的时候可能报下面的错误，当前使用的是 gitlab v14.8.2 版本。</p><div class="language-bash codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#000000;--prism-background-color:#ffffff"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-bash codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#000000"><span class="token plain">Restoring PostgreSQL database gitlabhq_production </span><span class="token punctuation" style="color:rgb(4, 81, 165)">..</span><span class="token plain">. ERROR:  must be owner of extension pg_trgm</span><br></span><span class="token-line" style="color:#000000"><span class="token plain">ERROR:  must be owner of extension btree_gist</span><br></span><span class="token-line" style="color:#000000"><span class="token plain">ERROR:  must be owner of extension btree_gist</span><br></span><span class="token-line" style="color:#000000"><span class="token plain">ERROR:  must be owner of extension pg_trgm</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg class="copyButtonIcon_y97N" viewBox="0 0 24 24"><path d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg class="copyButtonSuccessIcon_LjdS" viewBox="0 0 24 24"><path d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><p>使用下面的步骤解决：</p><ol><li>修改 postgresql 配置</li></ol><div class="language-bash codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#000000;--prism-background-color:#ffffff"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-bash codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#000000"><span class="token punctuation" style="color:rgb(4, 81, 165)">[</span><span class="token plain">root@cide ~</span><span class="token punctuation" style="color:rgb(4, 81, 165)">]</span><span class="token comment" style="color:rgb(0, 128, 0)"># vim /var/opt/gitlab/postgresql/data/postgresql.conf</span><span class="token plain"></span><br></span><span class="token-line" style="color:#000000"><span class="token plain">listen_addresses </span><span class="token operator" style="color:rgb(0, 0, 0)">=</span><span class="token plain"> </span><span class="token string" style="color:rgb(163, 21, 21)">&#x27;*&#x27;</span><span class="token plain">    </span><span class="token comment" style="color:rgb(0, 128, 0)"># what IP address(es) to listen on;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#000000"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#000000"><span class="token plain"></span><span class="token comment" style="color:rgb(0, 128, 0)"># 新增下面两行</span><span class="token plain"></span><br></span><span class="token-line" style="color:#000000"><span class="token plain"></span><span class="token punctuation" style="color:rgb(4, 81, 165)">[</span><span class="token plain">root@cide ~</span><span class="token punctuation" style="color:rgb(4, 81, 165)">]</span><span class="token comment" style="color:rgb(0, 128, 0)"># vim /var/opt/gitlab/postgresql/data/pg_hba.conf</span><span class="token plain"></span><br></span><span class="token-line" style="color:#000000"><span class="token plain"></span><span class="token builtin class-name" style="color:rgb(38, 127, 153)">local</span><span class="token plain">   all         all                               trust</span><br></span><span class="token-line" style="color:#000000"><span class="token plain"></span><span class="token function" style="color:rgb(0, 0, 255)">host</span><span class="token plain">    all         all                               </span><span class="token number" style="color:rgb(9, 134, 88)">127.0</span><span class="token plain">.0.1/32 trust</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg class="copyButtonIcon_y97N" viewBox="0 0 24 24"><path d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg class="copyButtonSuccessIcon_LjdS" viewBox="0 0 24 24"><path d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><ol start="2"><li>重启 gitlab 服务</li></ol><div class="language-bash codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#000000;--prism-background-color:#ffffff"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-bash codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#000000"><span class="token punctuation" style="color:rgb(4, 81, 165)">[</span><span class="token plain">root@cide ~</span><span class="token punctuation" style="color:rgb(4, 81, 165)">]</span><span class="token comment" style="color:rgb(0, 128, 0)"># gitlab-ctl restart</span><span class="token plain"></span><br></span><span class="token-line" style="color:#000000"><span class="token plain">ok: run: alertmanager: </span><span class="token punctuation" style="color:rgb(4, 81, 165)">(</span><span class="token plain">pid </span><span class="token number" style="color:rgb(9, 134, 88)">29316</span><span class="token punctuation" style="color:rgb(4, 81, 165)">)</span><span class="token plain"> 1s</span><br></span><span class="token-line" style="color:#000000"><span class="token plain">ok: run: gitaly: </span><span class="token punctuation" style="color:rgb(4, 81, 165)">(</span><span class="token plain">pid </span><span class="token number" style="color:rgb(9, 134, 88)">29330</span><span class="token punctuation" style="color:rgb(4, 81, 165)">)</span><span class="token plain"> 0s</span><br></span><span class="token-line" style="color:#000000"><span class="token plain">ok: run: gitlab-exporter: </span><span class="token punctuation" style="color:rgb(4, 81, 165)">(</span><span class="token plain">pid </span><span class="token number" style="color:rgb(9, 134, 88)">29346</span><span class="token punctuation" style="color:rgb(4, 81, 165)">)</span><span class="token plain"> 0s</span><br></span><span class="token-line" style="color:#000000"><span class="token plain">ok: run: gitlab-kas: </span><span class="token punctuation" style="color:rgb(4, 81, 165)">(</span><span class="token plain">pid </span><span class="token number" style="color:rgb(9, 134, 88)">29348</span><span class="token punctuation" style="color:rgb(4, 81, 165)">)</span><span class="token plain"> 1s</span><br></span><span class="token-line" style="color:#000000"><span class="token plain">ok: run: gitlab-workhorse: </span><span class="token punctuation" style="color:rgb(4, 81, 165)">(</span><span class="token plain">pid </span><span class="token number" style="color:rgb(9, 134, 88)">29358</span><span class="token punctuation" style="color:rgb(4, 81, 165)">)</span><span class="token plain"> 0s</span><br></span><span class="token-line" style="color:#000000"><span class="token plain">ok: run: grafana: </span><span class="token punctuation" style="color:rgb(4, 81, 165)">(</span><span class="token plain">pid </span><span class="token number" style="color:rgb(9, 134, 88)">29367</span><span class="token punctuation" style="color:rgb(4, 81, 165)">)</span><span class="token plain"> 1s</span><br></span><span class="token-line" style="color:#000000"><span class="token plain">ok: run: logrotate: </span><span class="token punctuation" style="color:rgb(4, 81, 165)">(</span><span class="token plain">pid </span><span class="token number" style="color:rgb(9, 134, 88)">29382</span><span class="token punctuation" style="color:rgb(4, 81, 165)">)</span><span class="token plain"> 0s</span><br></span><span class="token-line" style="color:#000000"><span class="token plain">ok: run: nginx: </span><span class="token punctuation" style="color:rgb(4, 81, 165)">(</span><span class="token plain">pid </span><span class="token number" style="color:rgb(9, 134, 88)">29388</span><span class="token punctuation" style="color:rgb(4, 81, 165)">)</span><span class="token plain"> 1s</span><br></span><span class="token-line" style="color:#000000"><span class="token plain">ok: run: node-exporter: </span><span class="token punctuation" style="color:rgb(4, 81, 165)">(</span><span class="token plain">pid </span><span class="token number" style="color:rgb(9, 134, 88)">29395</span><span class="token punctuation" style="color:rgb(4, 81, 165)">)</span><span class="token plain"> 0s</span><br></span><span class="token-line" style="color:#000000"><span class="token plain">ok: run: postgres-exporter: </span><span class="token punctuation" style="color:rgb(4, 81, 165)">(</span><span class="token plain">pid </span><span class="token number" style="color:rgb(9, 134, 88)">29401</span><span class="token punctuation" style="color:rgb(4, 81, 165)">)</span><span class="token plain"> 0s</span><br></span><span class="token-line" style="color:#000000"><span class="token plain">ok: run: postgresql: </span><span class="token punctuation" style="color:rgb(4, 81, 165)">(</span><span class="token plain">pid </span><span class="token number" style="color:rgb(9, 134, 88)">29410</span><span class="token punctuation" style="color:rgb(4, 81, 165)">)</span><span class="token plain"> 1s</span><br></span><span class="token-line" style="color:#000000"><span class="token plain">ok: run: prometheus: </span><span class="token punctuation" style="color:rgb(4, 81, 165)">(</span><span class="token plain">pid </span><span class="token number" style="color:rgb(9, 134, 88)">29422</span><span class="token punctuation" style="color:rgb(4, 81, 165)">)</span><span class="token plain"> 0s</span><br></span><span class="token-line" style="color:#000000"><span class="token plain">ok: run: puma: </span><span class="token punctuation" style="color:rgb(4, 81, 165)">(</span><span class="token plain">pid </span><span class="token number" style="color:rgb(9, 134, 88)">29439</span><span class="token punctuation" style="color:rgb(4, 81, 165)">)</span><span class="token plain"> 0s</span><br></span><span class="token-line" style="color:#000000"><span class="token plain">ok: run: redis: </span><span class="token punctuation" style="color:rgb(4, 81, 165)">(</span><span class="token plain">pid </span><span class="token number" style="color:rgb(9, 134, 88)">29444</span><span class="token punctuation" style="color:rgb(4, 81, 165)">)</span><span class="token plain"> 1s</span><br></span><span class="token-line" style="color:#000000"><span class="token plain">ok: run: redis-exporter: </span><span class="token punctuation" style="color:rgb(4, 81, 165)">(</span><span class="token plain">pid </span><span class="token number" style="color:rgb(9, 134, 88)">29450</span><span class="token punctuation" style="color:rgb(4, 81, 165)">)</span><span class="token plain"> 0s</span><br></span><span class="token-line" style="color:#000000"><span class="token plain">ok: run: sidekiq: </span><span class="token punctuation" style="color:rgb(4, 81, 165)">(</span><span class="token plain">pid </span><span class="token number" style="color:rgb(9, 134, 88)">29533</span><span class="token punctuation" style="color:rgb(4, 81, 165)">)</span><span class="token plain"> 1s</span><br></span><span class="token-line" style="color:#000000"><span class="token plain"></span><span class="token punctuation" style="color:rgb(4, 81, 165)">[</span><span class="token plain">root@cide ~</span><span class="token punctuation" style="color:rgb(4, 81, 165)">]</span><span class="token comment" style="color:rgb(0, 128, 0)">#</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg class="copyButtonIcon_y97N" viewBox="0 0 24 24"><path d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg class="copyButtonSuccessIcon_LjdS" viewBox="0 0 24 24"><path d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><ol start="3"><li>修改 gitlab 账号为超级用户</li></ol><div class="language-bash codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#000000;--prism-background-color:#ffffff"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-bash codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#000000"><span class="token punctuation" style="color:rgb(4, 81, 165)">[</span><span class="token plain">root@cide ~</span><span class="token punctuation" style="color:rgb(4, 81, 165)">]</span><span class="token comment" style="color:rgb(0, 128, 0)"># su - gitlab-psql</span><span class="token plain"></span><br></span><span class="token-line" style="color:#000000"><span class="token plain">Last login: Thu Mar </span><span class="token number" style="color:rgb(9, 134, 88)">10</span><span class="token plain"> </span><span class="token number" style="color:rgb(9, 134, 88)">20</span><span class="token plain">:51:03 CST </span><span class="token number" style="color:rgb(9, 134, 88)">2022</span><span class="token plain"> on pts/0</span><br></span><span class="token-line" style="color:#000000"><span class="token plain">-sh-4.2$ /opt/gitlab/embedded/bin/psql -h </span><span class="token number" style="color:rgb(9, 134, 88)">127.0</span><span class="token plain">.0.1 gitlabhq_production</span><br></span><span class="token-line" style="color:#000000"><span class="token plain">psql </span><span class="token punctuation" style="color:rgb(4, 81, 165)">(</span><span class="token number" style="color:rgb(9, 134, 88)">12.7</span><span class="token punctuation" style="color:rgb(4, 81, 165)">)</span><span class="token plain"></span><br></span><span class="token-line" style="color:#000000"><span class="token plain">SSL connection </span><span class="token punctuation" style="color:rgb(4, 81, 165)">(</span><span class="token plain">protocol: TLSv1.3, cipher: TLS_AES_256_GCM_SHA384, bits: </span><span class="token number" style="color:rgb(9, 134, 88)">256</span><span class="token plain">, compression: off</span><span class="token punctuation" style="color:rgb(4, 81, 165)">)</span><span class="token plain"></span><br></span><span class="token-line" style="color:#000000"><span class="token plain">Type </span><span class="token string" style="color:rgb(163, 21, 21)">&quot;help&quot;</span><span class="token plain"> </span><span class="token keyword" style="color:rgb(0, 0, 255)">for</span><span class="token plain"> help.</span><br></span><span class="token-line" style="color:#000000"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#000000"><span class="token plain"></span><span class="token assign-left variable" style="color:rgb(9, 134, 88)">gitlabhq_production</span><span class="token operator" style="color:rgb(0, 0, 0)">=</span><span class="token comment" style="color:rgb(0, 128, 0)"># ALTER USER gitlab WITH SUPERUSER;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#000000"><span class="token plain">ALTER ROLE</span><br></span><span class="token-line" style="color:#000000"><span class="token plain"></span><span class="token assign-left variable" style="color:rgb(9, 134, 88)">gitlabhq_production</span><span class="token operator" style="color:rgb(0, 0, 0)">=</span><span class="token comment" style="color:rgb(0, 128, 0)"># \q</span><span class="token plain"></span><br></span><span class="token-line" style="color:#000000"><span class="token plain">-sh-4.2$</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg class="copyButtonIcon_y97N" viewBox="0 0 24 24"><path d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg class="copyButtonSuccessIcon_LjdS" viewBox="0 0 24 24"><path d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><ol start="4"><li>再次执行恢复命令，不会出现该错误。</li></ol><h5 class="anchor anchorWithHideOnScrollNavbar_WYt5" id="19325恢复完成启动服务">1.9.3.2.5、恢复完成启动服务<a href="#19325恢复完成启动服务" class="hash-link" aria-label="Direct link to heading" title="Direct link to heading">​</a></h5><p>恢复完成后，启动刚刚的两个服务，或者重启所有服务，再打开浏览器进行访问，发现数据和之前的一致：</p><div class="language-shell codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#000000;--prism-background-color:#ffffff"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-shell codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#000000"><span class="token punctuation" style="color:rgb(4, 81, 165)">[</span><span class="token plain">root@cide ~</span><span class="token punctuation" style="color:rgb(4, 81, 165)">]</span><span class="token comment" style="color:rgb(0, 128, 0)"># gitlab-ctl start unicorn</span><span class="token plain"></span><br></span><span class="token-line" style="color:#000000"><span class="token plain"></span><span class="token punctuation" style="color:rgb(4, 81, 165)">[</span><span class="token plain">root@cide ~</span><span class="token punctuation" style="color:rgb(4, 81, 165)">]</span><span class="token comment" style="color:rgb(0, 128, 0)"># gitlab-ctl start sidekiq</span><span class="token plain"></span><br></span><span class="token-line" style="color:#000000"><span class="token plain">ok: run: sidekiq: </span><span class="token punctuation" style="color:rgb(4, 81, 165)">(</span><span class="token plain">pid </span><span class="token number" style="color:rgb(9, 134, 88)">27384</span><span class="token punctuation" style="color:rgb(4, 81, 165)">)</span><span class="token plain"> 0s</span><br></span><span class="token-line" style="color:#000000"><span class="token plain"></span><span class="token punctuation" style="color:rgb(4, 81, 165)">[</span><span class="token plain">root@cide ~</span><span class="token punctuation" style="color:rgb(4, 81, 165)">]</span><span class="token comment" style="color:rgb(0, 128, 0)">#</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg class="copyButtonIcon_y97N" viewBox="0 0 24 24"><path d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg class="copyButtonSuccessIcon_LjdS" viewBox="0 0 24 24"><path d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><p><strong>注意：通过备份文件恢复 gitlab 必须保证两台主机的 gitlab 版本一致，否则会提示版本不匹配</strong>。</p></div></article><nav class="pagination-nav docusaurus-mt-lg" aria-label="Docs pages navigation"><a class="pagination-nav__link pagination-nav__link--prev" href="/en/docs/category/linuxcicd"><div class="pagination-nav__sublabel">Previous</div><div class="pagination-nav__label">LinuxCICD</div></a><a class="pagination-nav__link pagination-nav__link--next" href="/en/docs/linux-cicd-2"><div class="pagination-nav__sublabel">Next</div><div class="pagination-nav__label">第 2 章 Maven 代码构建系统</div></a></nav></div></div><div class="col col--3"><div class="tableOfContents_bqdL thin-scrollbar theme-doc-toc-desktop"><ul class="table-of-contents table-of-contents__left-border"><li><a href="#11gitgithubgitlab-的区别" class="table-of-contents__link toc-highlight">1.1、Git、Github、Gitlab 的区别</a></li><li><a href="#12git-与-svn-区别" class="table-of-contents__link toc-highlight">1.2、Git 与 SVN 区别</a></li><li><a href="#13部署-git-服务" class="table-of-contents__link toc-highlight">1.3、部署 Git 服务</a><ul><li><a href="#131创建-git-仓库" class="table-of-contents__link toc-highlight">1.3.1、创建 git 仓库</a></li><li><a href="#132git-仓库测试" class="table-of-contents__link toc-highlight">1.3.2、git 仓库测试</a></li></ul></li><li><a href="#14git-工作流程" class="table-of-contents__link toc-highlight">1.4、Git 工作流程</a></li><li><a href="#15git-基本概念" class="table-of-contents__link toc-highlight">1.5、Git 基本概念</a></li><li><a href="#16git-客户端安装使用" class="table-of-contents__link toc-highlight">1.6、Git 客户端安装使用</a><ul><li><a href="#161git-安装" class="table-of-contents__link toc-highlight">1.6.1、Git 安装</a></li><li><a href="#162git-配置" class="table-of-contents__link toc-highlight">1.6.2、Git 配置</a><ul><li><a href="#1621git-用户信息" class="table-of-contents__link toc-highlight">1.6.2.1、Git 用户信息</a></li><li><a href="#1622文本编辑器" class="table-of-contents__link toc-highlight">1.6.2.2、文本编辑器</a></li><li><a href="#1623差异分析工具" class="table-of-contents__link toc-highlight">1.6.2.3、差异分析工具</a></li><li><a href="#1624查看配置信息" class="table-of-contents__link toc-highlight">1.6.2.4、查看配置信息</a></li></ul></li><li><a href="#163git-使用" class="table-of-contents__link toc-highlight">1.6.3、Git 使用</a><ul><li><a href="#1631ssh-连接" class="table-of-contents__link toc-highlight">1.6.3.1、SSH 连接</a></li><li><a href="#1632token-连接" class="table-of-contents__link toc-highlight">1.6.3.2、token 连接</a></li><li><a href="#1633git-身份验证" class="table-of-contents__link toc-highlight">1.6.3.3、Git 身份验证</a></li><li><a href="#1634git-本地与远程项目交互" class="table-of-contents__link toc-highlight">1.6.3.4、Git 本地与远程项目交互</a></li></ul></li><li><a href="#164常用的-git-命令" class="table-of-contents__link toc-highlight">1.6.4、常用的 git 命令</a><ul><li><a href="#1641基本用法" class="table-of-contents__link toc-highlight">1.6.4.1、基本用法</a></li><li><a href="#1642命令图解" class="table-of-contents__link toc-highlight">1.6.4.2、命令图解</a></li></ul></li></ul></li><li><a href="#17gitlab-server-部署" class="table-of-contents__link toc-highlight">1.7、Gitlab Server 部署</a><ul><li><a href="#171环境配置" class="table-of-contents__link toc-highlight">1.7.1、环境配置</a></li><li><a href="#172部署-gitlab" class="table-of-contents__link toc-highlight">1.7.2、部署 Gitlab</a><ul><li><a href="#1721安装-gitlab-依赖包" class="table-of-contents__link toc-highlight">1.7.2.1、安装 gitlab 依赖包</a></li><li><a href="#1722添加官方源" class="table-of-contents__link toc-highlight">1.7.2.2、添加官方源</a></li><li><a href="#1723安装-gitlab" class="table-of-contents__link toc-highlight">1.7.2.3、安装 Gitlab</a></li><li><a href="#1724配置-gitlab" class="table-of-contents__link toc-highlight">1.7.2.4、配置 Gitlab</a></li><li><a href="#1725启动-gitlab-服务" class="table-of-contents__link toc-highlight">1.7.2.5、启动 Gitlab 服务</a></li><li><a href="#1726gitlab-设置-https-方式" class="table-of-contents__link toc-highlight">1.7.2.6、Gitlab 设置 HTTPS 方式</a></li><li><a href="#1727gitlab-添加-smtp-邮件功能" class="table-of-contents__link toc-highlight">1.7.2.7、Gitlab 添加 smtp 邮件功能</a></li><li><a href="#1728gitlab-发送邮件测试" class="table-of-contents__link toc-highlight">1.7.2.8、Gitlab 发送邮件测试</a></li></ul></li><li><a href="#173gitlab-的使用" class="table-of-contents__link toc-highlight">1.7.3、Gitlab 的使用</a><ul><li><a href="#1731gitlab-命令行修改密码" class="table-of-contents__link toc-highlight">1.7.3.1、Gitlab 命令行修改密码</a></li><li><a href="#1732gitlab-服务管理" class="table-of-contents__link toc-highlight">1.7.3.2、Gitlab 服务管理</a></li><li><a href="#1733登陆-gitlab" class="table-of-contents__link toc-highlight">1.7.3.3、登陆 Gitlab</a></li><li><a href="#1734创建项目组-group" class="table-of-contents__link toc-highlight">1.7.3.4、创建项目组 group</a></li><li><a href="#1735打开用户注册" class="table-of-contents__link toc-highlight">1.7.3.5、打开用户注册</a></li></ul></li></ul></li><li><a href="#18gitlab-开发代码提交流程" class="table-of-contents__link toc-highlight">1.8、Gitlab 开发代码提交流程</a><ul><li><a href="#181公司代码提交合并流程" class="table-of-contents__link toc-highlight">1.8.1、公司代码提交合并流程</a></li><li><a href="#182创建项目管理用户-brinnatt" class="table-of-contents__link toc-highlight">1.8.2、创建项目管理用户 Brinnatt</a></li><li><a href="#183brinnatt-设为组管理员" class="table-of-contents__link toc-highlight">1.8.3、Brinnatt 设为组管理员</a></li><li><a href="#184erichellen-设为组-developer" class="table-of-contents__link toc-highlight">1.8.4、Eric、Hellen 设为组 Developer</a></li><li><a href="#185brinnatt-登陆创建-project" class="table-of-contents__link toc-highlight">1.8.5、Brinnatt 登陆创建 Project</a></li><li><a href="#186指定项目的存储路径和项目名称" class="table-of-contents__link toc-highlight">1.8.6、指定项目的存储路径和项目名称</a></li><li><a href="#187为项目创建-dev-分支" class="table-of-contents__link toc-highlight">1.8.7、为项目创建 Dev 分支</a></li><li><a href="#188客户端创建-brinnatt-用户" class="table-of-contents__link toc-highlight">1.8.8、客户端创建 Brinnatt 用户</a></li><li><a href="#189公钥复制到-gitlab-中" class="table-of-contents__link toc-highlight">1.8.9、公钥复制到 gitlab 中</a></li><li><a href="#1810brinnatt-用户配置-git" class="table-of-contents__link toc-highlight">1.8.10、Brinnatt 用户配置 git</a></li><li><a href="#1811修改代码并提交到-main-分支" class="table-of-contents__link toc-highlight">1.8.11、修改代码并提交到 main 分支</a></li><li><a href="#1812eric-用户上传公钥到-gitlab" class="table-of-contents__link toc-highlight">1.8.12、Eric 用户上传公钥到 gitlab</a></li><li><a href="#1813eric-用户-clone-项目" class="table-of-contents__link toc-highlight">1.8.13、Eric 用户 clone 项目</a></li><li><a href="#1814eric-提交代码到-dev-分支" class="table-of-contents__link toc-highlight">1.8.14、Eric 提交代码到 dev 分支</a></li><li><a href="#1815eric-通过-gitlab-web-创建合并请求" class="table-of-contents__link toc-highlight">1.8.15、Eric 通过 gitlab web 创建合并请求</a></li><li><a href="#1816brinnatt-审查执行-merge" class="table-of-contents__link toc-highlight">1.8.16、Brinnatt 审查执行 merge</a></li></ul></li><li><a href="#19gitlab-备份与恢复" class="table-of-contents__link toc-highlight">1.9、Gitlab 备份与恢复</a><ul><li><a href="#191查看系统版本和软件版本" class="table-of-contents__link toc-highlight">1.9.1、查看系统版本和软件版本</a></li><li><a href="#192数据备份" class="table-of-contents__link toc-highlight">1.9.2、数据备份</a><ul><li><a href="#1921查看备份相关的配置项" class="table-of-contents__link toc-highlight">1.9.2.1、查看备份相关的配置项</a></li><li><a href="#1922执行备份命令进行备份" class="table-of-contents__link toc-highlight">1.9.2.2、执行备份命令进行备份</a></li><li><a href="#1923添加到-crontab-中定时执行" class="table-of-contents__link toc-highlight">1.9.2.3、添加到 crontab 中定时执行</a></li><li><a href="#1924设置备份保留时长" class="table-of-contents__link toc-highlight">1.9.2.4、设置备份保留时长</a></li></ul></li><li><a href="#193数据恢复" class="table-of-contents__link toc-highlight">1.9.3、数据恢复</a><ul><li><a href="#1931安装部署-gitlab-server" class="table-of-contents__link toc-highlight">1.9.3.1、安装部署 gitlab server</a></li><li><a href="#1932恢复-gitlab" class="table-of-contents__link toc-highlight">1.9.3.2、恢复 gitlab</a></li></ul></li></ul></li></ul></div></div></div></div></main></div></div><footer class="footer footer--dark"><div class="container container-fluid"><div class="row footer__links"><div class="col footer__col"><div class="footer__title">笔记</div><ul class="footer__items clean-list"><li class="footer__item"><a class="footer__link-item" href="/en/docs/category/存储">存储</a></li><li class="footer__item"><a class="footer__link-item" href="/en/tags">Tags</a></li><li class="footer__item"><a class="footer__link-item" href="/en/archive">Archive</a></li><li class="footer__item"><a class="footer__link-item" href="/en/project">Projects</a></li><li class="footer__item"><a class="footer__link-item" href="/en/docs/linux">Linux</a></li></ul></div><div class="col footer__col"><div class="footer__title">Social Media</div><ul class="footer__items clean-list"><li class="footer__item"><a class="footer__link-item" href="/en/about">About Me</a></li><li class="footer__item"><a href="https://github.com/zqingfa" target="_blank" rel="noopener noreferrer" class="footer__link-item">GitHub<svg width="13.5" height="13.5" aria-hidden="true" viewBox="0 0 24 24" class="iconExternalLink_nPIU"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"></path></svg></a></li><li class="footer__item"><a href="https://juejin.cn/" target="_blank" rel="noopener noreferrer" class="footer__link-item">Juejin<svg width="13.5" height="13.5" aria-hidden="true" viewBox="0 0 24 24" class="iconExternalLink_nPIU"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"></path></svg></a></li><li class="footer__item"><a href="https://discord.gg/" target="_blank" rel="noopener noreferrer" class="footer__link-item">Discord<svg width="13.5" height="13.5" aria-hidden="true" viewBox="0 0 24 24" class="iconExternalLink_nPIU"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"></path></svg></a></li></ul></div><div class="col footer__col"><div class="footer__title">More</div><ul class="footer__items clean-list"><li class="footer__item"><a class="footer__link-item" position="right" href="/en/friends">Friends</a></li><li class="footer__item"><a class="footer__link-item" position="right" href="/en/website">Links</a></li><li class="footer__item"><a href="https://docusaurus.io/zh-CN/" target="_blank"><img style="height:50px;margin-top:0.5rem" src="/img/buildwith.png"><a></a></li></ul></div></div><div class="footer__bottom text--center"><div class="footer__copyright"><p><a href="http://beian.miit.gov.cn/">浙ICP备20024502号-1</a></p><p>Copyright © 2022 – PRESENT zhangqf Built with Docusaurus.</p></div></div></div></footer></div>
<script src="/en/assets/js/runtime~main.403f05fc.js"></script>
<script src="/en/assets/js/main.4747bdb7.js"></script>
</body>
</html>