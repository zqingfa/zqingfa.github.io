<!doctype html>
<html lang="en-GB" dir="ltr" class="docs-wrapper docs-doc-page docs-version-current plugin-docs plugin-id-default docs-doc-id-linux/test/linux-test-3">
<head>
<meta charset="UTF-8">
<meta name="generator" content="Docusaurus v2.2.0">
<title data-rh="true">第 3 章 FIO 磁盘性能测试 - Linux技术分享</title><meta data-rh="true" name="viewport" content="width=device-width,initial-scale=1"><meta data-rh="true" name="twitter:card" content="summary_large_image"><meta data-rh="true" property="og:image" content="https://zhangqf.com/en/img/logo.png"><meta data-rh="true" name="twitter:image" content="https://zhangqf.com/en/img/logo.png"><meta data-rh="true" property="og:url" content="https://zhangqf.com/en/docs/linux-test-3"><meta data-rh="true" name="docusaurus_locale" content="en"><meta data-rh="true" name="docsearch:language" content="en"><meta data-rh="true" name="docusaurus_version" content="current"><meta data-rh="true" name="docusaurus_tag" content="docs-default-current"><meta data-rh="true" name="docsearch:version" content="current"><meta data-rh="true" name="docsearch:docusaurus_tag" content="docs-default-current"><meta data-rh="true" property="og:title" content="第 3 章 FIO 磁盘性能测试 - Linux技术分享"><meta data-rh="true" name="description" content="fio 是一个开源压力测试工具，主要用来测试硬盘 io 性能。这个工具的可定制性非常强，可以根据测试者的想法进行各种混合 io 测试，它支持 13 种不同类型 io 引擎（libaio、sync、mmap、posixaio、network 等等）。它可以测试块设备或文件，可以通过多线程或进程模拟各种 io 操作，可以测试统计 iops、带宽和时延等性能。我们主要使用 fio 工具进行存储性能测试。"><meta data-rh="true" property="og:description" content="fio 是一个开源压力测试工具，主要用来测试硬盘 io 性能。这个工具的可定制性非常强，可以根据测试者的想法进行各种混合 io 测试，它支持 13 种不同类型 io 引擎（libaio、sync、mmap、posixaio、network 等等）。它可以测试块设备或文件，可以通过多线程或进程模拟各种 io 操作，可以测试统计 iops、带宽和时延等性能。我们主要使用 fio 工具进行存储性能测试。"><meta data-rh="true" name="keywords" content="linux,fio"><link data-rh="true" rel="icon" href="/en/img/favicon.ico"><link data-rh="true" rel="canonical" href="https://zhangqf.com/en/docs/linux-test-3"><link data-rh="true" rel="alternate" href="https://zhangqf.com/en/docs/linux-test-3" hreflang="en-GB"><link data-rh="true" rel="alternate" href="https://zhangqf.com/docs/linux-test-3" hreflang="zh"><link data-rh="true" rel="alternate" href="https://zhangqf.com/docs/linux-test-3" hreflang="x-default"><link data-rh="true" rel="preconnect" href="https://9B0V5WT2X8-dsn.algolia.net" crossorigin="anonymous"><link rel="preconnect" href="https://www.google-analytics.com">
<link rel="preconnect" href="https://www.googletagmanager.com">
<script async src="https://www.googletagmanager.com/gtag/js?id=G-S4SD5NXWXF"></script>
<script>function gtag(){dataLayer.push(arguments)}window.dataLayer=window.dataLayer||[],gtag("js",new Date),gtag("config","G-S4SD5NXWXF",{anonymize_ip:!0})</script>


<link rel="search" type="application/opensearchdescription+xml" title="Linux技术分享" href="/en/opensearch.xml">
<link rel="preconnect" href="https://zhangqf.com/">
<script>var _paq=window._paq=window._paq||[];_paq.push(["setRequestMethod","POST"]),_paq.push(["trackPageView"]),_paq.push(["enableLinkTracking"]),_paq.push(["enableHeartBeatTimer"]),function(){var e="https://zhangqf.com/";_paq.push(["setRequestMethod","POST"]),_paq.push(["setTrackerUrl",e+"matomo.php"]),_paq.push(["setSiteId","1"]);var a=document,t=a.createElement("script"),p=a.getElementsByTagName("script")[0];t.type="text/javascript",t.async=!0,t.src=e+"matomo.js",p.parentNode.insertBefore(t,p)}()</script>


<script>var _hmt=_hmt||[];!function(){var e=document.createElement("script");e.src="https://hm.baidu.com/hm.js?c9a3849aa75f9c4a4e65f846cd1a5155",e.defer=!0;var t=document.getElementsByTagName("script")[0];t.parentNode.insertBefore(e,t)}()</script>
<meta name="baidu-site-verification" content="code-rqLUw5reVS">
<script>!function(){var t=document.createElement("script"),e=window.location.protocol.split(":")[0];t.src="https"===e?"https://zz.bdstatic.com/linksubmit/push.js":"http://push.zhanzhang.baidu.com/push.js",t.defer=!0;var s=document.getElementsByTagName("script")[0];s.parentNode.insertBefore(t,s)}()</script>
<link rel="alternate" type="application/rss+xml" href="/en/rss.xml" title="zhangqf RSS Feed">
<link rel="alternate" type="application/atom+xml" href="/en/atom.xml" title="zhangqf Atom Feed">
<link rel="alternate" type="application/json" href="/en/feed.json" title="zhangqf JSON Feed">

<link rel="icon" href="/en/img/logo.png">
<link rel="manifest" href="/en/manifest.json">
<meta name="theme-color" content="rgb(51 139 255)"><link rel="stylesheet" href="/en/assets/css/styles.86c9ae18.css">
<link rel="preload" href="/en/assets/js/runtime~main.06ffa367.js" as="script">
<link rel="preload" href="/en/assets/js/main.7f2e5564.js" as="script">
</head>
<body class="navigation-with-keyboard">
<script>!function(){function t(t){document.documentElement.setAttribute("data-theme",t)}var e=function(){var t=null;try{t=localStorage.getItem("theme")}catch(t){}return t}();t(null!==e?e:"light")}(),document.documentElement.setAttribute("data-announcement-bar-initially-dismissed",function(){try{return"true"===localStorage.getItem("docusaurus.announcement.dismiss")}catch(t){}return!1}())</script><div id="__docusaurus">
<div role="region" aria-label="Skip to main content"><a class="skipToContent_fXgn" href="#docusaurus_skipToContent_fallback">Skip to main content</a></div><div class="announcementBar_mb4j" role="banner"><div class="announcementBarPlaceholder_vyr4"></div><div class="content_knG7 announcementBarContent_xLdY"><span>更新 <a href="/website">网址导航</a> 带你发现感兴趣的技术</span></div><button type="button" aria-label="Close" class="clean-btn close closeButton_CVFx announcementBarClose_gvF7"><svg viewBox="0 0 15 15" width="14" height="14"><g stroke="currentColor" stroke-width="3.1"><path d="M.75.75l13.5 13.5M14.25.75L.75 14.25"></path></g></svg></button></div><nav class="navbar navbar--fixed-top navbarHideable_m1mJ"><div class="navbar__inner"><div class="navbar__items"><button aria-label="Toggle navigation bar" aria-expanded="false" class="navbar__toggle clean-btn" type="button"><svg width="30" height="30" viewBox="0 0 30 30" aria-hidden="true"><path stroke="currentColor" stroke-linecap="round" stroke-miterlimit="10" stroke-width="2" d="M4 7h22M4 15h22M4 23h22"></path></svg></button><a class="navbar__brand" href="/en/"><div class="navbar__logo"><img src="/en/img/logo.webp" alt="zhangqf" class="themedImage_ToTc themedImage--light_HNdA"><img src="/en/img/logo.webp" alt="zhangqf" class="themedImage_ToTc themedImage--dark_i4oU"></div><b class="navbar__title text--truncate">kuizuo</b></a></div><div class="navbar__items navbar__items--right"><div class="navbar__item dropdown dropdown--hoverable dropdown--right"><a class="navbar__link" aria-haspopup="true" aria-expanded="false" role="button" href="/en/docs/linux">Linux</a><ul class="dropdown__menu"><li><a class="dropdown__link" href="/en/docs/category/Linux基础">Linux 基础</a></li><li><a class="dropdown__link" href="/en/docs/category/Linux进阶">Linux 进阶</a></li><li><a class="dropdown__link" href="/en/docs/category/Linux测试">Linux 测试</a></li><li><a class="dropdown__link" href="/en/docs/category/LinuxCICD">Linux CICD研发</a></li><li><a class="dropdown__link" href="/en/docs/skill/">Notes</a></li><li><a class="dropdown__link" href="/en/docs/tools/">Recommended Tools</a></li></ul></div><div class="navbar__item dropdown dropdown--hoverable dropdown--right"><a href="#" aria-haspopup="true" aria-expanded="false" role="button" class="navbar__link">Blog</a><ul class="dropdown__menu"><li><a class="dropdown__link" href="/en/tags">Tags</a></li><li><a class="dropdown__link" href="/en/archive">Archive</a></li></ul></div><div class="navbar__item dropdown dropdown--hoverable dropdown--right"><a href="#" aria-haspopup="true" aria-expanded="false" role="button" class="navbar__link">Tools</a><ul class="dropdown__menu"><li><a href="https://api.kuizuo.cn" target="_blank" rel="noopener noreferrer" class="dropdown__link">API Service</a></li><li><a href="https://js-de-obfuscator.vercel.app" target="_blank" rel="noopener noreferrer" class="dropdown__link">JS Deobfuscate</a></li><li><a href="https://cipher.kuizuo.cn" target="_blank" rel="noopener noreferrer" class="dropdown__link">CyberChef Encryption</a></li><li><a href="https://pan.kuizuo.cn" target="_blank" rel="noopener noreferrer" class="dropdown__link">Cloudreve</a></li></ul></div><a class="navbar__item navbar__link" href="/en/website">Links</a><a class="navbar__item navbar__link" href="/en/project">Projects</a><div class="toggle_vylO colorModeToggle_DEke"><button class="clean-btn toggleButton_gllP toggleButtonDisabled_aARS" type="button" disabled="" title="Switch between dark and light mode (currently light mode)" aria-label="Switch between dark and light mode (currently light mode)" aria-live="polite"><svg viewBox="0 0 24 24" width="24" height="24" class="lightToggleIcon_pyhR"><path fill="currentColor" d="M12,9c1.65,0,3,1.35,3,3s-1.35,3-3,3s-3-1.35-3-3S10.35,9,12,9 M12,7c-2.76,0-5,2.24-5,5s2.24,5,5,5s5-2.24,5-5 S14.76,7,12,7L12,7z M2,13l2,0c0.55,0,1-0.45,1-1s-0.45-1-1-1l-2,0c-0.55,0-1,0.45-1,1S1.45,13,2,13z M20,13l2,0c0.55,0,1-0.45,1-1 s-0.45-1-1-1l-2,0c-0.55,0-1,0.45-1,1S19.45,13,20,13z M11,2v2c0,0.55,0.45,1,1,1s1-0.45,1-1V2c0-0.55-0.45-1-1-1S11,1.45,11,2z M11,20v2c0,0.55,0.45,1,1,1s1-0.45,1-1v-2c0-0.55-0.45-1-1-1C11.45,19,11,19.45,11,20z M5.99,4.58c-0.39-0.39-1.03-0.39-1.41,0 c-0.39,0.39-0.39,1.03,0,1.41l1.06,1.06c0.39,0.39,1.03,0.39,1.41,0s0.39-1.03,0-1.41L5.99,4.58z M18.36,16.95 c-0.39-0.39-1.03-0.39-1.41,0c-0.39,0.39-0.39,1.03,0,1.41l1.06,1.06c0.39,0.39,1.03,0.39,1.41,0c0.39-0.39,0.39-1.03,0-1.41 L18.36,16.95z M19.42,5.99c0.39-0.39,0.39-1.03,0-1.41c-0.39-0.39-1.03-0.39-1.41,0l-1.06,1.06c-0.39,0.39-0.39,1.03,0,1.41 s1.03,0.39,1.41,0L19.42,5.99z M7.05,18.36c0.39-0.39,0.39-1.03,0-1.41c-0.39-0.39-1.03-0.39-1.41,0l-1.06,1.06 c-0.39,0.39-0.39,1.03,0,1.41s1.03,0.39,1.41,0L7.05,18.36z"></path></svg><svg viewBox="0 0 24 24" width="24" height="24" class="darkToggleIcon_wfgR"><path fill="currentColor" d="M9.37,5.51C9.19,6.15,9.1,6.82,9.1,7.5c0,4.08,3.32,7.4,7.4,7.4c0.68,0,1.35-0.09,1.99-0.27C17.45,17.19,14.93,19,12,19 c-3.86,0-7-3.14-7-7C5,9.07,6.81,6.55,9.37,5.51z M12,3c-4.97,0-9,4.03-9,9s4.03,9,9,9s9-4.03,9-9c0-0.46-0.04-0.92-0.1-1.36 c-0.98,1.37-2.58,2.26-4.4,2.26c-2.98,0-5.4-2.42-5.4-5.4c0-1.81,0.89-3.42,2.26-4.4C12.92,3.04,12.46,3,12,3L12,3z"></path></svg></button></div><div class="searchBox_ZlJk"><button type="button" class="DocSearch DocSearch-Button" aria-label="Search"><span class="DocSearch-Button-Container"><svg width="20" height="20" class="DocSearch-Search-Icon" viewBox="0 0 20 20"><path d="M14.386 14.386l4.0877 4.0877-4.0877-4.0877c-2.9418 2.9419-7.7115 2.9419-10.6533 0-2.9419-2.9418-2.9419-7.7115 0-10.6533 2.9418-2.9419 7.7115-2.9419 10.6533 0 2.9419 2.9418 2.9419 7.7115 0 10.6533z" stroke="currentColor" fill="none" fill-rule="evenodd" stroke-linecap="round" stroke-linejoin="round"></path></svg><span class="DocSearch-Button-Placeholder">Search</span></span><span class="DocSearch-Button-Keys"></span></button></div></div></div><div role="presentation" class="navbar-sidebar__backdrop"></div></nav><div id="docusaurus_skipToContent_fallback" class="main-wrapper mainWrapper_z2l0 docsWrapper_BCFX"><button aria-label="Scroll back to top" class="clean-btn theme-back-to-top-button backToTopButton_sjWU" type="button"></button><div class="docPage__5DB"><aside class="theme-doc-sidebar-container docSidebarContainer_b6E3"><div class="sidebar_njMd sidebarWithHideableNavbar_wUlq"><a tabindex="-1" class="sidebarLogo_isFc" href="/en/"><img src="/en/img/logo.webp" alt="zhangqf" class="themedImage_ToTc themedImage--light_HNdA"><img src="/en/img/logo.webp" alt="zhangqf" class="themedImage_ToTc themedImage--dark_i4oU"><b>kuizuo</b></a><nav class="menu thin-scrollbar menu_SIkG menuWithAnnouncementBar_GW3s"><ul class="theme-doc-sidebar-menu menu__list"><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-1 menu__list-item"><a class="menu__link" href="/en/docs/linux">linux</a></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist" aria-expanded="false" href="/en/docs/category/linux基础">Linux基础</a><button aria-label="Toggle the collapsible sidebar category &#x27;Linux基础&#x27;" type="button" class="clean-btn menu__caret"></button></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist" aria-expanded="false" href="/en/docs/category/linux进阶">Linux进阶</a><button aria-label="Toggle the collapsible sidebar category &#x27;Linux进阶&#x27;" type="button" class="clean-btn menu__caret"></button></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist menu__link--active" aria-expanded="true" href="/en/docs/category/linux测试">Linux测试</a><button aria-label="Toggle the collapsible sidebar category &#x27;Linux测试&#x27;" type="button" class="clean-btn menu__caret"></button></div><ul style="display:block;overflow:visible;height:auto" class="menu__list"><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/en/docs/linux-test-1">第 1 章 SPEC CPU 2017 测试</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/en/docs/linux-test-2">第 2 章 STREAM 内存测试</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link menu__link--active" aria-current="page" tabindex="0" href="/en/docs/linux-test-3">第 3 章 FIO 磁盘性能测试</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/en/docs/linux-test-4">第 4 章 Netperf 网络测试</a></li></ul></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist" aria-expanded="false" href="/en/docs/category/linuxcicd">LinuxCICD</a><button aria-label="Toggle the collapsible sidebar category &#x27;LinuxCICD&#x27;" type="button" class="clean-btn menu__caret"></button></div></li></ul></nav><button type="button" title="Collapse sidebar" aria-label="Collapse sidebar" class="button button--secondary button--outline collapseSidebarButton_PEFL"><svg width="20" height="20" aria-hidden="true" class="collapseSidebarButtonIcon_kv0_"><g fill="#7a7a7a"><path d="M9.992 10.023c0 .2-.062.399-.172.547l-4.996 7.492a.982.982 0 01-.828.454H1c-.55 0-1-.453-1-1 0-.2.059-.403.168-.551l4.629-6.942L.168 3.078A.939.939 0 010 2.528c0-.548.45-.997 1-.997h2.996c.352 0 .649.18.828.45L9.82 9.472c.11.148.172.347.172.55zm0 0"></path><path d="M19.98 10.023c0 .2-.058.399-.168.547l-4.996 7.492a.987.987 0 01-.828.454h-3c-.547 0-.996-.453-.996-1 0-.2.059-.403.168-.551l4.625-6.942-4.625-6.945a.939.939 0 01-.168-.55 1 1 0 01.996-.997h3c.348 0 .649.18.828.45l4.996 7.492c.11.148.168.347.168.55zm0 0"></path></g></svg></button></div></aside><main class="docMainContainer_gTbr"><div class="container padding-top--md padding-bottom--lg"><div class="row"><div class="col docItemCol_VOVn"><div class="docItemContainer_Djhp"><article><nav class="theme-doc-breadcrumbs breadcrumbsContainer_Z_bl" aria-label="Breadcrumbs"><ul class="breadcrumbs" itemscope="" itemtype="https://schema.org/BreadcrumbList"><li class="breadcrumbs__item"><a aria-label="Home page" class="breadcrumbs__link" href="/en/"><svg viewBox="0 0 24 24" class="breadcrumbHomeIcon_OVgt"><path d="M10 19v-5h4v5c0 .55.45 1 1 1h3c.55 0 1-.45 1-1v-7h1.7c.46 0 .68-.57.33-.87L12.67 3.6c-.38-.34-.96-.34-1.34 0l-8.36 7.53c-.34.3-.13.87.33.87H5v7c0 .55.45 1 1 1h3c.55 0 1-.45 1-1z" fill="currentColor"></path></svg></a></li><li itemscope="" itemprop="itemListElement" itemtype="https://schema.org/ListItem" class="breadcrumbs__item"><a class="breadcrumbs__link" itemprop="item" href="/en/docs/category/linux测试"><span itemprop="name">Linux测试</span></a><meta itemprop="position" content="1"></li><li itemscope="" itemprop="itemListElement" itemtype="https://schema.org/ListItem" class="breadcrumbs__item breadcrumbs__item--active"><span class="breadcrumbs__link" itemprop="name">第 3 章 FIO 磁盘性能测试</span><meta itemprop="position" content="2"></li></ul></nav><div class="tocCollapsible_ETCw theme-doc-toc-mobile tocMobile_ITEo"><button type="button" class="clean-btn tocCollapsibleButton_TO0P">On this page</button></div><div class="theme-doc-markdown markdown"><header><h1>第 3 章 FIO 磁盘性能测试</h1></header><p>fio 是一个开源压力测试工具，主要用来测试硬盘 io 性能。这个工具的可定制性非常强，可以根据测试者的想法进行各种混合 io 测试，它支持 13 种不同类型 io 引擎（libaio、sync、mmap、posixaio、network 等等）。它可以测试块设备或文件，可以通过多线程或进程模拟各种 io 操作，可以测试统计 iops、带宽和时延等性能。我们主要使用 fio 工具进行存储性能测试。</p><h2 class="anchor anchorWithHideOnScrollNavbar_WYt5" id="31磁盘性能基础知识">3.1、磁盘性能基础知识<a class="hash-link" href="#31磁盘性能基础知识" title="Direct link to heading">​</a></h2><p>虽然现在大范围的使用 SSD，但是在一些存储系统中 HDD 还是大批量被使用，毕竟便宜；SSD 固态硬盘通过电存储，HDD 机械硬盘通过机械运动存储，很明显 SSD 在存储性能上有先天优势；影响 SSD 性能的主要因素有存储主控芯片的设计、闪存单元设计，当然还有工艺水平。目前 SSD 主控芯片设计最前沿的技术在 Intel 手上，Intel SSD 性能是目前最好的。关于 SSD 更多常识可以参见 <a href="https://www.brinnatt.com/primary/%e7%ac%ac-5-%e7%ab%a0-linux-%e7%a3%81%e7%9b%98%e7%ae%a1%e7%90%86/#52%E3%80%81%E5%9B%BA%E6%80%81%E7%A1%AC%E7%9B%98" target="_blank" rel="noopener noreferrer">Linux Disk Manage SSD</a>。</p><p>针对 HDD 机械硬盘的性能，数据的读写有 95% 的耗时是消耗在机械运动上，一次数据操作为一次 IO 服务，它包括以下几个环节：</p><ol><li>寻道时间，是指将读写磁头移动至正确的磁道上所需要的时间。寻道时间越短，I/O 操作越快，目前磁盘的平均寻道时间一般在 3－15ms；</li><li>旋转延迟，是指盘片旋转将请求数据所在扇区移至读写磁头下方所需要的时间。旋转延迟取决于磁盘转速，通常使用磁盘旋转一周所需时间的 1/2 表示。比如，7200rpm 的磁盘平均旋转延迟大约为 60<!-- -->*<!-- -->1000/7200/2 = 4.17ms</li><li>内部接口传送时间，即从磁盘盘片到内部磁盘缓冲传送的时间，量级是 440 微秒。</li><li>外部接口传输时间，即从磁盘缓冲到接口传送的时间，量级是 110 微秒。</li></ol><p>对于一个确定的磁盘，旋转延迟保持不变，而内部接口传送时间和外部接口传输时间微秒级别，基本可以忽略不计，那么影响 HDD 性能核心就是寻道时间；</p><p><strong>对磁盘性能的度量有两个指标：IOPS，IO 吞吐/带宽；</strong></p><ol><li>IOPS 指的是每秒可以完成的 IO 服务的次数，一次 IO 服务主要的耗时是寻道时间上，如果是大量的随机 IO，那么每次寻道时间都处于上限值，IOPS 下降；<ul><li>理论上下限 = <!-- -->[<!-- -->1000ms/(3ms+4.17ms)，1000ms/(15ms+4ms)<!-- -->]<!-- --> = <!-- -->[<!-- -->139，53<!-- -->]<!-- -->；但是真实环境下，一个磁盘 IOPS 的值受每次 IO 读写的数据大小，比如 512B，4k，1M 等各个值下 IOPS 肯定是有区别的；</li></ul></li><li>IO 吞吐表示在指定时间内，完成的 IO 读写数据字节数，它的值和每次 IO 读写的数据大小有密切关系，也从而会影响 IOPS，比如每次读写数据块较大，从而最大化的降低了寻道带来的开销，从而提高吞吐，但是此时 IOPS 就会减小；</li></ol><p>实例说明：写入 10000 个大小为 1kb 的文件到硬盘上，耗费的时间要比写入 10 个 1mb 大小的文件多得多。</p><ul><li>虽然数据总量都是 10mb，但是 10000 个 1kb 大小的文件在磁道上数据分布不连续，可能需要上千个 IOPS 才能完成数据的全部读取，大大增加了寻道时间，耗时长。<ul><li><strong>这种情况用来指导 HDD IOPS 性能测试，即小数据块多请求次数测试。</strong></li></ul></li><li>相比较而言，10 个 1mb 大小的文件在磁道上数据分布连续性更好，可能只需要十几个 IOPS 就能完成数据的全部读取，大大降低了寻道时间，耗时少。<ul><li><strong>这种情况用来指导 HDD IO 吞吐/带宽性能测试，即大数据块少请求次数测试。</strong></li></ul></li></ul><p>对磁盘性能 IOPS 和 IO 吞吐的追求与业务有密切关系，比如大文件存储希望吞吐可以做到最高，而小文件或随机读写的业务更加追求 IOPS；如果业务对吞吐和 IOPS 都有一定依赖，那么就需要找到一个合适的 blocksize 来设置每次 IO 大小，从而在 IOPS 和吞吐之间均衡，即（IOPS × block<!-- -->_<!-- -->size = IO 吞吐）；</p><p>提供 IO 性能的方法：</p><ol><li>IO 合并，即将多个 IO 请求进行合并；</li><li>IO 拆封，采用 raid 等磁盘阵列，将一个普通 IO 请求，并发的分发到多个物理磁盘，提供 IO 吞吐；</li><li>IO 大 cache，每次 IO 写操作都不直接写到物理设备，而是存储在 IO cache 中，直到 cache 满了再更新到磁盘设备中；</li><li>IO 预读 Buffer，通过 IO 预判读，虽然一次只读 4k，但是预判 512k 到 buffer，当然这个对 4k 以下的应用来说是一个坑。</li></ol><p><em>NOTE：在计算机程序设计当中，往往从时间局部性、空间局部性及缓存命中率几个角度对程序进行性能优化，而且在计算机领域，这种局部性原理都是通用的。</em></p><h2 class="anchor anchorWithHideOnScrollNavbar_WYt5" id="32fio-安装">3.2、fio 安装<a class="hash-link" href="#32fio-安装" title="Direct link to heading">​</a></h2><p>fio 源码下载地址：<a href="https://github.com/axboe/fio/tags" target="_blank" rel="noopener noreferrer">https://github.com/axboe/fio/tags</a>
根据测试需求，选择对应的 fio 版本进行测试。</p><h3 class="anchor anchorWithHideOnScrollNavbar_WYt5" id="321安装前准备工作">3.2.1、安装前准备工作<a class="hash-link" href="#321安装前准备工作" title="Direct link to heading">​</a></h3><p>由于 fio 工具为源码形式，需要确认系统安装有 gcc 编译器能够用来编译 fio。确认系统安装有 libaio 和 libaio-devel，如果没有安装这两个包，fio 工具不能使用异步的 libaio 引擎。</p><div class="language-bash codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#000000;--prism-background-color:#ffffff"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-bash codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#000000"><span class="token punctuation" style="color:rgb(4, 81, 165)">[</span><span class="token plain">root@arm64v8 ~</span><span class="token punctuation" style="color:rgb(4, 81, 165)">]</span><span class="token comment" style="color:rgb(0, 128, 0)"># yum install gcc libaio libaio-devel -y</span><span class="token plain"></span><br></span><span class="token-line" style="color:#000000"><span class="token plain"></span><span class="token punctuation" style="color:rgb(4, 81, 165)">[</span><span class="token plain">root@arm64v8 ~</span><span class="token punctuation" style="color:rgb(4, 81, 165)">]</span><span class="token comment" style="color:rgb(0, 128, 0)"># rpm -qa | grep -E &quot;libaio|gcc&quot;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#000000"><span class="token plain">libgcc-7.3.0-20190804.h30.ky10.aarch64</span><br></span><span class="token-line" style="color:#000000"><span class="token plain">gcc-gfortran-7.3.0-20190804.h30.ky10.aarch64</span><br></span><span class="token-line" style="color:#000000"><span class="token plain">gcc-c++-7.3.0-20190804.h30.ky10.aarch64</span><br></span><span class="token-line" style="color:#000000"><span class="token plain">gcc-7.3.0-20190804.h30.ky10.aarch64</span><br></span><span class="token-line" style="color:#000000"><span class="token plain">libaio-devel-0.3.111-5.ky10.aarch64</span><br></span><span class="token-line" style="color:#000000"><span class="token plain">libaio-0.3.111-5.ky10.aarch64</span><br></span><span class="token-line" style="color:#000000"><span class="token plain"></span><span class="token punctuation" style="color:rgb(4, 81, 165)">[</span><span class="token plain">root@arm64v8 ~</span><span class="token punctuation" style="color:rgb(4, 81, 165)">]</span><span class="token comment" style="color:rgb(0, 128, 0)">#</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg class="copyButtonIcon_y97N" viewBox="0 0 24 24"><path d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg class="copyButtonSuccessIcon_LjdS" viewBox="0 0 24 24"><path d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><h3 class="anchor anchorWithHideOnScrollNavbar_WYt5" id="322安装">3.2.2、安装<a class="hash-link" href="#322安装" title="Direct link to heading">​</a></h3><div class="language-bash codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#000000;--prism-background-color:#ffffff"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-bash codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#000000"><span class="token punctuation" style="color:rgb(4, 81, 165)">[</span><span class="token plain">root@arm64v8 ~</span><span class="token punctuation" style="color:rgb(4, 81, 165)">]</span><span class="token comment" style="color:rgb(0, 128, 0)"># git clone https://github.com/axboe/fio.git</span><span class="token plain"></span><br></span><span class="token-line" style="color:#000000"><span class="token plain"></span><span class="token punctuation" style="color:rgb(4, 81, 165)">[</span><span class="token plain">root@arm64v8 ~</span><span class="token punctuation" style="color:rgb(4, 81, 165)">]</span><span class="token comment" style="color:rgb(0, 128, 0)"># cd fio/</span><span class="token plain"></span><br></span><span class="token-line" style="color:#000000"><span class="token plain"></span><span class="token punctuation" style="color:rgb(4, 81, 165)">[</span><span class="token plain">root@arm64v8 fio</span><span class="token punctuation" style="color:rgb(4, 81, 165)">]</span><span class="token comment" style="color:rgb(0, 128, 0)"># ./configure</span><span class="token plain"></span><br></span><span class="token-line" style="color:#000000"><span class="token plain"></span><span class="token punctuation" style="color:rgb(4, 81, 165)">[</span><span class="token plain">root@arm64v8 fio</span><span class="token punctuation" style="color:rgb(4, 81, 165)">]</span><span class="token comment" style="color:rgb(0, 128, 0)"># make</span><span class="token plain"></span><br></span><span class="token-line" style="color:#000000"><span class="token plain"></span><span class="token punctuation" style="color:rgb(4, 81, 165)">[</span><span class="token plain">root@arm64v8 fio</span><span class="token punctuation" style="color:rgb(4, 81, 165)">]</span><span class="token comment" style="color:rgb(0, 128, 0)"># make install</span><span class="token plain"></span><br></span><span class="token-line" style="color:#000000"><span class="token plain"></span><span class="token function" style="color:rgb(0, 0, 255)">install</span><span class="token plain"> -m </span><span class="token number" style="color:rgb(9, 134, 88)">755</span><span class="token plain"> -d /usr/local/bin</span><br></span><span class="token-line" style="color:#000000"><span class="token plain"></span><span class="token function" style="color:rgb(0, 0, 255)">install</span><span class="token plain"> fio t/fio-genzipf t/fio-btrace2fio t/fio-dedupe t/fio-verify-state ./tools/fio_generate_plots ./tools/plot/fio2gnuplot ./tools/genfio ./tools/fiologparser.py ./tools/hist/fiologparser_hist.py ./tools/hist/fio-histo-log-pctiles.py ./tools/fio_jsonplus_clat2csv /usr/local/bin</span><br></span><span class="token-line" style="color:#000000"><span class="token plain"></span><span class="token function" style="color:rgb(0, 0, 255)">install</span><span class="token plain"> -m </span><span class="token number" style="color:rgb(9, 134, 88)">755</span><span class="token plain"> -d /usr/local/man/man1</span><br></span><span class="token-line" style="color:#000000"><span class="token plain"></span><span class="token function" style="color:rgb(0, 0, 255)">install</span><span class="token plain"> -m </span><span class="token number" style="color:rgb(9, 134, 88)">644</span><span class="token plain"> ./fio.1 /usr/local/man/man1</span><br></span><span class="token-line" style="color:#000000"><span class="token plain"></span><span class="token function" style="color:rgb(0, 0, 255)">install</span><span class="token plain"> -m </span><span class="token number" style="color:rgb(9, 134, 88)">644</span><span class="token plain"> ./tools/fio_generate_plots.1 /usr/local/man/man1</span><br></span><span class="token-line" style="color:#000000"><span class="token plain"></span><span class="token function" style="color:rgb(0, 0, 255)">install</span><span class="token plain"> -m </span><span class="token number" style="color:rgb(9, 134, 88)">644</span><span class="token plain"> ./tools/plot/fio2gnuplot.1 /usr/local/man/man1</span><br></span><span class="token-line" style="color:#000000"><span class="token plain"></span><span class="token function" style="color:rgb(0, 0, 255)">install</span><span class="token plain"> -m </span><span class="token number" style="color:rgb(9, 134, 88)">644</span><span class="token plain"> ./tools/hist/fiologparser_hist.py.1 /usr/local/man/man1</span><br></span><span class="token-line" style="color:#000000"><span class="token plain"></span><span class="token function" style="color:rgb(0, 0, 255)">install</span><span class="token plain"> -m </span><span class="token number" style="color:rgb(9, 134, 88)">755</span><span class="token plain"> -d /usr/local/share/fio</span><br></span><span class="token-line" style="color:#000000"><span class="token plain"></span><span class="token function" style="color:rgb(0, 0, 255)">install</span><span class="token plain"> -m </span><span class="token number" style="color:rgb(9, 134, 88)">644</span><span class="token plain"> ./tools/plot/*gpm /usr/local/share/fio/</span><br></span><span class="token-line" style="color:#000000"><span class="token plain"></span><span class="token punctuation" style="color:rgb(4, 81, 165)">[</span><span class="token plain">root@arm64v8 fio</span><span class="token punctuation" style="color:rgb(4, 81, 165)">]</span><span class="token comment" style="color:rgb(0, 128, 0)">#</span><span class="token plain"></span><br></span><span class="token-line" style="color:#000000"><span class="token plain"></span><span class="token punctuation" style="color:rgb(4, 81, 165)">[</span><span class="token plain">root@arm64v8 fio</span><span class="token punctuation" style="color:rgb(4, 81, 165)">]</span><span class="token comment" style="color:rgb(0, 128, 0)"># fio -v</span><span class="token plain"></span><br></span><span class="token-line" style="color:#000000"><span class="token plain">fio-3.29-7-g01686</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg class="copyButtonIcon_y97N" viewBox="0 0 24 24"><path d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg class="copyButtonSuccessIcon_LjdS" viewBox="0 0 24 24"><path d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><ul><li><p>如果在安装 fio 前未安装 libaio 和 libaio-devel，那么安装了 libaio 和 libaio-devel 后需要重新编译安装 fio，不然也无法使用异步引擎 libaio。重新编译安装 fio 方法如下：进入 fio 目录，执行以下命令：</p><div class="language-bash codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#000000;--prism-background-color:#ffffff"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-bash codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#000000"><span class="token punctuation" style="color:rgb(4, 81, 165)">[</span><span class="token plain">root@arm64v8 fio</span><span class="token punctuation" style="color:rgb(4, 81, 165)">]</span><span class="token comment" style="color:rgb(0, 128, 0)"># make clean</span><span class="token plain"></span><br></span><span class="token-line" style="color:#000000"><span class="token plain"></span><span class="token punctuation" style="color:rgb(4, 81, 165)">[</span><span class="token plain">root@arm64v8 fio</span><span class="token punctuation" style="color:rgb(4, 81, 165)">]</span><span class="token comment" style="color:rgb(0, 128, 0)"># ./configure</span><span class="token plain"></span><br></span><span class="token-line" style="color:#000000"><span class="token plain"></span><span class="token punctuation" style="color:rgb(4, 81, 165)">[</span><span class="token plain">root@arm64v8 fio</span><span class="token punctuation" style="color:rgb(4, 81, 165)">]</span><span class="token comment" style="color:rgb(0, 128, 0)"># make &amp;&amp; make install</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg class="copyButtonIcon_y97N" viewBox="0 0 24 24"><path d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg class="copyButtonSuccessIcon_LjdS" viewBox="0 0 24 24"><path d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div></li></ul><h2 class="anchor anchorWithHideOnScrollNavbar_WYt5" id="33使用指导">3.3、使用指导<a class="hash-link" href="#33使用指导" title="Direct link to heading">​</a></h2><p>fio 是可以根据测试要求配置不同参数进行 io 性能测试的工具，可配置的参数有上百个，几乎可以覆盖所有的 io 模型，详细参数可查询 fio 的官网获取：<a href="https://fio.readthedocs.io/en/latest/fio_doc.html" target="_blank" rel="noopener noreferrer">https://fio.readthedocs.io/en/latest/fio<!-- -->_<!-- -->doc.html</a>。</p><p>存储性能测试中常用的参数如下所示：</p><table><thead><tr><th>参数</th><th>参数值</th><th>解释</th></tr></thead><tbody><tr><td>filename</td><td>设备名或文件名<br>如：裸设备 /dev/sdb，文件 /home/test.img</td><td>定义测试对象，一般是设备或者文件。如果想测试裸盘设备 /dev/sdb，可以设置 filename=/dev/sdb；如果想要测试文件系统性能，则可以设置 filename=/home/test.img</td></tr><tr><td>name</td><td>测试名称</td><td>定义测试名称。必填项，本地 fio 测试的名称，对性能没有影响。</td></tr><tr><td>rw</td><td>测试类型，可选值有：read，write，rw，randread，randwrite，randrw</td><td>定义测试的读写类型：read-顺序读，write-顺序写，rw(readwrite)- 混合顺序读写，randread- 随机读，randwrite-随机写，randrw-混合随机读写。对于读写混合类型来说，默认读写比例为 1:1</td></tr><tr><td>rwmixwrite<br>rwmixread</td><td>混合读写中读写占用比例，可选值为<!-- -->[<!-- -->0,100<!-- -->]</td><td>定义在混合读写模式中，写或读所占的比例。举例来说，rwmixread 值为 10，则表示读写比为 10:90。</td></tr><tr><td>ioengine</td><td>io 引擎选择，可选值有 sync、libaio、psync、vsync、mmap 等等</td><td>定义 fio 如何下发 io 请求。sync：基本的 read、write io。 libaio：linux 原生的异步 io，linux 只支持 non-buffer 情况下的排队操作。默认值为 psync，该模式为同步 io 模型，异步 io 模型 libaio，一般结合 direct=1 使用。</td></tr><tr><td>direct</td><td>0 或 1</td><td>定义是否使用 direct io：值为 0，表示使用 buffered io；值为 1，表示使用 direct io。</td></tr><tr><td>bs</td><td>带单位数字</td><td>定义 io 的块大小，单位是 k，K，m，M。默认值为 4k。</td></tr><tr><td>numjobs</td><td>正整数</td><td>定义测试的进程/线程数，默认值为 1，如果指定了 thread 参数，则使用单进程多线程模式，否则使用多进程模式。</td></tr><tr><td>iodepth</td><td>正整数</td><td>定义每个进程/线程可以同时下发的 io 任务数，默认为 1，适用于异步 io 场景，同步 io 场景要等前一个 io 任务完成才能下发下一个任务，所以 iodepth 并不起作用。</td></tr></tbody></table><p>其他相关参数：</p><table><thead><tr><th>参数</th><th>参数值</th><th>解释</th></tr></thead><tbody><tr><td>size</td><td>整数</td><td>定义 io 操作的数据量，除非指定了 runtime 这个参数，fio 会将指定大小的数据量全部读写完成，才会停止测试。<br>该参数的值，可以是带单位的数字，比如 size=2G，表示读/写的数据量为 2G；<br>也可以是百分比，比如 size=20%，表示读写的数据量占该设备/文件的 20% 的空间；<br>除了表示 io 操作数据量，size 还表示 io 操作的范围，与 offset 配合一起读写<!-- -->[<!-- -->offset,offset+size<!-- -->]<!-- -->范围内的数据。</td></tr><tr><td>runtime</td><td>正整数</td><td>定义测试时间，以秒为单位。<br>对于指定的文件设备，如果在测试时间内完成了读写操作，则会保持相同的负载循环进行读写。</td></tr><tr><td>ramp<!-- -->_<!-- -->time</td><td>正整数</td><td>定义测试的热身时间，以秒为单位。热身时间不计入测试统计。</td></tr><tr><td>thinktime</td><td>正整数</td><td>设置当一个 io 完成后，等待多少时间再下发另一个 io，单位为微妙。一般用于模拟应用等待、处理事务等。</td></tr><tr><td>time<!-- -->_<!-- -->based</td><td>NA</td><td>默认值为 0，如果设置了该参数，则本次测试会一直运行到 runtime 结束为止。</td></tr><tr><td>offset</td><td>定义测试起始位置</td><td>fio 在硬盘测试的起始位置，配合顺序读写使用。不同的 offset 对 HDD 的性能影响大，对 SSD 理论无影响。</td></tr><tr><td>group<!-- -->_<!-- -->reporting</td><td>NA</td><td>对于测试并发数大于 1 的情况，如果想要将所有进程/线程的测试结果进行统计，输出总的测试结果，而不是各自单独输出，可以使用此参数。</td></tr><tr><td>cpus<!-- -->_<!-- -->allowed</td><td>指定 cpu 的 core</td><td>fio 测试的所有进程/线程可以选择的 cpu 核，可以是单独一个或者多个核，也可以是一个范围。</td></tr><tr><td>output</td><td>结果输出路径</td><td>结果输出文件，默认直接把结果打印到命令行，设置后会把结果写进目标文件，命令行则不显示结果。</td></tr></tbody></table><h3 class="anchor anchorWithHideOnScrollNavbar_WYt5" id="331命令行测试方法">3.3.1、命令行测试方法<a class="hash-link" href="#331命令行测试方法" title="Direct link to heading">​</a></h3><ol><li><p>测试裸盘性能</p><div class="language-bash codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#000000;--prism-background-color:#ffffff"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-bash codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#000000"><span class="token punctuation" style="color:rgb(4, 81, 165)">[</span><span class="token plain">root@arm64v8 ~</span><span class="token punctuation" style="color:rgb(4, 81, 165)">]</span><span class="token comment" style="color:rgb(0, 128, 0)"># fio -name=mytest -filename=/dev/sdb -direct=1 -iodepth=20 -thread -rw=randread -ioengine=libaio -bs=16k -size=5G -numjobs=2 -runtime=300 -group_reporting</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg class="copyButtonIcon_y97N" viewBox="0 0 24 24"><path d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg class="copyButtonSuccessIcon_LjdS" viewBox="0 0 24 24"><path d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><ul><li>name=mytest：本次测试的名称 mytest，自已定义。</li><li>filename=/dev/sdb：测试裸盘的名称，通常选择需要测试的盘的 data 目录，是没有文件系统的裸盘。</li><li>direct=1：测试过程绕过机器自带的 buffer。使测试结果更真实。</li><li>iodepth=20：每个线程每次下发 20 个 io 任务。</li><li>rw=randread：测试随机读的 I/O。</li><li>ioengine=libaio：io 引擎使用 libaio 模式。</li><li>bs=16k：单次 io 的块文件大小为 16k。</li><li>size=5G：本次的测试文件大小为 5G，以每次 16k 的 io 进行测试。</li><li>numjobs=2：本次的测试线程为 2。</li><li>runtime=300：测试时间为 300 秒，如果不写则一直将 5G 文件分 16k 每次写完为止。</li><li>group<!-- -->_<!-- -->reporting：关于显示结果的，汇总每个进程的信息。</li></ul><p>顺序读：</p><div class="language-bash codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#000000;--prism-background-color:#ffffff"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-bash codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#000000"><span class="token plain">fio -name</span><span class="token operator" style="color:rgb(0, 0, 0)">=</span><span class="token plain">mytest -filename</span><span class="token operator" style="color:rgb(0, 0, 0)">=</span><span class="token plain">/dev/sdb -direct</span><span class="token operator" style="color:rgb(0, 0, 0)">=</span><span class="token number" style="color:rgb(9, 134, 88)">1</span><span class="token plain"> -iodepth</span><span class="token operator" style="color:rgb(0, 0, 0)">=</span><span class="token number" style="color:rgb(9, 134, 88)">20</span><span class="token plain"> -thread -rw</span><span class="token operator" style="color:rgb(0, 0, 0)">=</span><span class="token plain">read -ioengine</span><span class="token operator" style="color:rgb(0, 0, 0)">=</span><span class="token plain">libaio -bs</span><span class="token operator" style="color:rgb(0, 0, 0)">=</span><span class="token plain">16k -size</span><span class="token operator" style="color:rgb(0, 0, 0)">=</span><span class="token plain">5G -numjobs</span><span class="token operator" style="color:rgb(0, 0, 0)">=</span><span class="token number" style="color:rgb(9, 134, 88)">2</span><span class="token plain"> -runtime</span><span class="token operator" style="color:rgb(0, 0, 0)">=</span><span class="token number" style="color:rgb(9, 134, 88)">300</span><span class="token plain"> -group_reporting</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg class="copyButtonIcon_y97N" viewBox="0 0 24 24"><path d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg class="copyButtonSuccessIcon_LjdS" viewBox="0 0 24 24"><path d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><p>顺序写：</p><div class="language-bash codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#000000;--prism-background-color:#ffffff"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-bash codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#000000"><span class="token plain">fio -name</span><span class="token operator" style="color:rgb(0, 0, 0)">=</span><span class="token plain">mytest -filename</span><span class="token operator" style="color:rgb(0, 0, 0)">=</span><span class="token plain">/dev/sdb -direct</span><span class="token operator" style="color:rgb(0, 0, 0)">=</span><span class="token number" style="color:rgb(9, 134, 88)">1</span><span class="token plain"> -iodepth</span><span class="token operator" style="color:rgb(0, 0, 0)">=</span><span class="token number" style="color:rgb(9, 134, 88)">20</span><span class="token plain"> -thread -rw</span><span class="token operator" style="color:rgb(0, 0, 0)">=</span><span class="token plain">write -ioengine</span><span class="token operator" style="color:rgb(0, 0, 0)">=</span><span class="token plain">libaio -bs</span><span class="token operator" style="color:rgb(0, 0, 0)">=</span><span class="token plain">16k -size</span><span class="token operator" style="color:rgb(0, 0, 0)">=</span><span class="token plain">5G -numjobs</span><span class="token operator" style="color:rgb(0, 0, 0)">=</span><span class="token number" style="color:rgb(9, 134, 88)">2</span><span class="token plain"> -runtime</span><span class="token operator" style="color:rgb(0, 0, 0)">=</span><span class="token number" style="color:rgb(9, 134, 88)">300</span><span class="token plain"> -group_reporting</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg class="copyButtonIcon_y97N" viewBox="0 0 24 24"><path d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg class="copyButtonSuccessIcon_LjdS" viewBox="0 0 24 24"><path d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><p>随机写：</p><div class="language-bash codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#000000;--prism-background-color:#ffffff"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-bash codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#000000"><span class="token plain">fio -name</span><span class="token operator" style="color:rgb(0, 0, 0)">=</span><span class="token plain">mytest -filename</span><span class="token operator" style="color:rgb(0, 0, 0)">=</span><span class="token plain">/dev/sdb -direct</span><span class="token operator" style="color:rgb(0, 0, 0)">=</span><span class="token number" style="color:rgb(9, 134, 88)">1</span><span class="token plain"> -iodepth</span><span class="token operator" style="color:rgb(0, 0, 0)">=</span><span class="token number" style="color:rgb(9, 134, 88)">20</span><span class="token plain"> -thread -rw</span><span class="token operator" style="color:rgb(0, 0, 0)">=</span><span class="token plain">randwrite -ioengine</span><span class="token operator" style="color:rgb(0, 0, 0)">=</span><span class="token plain">libaio -bs</span><span class="token operator" style="color:rgb(0, 0, 0)">=</span><span class="token plain">1k -size</span><span class="token operator" style="color:rgb(0, 0, 0)">=</span><span class="token plain">5G -numjobs</span><span class="token operator" style="color:rgb(0, 0, 0)">=</span><span class="token number" style="color:rgb(9, 134, 88)">2</span><span class="token plain"> -runtime</span><span class="token operator" style="color:rgb(0, 0, 0)">=</span><span class="token number" style="color:rgb(9, 134, 88)">300</span><span class="token plain"> -group_reporting</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg class="copyButtonIcon_y97N" viewBox="0 0 24 24"><path d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg class="copyButtonSuccessIcon_LjdS" viewBox="0 0 24 24"><path d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><p>混合顺序读写：</p><div class="language-bash codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#000000;--prism-background-color:#ffffff"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-bash codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#000000"><span class="token plain">fio -name</span><span class="token operator" style="color:rgb(0, 0, 0)">=</span><span class="token plain">mytest -filename</span><span class="token operator" style="color:rgb(0, 0, 0)">=</span><span class="token plain">/dev/sdb -direct</span><span class="token operator" style="color:rgb(0, 0, 0)">=</span><span class="token number" style="color:rgb(9, 134, 88)">1</span><span class="token plain"> -iodepth</span><span class="token operator" style="color:rgb(0, 0, 0)">=</span><span class="token number" style="color:rgb(9, 134, 88)">20</span><span class="token plain"> -thread -rw</span><span class="token operator" style="color:rgb(0, 0, 0)">=</span><span class="token plain">rw -ioengine</span><span class="token operator" style="color:rgb(0, 0, 0)">=</span><span class="token plain">libaio -bs</span><span class="token operator" style="color:rgb(0, 0, 0)">=</span><span class="token plain">16k -size</span><span class="token operator" style="color:rgb(0, 0, 0)">=</span><span class="token plain">5G -numjobs</span><span class="token operator" style="color:rgb(0, 0, 0)">=</span><span class="token number" style="color:rgb(9, 134, 88)">2</span><span class="token plain"> -runtime</span><span class="token operator" style="color:rgb(0, 0, 0)">=</span><span class="token number" style="color:rgb(9, 134, 88)">300</span><span class="token plain"> -group_reporting</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg class="copyButtonIcon_y97N" viewBox="0 0 24 24"><path d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg class="copyButtonSuccessIcon_LjdS" viewBox="0 0 24 24"><path d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><p>混合随机读写：</p><div class="language-bash codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#000000;--prism-background-color:#ffffff"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-bash codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#000000"><span class="token plain">fio -name</span><span class="token operator" style="color:rgb(0, 0, 0)">=</span><span class="token plain">mytest -filename</span><span class="token operator" style="color:rgb(0, 0, 0)">=</span><span class="token plain">/dev/sdb -direct</span><span class="token operator" style="color:rgb(0, 0, 0)">=</span><span class="token number" style="color:rgb(9, 134, 88)">1</span><span class="token plain"> -iodepth</span><span class="token operator" style="color:rgb(0, 0, 0)">=</span><span class="token number" style="color:rgb(9, 134, 88)">20</span><span class="token plain"> -thread -rw</span><span class="token operator" style="color:rgb(0, 0, 0)">=</span><span class="token plain">randrw -ioengine</span><span class="token operator" style="color:rgb(0, 0, 0)">=</span><span class="token plain">libaio -bs</span><span class="token operator" style="color:rgb(0, 0, 0)">=</span><span class="token plain">16k -size</span><span class="token operator" style="color:rgb(0, 0, 0)">=</span><span class="token plain">5G -numjobs</span><span class="token operator" style="color:rgb(0, 0, 0)">=</span><span class="token number" style="color:rgb(9, 134, 88)">2</span><span class="token plain"> -runtime</span><span class="token operator" style="color:rgb(0, 0, 0)">=</span><span class="token number" style="color:rgb(9, 134, 88)">300</span><span class="token plain"> -group_reporting</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg class="copyButtonIcon_y97N" viewBox="0 0 24 24"><path d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg class="copyButtonSuccessIcon_LjdS" viewBox="0 0 24 24"><path d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div></li><li><p>测试文件系统</p><div class="language-bash codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#000000;--prism-background-color:#ffffff"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-bash codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#000000"><span class="token punctuation" style="color:rgb(4, 81, 165)">[</span><span class="token plain">root@arm64v8 ~</span><span class="token punctuation" style="color:rgb(4, 81, 165)">]</span><span class="token comment" style="color:rgb(0, 128, 0)"># fio -name=mytest -filename=/test/test.img -direct=1 -iodepth=20 -thread -rw=randread -ioengine=libaio -bs=16k -size=5G -numjobs=2 -runtime=300 -group_reporting</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg class="copyButtonIcon_y97N" viewBox="0 0 24 24"><path d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg class="copyButtonSuccessIcon_LjdS" viewBox="0 0 24 24"><path d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><ul><li>filename=/test/test.img：测试文件的名称，为已经做过文件系统的空间。这种方式通常是将一块裸盘，进行分区、格式化，然后挂载到此目录。</li></ul></li></ol><h3 class="anchor anchorWithHideOnScrollNavbar_WYt5" id="332配置文件方式">3.3.2、配置文件方式<a class="hash-link" href="#332配置文件方式" title="Direct link to heading">​</a></h3><p>fio 也可以通过执行 job 方式，同时执行多个不同的文件，使用很少的命令执行测试。测试命令：fio <em>job</em>。</p><p>job 文件的编写参考：</p><div class="language-bash codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#000000;--prism-background-color:#ffffff"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-bash codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#000000"><span class="token punctuation" style="color:rgb(4, 81, 165)">[</span><span class="token plain">global</span><span class="token punctuation" style="color:rgb(4, 81, 165)">]</span><span class="token plain"></span><br></span><span class="token-line" style="color:#000000"><span class="token plain"></span><span class="token assign-left variable" style="color:rgb(9, 134, 88)">ioengine</span><span class="token operator" style="color:rgb(0, 0, 0)">=</span><span class="token plain">libaio</span><br></span><span class="token-line" style="color:#000000"><span class="token plain"></span><span class="token assign-left variable" style="color:rgb(9, 134, 88)">direct</span><span class="token operator" style="color:rgb(0, 0, 0)">=</span><span class="token number" style="color:rgb(9, 134, 88)">1</span><span class="token plain"></span><br></span><span class="token-line" style="color:#000000"><span class="token plain"></span><span class="token assign-left variable" style="color:rgb(9, 134, 88)">size</span><span class="token operator" style="color:rgb(0, 0, 0)">=</span><span class="token plain">8g</span><br></span><span class="token-line" style="color:#000000"><span class="token plain"></span><span class="token assign-left variable" style="color:rgb(9, 134, 88)">filesize</span><span class="token operator" style="color:rgb(0, 0, 0)">=</span><span class="token plain">500g</span><br></span><span class="token-line" style="color:#000000"><span class="token plain">time_based</span><br></span><span class="token-line" style="color:#000000"><span class="token plain"></span><span class="token assign-left variable" style="color:rgb(9, 134, 88)">rw</span><span class="token operator" style="color:rgb(0, 0, 0)">=</span><span class="token plain">randrw</span><br></span><span class="token-line" style="color:#000000"><span class="token plain"></span><span class="token assign-left variable" style="color:rgb(9, 134, 88)">rwmixread</span><span class="token operator" style="color:rgb(0, 0, 0)">=</span><span class="token number" style="color:rgb(9, 134, 88)">70</span><span class="token plain"></span><br></span><span class="token-line" style="color:#000000"><span class="token plain"></span><span class="token assign-left variable" style="color:rgb(9, 134, 88)">bs</span><span class="token operator" style="color:rgb(0, 0, 0)">=</span><span class="token plain">4k</span><br></span><span class="token-line" style="color:#000000"><span class="token plain"></span><span class="token assign-left variable" style="color:rgb(9, 134, 88)">runtime</span><span class="token operator" style="color:rgb(0, 0, 0)">=</span><span class="token number" style="color:rgb(9, 134, 88)">120</span><span class="token plain"></span><br></span><span class="token-line" style="color:#000000"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#000000"><span class="token plain"></span><span class="token punctuation" style="color:rgb(4, 81, 165)">[</span><span class="token plain">job1</span><span class="token punctuation" style="color:rgb(4, 81, 165)">]</span><span class="token plain"></span><br></span><span class="token-line" style="color:#000000"><span class="token plain"></span><span class="token assign-left variable" style="color:rgb(9, 134, 88)">filename</span><span class="token operator" style="color:rgb(0, 0, 0)">=</span><span class="token plain">/dev/sdb</span><br></span><span class="token-line" style="color:#000000"><span class="token plain"></span><span class="token assign-left variable" style="color:rgb(9, 134, 88)">numjobs</span><span class="token operator" style="color:rgb(0, 0, 0)">=</span><span class="token number" style="color:rgb(9, 134, 88)">16</span><span class="token plain"></span><br></span><span class="token-line" style="color:#000000"><span class="token plain"></span><span class="token assign-left variable" style="color:rgb(9, 134, 88)">iodepth</span><span class="token operator" style="color:rgb(0, 0, 0)">=</span><span class="token number" style="color:rgb(9, 134, 88)">1</span><span class="token plain"></span><br></span><span class="token-line" style="color:#000000"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#000000"><span class="token plain"></span><span class="token punctuation" style="color:rgb(4, 81, 165)">[</span><span class="token plain">job2</span><span class="token punctuation" style="color:rgb(4, 81, 165)">]</span><span class="token plain"></span><br></span><span class="token-line" style="color:#000000"><span class="token plain"></span><span class="token assign-left variable" style="color:rgb(9, 134, 88)">filename</span><span class="token operator" style="color:rgb(0, 0, 0)">=</span><span class="token plain">/dev/sdc</span><br></span><span class="token-line" style="color:#000000"><span class="token plain"></span><span class="token assign-left variable" style="color:rgb(9, 134, 88)">numjobs</span><span class="token operator" style="color:rgb(0, 0, 0)">=</span><span class="token number" style="color:rgb(9, 134, 88)">16</span><span class="token plain"></span><br></span><span class="token-line" style="color:#000000"><span class="token plain"></span><span class="token assign-left variable" style="color:rgb(9, 134, 88)">iodepth</span><span class="token operator" style="color:rgb(0, 0, 0)">=</span><span class="token number" style="color:rgb(9, 134, 88)">1</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg class="copyButtonIcon_y97N" viewBox="0 0 24 24"><path d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg class="copyButtonSuccessIcon_LjdS" viewBox="0 0 24 24"><path d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><ul><li>job 文件里的每一个 job 都是同时执行的，global 部分是全局的。</li><li>如果想要分开各自执行并统计结果，就要计算一下时间使用 startdelay 参数控制。</li><li>使用命令行同时测试多个设备，压力会分布不均。但是通过 job 文件方式配置可以解决，这就相当于开两个窗口同时执行多条命令了。</li><li>在 job 配置文件中，增加 group<!-- -->_<!-- -->reporting 参数，在测试完成后就可以看到统计的性能数据了。</li></ul><h3 class="anchor anchorWithHideOnScrollNavbar_WYt5" id="333测试结果分析">3.3.3、测试结果分析<a class="hash-link" href="#333测试结果分析" title="Direct link to heading">​</a></h3><div class="language-bash codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#000000;--prism-background-color:#ffffff"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-bash codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#000000"><span class="token punctuation" style="color:rgb(4, 81, 165)">[</span><span class="token plain">root@arm64v8 ~</span><span class="token punctuation" style="color:rgb(4, 81, 165)">]</span><span class="token comment" style="color:rgb(0, 128, 0)"># fio -name=hdd7k -filename=/dev/sdb -direct=1 -iodepth=20 -thread -rw=rw -ioengine=libaio -bs=4k -size=10G -numjobs=10 -runtime=300 -group_reporting</span><span class="token plain"></span><br></span><span class="token-line" style="color:#000000"><span class="token plain">hdd7k: </span><span class="token punctuation" style="color:rgb(4, 81, 165)">(</span><span class="token plain">g</span><span class="token operator" style="color:rgb(0, 0, 0)">=</span><span class="token number" style="color:rgb(9, 134, 88)">0</span><span class="token punctuation" style="color:rgb(4, 81, 165)">)</span><span class="token plain">: </span><span class="token assign-left variable" style="color:rgb(9, 134, 88)">rw</span><span class="token operator" style="color:rgb(0, 0, 0)">=</span><span class="token plain">rw, </span><span class="token assign-left variable" style="color:rgb(9, 134, 88)">bs</span><span class="token operator" style="color:rgb(0, 0, 0)">=</span><span class="token punctuation" style="color:rgb(4, 81, 165)">(</span><span class="token plain">R</span><span class="token punctuation" style="color:rgb(4, 81, 165)">)</span><span class="token plain"> 4096B-4096B, </span><span class="token punctuation" style="color:rgb(4, 81, 165)">(</span><span class="token plain">W</span><span class="token punctuation" style="color:rgb(4, 81, 165)">)</span><span class="token plain"> 4096B-4096B, </span><span class="token punctuation" style="color:rgb(4, 81, 165)">(</span><span class="token plain">T</span><span class="token punctuation" style="color:rgb(4, 81, 165)">)</span><span class="token plain"> 4096B-4096B, </span><span class="token assign-left variable" style="color:rgb(9, 134, 88)">ioengine</span><span class="token operator" style="color:rgb(0, 0, 0)">=</span><span class="token plain">libaio, </span><span class="token assign-left variable" style="color:rgb(9, 134, 88)">iodepth</span><span class="token operator" style="color:rgb(0, 0, 0)">=</span><span class="token number" style="color:rgb(9, 134, 88)">20</span><span class="token plain"></span><br></span><span class="token-line" style="color:#000000"><span class="token plain"></span><span class="token punctuation" style="color:rgb(4, 81, 165)">..</span><span class="token plain">.</span><br></span><span class="token-line" style="color:#000000"><span class="token plain">fio-3.29-7-g01686</span><br></span><span class="token-line" style="color:#000000"><span class="token plain">Starting </span><span class="token number" style="color:rgb(9, 134, 88)">10</span><span class="token plain"> threads</span><br></span><span class="token-line" style="color:#000000"><span class="token plain">Jobs: </span><span class="token number" style="color:rgb(9, 134, 88)">10</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(4, 81, 165)">(</span><span class="token plain">f</span><span class="token operator" style="color:rgb(0, 0, 0)">=</span><span class="token number" style="color:rgb(9, 134, 88)">9</span><span class="token punctuation" style="color:rgb(4, 81, 165)">)</span><span class="token plain">: </span><span class="token punctuation" style="color:rgb(4, 81, 165)">[</span><span class="token plain">f</span><span class="token punctuation" style="color:rgb(4, 81, 165)">(</span><span class="token number" style="color:rgb(9, 134, 88)">10</span><span class="token punctuation" style="color:rgb(4, 81, 165)">)</span><span class="token punctuation" style="color:rgb(4, 81, 165)">]</span><span class="token punctuation" style="color:rgb(4, 81, 165)">[</span><span class="token number" style="color:rgb(9, 134, 88)">100.0</span><span class="token plain">%</span><span class="token punctuation" style="color:rgb(4, 81, 165)">]</span><span class="token punctuation" style="color:rgb(4, 81, 165)">[</span><span class="token plain">r</span><span class="token operator" style="color:rgb(0, 0, 0)">=</span><span class="token number" style="color:rgb(9, 134, 88)">10</span><span class="token plain">.9MiB/s,w</span><span class="token operator" style="color:rgb(0, 0, 0)">=</span><span class="token number" style="color:rgb(9, 134, 88)">10</span><span class="token plain">.7MiB/s</span><span class="token punctuation" style="color:rgb(4, 81, 165)">]</span><span class="token punctuation" style="color:rgb(4, 81, 165)">[</span><span class="token plain">r</span><span class="token operator" style="color:rgb(0, 0, 0)">=</span><span class="token number" style="color:rgb(9, 134, 88)">2785</span><span class="token plain">,w</span><span class="token operator" style="color:rgb(0, 0, 0)">=</span><span class="token number" style="color:rgb(9, 134, 88)">2742</span><span class="token plain"> IOPS</span><span class="token punctuation" style="color:rgb(4, 81, 165)">]</span><span class="token punctuation" style="color:rgb(4, 81, 165)">[</span><span class="token plain">eta 00m:00s</span><span class="token punctuation" style="color:rgb(4, 81, 165)">]</span><span class="token plain"> </span><br></span><span class="token-line" style="color:#000000"><span class="token plain">hdd7k: </span><span class="token punctuation" style="color:rgb(4, 81, 165)">(</span><span class="token plain">groupid</span><span class="token operator" style="color:rgb(0, 0, 0)">=</span><span class="token number" style="color:rgb(9, 134, 88)">0</span><span class="token plain">, </span><span class="token assign-left variable" style="color:rgb(9, 134, 88)">jobs</span><span class="token operator" style="color:rgb(0, 0, 0)">=</span><span class="token number" style="color:rgb(9, 134, 88)">10</span><span class="token punctuation" style="color:rgb(4, 81, 165)">)</span><span class="token plain">: </span><span class="token assign-left variable" style="color:rgb(9, 134, 88)">err</span><span class="token operator" style="color:rgb(0, 0, 0)">=</span><span class="token plain"> </span><span class="token number" style="color:rgb(9, 134, 88)">0</span><span class="token plain">: </span><span class="token assign-left variable" style="color:rgb(9, 134, 88)">pid</span><span class="token operator" style="color:rgb(0, 0, 0)">=</span><span class="token number" style="color:rgb(9, 134, 88)">73595</span><span class="token plain">: Thu Jan </span><span class="token number" style="color:rgb(9, 134, 88)">13</span><span class="token plain"> </span><span class="token number" style="color:rgb(9, 134, 88)">11</span><span class="token plain">:19:06 </span><span class="token number" style="color:rgb(9, 134, 88)">2022</span><span class="token plain"></span><br></span><span class="token-line" style="color:#000000"><span class="token plain">  read: </span><span class="token assign-left variable" style="color:rgb(9, 134, 88)">IOPS</span><span class="token operator" style="color:rgb(0, 0, 0)">=</span><span class="token number" style="color:rgb(9, 134, 88)">3258</span><span class="token plain">, </span><span class="token assign-left variable" style="color:rgb(9, 134, 88)">BW</span><span class="token operator" style="color:rgb(0, 0, 0)">=</span><span class="token number" style="color:rgb(9, 134, 88)">12</span><span class="token plain">.7MiB/s </span><span class="token punctuation" style="color:rgb(4, 81, 165)">(</span><span class="token number" style="color:rgb(9, 134, 88)">13</span><span class="token plain">.3MB/s</span><span class="token punctuation" style="color:rgb(4, 81, 165)">)</span><span class="token punctuation" style="color:rgb(4, 81, 165)">(</span><span class="token plain">3820MiB/300065msec</span><span class="token punctuation" style="color:rgb(4, 81, 165)">)</span><span class="token plain"></span><br></span><span class="token-line" style="color:#000000"><span class="token plain">    slat </span><span class="token punctuation" style="color:rgb(4, 81, 165)">(</span><span class="token plain">usec</span><span class="token punctuation" style="color:rgb(4, 81, 165)">)</span><span class="token plain">: </span><span class="token assign-left variable" style="color:rgb(9, 134, 88)">min</span><span class="token operator" style="color:rgb(0, 0, 0)">=</span><span class="token number" style="color:rgb(9, 134, 88)">2</span><span class="token plain">, </span><span class="token assign-left variable" style="color:rgb(9, 134, 88)">max</span><span class="token operator" style="color:rgb(0, 0, 0)">=</span><span class="token number" style="color:rgb(9, 134, 88)">547</span><span class="token plain">, </span><span class="token assign-left variable" style="color:rgb(9, 134, 88)">avg</span><span class="token operator" style="color:rgb(0, 0, 0)">=</span><span class="token plain"> </span><span class="token number" style="color:rgb(9, 134, 88)">6.47</span><span class="token plain">, </span><span class="token assign-left variable" style="color:rgb(9, 134, 88)">stdev</span><span class="token operator" style="color:rgb(0, 0, 0)">=</span><span class="token plain"> </span><span class="token number" style="color:rgb(9, 134, 88)">4.04</span><span class="token plain"></span><br></span><span class="token-line" style="color:#000000"><span class="token plain">    clat </span><span class="token punctuation" style="color:rgb(4, 81, 165)">(</span><span class="token plain">usec</span><span class="token punctuation" style="color:rgb(4, 81, 165)">)</span><span class="token plain">: </span><span class="token assign-left variable" style="color:rgb(9, 134, 88)">min</span><span class="token operator" style="color:rgb(0, 0, 0)">=</span><span class="token number" style="color:rgb(9, 134, 88)">27</span><span class="token plain">, </span><span class="token assign-left variable" style="color:rgb(9, 134, 88)">max</span><span class="token operator" style="color:rgb(0, 0, 0)">=</span><span class="token number" style="color:rgb(9, 134, 88)">4722</span><span class="token plain">.3k, </span><span class="token assign-left variable" style="color:rgb(9, 134, 88)">avg</span><span class="token operator" style="color:rgb(0, 0, 0)">=</span><span class="token number" style="color:rgb(9, 134, 88)">33300.91</span><span class="token plain">, </span><span class="token assign-left variable" style="color:rgb(9, 134, 88)">stdev</span><span class="token operator" style="color:rgb(0, 0, 0)">=</span><span class="token number" style="color:rgb(9, 134, 88)">77842.79</span><span class="token plain"></span><br></span><span class="token-line" style="color:#000000"><span class="token plain">     lat </span><span class="token punctuation" style="color:rgb(4, 81, 165)">(</span><span class="token plain">usec</span><span class="token punctuation" style="color:rgb(4, 81, 165)">)</span><span class="token plain">: </span><span class="token assign-left variable" style="color:rgb(9, 134, 88)">min</span><span class="token operator" style="color:rgb(0, 0, 0)">=</span><span class="token number" style="color:rgb(9, 134, 88)">47</span><span class="token plain">, </span><span class="token assign-left variable" style="color:rgb(9, 134, 88)">max</span><span class="token operator" style="color:rgb(0, 0, 0)">=</span><span class="token number" style="color:rgb(9, 134, 88)">4722</span><span class="token plain">.3k, </span><span class="token assign-left variable" style="color:rgb(9, 134, 88)">avg</span><span class="token operator" style="color:rgb(0, 0, 0)">=</span><span class="token number" style="color:rgb(9, 134, 88)">33307.62</span><span class="token plain">, </span><span class="token assign-left variable" style="color:rgb(9, 134, 88)">stdev</span><span class="token operator" style="color:rgb(0, 0, 0)">=</span><span class="token number" style="color:rgb(9, 134, 88)">77842.14</span><span class="token plain"></span><br></span><span class="token-line" style="color:#000000"><span class="token plain">    clat percentiles </span><span class="token punctuation" style="color:rgb(4, 81, 165)">(</span><span class="token plain">usec</span><span class="token punctuation" style="color:rgb(4, 81, 165)">)</span><span class="token plain">:</span><br></span><span class="token-line" style="color:#000000"><span class="token plain">     </span><span class="token operator" style="color:rgb(0, 0, 0)">|</span><span class="token plain">  </span><span class="token number" style="color:rgb(9, 134, 88)">1</span><span class="token plain">.00th</span><span class="token operator" style="color:rgb(0, 0, 0)">=</span><span class="token punctuation" style="color:rgb(4, 81, 165)">[</span><span class="token plain">    </span><span class="token number" style="color:rgb(9, 134, 88)">725</span><span class="token punctuation" style="color:rgb(4, 81, 165)">]</span><span class="token plain">,  </span><span class="token number" style="color:rgb(9, 134, 88)">5</span><span class="token plain">.00th</span><span class="token operator" style="color:rgb(0, 0, 0)">=</span><span class="token punctuation" style="color:rgb(4, 81, 165)">[</span><span class="token plain">   </span><span class="token number" style="color:rgb(9, 134, 88)">1745</span><span class="token punctuation" style="color:rgb(4, 81, 165)">]</span><span class="token plain">, </span><span class="token number" style="color:rgb(9, 134, 88)">10</span><span class="token plain">.00th</span><span class="token operator" style="color:rgb(0, 0, 0)">=</span><span class="token punctuation" style="color:rgb(4, 81, 165)">[</span><span class="token plain">   </span><span class="token number" style="color:rgb(9, 134, 88)">2737</span><span class="token punctuation" style="color:rgb(4, 81, 165)">]</span><span class="token plain">,</span><br></span><span class="token-line" style="color:#000000"><span class="token plain">     </span><span class="token operator" style="color:rgb(0, 0, 0)">|</span><span class="token plain"> </span><span class="token number" style="color:rgb(9, 134, 88)">20</span><span class="token plain">.00th</span><span class="token operator" style="color:rgb(0, 0, 0)">=</span><span class="token punctuation" style="color:rgb(4, 81, 165)">[</span><span class="token plain">   </span><span class="token number" style="color:rgb(9, 134, 88)">3228</span><span class="token punctuation" style="color:rgb(4, 81, 165)">]</span><span class="token plain">, </span><span class="token number" style="color:rgb(9, 134, 88)">30</span><span class="token plain">.00th</span><span class="token operator" style="color:rgb(0, 0, 0)">=</span><span class="token punctuation" style="color:rgb(4, 81, 165)">[</span><span class="token plain">   </span><span class="token number" style="color:rgb(9, 134, 88)">3687</span><span class="token punctuation" style="color:rgb(4, 81, 165)">]</span><span class="token plain">, </span><span class="token number" style="color:rgb(9, 134, 88)">40</span><span class="token plain">.00th</span><span class="token operator" style="color:rgb(0, 0, 0)">=</span><span class="token punctuation" style="color:rgb(4, 81, 165)">[</span><span class="token plain">   </span><span class="token number" style="color:rgb(9, 134, 88)">4621</span><span class="token punctuation" style="color:rgb(4, 81, 165)">]</span><span class="token plain">,</span><br></span><span class="token-line" style="color:#000000"><span class="token plain">     </span><span class="token operator" style="color:rgb(0, 0, 0)">|</span><span class="token plain"> </span><span class="token number" style="color:rgb(9, 134, 88)">50</span><span class="token plain">.00th</span><span class="token operator" style="color:rgb(0, 0, 0)">=</span><span class="token punctuation" style="color:rgb(4, 81, 165)">[</span><span class="token plain">   </span><span class="token number" style="color:rgb(9, 134, 88)">5866</span><span class="token punctuation" style="color:rgb(4, 81, 165)">]</span><span class="token plain">, </span><span class="token number" style="color:rgb(9, 134, 88)">60</span><span class="token plain">.00th</span><span class="token operator" style="color:rgb(0, 0, 0)">=</span><span class="token punctuation" style="color:rgb(4, 81, 165)">[</span><span class="token plain">   </span><span class="token number" style="color:rgb(9, 134, 88)">7832</span><span class="token punctuation" style="color:rgb(4, 81, 165)">]</span><span class="token plain">, </span><span class="token number" style="color:rgb(9, 134, 88)">70</span><span class="token plain">.00th</span><span class="token operator" style="color:rgb(0, 0, 0)">=</span><span class="token punctuation" style="color:rgb(4, 81, 165)">[</span><span class="token plain">  </span><span class="token number" style="color:rgb(9, 134, 88)">14615</span><span class="token punctuation" style="color:rgb(4, 81, 165)">]</span><span class="token plain">,</span><br></span><span class="token-line" style="color:#000000"><span class="token plain">     </span><span class="token operator" style="color:rgb(0, 0, 0)">|</span><span class="token plain"> </span><span class="token number" style="color:rgb(9, 134, 88)">80</span><span class="token plain">.00th</span><span class="token operator" style="color:rgb(0, 0, 0)">=</span><span class="token punctuation" style="color:rgb(4, 81, 165)">[</span><span class="token plain">  </span><span class="token number" style="color:rgb(9, 134, 88)">39060</span><span class="token punctuation" style="color:rgb(4, 81, 165)">]</span><span class="token plain">, </span><span class="token number" style="color:rgb(9, 134, 88)">90</span><span class="token plain">.00th</span><span class="token operator" style="color:rgb(0, 0, 0)">=</span><span class="token punctuation" style="color:rgb(4, 81, 165)">[</span><span class="token plain"> </span><span class="token number" style="color:rgb(9, 134, 88)">116917</span><span class="token punctuation" style="color:rgb(4, 81, 165)">]</span><span class="token plain">, </span><span class="token number" style="color:rgb(9, 134, 88)">95</span><span class="token plain">.00th</span><span class="token operator" style="color:rgb(0, 0, 0)">=</span><span class="token punctuation" style="color:rgb(4, 81, 165)">[</span><span class="token plain"> </span><span class="token number" style="color:rgb(9, 134, 88)">135267</span><span class="token punctuation" style="color:rgb(4, 81, 165)">]</span><span class="token plain">,</span><br></span><span class="token-line" style="color:#000000"><span class="token plain">     </span><span class="token operator" style="color:rgb(0, 0, 0)">|</span><span class="token plain"> </span><span class="token number" style="color:rgb(9, 134, 88)">99</span><span class="token plain">.00th</span><span class="token operator" style="color:rgb(0, 0, 0)">=</span><span class="token punctuation" style="color:rgb(4, 81, 165)">[</span><span class="token plain"> </span><span class="token number" style="color:rgb(9, 134, 88)">333448</span><span class="token punctuation" style="color:rgb(4, 81, 165)">]</span><span class="token plain">, </span><span class="token number" style="color:rgb(9, 134, 88)">99</span><span class="token plain">.50th</span><span class="token operator" style="color:rgb(0, 0, 0)">=</span><span class="token punctuation" style="color:rgb(4, 81, 165)">[</span><span class="token plain"> </span><span class="token number" style="color:rgb(9, 134, 88)">463471</span><span class="token punctuation" style="color:rgb(4, 81, 165)">]</span><span class="token plain">, </span><span class="token number" style="color:rgb(9, 134, 88)">99</span><span class="token plain">.90th</span><span class="token operator" style="color:rgb(0, 0, 0)">=</span><span class="token punctuation" style="color:rgb(4, 81, 165)">[</span><span class="token plain"> </span><span class="token number" style="color:rgb(9, 134, 88)">843056</span><span class="token punctuation" style="color:rgb(4, 81, 165)">]</span><span class="token plain">,</span><br></span><span class="token-line" style="color:#000000"><span class="token plain">     </span><span class="token operator" style="color:rgb(0, 0, 0)">|</span><span class="token plain"> </span><span class="token number" style="color:rgb(9, 134, 88)">99</span><span class="token plain">.95th</span><span class="token operator" style="color:rgb(0, 0, 0)">=</span><span class="token punctuation" style="color:rgb(4, 81, 165)">[</span><span class="token number" style="color:rgb(9, 134, 88)">1052771</span><span class="token punctuation" style="color:rgb(4, 81, 165)">]</span><span class="token plain">, </span><span class="token number" style="color:rgb(9, 134, 88)">99</span><span class="token plain">.99th</span><span class="token operator" style="color:rgb(0, 0, 0)">=</span><span class="token punctuation" style="color:rgb(4, 81, 165)">[</span><span class="token number" style="color:rgb(9, 134, 88)">1686111</span><span class="token punctuation" style="color:rgb(4, 81, 165)">]</span><span class="token plain"></span><br></span><span class="token-line" style="color:#000000"><span class="token plain">   bw </span><span class="token punctuation" style="color:rgb(4, 81, 165)">(</span><span class="token plain">  KiB/s</span><span class="token punctuation" style="color:rgb(4, 81, 165)">)</span><span class="token plain">: </span><span class="token assign-left variable" style="color:rgb(9, 134, 88)">min</span><span class="token operator" style="color:rgb(0, 0, 0)">=</span><span class="token plain">  </span><span class="token number" style="color:rgb(9, 134, 88)">200</span><span class="token plain">, </span><span class="token assign-left variable" style="color:rgb(9, 134, 88)">max</span><span class="token operator" style="color:rgb(0, 0, 0)">=</span><span class="token number" style="color:rgb(9, 134, 88)">91945</span><span class="token plain">, </span><span class="token assign-left variable" style="color:rgb(9, 134, 88)">per</span><span class="token operator" style="color:rgb(0, 0, 0)">=</span><span class="token number" style="color:rgb(9, 134, 88)">100.00</span><span class="token plain">%, </span><span class="token assign-left variable" style="color:rgb(9, 134, 88)">avg</span><span class="token operator" style="color:rgb(0, 0, 0)">=</span><span class="token number" style="color:rgb(9, 134, 88)">13408.99</span><span class="token plain">, </span><span class="token assign-left variable" style="color:rgb(9, 134, 88)">stdev</span><span class="token operator" style="color:rgb(0, 0, 0)">=</span><span class="token number" style="color:rgb(9, 134, 88)">1441.98</span><span class="token plain">, </span><span class="token assign-left variable" style="color:rgb(9, 134, 88)">samples</span><span class="token operator" style="color:rgb(0, 0, 0)">=</span><span class="token number" style="color:rgb(9, 134, 88)">5840</span><span class="token plain"></span><br></span><span class="token-line" style="color:#000000"><span class="token plain">   iops        </span><span class="token builtin class-name" style="color:rgb(38, 127, 153)">:</span><span class="token plain"> </span><span class="token assign-left variable" style="color:rgb(9, 134, 88)">min</span><span class="token operator" style="color:rgb(0, 0, 0)">=</span><span class="token plain">   </span><span class="token number" style="color:rgb(9, 134, 88)">50</span><span class="token plain">, </span><span class="token assign-left variable" style="color:rgb(9, 134, 88)">max</span><span class="token operator" style="color:rgb(0, 0, 0)">=</span><span class="token number" style="color:rgb(9, 134, 88)">22985</span><span class="token plain">, </span><span class="token assign-left variable" style="color:rgb(9, 134, 88)">avg</span><span class="token operator" style="color:rgb(0, 0, 0)">=</span><span class="token number" style="color:rgb(9, 134, 88)">3351.87</span><span class="token plain">, </span><span class="token assign-left variable" style="color:rgb(9, 134, 88)">stdev</span><span class="token operator" style="color:rgb(0, 0, 0)">=</span><span class="token number" style="color:rgb(9, 134, 88)">360.48</span><span class="token plain">, </span><span class="token assign-left variable" style="color:rgb(9, 134, 88)">samples</span><span class="token operator" style="color:rgb(0, 0, 0)">=</span><span class="token number" style="color:rgb(9, 134, 88)">5840</span><span class="token plain"></span><br></span><span class="token-line" style="color:#000000"><span class="token plain">  write: </span><span class="token assign-left variable" style="color:rgb(9, 134, 88)">IOPS</span><span class="token operator" style="color:rgb(0, 0, 0)">=</span><span class="token number" style="color:rgb(9, 134, 88)">3261</span><span class="token plain">, </span><span class="token assign-left variable" style="color:rgb(9, 134, 88)">BW</span><span class="token operator" style="color:rgb(0, 0, 0)">=</span><span class="token number" style="color:rgb(9, 134, 88)">12</span><span class="token plain">.7MiB/s </span><span class="token punctuation" style="color:rgb(4, 81, 165)">(</span><span class="token number" style="color:rgb(9, 134, 88)">13</span><span class="token plain">.4MB/s</span><span class="token punctuation" style="color:rgb(4, 81, 165)">)</span><span class="token punctuation" style="color:rgb(4, 81, 165)">(</span><span class="token plain">3823MiB/300065msec</span><span class="token punctuation" style="color:rgb(4, 81, 165)">)</span><span class="token punctuation" style="color:rgb(4, 81, 165)">;</span><span class="token plain"> </span><span class="token number" style="color:rgb(9, 134, 88)">0</span><span class="token plain"> zone resets</span><br></span><span class="token-line" style="color:#000000"><span class="token plain">    slat </span><span class="token punctuation" style="color:rgb(4, 81, 165)">(</span><span class="token plain">usec</span><span class="token punctuation" style="color:rgb(4, 81, 165)">)</span><span class="token plain">: </span><span class="token assign-left variable" style="color:rgb(9, 134, 88)">min</span><span class="token operator" style="color:rgb(0, 0, 0)">=</span><span class="token number" style="color:rgb(9, 134, 88)">3</span><span class="token plain">, </span><span class="token assign-left variable" style="color:rgb(9, 134, 88)">max</span><span class="token operator" style="color:rgb(0, 0, 0)">=</span><span class="token number" style="color:rgb(9, 134, 88)">532</span><span class="token plain">, </span><span class="token assign-left variable" style="color:rgb(9, 134, 88)">avg</span><span class="token operator" style="color:rgb(0, 0, 0)">=</span><span class="token plain"> </span><span class="token number" style="color:rgb(9, 134, 88)">6.68</span><span class="token plain">, </span><span class="token assign-left variable" style="color:rgb(9, 134, 88)">stdev</span><span class="token operator" style="color:rgb(0, 0, 0)">=</span><span class="token plain"> </span><span class="token number" style="color:rgb(9, 134, 88)">4.17</span><span class="token plain"></span><br></span><span class="token-line" style="color:#000000"><span class="token plain">    clat </span><span class="token punctuation" style="color:rgb(4, 81, 165)">(</span><span class="token plain">usec</span><span class="token punctuation" style="color:rgb(4, 81, 165)">)</span><span class="token plain">: </span><span class="token assign-left variable" style="color:rgb(9, 134, 88)">min</span><span class="token operator" style="color:rgb(0, 0, 0)">=</span><span class="token number" style="color:rgb(9, 134, 88)">38</span><span class="token plain">, </span><span class="token assign-left variable" style="color:rgb(9, 134, 88)">max</span><span class="token operator" style="color:rgb(0, 0, 0)">=</span><span class="token number" style="color:rgb(9, 134, 88)">4725</span><span class="token plain">.1k, </span><span class="token assign-left variable" style="color:rgb(9, 134, 88)">avg</span><span class="token operator" style="color:rgb(0, 0, 0)">=</span><span class="token number" style="color:rgb(9, 134, 88)">28027.57</span><span class="token plain">, </span><span class="token assign-left variable" style="color:rgb(9, 134, 88)">stdev</span><span class="token operator" style="color:rgb(0, 0, 0)">=</span><span class="token number" style="color:rgb(9, 134, 88)">69203.56</span><span class="token plain"></span><br></span><span class="token-line" style="color:#000000"><span class="token plain">     lat </span><span class="token punctuation" style="color:rgb(4, 81, 165)">(</span><span class="token plain">usec</span><span class="token punctuation" style="color:rgb(4, 81, 165)">)</span><span class="token plain">: </span><span class="token assign-left variable" style="color:rgb(9, 134, 88)">min</span><span class="token operator" style="color:rgb(0, 0, 0)">=</span><span class="token number" style="color:rgb(9, 134, 88)">50</span><span class="token plain">, </span><span class="token assign-left variable" style="color:rgb(9, 134, 88)">max</span><span class="token operator" style="color:rgb(0, 0, 0)">=</span><span class="token number" style="color:rgb(9, 134, 88)">4725</span><span class="token plain">.2k, </span><span class="token assign-left variable" style="color:rgb(9, 134, 88)">avg</span><span class="token operator" style="color:rgb(0, 0, 0)">=</span><span class="token number" style="color:rgb(9, 134, 88)">28034.48</span><span class="token plain">, </span><span class="token assign-left variable" style="color:rgb(9, 134, 88)">stdev</span><span class="token operator" style="color:rgb(0, 0, 0)">=</span><span class="token number" style="color:rgb(9, 134, 88)">69202.94</span><span class="token plain"></span><br></span><span class="token-line" style="color:#000000"><span class="token plain">    clat percentiles </span><span class="token punctuation" style="color:rgb(4, 81, 165)">(</span><span class="token plain">usec</span><span class="token punctuation" style="color:rgb(4, 81, 165)">)</span><span class="token plain">:</span><br></span><span class="token-line" style="color:#000000"><span class="token plain">     </span><span class="token operator" style="color:rgb(0, 0, 0)">|</span><span class="token plain">  </span><span class="token number" style="color:rgb(9, 134, 88)">1</span><span class="token plain">.00th</span><span class="token operator" style="color:rgb(0, 0, 0)">=</span><span class="token punctuation" style="color:rgb(4, 81, 165)">[</span><span class="token plain">    </span><span class="token number" style="color:rgb(9, 134, 88)">848</span><span class="token punctuation" style="color:rgb(4, 81, 165)">]</span><span class="token plain">,  </span><span class="token number" style="color:rgb(9, 134, 88)">5</span><span class="token plain">.00th</span><span class="token operator" style="color:rgb(0, 0, 0)">=</span><span class="token punctuation" style="color:rgb(4, 81, 165)">[</span><span class="token plain">   </span><span class="token number" style="color:rgb(9, 134, 88)">1860</span><span class="token punctuation" style="color:rgb(4, 81, 165)">]</span><span class="token plain">, </span><span class="token number" style="color:rgb(9, 134, 88)">10</span><span class="token plain">.00th</span><span class="token operator" style="color:rgb(0, 0, 0)">=</span><span class="token punctuation" style="color:rgb(4, 81, 165)">[</span><span class="token plain">   </span><span class="token number" style="color:rgb(9, 134, 88)">2802</span><span class="token punctuation" style="color:rgb(4, 81, 165)">]</span><span class="token plain">,</span><br></span><span class="token-line" style="color:#000000"><span class="token plain">     </span><span class="token operator" style="color:rgb(0, 0, 0)">|</span><span class="token plain"> </span><span class="token number" style="color:rgb(9, 134, 88)">20</span><span class="token plain">.00th</span><span class="token operator" style="color:rgb(0, 0, 0)">=</span><span class="token punctuation" style="color:rgb(4, 81, 165)">[</span><span class="token plain">   </span><span class="token number" style="color:rgb(9, 134, 88)">3294</span><span class="token punctuation" style="color:rgb(4, 81, 165)">]</span><span class="token plain">, </span><span class="token number" style="color:rgb(9, 134, 88)">30</span><span class="token plain">.00th</span><span class="token operator" style="color:rgb(0, 0, 0)">=</span><span class="token punctuation" style="color:rgb(4, 81, 165)">[</span><span class="token plain">   </span><span class="token number" style="color:rgb(9, 134, 88)">3752</span><span class="token punctuation" style="color:rgb(4, 81, 165)">]</span><span class="token plain">, </span><span class="token number" style="color:rgb(9, 134, 88)">40</span><span class="token plain">.00th</span><span class="token operator" style="color:rgb(0, 0, 0)">=</span><span class="token punctuation" style="color:rgb(4, 81, 165)">[</span><span class="token plain">   </span><span class="token number" style="color:rgb(9, 134, 88)">4621</span><span class="token punctuation" style="color:rgb(4, 81, 165)">]</span><span class="token plain">,</span><br></span><span class="token-line" style="color:#000000"><span class="token plain">     </span><span class="token operator" style="color:rgb(0, 0, 0)">|</span><span class="token plain"> </span><span class="token number" style="color:rgb(9, 134, 88)">50</span><span class="token plain">.00th</span><span class="token operator" style="color:rgb(0, 0, 0)">=</span><span class="token punctuation" style="color:rgb(4, 81, 165)">[</span><span class="token plain">   </span><span class="token number" style="color:rgb(9, 134, 88)">5800</span><span class="token punctuation" style="color:rgb(4, 81, 165)">]</span><span class="token plain">, </span><span class="token number" style="color:rgb(9, 134, 88)">60</span><span class="token plain">.00th</span><span class="token operator" style="color:rgb(0, 0, 0)">=</span><span class="token punctuation" style="color:rgb(4, 81, 165)">[</span><span class="token plain">   </span><span class="token number" style="color:rgb(9, 134, 88)">7439</span><span class="token punctuation" style="color:rgb(4, 81, 165)">]</span><span class="token plain">, </span><span class="token number" style="color:rgb(9, 134, 88)">70</span><span class="token plain">.00th</span><span class="token operator" style="color:rgb(0, 0, 0)">=</span><span class="token punctuation" style="color:rgb(4, 81, 165)">[</span><span class="token plain">  </span><span class="token number" style="color:rgb(9, 134, 88)">11994</span><span class="token punctuation" style="color:rgb(4, 81, 165)">]</span><span class="token plain">,</span><br></span><span class="token-line" style="color:#000000"><span class="token plain">     </span><span class="token operator" style="color:rgb(0, 0, 0)">|</span><span class="token plain"> </span><span class="token number" style="color:rgb(9, 134, 88)">80</span><span class="token plain">.00th</span><span class="token operator" style="color:rgb(0, 0, 0)">=</span><span class="token punctuation" style="color:rgb(4, 81, 165)">[</span><span class="token plain">  </span><span class="token number" style="color:rgb(9, 134, 88)">27919</span><span class="token punctuation" style="color:rgb(4, 81, 165)">]</span><span class="token plain">, </span><span class="token number" style="color:rgb(9, 134, 88)">90</span><span class="token plain">.00th</span><span class="token operator" style="color:rgb(0, 0, 0)">=</span><span class="token punctuation" style="color:rgb(4, 81, 165)">[</span><span class="token plain"> </span><span class="token number" style="color:rgb(9, 134, 88)">111674</span><span class="token punctuation" style="color:rgb(4, 81, 165)">]</span><span class="token plain">, </span><span class="token number" style="color:rgb(9, 134, 88)">95</span><span class="token plain">.00th</span><span class="token operator" style="color:rgb(0, 0, 0)">=</span><span class="token punctuation" style="color:rgb(4, 81, 165)">[</span><span class="token plain"> </span><span class="token number" style="color:rgb(9, 134, 88)">122160</span><span class="token punctuation" style="color:rgb(4, 81, 165)">]</span><span class="token plain">,</span><br></span><span class="token-line" style="color:#000000"><span class="token plain">     </span><span class="token operator" style="color:rgb(0, 0, 0)">|</span><span class="token plain"> </span><span class="token number" style="color:rgb(9, 134, 88)">99</span><span class="token plain">.00th</span><span class="token operator" style="color:rgb(0, 0, 0)">=</span><span class="token punctuation" style="color:rgb(4, 81, 165)">[</span><span class="token plain"> </span><span class="token number" style="color:rgb(9, 134, 88)">265290</span><span class="token punctuation" style="color:rgb(4, 81, 165)">]</span><span class="token plain">, </span><span class="token number" style="color:rgb(9, 134, 88)">99</span><span class="token plain">.50th</span><span class="token operator" style="color:rgb(0, 0, 0)">=</span><span class="token punctuation" style="color:rgb(4, 81, 165)">[</span><span class="token plain"> </span><span class="token number" style="color:rgb(9, 134, 88)">392168</span><span class="token punctuation" style="color:rgb(4, 81, 165)">]</span><span class="token plain">, </span><span class="token number" style="color:rgb(9, 134, 88)">99</span><span class="token plain">.90th</span><span class="token operator" style="color:rgb(0, 0, 0)">=</span><span class="token punctuation" style="color:rgb(4, 81, 165)">[</span><span class="token plain"> </span><span class="token number" style="color:rgb(9, 134, 88)">784335</span><span class="token punctuation" style="color:rgb(4, 81, 165)">]</span><span class="token plain">,</span><br></span><span class="token-line" style="color:#000000"><span class="token plain">     </span><span class="token operator" style="color:rgb(0, 0, 0)">|</span><span class="token plain"> </span><span class="token number" style="color:rgb(9, 134, 88)">99</span><span class="token plain">.95th</span><span class="token operator" style="color:rgb(0, 0, 0)">=</span><span class="token punctuation" style="color:rgb(4, 81, 165)">[</span><span class="token plain"> </span><span class="token number" style="color:rgb(9, 134, 88)">977273</span><span class="token punctuation" style="color:rgb(4, 81, 165)">]</span><span class="token plain">, </span><span class="token number" style="color:rgb(9, 134, 88)">99</span><span class="token plain">.99th</span><span class="token operator" style="color:rgb(0, 0, 0)">=</span><span class="token punctuation" style="color:rgb(4, 81, 165)">[</span><span class="token number" style="color:rgb(9, 134, 88)">1904215</span><span class="token punctuation" style="color:rgb(4, 81, 165)">]</span><span class="token plain"></span><br></span><span class="token-line" style="color:#000000"><span class="token plain">   bw </span><span class="token punctuation" style="color:rgb(4, 81, 165)">(</span><span class="token plain">  KiB/s</span><span class="token punctuation" style="color:rgb(4, 81, 165)">)</span><span class="token plain">: </span><span class="token assign-left variable" style="color:rgb(9, 134, 88)">min</span><span class="token operator" style="color:rgb(0, 0, 0)">=</span><span class="token plain">  </span><span class="token number" style="color:rgb(9, 134, 88)">208</span><span class="token plain">, </span><span class="token assign-left variable" style="color:rgb(9, 134, 88)">max</span><span class="token operator" style="color:rgb(0, 0, 0)">=</span><span class="token number" style="color:rgb(9, 134, 88)">91939</span><span class="token plain">, </span><span class="token assign-left variable" style="color:rgb(9, 134, 88)">per</span><span class="token operator" style="color:rgb(0, 0, 0)">=</span><span class="token number" style="color:rgb(9, 134, 88)">100.00</span><span class="token plain">%, </span><span class="token assign-left variable" style="color:rgb(9, 134, 88)">avg</span><span class="token operator" style="color:rgb(0, 0, 0)">=</span><span class="token number" style="color:rgb(9, 134, 88)">13475.63</span><span class="token plain">, </span><span class="token assign-left variable" style="color:rgb(9, 134, 88)">stdev</span><span class="token operator" style="color:rgb(0, 0, 0)">=</span><span class="token number" style="color:rgb(9, 134, 88)">1444.81</span><span class="token plain">, </span><span class="token assign-left variable" style="color:rgb(9, 134, 88)">samples</span><span class="token operator" style="color:rgb(0, 0, 0)">=</span><span class="token number" style="color:rgb(9, 134, 88)">5818</span><span class="token plain"></span><br></span><span class="token-line" style="color:#000000"><span class="token plain">   iops        </span><span class="token builtin class-name" style="color:rgb(38, 127, 153)">:</span><span class="token plain"> </span><span class="token assign-left variable" style="color:rgb(9, 134, 88)">min</span><span class="token operator" style="color:rgb(0, 0, 0)">=</span><span class="token plain">   </span><span class="token number" style="color:rgb(9, 134, 88)">52</span><span class="token plain">, </span><span class="token assign-left variable" style="color:rgb(9, 134, 88)">max</span><span class="token operator" style="color:rgb(0, 0, 0)">=</span><span class="token number" style="color:rgb(9, 134, 88)">22984</span><span class="token plain">, </span><span class="token assign-left variable" style="color:rgb(9, 134, 88)">avg</span><span class="token operator" style="color:rgb(0, 0, 0)">=</span><span class="token number" style="color:rgb(9, 134, 88)">3368.52</span><span class="token plain">, </span><span class="token assign-left variable" style="color:rgb(9, 134, 88)">stdev</span><span class="token operator" style="color:rgb(0, 0, 0)">=</span><span class="token number" style="color:rgb(9, 134, 88)">361.18</span><span class="token plain">, </span><span class="token assign-left variable" style="color:rgb(9, 134, 88)">samples</span><span class="token operator" style="color:rgb(0, 0, 0)">=</span><span class="token number" style="color:rgb(9, 134, 88)">5818</span><span class="token plain"></span><br></span><span class="token-line" style="color:#000000"><span class="token plain">  lat </span><span class="token punctuation" style="color:rgb(4, 81, 165)">(</span><span class="token plain">usec</span><span class="token punctuation" style="color:rgb(4, 81, 165)">)</span><span class="token plain">   </span><span class="token builtin class-name" style="color:rgb(38, 127, 153)">:</span><span class="token plain"> </span><span class="token assign-left variable" style="color:rgb(9, 134, 88)">50</span><span class="token operator" style="color:rgb(0, 0, 0)">=</span><span class="token number" style="color:rgb(9, 134, 88)">0.01</span><span class="token plain">%, </span><span class="token assign-left variable" style="color:rgb(9, 134, 88)">100</span><span class="token operator" style="color:rgb(0, 0, 0)">=</span><span class="token number" style="color:rgb(9, 134, 88)">0.01</span><span class="token plain">%, </span><span class="token assign-left variable" style="color:rgb(9, 134, 88)">250</span><span class="token operator" style="color:rgb(0, 0, 0)">=</span><span class="token number" style="color:rgb(9, 134, 88)">0.06</span><span class="token plain">%, </span><span class="token assign-left variable" style="color:rgb(9, 134, 88)">500</span><span class="token operator" style="color:rgb(0, 0, 0)">=</span><span class="token number" style="color:rgb(9, 134, 88)">0.32</span><span class="token plain">%, </span><span class="token assign-left variable" style="color:rgb(9, 134, 88)">750</span><span class="token operator" style="color:rgb(0, 0, 0)">=</span><span class="token number" style="color:rgb(9, 134, 88)">0.53</span><span class="token plain">%</span><br></span><span class="token-line" style="color:#000000"><span class="token plain">  lat </span><span class="token punctuation" style="color:rgb(4, 81, 165)">(</span><span class="token plain">usec</span><span class="token punctuation" style="color:rgb(4, 81, 165)">)</span><span class="token plain">   </span><span class="token builtin class-name" style="color:rgb(38, 127, 153)">:</span><span class="token plain"> </span><span class="token assign-left variable" style="color:rgb(9, 134, 88)">1000</span><span class="token operator" style="color:rgb(0, 0, 0)">=</span><span class="token number" style="color:rgb(9, 134, 88)">0.74</span><span class="token plain">%</span><br></span><span class="token-line" style="color:#000000"><span class="token plain">  lat </span><span class="token punctuation" style="color:rgb(4, 81, 165)">(</span><span class="token plain">msec</span><span class="token punctuation" style="color:rgb(4, 81, 165)">)</span><span class="token plain">   </span><span class="token builtin class-name" style="color:rgb(38, 127, 153)">:</span><span class="token plain"> </span><span class="token assign-left variable" style="color:rgb(9, 134, 88)">2</span><span class="token operator" style="color:rgb(0, 0, 0)">=</span><span class="token number" style="color:rgb(9, 134, 88)">4.20</span><span class="token plain">%, </span><span class="token assign-left variable" style="color:rgb(9, 134, 88)">4</span><span class="token operator" style="color:rgb(0, 0, 0)">=</span><span class="token number" style="color:rgb(9, 134, 88)">28.23</span><span class="token plain">%, </span><span class="token assign-left variable" style="color:rgb(9, 134, 88)">10</span><span class="token operator" style="color:rgb(0, 0, 0)">=</span><span class="token number" style="color:rgb(9, 134, 88)">32.04</span><span class="token plain">%, </span><span class="token assign-left variable" style="color:rgb(9, 134, 88)">20</span><span class="token operator" style="color:rgb(0, 0, 0)">=</span><span class="token number" style="color:rgb(9, 134, 88)">8.83</span><span class="token plain">%, </span><span class="token assign-left variable" style="color:rgb(9, 134, 88)">50</span><span class="token operator" style="color:rgb(0, 0, 0)">=</span><span class="token number" style="color:rgb(9, 134, 88)">8.44</span><span class="token plain">%</span><br></span><span class="token-line" style="color:#000000"><span class="token plain">  lat </span><span class="token punctuation" style="color:rgb(4, 81, 165)">(</span><span class="token plain">msec</span><span class="token punctuation" style="color:rgb(4, 81, 165)">)</span><span class="token plain">   </span><span class="token builtin class-name" style="color:rgb(38, 127, 153)">:</span><span class="token plain"> </span><span class="token assign-left variable" style="color:rgb(9, 134, 88)">100</span><span class="token operator" style="color:rgb(0, 0, 0)">=</span><span class="token number" style="color:rgb(9, 134, 88)">4.75</span><span class="token plain">%, </span><span class="token assign-left variable" style="color:rgb(9, 134, 88)">250</span><span class="token operator" style="color:rgb(0, 0, 0)">=</span><span class="token number" style="color:rgb(9, 134, 88)">10.40</span><span class="token plain">%, </span><span class="token assign-left variable" style="color:rgb(9, 134, 88)">500</span><span class="token operator" style="color:rgb(0, 0, 0)">=</span><span class="token number" style="color:rgb(9, 134, 88)">1.10</span><span class="token plain">%, </span><span class="token assign-left variable" style="color:rgb(9, 134, 88)">750</span><span class="token operator" style="color:rgb(0, 0, 0)">=</span><span class="token number" style="color:rgb(9, 134, 88)">0.23</span><span class="token plain">%, </span><span class="token assign-left variable" style="color:rgb(9, 134, 88)">1000</span><span class="token operator" style="color:rgb(0, 0, 0)">=</span><span class="token number" style="color:rgb(9, 134, 88)">0.07</span><span class="token plain">%</span><br></span><span class="token-line" style="color:#000000"><span class="token plain">  lat </span><span class="token punctuation" style="color:rgb(4, 81, 165)">(</span><span class="token plain">msec</span><span class="token punctuation" style="color:rgb(4, 81, 165)">)</span><span class="token plain">   </span><span class="token builtin class-name" style="color:rgb(38, 127, 153)">:</span><span class="token plain"> </span><span class="token assign-left variable" style="color:rgb(9, 134, 88)">2000</span><span class="token operator" style="color:rgb(0, 0, 0)">=</span><span class="token number" style="color:rgb(9, 134, 88)">0.05</span><span class="token plain">%, </span><span class="token operator" style="color:rgb(0, 0, 0)">&gt;=</span><span class="token number" style="color:rgb(9, 134, 88)">2000</span><span class="token operator" style="color:rgb(0, 0, 0)">=</span><span class="token number" style="color:rgb(9, 134, 88)">0.01</span><span class="token plain">%</span><br></span><span class="token-line" style="color:#000000"><span class="token plain">  cpu          </span><span class="token builtin class-name" style="color:rgb(38, 127, 153)">:</span><span class="token plain"> </span><span class="token assign-left variable" style="color:rgb(9, 134, 88)">usr</span><span class="token operator" style="color:rgb(0, 0, 0)">=</span><span class="token number" style="color:rgb(9, 134, 88)">0.18</span><span class="token plain">%, </span><span class="token assign-left variable" style="color:rgb(9, 134, 88)">sys</span><span class="token operator" style="color:rgb(0, 0, 0)">=</span><span class="token number" style="color:rgb(9, 134, 88)">0.45</span><span class="token plain">%, </span><span class="token assign-left variable" style="color:rgb(9, 134, 88)">ctx</span><span class="token operator" style="color:rgb(0, 0, 0)">=</span><span class="token number" style="color:rgb(9, 134, 88)">964464</span><span class="token plain">, </span><span class="token assign-left variable" style="color:rgb(9, 134, 88)">majf</span><span class="token operator" style="color:rgb(0, 0, 0)">=</span><span class="token number" style="color:rgb(9, 134, 88)">0</span><span class="token plain">, </span><span class="token assign-left variable" style="color:rgb(9, 134, 88)">minf</span><span class="token operator" style="color:rgb(0, 0, 0)">=</span><span class="token number" style="color:rgb(9, 134, 88)">210</span><span class="token plain"></span><br></span><span class="token-line" style="color:#000000"><span class="token plain">  IO depths    </span><span class="token builtin class-name" style="color:rgb(38, 127, 153)">:</span><span class="token plain"> </span><span class="token assign-left variable" style="color:rgb(9, 134, 88)">1</span><span class="token operator" style="color:rgb(0, 0, 0)">=</span><span class="token number" style="color:rgb(9, 134, 88)">0.1</span><span class="token plain">%, </span><span class="token assign-left variable" style="color:rgb(9, 134, 88)">2</span><span class="token operator" style="color:rgb(0, 0, 0)">=</span><span class="token number" style="color:rgb(9, 134, 88)">0.1</span><span class="token plain">%, </span><span class="token assign-left variable" style="color:rgb(9, 134, 88)">4</span><span class="token operator" style="color:rgb(0, 0, 0)">=</span><span class="token number" style="color:rgb(9, 134, 88)">0.1</span><span class="token plain">%, </span><span class="token assign-left variable" style="color:rgb(9, 134, 88)">8</span><span class="token operator" style="color:rgb(0, 0, 0)">=</span><span class="token number" style="color:rgb(9, 134, 88)">0.1</span><span class="token plain">%, </span><span class="token assign-left variable" style="color:rgb(9, 134, 88)">16</span><span class="token operator" style="color:rgb(0, 0, 0)">=</span><span class="token number" style="color:rgb(9, 134, 88)">100.0</span><span class="token plain">%, </span><span class="token assign-left variable" style="color:rgb(9, 134, 88)">32</span><span class="token operator" style="color:rgb(0, 0, 0)">=</span><span class="token number" style="color:rgb(9, 134, 88)">0.0</span><span class="token plain">%, </span><span class="token operator" style="color:rgb(0, 0, 0)">&gt;=</span><span class="token number" style="color:rgb(9, 134, 88)">64</span><span class="token operator" style="color:rgb(0, 0, 0)">=</span><span class="token number" style="color:rgb(9, 134, 88)">0.0</span><span class="token plain">%</span><br></span><span class="token-line" style="color:#000000"><span class="token plain">     submit    </span><span class="token builtin class-name" style="color:rgb(38, 127, 153)">:</span><span class="token plain"> </span><span class="token assign-left variable" style="color:rgb(9, 134, 88)">0</span><span class="token operator" style="color:rgb(0, 0, 0)">=</span><span class="token number" style="color:rgb(9, 134, 88)">0.0</span><span class="token plain">%, </span><span class="token assign-left variable" style="color:rgb(9, 134, 88)">4</span><span class="token operator" style="color:rgb(0, 0, 0)">=</span><span class="token number" style="color:rgb(9, 134, 88)">100.0</span><span class="token plain">%, </span><span class="token assign-left variable" style="color:rgb(9, 134, 88)">8</span><span class="token operator" style="color:rgb(0, 0, 0)">=</span><span class="token number" style="color:rgb(9, 134, 88)">0.0</span><span class="token plain">%, </span><span class="token assign-left variable" style="color:rgb(9, 134, 88)">16</span><span class="token operator" style="color:rgb(0, 0, 0)">=</span><span class="token number" style="color:rgb(9, 134, 88)">0.0</span><span class="token plain">%, </span><span class="token assign-left variable" style="color:rgb(9, 134, 88)">32</span><span class="token operator" style="color:rgb(0, 0, 0)">=</span><span class="token number" style="color:rgb(9, 134, 88)">0.0</span><span class="token plain">%, </span><span class="token assign-left variable" style="color:rgb(9, 134, 88)">64</span><span class="token operator" style="color:rgb(0, 0, 0)">=</span><span class="token number" style="color:rgb(9, 134, 88)">0.0</span><span class="token plain">%, </span><span class="token operator" style="color:rgb(0, 0, 0)">&gt;=</span><span class="token number" style="color:rgb(9, 134, 88)">64</span><span class="token operator" style="color:rgb(0, 0, 0)">=</span><span class="token number" style="color:rgb(9, 134, 88)">0.0</span><span class="token plain">%</span><br></span><span class="token-line" style="color:#000000"><span class="token plain">     complete  </span><span class="token builtin class-name" style="color:rgb(38, 127, 153)">:</span><span class="token plain"> </span><span class="token assign-left variable" style="color:rgb(9, 134, 88)">0</span><span class="token operator" style="color:rgb(0, 0, 0)">=</span><span class="token number" style="color:rgb(9, 134, 88)">0.0</span><span class="token plain">%, </span><span class="token assign-left variable" style="color:rgb(9, 134, 88)">4</span><span class="token operator" style="color:rgb(0, 0, 0)">=</span><span class="token number" style="color:rgb(9, 134, 88)">100.0</span><span class="token plain">%, </span><span class="token assign-left variable" style="color:rgb(9, 134, 88)">8</span><span class="token operator" style="color:rgb(0, 0, 0)">=</span><span class="token number" style="color:rgb(9, 134, 88)">0.0</span><span class="token plain">%, </span><span class="token assign-left variable" style="color:rgb(9, 134, 88)">16</span><span class="token operator" style="color:rgb(0, 0, 0)">=</span><span class="token number" style="color:rgb(9, 134, 88)">0.0</span><span class="token plain">%, </span><span class="token assign-left variable" style="color:rgb(9, 134, 88)">32</span><span class="token operator" style="color:rgb(0, 0, 0)">=</span><span class="token number" style="color:rgb(9, 134, 88)">0.1</span><span class="token plain">%, </span><span class="token assign-left variable" style="color:rgb(9, 134, 88)">64</span><span class="token operator" style="color:rgb(0, 0, 0)">=</span><span class="token number" style="color:rgb(9, 134, 88)">0.0</span><span class="token plain">%, </span><span class="token operator" style="color:rgb(0, 0, 0)">&gt;=</span><span class="token number" style="color:rgb(9, 134, 88)">64</span><span class="token operator" style="color:rgb(0, 0, 0)">=</span><span class="token number" style="color:rgb(9, 134, 88)">0.0</span><span class="token plain">%</span><br></span><span class="token-line" style="color:#000000"><span class="token plain">     issued rwts: </span><span class="token assign-left variable" style="color:rgb(9, 134, 88)">total</span><span class="token operator" style="color:rgb(0, 0, 0)">=</span><span class="token number" style="color:rgb(9, 134, 88)">977794,978699</span><span class="token plain">,0,0 </span><span class="token assign-left variable" style="color:rgb(9, 134, 88)">short</span><span class="token operator" style="color:rgb(0, 0, 0)">=</span><span class="token number" style="color:rgb(9, 134, 88)">0,0</span><span class="token plain">,0,0 </span><span class="token assign-left variable" style="color:rgb(9, 134, 88)">dropped</span><span class="token operator" style="color:rgb(0, 0, 0)">=</span><span class="token number" style="color:rgb(9, 134, 88)">0,0</span><span class="token plain">,0,0</span><br></span><span class="token-line" style="color:#000000"><span class="token plain">     latency   </span><span class="token builtin class-name" style="color:rgb(38, 127, 153)">:</span><span class="token plain"> </span><span class="token assign-left variable" style="color:rgb(9, 134, 88)">target</span><span class="token operator" style="color:rgb(0, 0, 0)">=</span><span class="token number" style="color:rgb(9, 134, 88)">0</span><span class="token plain">, </span><span class="token assign-left variable" style="color:rgb(9, 134, 88)">window</span><span class="token operator" style="color:rgb(0, 0, 0)">=</span><span class="token number" style="color:rgb(9, 134, 88)">0</span><span class="token plain">, </span><span class="token assign-left variable" style="color:rgb(9, 134, 88)">percentile</span><span class="token operator" style="color:rgb(0, 0, 0)">=</span><span class="token number" style="color:rgb(9, 134, 88)">100.00</span><span class="token plain">%, </span><span class="token assign-left variable" style="color:rgb(9, 134, 88)">depth</span><span class="token operator" style="color:rgb(0, 0, 0)">=</span><span class="token number" style="color:rgb(9, 134, 88)">20</span><span class="token plain"></span><br></span><span class="token-line" style="color:#000000"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#000000"><span class="token plain">Run status group </span><span class="token number" style="color:rgb(9, 134, 88)">0</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(4, 81, 165)">(</span><span class="token plain">all </span><span class="token function" style="color:rgb(0, 0, 255)">jobs</span><span class="token punctuation" style="color:rgb(4, 81, 165)">)</span><span class="token plain">:</span><br></span><span class="token-line" style="color:#000000"><span class="token plain">   READ: </span><span class="token assign-left variable" style="color:rgb(9, 134, 88)">bw</span><span class="token operator" style="color:rgb(0, 0, 0)">=</span><span class="token number" style="color:rgb(9, 134, 88)">12</span><span class="token plain">.7MiB/s </span><span class="token punctuation" style="color:rgb(4, 81, 165)">(</span><span class="token number" style="color:rgb(9, 134, 88)">13</span><span class="token plain">.3MB/s</span><span class="token punctuation" style="color:rgb(4, 81, 165)">)</span><span class="token plain">, </span><span class="token number" style="color:rgb(9, 134, 88)">12</span><span class="token plain">.7MiB/s-12.7MiB/s </span><span class="token punctuation" style="color:rgb(4, 81, 165)">(</span><span class="token number" style="color:rgb(9, 134, 88)">13</span><span class="token plain">.3MB/s-13.3MB/s</span><span class="token punctuation" style="color:rgb(4, 81, 165)">)</span><span class="token plain">, </span><span class="token assign-left variable" style="color:rgb(9, 134, 88)">io</span><span class="token operator" style="color:rgb(0, 0, 0)">=</span><span class="token plain">3820MiB </span><span class="token punctuation" style="color:rgb(4, 81, 165)">(</span><span class="token plain">4005MB</span><span class="token punctuation" style="color:rgb(4, 81, 165)">)</span><span class="token plain">, </span><span class="token assign-left variable" style="color:rgb(9, 134, 88)">run</span><span class="token operator" style="color:rgb(0, 0, 0)">=</span><span class="token number" style="color:rgb(9, 134, 88)">300065</span><span class="token plain">-300065msec</span><br></span><span class="token-line" style="color:#000000"><span class="token plain">  WRITE: </span><span class="token assign-left variable" style="color:rgb(9, 134, 88)">bw</span><span class="token operator" style="color:rgb(0, 0, 0)">=</span><span class="token number" style="color:rgb(9, 134, 88)">12</span><span class="token plain">.7MiB/s </span><span class="token punctuation" style="color:rgb(4, 81, 165)">(</span><span class="token number" style="color:rgb(9, 134, 88)">13</span><span class="token plain">.4MB/s</span><span class="token punctuation" style="color:rgb(4, 81, 165)">)</span><span class="token plain">, </span><span class="token number" style="color:rgb(9, 134, 88)">12</span><span class="token plain">.7MiB/s-12.7MiB/s </span><span class="token punctuation" style="color:rgb(4, 81, 165)">(</span><span class="token number" style="color:rgb(9, 134, 88)">13</span><span class="token plain">.4MB/s-13.4MB/s</span><span class="token punctuation" style="color:rgb(4, 81, 165)">)</span><span class="token plain">, </span><span class="token assign-left variable" style="color:rgb(9, 134, 88)">io</span><span class="token operator" style="color:rgb(0, 0, 0)">=</span><span class="token plain">3823MiB </span><span class="token punctuation" style="color:rgb(4, 81, 165)">(</span><span class="token plain">4009MB</span><span class="token punctuation" style="color:rgb(4, 81, 165)">)</span><span class="token plain">, </span><span class="token assign-left variable" style="color:rgb(9, 134, 88)">run</span><span class="token operator" style="color:rgb(0, 0, 0)">=</span><span class="token number" style="color:rgb(9, 134, 88)">300065</span><span class="token plain">-300065msec</span><br></span><span class="token-line" style="color:#000000"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#000000"><span class="token plain">Disk stats </span><span class="token punctuation" style="color:rgb(4, 81, 165)">(</span><span class="token plain">read/write</span><span class="token punctuation" style="color:rgb(4, 81, 165)">)</span><span class="token plain">:</span><br></span><span class="token-line" style="color:#000000"><span class="token plain">  sdb: </span><span class="token assign-left variable" style="color:rgb(9, 134, 88)">ios</span><span class="token operator" style="color:rgb(0, 0, 0)">=</span><span class="token number" style="color:rgb(9, 134, 88)">480787</span><span class="token plain">/482996, </span><span class="token assign-left variable" style="color:rgb(9, 134, 88)">merge</span><span class="token operator" style="color:rgb(0, 0, 0)">=</span><span class="token number" style="color:rgb(9, 134, 88)">492621</span><span class="token plain">/492299, </span><span class="token assign-left variable" style="color:rgb(9, 134, 88)">ticks</span><span class="token operator" style="color:rgb(0, 0, 0)">=</span><span class="token number" style="color:rgb(9, 134, 88)">6820973</span><span class="token plain">/5217066, </span><span class="token assign-left variable" style="color:rgb(9, 134, 88)">in_queue</span><span class="token operator" style="color:rgb(0, 0, 0)">=</span><span class="token number" style="color:rgb(9, 134, 88)">7483700</span><span class="token plain">, </span><span class="token assign-left variable" style="color:rgb(9, 134, 88)">util</span><span class="token operator" style="color:rgb(0, 0, 0)">=</span><span class="token number" style="color:rgb(9, 134, 88)">100.00</span><span class="token plain">%</span><br></span><span class="token-line" style="color:#000000"><span class="token plain"></span><span class="token punctuation" style="color:rgb(4, 81, 165)">[</span><span class="token plain">root@arm64v8 ~</span><span class="token punctuation" style="color:rgb(4, 81, 165)">]</span><span class="token comment" style="color:rgb(0, 128, 0)">#</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg class="copyButtonIcon_y97N" viewBox="0 0 24 24"><path d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg class="copyButtonSuccessIcon_LjdS" viewBox="0 0 24 24"><path d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><ul><li><p>Fio 正在运行时，会显示任务的状态信息，如下：</p><div class="language-bash codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#000000;--prism-background-color:#ffffff"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-bash codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#000000"><span class="token comment" style="color:rgb(0, 128, 0)"># 运行中</span><span class="token plain"></span><br></span><span class="token-line" style="color:#000000"><span class="token plain">Jobs: </span><span class="token number" style="color:rgb(9, 134, 88)">10</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(4, 81, 165)">(</span><span class="token plain">f</span><span class="token operator" style="color:rgb(0, 0, 0)">=</span><span class="token number" style="color:rgb(9, 134, 88)">10</span><span class="token punctuation" style="color:rgb(4, 81, 165)">)</span><span class="token plain">: </span><span class="token punctuation" style="color:rgb(4, 81, 165)">[</span><span class="token plain">M</span><span class="token punctuation" style="color:rgb(4, 81, 165)">(</span><span class="token number" style="color:rgb(9, 134, 88)">10</span><span class="token punctuation" style="color:rgb(4, 81, 165)">)</span><span class="token punctuation" style="color:rgb(4, 81, 165)">]</span><span class="token punctuation" style="color:rgb(4, 81, 165)">[</span><span class="token number" style="color:rgb(9, 134, 88)">2.7</span><span class="token plain">%</span><span class="token punctuation" style="color:rgb(4, 81, 165)">]</span><span class="token punctuation" style="color:rgb(4, 81, 165)">[</span><span class="token plain">r</span><span class="token operator" style="color:rgb(0, 0, 0)">=</span><span class="token plain">2508KiB/s,w</span><span class="token operator" style="color:rgb(0, 0, 0)">=</span><span class="token plain">2856KiB/s</span><span class="token punctuation" style="color:rgb(4, 81, 165)">]</span><span class="token punctuation" style="color:rgb(4, 81, 165)">[</span><span class="token plain">r</span><span class="token operator" style="color:rgb(0, 0, 0)">=</span><span class="token number" style="color:rgb(9, 134, 88)">627</span><span class="token plain">,w</span><span class="token operator" style="color:rgb(0, 0, 0)">=</span><span class="token number" style="color:rgb(9, 134, 88)">714</span><span class="token plain"> IOPS</span><span class="token punctuation" style="color:rgb(4, 81, 165)">]</span><span class="token punctuation" style="color:rgb(4, 81, 165)">[</span><span class="token plain">eta 04m:52s</span><span class="token punctuation" style="color:rgb(4, 81, 165)">]</span><span class="token plain"></span><br></span><span class="token-line" style="color:#000000"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#000000"><span class="token plain"></span><span class="token comment" style="color:rgb(0, 128, 0)"># 已完成</span><span class="token plain"></span><br></span><span class="token-line" style="color:#000000"><span class="token plain">Jobs: </span><span class="token number" style="color:rgb(9, 134, 88)">10</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(4, 81, 165)">(</span><span class="token plain">f</span><span class="token operator" style="color:rgb(0, 0, 0)">=</span><span class="token number" style="color:rgb(9, 134, 88)">9</span><span class="token punctuation" style="color:rgb(4, 81, 165)">)</span><span class="token plain">: </span><span class="token punctuation" style="color:rgb(4, 81, 165)">[</span><span class="token plain">f</span><span class="token punctuation" style="color:rgb(4, 81, 165)">(</span><span class="token number" style="color:rgb(9, 134, 88)">10</span><span class="token punctuation" style="color:rgb(4, 81, 165)">)</span><span class="token punctuation" style="color:rgb(4, 81, 165)">]</span><span class="token punctuation" style="color:rgb(4, 81, 165)">[</span><span class="token number" style="color:rgb(9, 134, 88)">100.0</span><span class="token plain">%</span><span class="token punctuation" style="color:rgb(4, 81, 165)">]</span><span class="token punctuation" style="color:rgb(4, 81, 165)">[</span><span class="token plain">r</span><span class="token operator" style="color:rgb(0, 0, 0)">=</span><span class="token number" style="color:rgb(9, 134, 88)">10</span><span class="token plain">.9MiB/s,w</span><span class="token operator" style="color:rgb(0, 0, 0)">=</span><span class="token number" style="color:rgb(9, 134, 88)">10</span><span class="token plain">.7MiB/s</span><span class="token punctuation" style="color:rgb(4, 81, 165)">]</span><span class="token punctuation" style="color:rgb(4, 81, 165)">[</span><span class="token plain">r</span><span class="token operator" style="color:rgb(0, 0, 0)">=</span><span class="token number" style="color:rgb(9, 134, 88)">2785</span><span class="token plain">,w</span><span class="token operator" style="color:rgb(0, 0, 0)">=</span><span class="token number" style="color:rgb(9, 134, 88)">2742</span><span class="token plain"> IOPS</span><span class="token punctuation" style="color:rgb(4, 81, 165)">]</span><span class="token punctuation" style="color:rgb(4, 81, 165)">[</span><span class="token plain">eta 00m:00s</span><span class="token punctuation" style="color:rgb(4, 81, 165)">]</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg class="copyButtonIcon_y97N" viewBox="0 0 24 24"><path d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg class="copyButtonSuccessIcon_LjdS" viewBox="0 0 24 24"><path d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><ul><li>第一组方括号内的字符表示每个线程的当前状态。 第一个字符是任务文件中定义的第一个任务，以此类推。 可能的值(按典型的生命周期顺序)是:</li></ul><div class="language-bash codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#000000;--prism-background-color:#ffffff"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-bash codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#000000"><span class="token plain">P      Thread setup, but not started.</span><br></span><span class="token-line" style="color:#000000"><span class="token plain">C      Thread created.</span><br></span><span class="token-line" style="color:#000000"><span class="token plain">I      Thread initialized, waiting or generating necessary data.</span><br></span><span class="token-line" style="color:#000000"><span class="token plain">p      Thread running pre-reading file</span><span class="token punctuation" style="color:rgb(4, 81, 165)">(</span><span class="token plain">s</span><span class="token punctuation" style="color:rgb(4, 81, 165)">)</span><span class="token plain">.</span><br></span><span class="token-line" style="color:#000000"><span class="token plain">/      Thread is </span><span class="token keyword" style="color:rgb(0, 0, 255)">in</span><span class="token plain"> ramp period.</span><br></span><span class="token-line" style="color:#000000"><span class="token plain">R      Running, doing sequential reads.</span><br></span><span class="token-line" style="color:#000000"><span class="token plain">r      Running, doing random reads.</span><br></span><span class="token-line" style="color:#000000"><span class="token plain">W      Running, doing sequential writes.</span><br></span><span class="token-line" style="color:#000000"><span class="token plain">w      Running, doing random writes.</span><br></span><span class="token-line" style="color:#000000"><span class="token plain">M      Running, doing mixed sequential reads/writes.</span><br></span><span class="token-line" style="color:#000000"><span class="token plain">m      Running, doing mixed random reads/writes.</span><br></span><span class="token-line" style="color:#000000"><span class="token plain">D      Running, doing sequential trims.</span><br></span><span class="token-line" style="color:#000000"><span class="token plain">d      Running, doing random trims.</span><br></span><span class="token-line" style="color:#000000"><span class="token plain">F      Running, currently waiting </span><span class="token keyword" style="color:rgb(0, 0, 255)">for</span><span class="token plain"> fsync</span><span class="token punctuation" style="color:rgb(4, 81, 165)">(</span><span class="token number" style="color:rgb(9, 134, 88)">2</span><span class="token punctuation" style="color:rgb(4, 81, 165)">)</span><span class="token plain">.</span><br></span><span class="token-line" style="color:#000000"><span class="token plain">V      Running, doing verification of written data.</span><br></span><span class="token-line" style="color:#000000"><span class="token plain">f      Thread finishing.</span><br></span><span class="token-line" style="color:#000000"><span class="token plain">E      Thread exited, not reaped by main thread yet.</span><br></span><span class="token-line" style="color:#000000"><span class="token plain">-      Thread reaped.</span><br></span><span class="token-line" style="color:#000000"><span class="token plain">X      Thread reaped, exited with an error.</span><br></span><span class="token-line" style="color:#000000"><span class="token plain">K      Thread reaped, exited due to signal.</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg class="copyButtonIcon_y97N" viewBox="0 0 24 24"><path d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg class="copyButtonSuccessIcon_LjdS" viewBox="0 0 24 24"><path d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><ul><li>运行中这一行的意思是：执行 10 个任务，打开文件描述符 10 个，正在运行混合顺序读写共 10 个任务，已完成 2.7%，读 2508KiB/s，写 2856KiB/s；读 IOPS 627，写 IOPS 714，评估需要 04m:52s 完成所有任务。</li></ul></li><li><p>Fio 完成或 ctrl+c 取消都会输出所有结果信息，下面一一解释关键参数：</p><div class="language-bash codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#000000;--prism-background-color:#ffffff"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-bash codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#000000"><span class="token plain">hdd7k: </span><span class="token punctuation" style="color:rgb(4, 81, 165)">(</span><span class="token plain">groupid</span><span class="token operator" style="color:rgb(0, 0, 0)">=</span><span class="token number" style="color:rgb(9, 134, 88)">0</span><span class="token plain">, </span><span class="token assign-left variable" style="color:rgb(9, 134, 88)">jobs</span><span class="token operator" style="color:rgb(0, 0, 0)">=</span><span class="token number" style="color:rgb(9, 134, 88)">10</span><span class="token punctuation" style="color:rgb(4, 81, 165)">)</span><span class="token plain">: </span><span class="token assign-left variable" style="color:rgb(9, 134, 88)">err</span><span class="token operator" style="color:rgb(0, 0, 0)">=</span><span class="token plain"> </span><span class="token number" style="color:rgb(9, 134, 88)">0</span><span class="token plain">: </span><span class="token assign-left variable" style="color:rgb(9, 134, 88)">pid</span><span class="token operator" style="color:rgb(0, 0, 0)">=</span><span class="token number" style="color:rgb(9, 134, 88)">73595</span><span class="token plain">: Thu Jan </span><span class="token number" style="color:rgb(9, 134, 88)">13</span><span class="token plain"> </span><span class="token number" style="color:rgb(9, 134, 88)">11</span><span class="token plain">:19:06 </span><span class="token number" style="color:rgb(9, 134, 88)">2022</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg class="copyButtonIcon_y97N" viewBox="0 0 24 24"><path d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg class="copyButtonSuccessIcon_LjdS" viewBox="0 0 24 24"><path d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><ul><li>定义的任务名称，groupid，聚合的任务数，最后一个错误 id(0 表示没有错误)和 pid，完成时间。</li></ul></li><li><p>read/write/trim：IOPS 表示每秒平均 IOPS；BW 表示平均带宽，BW 后面的数据是 2 进制带宽，括号中是 10 进制带宽；最后两个值表示(二进制总 IO 大小/总运行时间)</p></li><li><p>slat：提交任务延迟(submission latency)，也就是异步 IO 指令生成消耗的时间(min 最小时间，max 最大时间，avg 平均时间，stdev 标准差)。对于同步 I/O，这一行不会显示，因为 slat 实际上是完成延迟(completion latency)。这个值的单位可以是纳秒、微秒或毫秒，由 fio 自动选择合适的单位。在 --minimal 模式下，延迟总是以微秒计算。</p></li><li><p>clat：完成延迟(completion latency)，这表示从提交 IO 指令到内核再到 IO 指令全部运行所需要的时间，不包括提交任务延迟(submission latency)；同步 IO 情况下 clat 通常等于(或非常接近)0，因为从提交到完成仅仅表示 CPU 时间(IO 指令已经生成了)。</p></li><li><p>lat：总延迟(total latency)，这表示从 fio 创建 IO 单元到 IO 指令全部运行所花费的时间。</p></li><li><p>clat percentiles：完成延迟百分比分布，注意，从源码来看，它不是 slat + clat；它有自己的结构体描述。理解思路参考下面的 lat(nsec/usec/msec)。</p></li><li><p>bw：基于样本的带宽统计数据。最好是在同一磁盘同一组线程中取样，才具有实际意义，因为磁盘竞争访问才符合实际情况。</p></li><li><p>iops：基于样本的 IOPS 统计数据。同 bw。</p></li><li><p>lat(nsec/usec/msec)：IO 完成延迟(I/O completion latencies)的分布情况，这表示从 IO 离开 fio 到它完成的时间。与上面单独的 read/write/trim 部分不同，这里和其余部分中的数据适用于报告组的所有 IO。50=0.01% 意味着在 50us 以下完成了 0.01% 的 IO，100=0.01% 意味着 0.01% 的 IO 需要 50 到 99us 才能完成。依次类推。</p></li><li><p>cpu：CPU 使用率。 用户和系统时间，以及该线程所经历的上下文切换次数、系统和用户时间的使用情况，最后是主要和次要页面错误的数量。 CPU 利用率数字是报告组中任务的平均值，而上下文和故障计数器是求和的。</p></li><li><p>IO depths：任务生命周期内 IO 深度的分布。 这些数字被分成 2 的幂，每个条目涵盖了从该值到低于下一个条目的深度，例如，16= 涵盖了从 16 到 31 的深度。请注意，深度分布条目所覆盖的范围可能与等效的 submit/complete 分布条目所覆盖的范围不同。</p></li><li><p>IO submit：在一个提交调用中提交了多少个 IO 块。 每个条目表示这个数量，直到前一个条目。例如，4=100% 意味着我们每次提交调用提交的 IO 在 1 到 4 之间。 请注意，提交分布条目所覆盖的范围可以不同于等效深度分布条目所覆盖的范围。</p></li><li><p>IO complete：同理 submit，表示完成的 IO 块。</p></li><li><p>IO issued rwt：发布的 read/write/trim 请求数量以及缺少和丢掉的数量。</p></li><li><p>IO latency：这些值用于 latency<!-- -->_<!-- -->target 和相关选项。 当使用这些选项时，该片段描述满足指定时延目标所需的 IO 深度。</p></li><li><p>以上是报告中的详细参数说明，下面对总结报告数据说明一下：</p><div class="language-bash codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#000000;--prism-background-color:#ffffff"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-bash codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#000000"><span class="token plain">Run status group </span><span class="token number" style="color:rgb(9, 134, 88)">0</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(4, 81, 165)">(</span><span class="token plain">all </span><span class="token function" style="color:rgb(0, 0, 255)">jobs</span><span class="token punctuation" style="color:rgb(4, 81, 165)">)</span><span class="token plain">:</span><br></span><span class="token-line" style="color:#000000"><span class="token plain"> READ: </span><span class="token assign-left variable" style="color:rgb(9, 134, 88)">bw</span><span class="token operator" style="color:rgb(0, 0, 0)">=</span><span class="token number" style="color:rgb(9, 134, 88)">12</span><span class="token plain">.7MiB/s </span><span class="token punctuation" style="color:rgb(4, 81, 165)">(</span><span class="token number" style="color:rgb(9, 134, 88)">13</span><span class="token plain">.3MB/s</span><span class="token punctuation" style="color:rgb(4, 81, 165)">)</span><span class="token plain">, </span><span class="token number" style="color:rgb(9, 134, 88)">12</span><span class="token plain">.7MiB/s-12.7MiB/s </span><span class="token punctuation" style="color:rgb(4, 81, 165)">(</span><span class="token number" style="color:rgb(9, 134, 88)">13</span><span class="token plain">.3MB/s-13.3MB/s</span><span class="token punctuation" style="color:rgb(4, 81, 165)">)</span><span class="token plain">, </span><span class="token assign-left variable" style="color:rgb(9, 134, 88)">io</span><span class="token operator" style="color:rgb(0, 0, 0)">=</span><span class="token plain">3820MiB </span><span class="token punctuation" style="color:rgb(4, 81, 165)">(</span><span class="token plain">4005MB</span><span class="token punctuation" style="color:rgb(4, 81, 165)">)</span><span class="token plain">, </span><span class="token assign-left variable" style="color:rgb(9, 134, 88)">run</span><span class="token operator" style="color:rgb(0, 0, 0)">=</span><span class="token number" style="color:rgb(9, 134, 88)">300065</span><span class="token plain">-300065msec</span><br></span><span class="token-line" style="color:#000000"><span class="token plain">WRITE: </span><span class="token assign-left variable" style="color:rgb(9, 134, 88)">bw</span><span class="token operator" style="color:rgb(0, 0, 0)">=</span><span class="token number" style="color:rgb(9, 134, 88)">12</span><span class="token plain">.7MiB/s </span><span class="token punctuation" style="color:rgb(4, 81, 165)">(</span><span class="token number" style="color:rgb(9, 134, 88)">13</span><span class="token plain">.4MB/s</span><span class="token punctuation" style="color:rgb(4, 81, 165)">)</span><span class="token plain">, </span><span class="token number" style="color:rgb(9, 134, 88)">12</span><span class="token plain">.7MiB/s-12.7MiB/s </span><span class="token punctuation" style="color:rgb(4, 81, 165)">(</span><span class="token number" style="color:rgb(9, 134, 88)">13</span><span class="token plain">.4MB/s-13.4MB/s</span><span class="token punctuation" style="color:rgb(4, 81, 165)">)</span><span class="token plain">, </span><span class="token assign-left variable" style="color:rgb(9, 134, 88)">io</span><span class="token operator" style="color:rgb(0, 0, 0)">=</span><span class="token plain">3823MiB </span><span class="token punctuation" style="color:rgb(4, 81, 165)">(</span><span class="token plain">4009MB</span><span class="token punctuation" style="color:rgb(4, 81, 165)">)</span><span class="token plain">, </span><span class="token assign-left variable" style="color:rgb(9, 134, 88)">run</span><span class="token operator" style="color:rgb(0, 0, 0)">=</span><span class="token number" style="color:rgb(9, 134, 88)">300065</span><span class="token plain">-300065msec</span><br></span><span class="token-line" style="color:#000000"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#000000"><span class="token plain">Disk stats </span><span class="token punctuation" style="color:rgb(4, 81, 165)">(</span><span class="token plain">read/write</span><span class="token punctuation" style="color:rgb(4, 81, 165)">)</span><span class="token plain">:</span><br></span><span class="token-line" style="color:#000000"><span class="token plain">sdb: </span><span class="token assign-left variable" style="color:rgb(9, 134, 88)">ios</span><span class="token operator" style="color:rgb(0, 0, 0)">=</span><span class="token number" style="color:rgb(9, 134, 88)">480787</span><span class="token plain">/482996, </span><span class="token assign-left variable" style="color:rgb(9, 134, 88)">merge</span><span class="token operator" style="color:rgb(0, 0, 0)">=</span><span class="token number" style="color:rgb(9, 134, 88)">492621</span><span class="token plain">/492299, </span><span class="token assign-left variable" style="color:rgb(9, 134, 88)">ticks</span><span class="token operator" style="color:rgb(0, 0, 0)">=</span><span class="token number" style="color:rgb(9, 134, 88)">6820973</span><span class="token plain">/5217066, </span><span class="token assign-left variable" style="color:rgb(9, 134, 88)">in_queue</span><span class="token operator" style="color:rgb(0, 0, 0)">=</span><span class="token number" style="color:rgb(9, 134, 88)">7483700</span><span class="token plain">, </span><span class="token assign-left variable" style="color:rgb(9, 134, 88)">util</span><span class="token operator" style="color:rgb(0, 0, 0)">=</span><span class="token number" style="color:rgb(9, 134, 88)">100.00</span><span class="token plain">%</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg class="copyButtonIcon_y97N" viewBox="0 0 24 24"><path d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg class="copyButtonSuccessIcon_LjdS" viewBox="0 0 24 24"><path d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><ul><li>bw：该组中所有线程的最小和最大带宽紧随该组中所有线程的总带宽。 括号外的值是 2 进制的格式，括号内的值是10 进制格式的等价值。</li><li>io：整合该组中所有线程执行的 IO。 格式与 bw 相同。</li><li>run：该组中线程的最小和最长运行时间。</li><li>ios：所有线程组的 IO 数。</li><li>merge：IO 调度器执行的合并次数。</li><li>ticks：保持磁盘忙碌的 ticks 数。</li><li>in<!-- -->_<!-- -->queue：在磁盘队列中总耗时。</li><li>util：磁盘利用率。 值为 100% 表示我们一直保持磁盘繁忙，50% 表示磁盘有一半时间处于空闲状态。</li></ul></li></ul><h2 class="anchor anchorWithHideOnScrollNavbar_WYt5" id="34生产测试">3.4、生产测试<a class="hash-link" href="#34生产测试" title="Direct link to heading">​</a></h2><h3 class="anchor anchorWithHideOnScrollNavbar_WYt5" id="341硬件环境">3.4.1、硬件环境<a class="hash-link" href="#341硬件环境" title="Direct link to heading">​</a></h3><table><thead><tr><th>配置</th><th>x86</th><th>arm64-single</th><th>arm64-double</th></tr></thead><tbody><tr><td>CPU</td><td>X86(Gold 6138)</td><td>arm64-64core</td><td>arm64-128core</td></tr><tr><td>MEM</td><td>256G</td><td>256G</td><td>256G</td></tr><tr><td>SYS</td><td>Centos8.4</td><td>Centos8.4</td><td>Centos8.4</td></tr><tr><td>DISK CARD</td><td>MR9361-8i</td><td>MR9361-8i</td><td>HW-SAS3508</td></tr><tr><td>RAID LEVEL</td><td>Raid0</td><td>Raid0</td><td>Raid0</td></tr></tbody></table><h3 class="anchor anchorWithHideOnScrollNavbar_WYt5" id="342测试结果">3.4.2、测试结果<a class="hash-link" href="#342测试结果" title="Direct link to heading">​</a></h3><p><img loading="lazy" alt="fio" src="/en/assets/images/fio-4416337fc525b3e68aa9a6246753a81b.png" width="688" height="133" class="img_ev3q"></p><h2 class="anchor anchorWithHideOnScrollNavbar_WYt5" id="35注意事项">3.5、注意事项<a class="hash-link" href="#35注意事项" title="Direct link to heading">​</a></h2><h3 class="anchor anchorWithHideOnScrollNavbar_WYt5" id="351测试注意事项">3.5.1、测试注意事项<a class="hash-link" href="#351测试注意事项" title="Direct link to heading">​</a></h3><ol><li>fio 测试会对系统的硬盘进行读写，会存在破坏客户数据的风险，因此在生产环境上要谨慎使用，不建议对生产环境的硬盘进行裸盘读写测试。</li><li>如果需要进行测试，最好创建一个文件，然后对指定的文件进行读写。</li><li>如果需要做性能分析或调优，测试过程中需要收集 iostat 信息，例如：iostat -xd 1 1000 &gt; result.log。</li></ol><h3 class="anchor anchorWithHideOnScrollNavbar_WYt5" id="352性能调优注意事项">3.5.2、性能调优注意事项<a class="hash-link" href="#352性能调优注意事项" title="Direct link to heading">​</a></h3><ol><li>FIO 进行性能对比测试的时候，一定要保持参数一致，否则参数差异会导致结果差异。</li><li>在测试文件系统时，要先写一个大文件，然后再做硬盘 IO 读写测试。避免小数据块 IO 模型下读取不到文件而读到其他地方去。</li><li>如果是 SSD，测试过程中最好进行绑核设置，因为 IOPS 太大，如果线程运行在 CPU0 或者是有其他应用占用的核，那么可能会达不到最佳性能。绑核使用 taskset -c 31 ./fio… 命令实现。对应使用哪个核，可以执行 numactl -H 查询核的信息。</li></ol><h2 class="anchor anchorWithHideOnScrollNavbar_WYt5" id="a附录">A、附录<a class="hash-link" href="#a附录" title="Direct link to heading">​</a></h2><h3 class="anchor anchorWithHideOnScrollNavbar_WYt5" id="a1iozone-测试简介">A1、IOzone 测试简介<a class="hash-link" href="#a1iozone-测试简介" title="Direct link to heading">​</a></h3><p>iozone（<a href="http://www.iozone.org)%E6%98%AF%E4%B8%80%E4%B8%AA%E6%96%87%E4%BB%B6%E7%B3%BB%E7%BB%9F%E7%9A%84" target="_blank" rel="noopener noreferrer">www.iozone.org)是一个文件系统的</a> benchmark（基准）工具，主要测试的是文件系统的各种读写性能，包含顺序读写以及随机读写，fread/fwrite 读写，大跨度读写等等，在测试文件的读写性能方面，测试范围广，指标精确。</p><p>磁盘设备之上是文件系统，测试磁盘的工具往往就是调用驱动块设备驱动的接口进行读写测试。而文件系统的测试软件就是，针对文件系统层提供的功能进行测试，包括文件的打开关闭速度以及顺序读写，还有随机位置的读写以及进程并发数目等各个方面进行详细的测试。</p><h3 class="anchor anchorWithHideOnScrollNavbar_WYt5" id="a2iozone-测试读写模式">A2、IOzone 测试读写模式<a class="hash-link" href="#a2iozone-测试读写模式" title="Direct link to heading">​</a></h3><table><thead><tr><th>测试项</th><th>说明</th></tr></thead><tbody><tr><td>Write</td><td>测试向一个新文件写入的性能。</td></tr><tr><td>当一个新文件被写入时，不仅仅是那些文件中的数据需要被存储，还包括那些用于定位数据在存储介质的具体位置的额外信息。</td><td></td></tr><tr><td>这些额外信息被称作 &quot;元数据&quot;。它包括目录信息，所分配的空间和一些与该文件有关但又并非该文件所含数据的其他数据。</td><td></td></tr><tr><td>拜这些额外信息所赐，Write 的性能通常会比 Re-write 的性能低。</td><td></td></tr><tr><td>Re-write</td><td>测试向一个已存在的文件写入的性能。当一个已存在的文件被写入时，所需工作量较少，因为此时元数据已经存在。</td></tr><tr><td>Re-write 的性能通常比 Write 的性能高。</td><td></td></tr><tr><td>Read</td><td>测试读一个已存在的文件的性能。</td></tr><tr><td>Re-Read</td><td>测试读一个最近读过的文件的性能。Re-Read 性能会高些，因为操作系统通常会缓存最近读过的文件数据。</td></tr><tr><td>因为系统缓存可以被用于读以提高性能。</td><td></td></tr><tr><td>Random Read</td><td>测试读一个文件中的随机偏移量的性能。</td></tr><tr><td>许多因素都可能影响这种情况下的系统性能，例如：操作系统缓存的大小，磁盘数量，寻道延迟和其他。</td><td></td></tr><tr><td>Random Write</td><td>测试写一个文件中的随机偏移量的性能。</td></tr><tr><td>同样，有许多因素可能影响这种情况下的系统性能，例如：操作系统缓存的大小，磁盘数量，寻道延迟和其他。</td><td></td></tr><tr><td>Random Mix</td><td>测试读写一个文件中的随机偏移量的性能。</td></tr><tr><td>许多因素可能影响这种情况下的系统性能运作，例如：操作系统缓存的大小，磁盘数量，寻道延迟和其他。</td><td></td></tr><tr><td>这个测试只有在吞吐量测试模式下才能进行。</td><td></td></tr><tr><td>每个线程/进程运行读或写测试。这种分布式读/写测试是基于round robin 模式的。</td><td></td></tr><tr><td>最好使用多于一个线程/进程执行此测试。</td><td></td></tr><tr><td>Backwards Read</td><td>测试使用倒序读一个文件的性能。</td></tr><tr><td>这种读文件方法可能看起来很可笑，事实上有些应用确实这么干。</td><td></td></tr><tr><td>MSC Nastran 是一个使用倒序读文件的应用程序的一个例子。它所读的文件都十分大（大小从G级别到T级别）。</td><td></td></tr><tr><td>尽管许多操作系统使用一些特殊实现来优化顺序读文件的速度，很少有操作系统注意到并增强倒序读文件的性能。</td><td></td></tr><tr><td>Record Rewrite</td><td>测试写与覆盖写一个文件中的特定块的性能。</td></tr><tr><td>这个块可能会发生一些很有趣的事。如果这个块足够小（比CPU数据缓存小），测出来的性能将会非常高。</td><td></td></tr><tr><td>如果比 CPU 数据缓存大而比 TLB 小，测出来的是另一个结果的性能。</td><td></td></tr><tr><td>如果比二者都大，但比操作系统缓存小，得到的性能又是一个结果。若大到超过操作系统缓存，又是另一番结果。</td><td></td></tr><tr><td>Strided Read</td><td>测试跳跃读一个文件的性能。</td></tr><tr><td>举例如下：在 0 偏移量处读 4Kbytes，然后间隔 200Kbytes 读 4Kbytes，再间隔 200Kbytes，如此反复。</td><td></td></tr><tr><td>此时的模式是读 4Kbytes，间隔 200Kbytes 并重复这个模式。</td><td></td></tr><tr><td>这又是一个典型的应用行为，文件中使用了数据结构并且访问这个数据结构的特定区域的应用程序常常这样做。</td><td></td></tr><tr><td>许多操作系统并没注意到这种行为或者针对这种类型的访问做一些优化。</td><td></td></tr><tr><td>同样这种访问行为也可能导致一些有趣的性能异常。</td><td></td></tr><tr><td>一个例子是在一个数据片化的文件系统里，应用程序的跳跃导致某一个特定的磁盘成为性能瓶颈。</td><td></td></tr><tr><td>Fwrite</td><td>测试调用库函数 fwrite() 来写文件的性能。这是一个执行缓存与阻塞写操作的库例程。缓存在用户空间之内。</td></tr><tr><td>如果一个应用程序想要写很小的传输块，fwrite() 函数中的缓存与阻塞 I/O 功能可以通过减少系统调用，</td><td></td></tr><tr><td>并在操作系统调用时增加传输块的大小来增强应用程序的性能。</td><td></td></tr><tr><td>这个测试是写一个新文件，所以元数据的写入也是要的。</td><td></td></tr><tr><td>Frewrite</td><td>测试调用库函数 fwrite() 来写文件的性能。</td></tr><tr><td>这也是一个执行缓存与阻塞写操作的库例程。是缓存在用户空间之内。</td><td></td></tr><tr><td>如果一个应用程序想要写很小的传输块，fwrite() 函数中的缓存与阻塞 I/O 功能可以通过减少系统调用，</td><td></td></tr><tr><td>并在操作系统调用时增加传输块的大小来增强应用程序的性能。</td><td></td></tr><tr><td>这个测试是写入一个已存在的文件，由于无元数据操作，测试的性能会高些。</td><td></td></tr><tr><td>Fread</td><td>测试调用库函数 fread() 来读文件的性能。</td></tr><tr><td>这是一个执行缓存与阻塞读操作的库例程。缓存在用户空间之内。</td><td></td></tr><tr><td>如果一个应用程序想要读很小的传输块，fwrite() 函数中的缓存与阻塞 I/O 功能可以通过减少系统调用，</td><td></td></tr><tr><td>并在操作系统调用时增加传输块的大小从而增强应用程序的性能。</td><td></td></tr></tbody></table><h3 class="anchor anchorWithHideOnScrollNavbar_WYt5" id="a3iozone-安装">A3、IOzone 安装<a class="hash-link" href="#a3iozone-安装" title="Direct link to heading">​</a></h3><p>源码下载地址：<a href="https://www.iozone.org/src/current/" target="_blank" rel="noopener noreferrer">https://www.iozone.org/src/current/</a></p><p>安装过程如下，注意我操作系统环境下有 gcc 编译器，如果没有编译环境需要自行安装：</p><div class="language-bash codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#000000;--prism-background-color:#ffffff"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-bash codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#000000"><span class="token punctuation" style="color:rgb(4, 81, 165)">[</span><span class="token plain">root@arm64v8 ~</span><span class="token punctuation" style="color:rgb(4, 81, 165)">]</span><span class="token comment" style="color:rgb(0, 128, 0)"># wget --no-check-certificate https://www.iozone.org/src/current/iozone3_493.tgz</span><span class="token plain"></span><br></span><span class="token-line" style="color:#000000"><span class="token plain"></span><span class="token punctuation" style="color:rgb(4, 81, 165)">[</span><span class="token plain">root@arm64v8 ~</span><span class="token punctuation" style="color:rgb(4, 81, 165)">]</span><span class="token comment" style="color:rgb(0, 128, 0)"># ls</span><span class="token plain"></span><br></span><span class="token-line" style="color:#000000"><span class="token plain">iozone3_493.tgz</span><br></span><span class="token-line" style="color:#000000"><span class="token plain"></span><span class="token punctuation" style="color:rgb(4, 81, 165)">[</span><span class="token plain">root@arm64v8 ~</span><span class="token punctuation" style="color:rgb(4, 81, 165)">]</span><span class="token comment" style="color:rgb(0, 128, 0)"># tar xf iozone3_493.tgz </span><span class="token plain"></span><br></span><span class="token-line" style="color:#000000"><span class="token plain"></span><span class="token punctuation" style="color:rgb(4, 81, 165)">[</span><span class="token plain">root@arm64v8 ~</span><span class="token punctuation" style="color:rgb(4, 81, 165)">]</span><span class="token comment" style="color:rgb(0, 128, 0)"># cd iozone3_493/</span><span class="token plain"></span><br></span><span class="token-line" style="color:#000000"><span class="token plain"></span><span class="token punctuation" style="color:rgb(4, 81, 165)">[</span><span class="token plain">root@arm64v8 iozone3_493</span><span class="token punctuation" style="color:rgb(4, 81, 165)">]</span><span class="token comment" style="color:rgb(0, 128, 0)">#</span><span class="token plain"></span><br></span><span class="token-line" style="color:#000000"><span class="token plain"></span><span class="token punctuation" style="color:rgb(4, 81, 165)">[</span><span class="token plain">root@arm64v8 iozone3_493</span><span class="token punctuation" style="color:rgb(4, 81, 165)">]</span><span class="token comment" style="color:rgb(0, 128, 0)"># tree -d</span><span class="token plain"></span><br></span><span class="token-line" style="color:#000000"><span class="token plain"></span><span class="token builtin class-name" style="color:rgb(38, 127, 153)">.</span><span class="token plain"></span><br></span><span class="token-line" style="color:#000000"><span class="token plain">├── docs</span><br></span><span class="token-line" style="color:#000000"><span class="token plain">└── src</span><br></span><span class="token-line" style="color:#000000"><span class="token plain">    └── current</span><br></span><span class="token-line" style="color:#000000"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#000000"><span class="token plain"></span><span class="token number" style="color:rgb(9, 134, 88)">3</span><span class="token plain"> directories</span><br></span><span class="token-line" style="color:#000000"><span class="token plain"></span><span class="token punctuation" style="color:rgb(4, 81, 165)">[</span><span class="token plain">root@arm64v8 iozone3_493</span><span class="token punctuation" style="color:rgb(4, 81, 165)">]</span><span class="token comment" style="color:rgb(0, 128, 0)">#</span><span class="token plain"></span><br></span><span class="token-line" style="color:#000000"><span class="token plain"></span><span class="token punctuation" style="color:rgb(4, 81, 165)">[</span><span class="token plain">root@arm64v8 iozone3_493</span><span class="token punctuation" style="color:rgb(4, 81, 165)">]</span><span class="token comment" style="color:rgb(0, 128, 0)"># cd src/current/</span><span class="token plain"></span><br></span><span class="token-line" style="color:#000000"><span class="token plain"></span><span class="token punctuation" style="color:rgb(4, 81, 165)">[</span><span class="token plain">root@arm64v8 current</span><span class="token punctuation" style="color:rgb(4, 81, 165)">]</span><span class="token comment" style="color:rgb(0, 128, 0)"># ls</span><span class="token plain"></span><br></span><span class="token-line" style="color:#000000"><span class="token plain">Android.mk         fileop.c         gnuplotps.dem         libbif.c        spec.in</span><br></span><span class="token-line" style="color:#000000"><span class="token plain">Android_Readme.md  Generate_Graphs  Gnuplot.txt           makefile        write_telemetry</span><br></span><span class="token-line" style="color:#000000"><span class="token plain">Application.mk     gengnuplot.sh    iozone.c              pit_server.c</span><br></span><span class="token-line" style="color:#000000"><span class="token plain">Changes.txt        gnu3d.dem        iozone_visualizer.pl  read_telemetry</span><br></span><span class="token-line" style="color:#000000"><span class="token plain">client_list        gnuplot.dem      libasync.c            report.pl</span><br></span><span class="token-line" style="color:#000000"><span class="token plain"></span><span class="token punctuation" style="color:rgb(4, 81, 165)">[</span><span class="token plain">root@arm64v8 current</span><span class="token punctuation" style="color:rgb(4, 81, 165)">]</span><span class="token comment" style="color:rgb(0, 128, 0)">#</span><span class="token plain"></span><br></span><span class="token-line" style="color:#000000"><span class="token plain"></span><span class="token punctuation" style="color:rgb(4, 81, 165)">[</span><span class="token plain">root@arm64v8 current</span><span class="token punctuation" style="color:rgb(4, 81, 165)">]</span><span class="token comment" style="color:rgb(0, 128, 0)"># make linux-arm</span><span class="token plain"></span><br></span><span class="token-line" style="color:#000000"><span class="token plain">which: no ndk-build </span><span class="token keyword" style="color:rgb(0, 0, 255)">in</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(4, 81, 165)">(</span><span class="token plain">/usr/local/sbin:/usr/local/bin:/usr/sbin:/usr/bin:/root/bin:/root/bin</span><span class="token punctuation" style="color:rgb(4, 81, 165)">)</span><span class="token plain"></span><br></span><span class="token-line" style="color:#000000"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#000000"><span class="token plain">Building iozone </span><span class="token keyword" style="color:rgb(0, 0, 255)">for</span><span class="token plain"> Linux-arm</span><br></span><span class="token-line" style="color:#000000"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#000000"><span class="token plain">cc -c -O3 -Dunix -DHAVE_ANSIC_C -DASYNC_IO -DHAVE_PREAD </span><span class="token punctuation" style="color:rgb(4, 81, 165)">\</span><span class="token plain"></span><br></span><span class="token-line" style="color:#000000"><span class="token plain">    -DNAME</span><span class="token operator" style="color:rgb(0, 0, 0)">=</span><span class="token string" style="color:rgb(163, 21, 21)">&#x27;&quot;linux-arm&quot;&#x27;</span><span class="token plain"> -DLINUX_ARM -DSHARED_MEM </span><span class="token punctuation" style="color:rgb(4, 81, 165)">\</span><span class="token plain"></span><br></span><span class="token-line" style="color:#000000"><span class="token plain">    -Dlinux -D_LARGEFILE64_SOURCE  iozone.c </span><span class="token punctuation" style="color:rgb(4, 81, 165)">\</span><span class="token plain"></span><br></span><span class="token-line" style="color:#000000"><span class="token plain">    -o iozone_linux-arm.o</span><br></span><span class="token-line" style="color:#000000"><span class="token plain">cc -c -O3 -Dunix -DHAVE_ANSIC_C -DASYNC_IO -D_LARGEFILE64_SOURCE </span><span class="token punctuation" style="color:rgb(4, 81, 165)">\</span><span class="token plain"></span><br></span><span class="token-line" style="color:#000000"><span class="token plain">    -DSHARED_MEM -Dlinux  libbif.c -o libbif.o</span><br></span><span class="token-line" style="color:#000000"><span class="token plain">cc -c -O3 -Dunix -Dlinux -DHAVE_ANSIC_C -DASYNC_IO </span><span class="token punctuation" style="color:rgb(4, 81, 165)">\</span><span class="token plain"></span><br></span><span class="token-line" style="color:#000000"><span class="token plain">    -D_LARGEFILE64_SOURCE  libasync.c  -o libasync.o</span><br></span><span class="token-line" style="color:#000000"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#000000"><span class="token plain">Building fileop </span><span class="token keyword" style="color:rgb(0, 0, 255)">for</span><span class="token plain"> Linux-arm</span><br></span><span class="token-line" style="color:#000000"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#000000"><span class="token plain">gcc -Wall -c -O3  fileop.c -o fileop_linux-arm.o</span><br></span><span class="token-line" style="color:#000000"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#000000"><span class="token plain">Building the pit_server</span><br></span><span class="token-line" style="color:#000000"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#000000"><span class="token plain">cc -c   pit_server.c  -o pit_server.o </span><br></span><span class="token-line" style="color:#000000"><span class="token plain">cc -O3  iozone_linux-arm.o libbif.o libasync.o </span><span class="token punctuation" style="color:rgb(4, 81, 165)">\</span><span class="token plain"></span><br></span><span class="token-line" style="color:#000000"><span class="token plain">    -lrt -lpthread -o iozone</span><br></span><span class="token-line" style="color:#000000"><span class="token plain">cc -O3 -Dlinux fileop_linux-arm.o -o fileop</span><br></span><span class="token-line" style="color:#000000"><span class="token plain">cc -O3 -Dlinux pit_server.o -o pit_server</span><br></span><span class="token-line" style="color:#000000"><span class="token plain"></span><span class="token punctuation" style="color:rgb(4, 81, 165)">[</span><span class="token plain">root@arm64v8 current</span><span class="token punctuation" style="color:rgb(4, 81, 165)">]</span><span class="token comment" style="color:rgb(0, 128, 0)">#</span><span class="token plain"></span><br></span><span class="token-line" style="color:#000000"><span class="token plain"></span><span class="token punctuation" style="color:rgb(4, 81, 165)">[</span><span class="token plain">root@arm64v8 current</span><span class="token punctuation" style="color:rgb(4, 81, 165)">]</span><span class="token comment" style="color:rgb(0, 128, 0)"># cp iozone /usr/local/bin/</span><span class="token plain"></span><br></span><span class="token-line" style="color:#000000"><span class="token plain"></span><span class="token punctuation" style="color:rgb(4, 81, 165)">[</span><span class="token plain">root@arm64v8 ~</span><span class="token punctuation" style="color:rgb(4, 81, 165)">]</span><span class="token comment" style="color:rgb(0, 128, 0)"># iozone -h | more</span><span class="token plain"></span><br></span><span class="token-line" style="color:#000000"><span class="token plain">iozone: </span><span class="token builtin class-name" style="color:rgb(38, 127, 153)">help</span><span class="token plain"> mode</span><br></span><span class="token-line" style="color:#000000"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#000000"><span class="token plain">    Usage: iozone </span><span class="token punctuation" style="color:rgb(4, 81, 165)">[</span><span class="token plain">-s filesize_kB</span><span class="token punctuation" style="color:rgb(4, 81, 165)">]</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(4, 81, 165)">[</span><span class="token plain">-r record_size_kB</span><span class="token punctuation" style="color:rgb(4, 81, 165)">]</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(4, 81, 165)">[</span><span class="token plain">-f </span><span class="token punctuation" style="color:rgb(4, 81, 165)">[</span><span class="token plain">path</span><span class="token punctuation" style="color:rgb(4, 81, 165)">]</span><span class="token plain">filename</span><span class="token punctuation" style="color:rgb(4, 81, 165)">]</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(4, 81, 165)">[</span><span class="token plain">-h</span><span class="token punctuation" style="color:rgb(4, 81, 165)">]</span><span class="token plain"></span><br></span><span class="token-line" style="color:#000000"><span class="token plain">                  </span><span class="token punctuation" style="color:rgb(4, 81, 165)">[</span><span class="token plain">-i test</span><span class="token punctuation" style="color:rgb(4, 81, 165)">]</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(4, 81, 165)">[</span><span class="token plain">-E</span><span class="token punctuation" style="color:rgb(4, 81, 165)">]</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(4, 81, 165)">[</span><span class="token plain">-p</span><span class="token punctuation" style="color:rgb(4, 81, 165)">]</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(4, 81, 165)">[</span><span class="token plain">-a</span><span class="token punctuation" style="color:rgb(4, 81, 165)">]</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(4, 81, 165)">[</span><span class="token plain">-A</span><span class="token punctuation" style="color:rgb(4, 81, 165)">]</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(4, 81, 165)">[</span><span class="token plain">-z</span><span class="token punctuation" style="color:rgb(4, 81, 165)">]</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(4, 81, 165)">[</span><span class="token plain">-Z</span><span class="token punctuation" style="color:rgb(4, 81, 165)">]</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(4, 81, 165)">[</span><span class="token plain">-m</span><span class="token punctuation" style="color:rgb(4, 81, 165)">]</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(4, 81, 165)">[</span><span class="token plain">-M</span><span class="token punctuation" style="color:rgb(4, 81, 165)">]</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(4, 81, 165)">[</span><span class="token plain">-t children</span><span class="token punctuation" style="color:rgb(4, 81, 165)">]</span><span class="token plain"></span><br></span><span class="token-line" style="color:#000000"><span class="token plain">                  </span><span class="token punctuation" style="color:rgb(4, 81, 165)">[</span><span class="token plain">-l min_number_procs</span><span class="token punctuation" style="color:rgb(4, 81, 165)">]</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(4, 81, 165)">[</span><span class="token plain">-u max_number_procs</span><span class="token punctuation" style="color:rgb(4, 81, 165)">]</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(4, 81, 165)">[</span><span class="token plain">-v</span><span class="token punctuation" style="color:rgb(4, 81, 165)">]</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(4, 81, 165)">[</span><span class="token plain">-R</span><span class="token punctuation" style="color:rgb(4, 81, 165)">]</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(4, 81, 165)">[</span><span class="token plain">-x</span><span class="token punctuation" style="color:rgb(4, 81, 165)">]</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(4, 81, 165)">[</span><span class="token plain">-o</span><span class="token punctuation" style="color:rgb(4, 81, 165)">]</span><span class="token plain"></span><br></span><span class="token-line" style="color:#000000"><span class="token plain">                  </span><span class="token punctuation" style="color:rgb(4, 81, 165)">[</span><span class="token plain">-d microseconds</span><span class="token punctuation" style="color:rgb(4, 81, 165)">]</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(4, 81, 165)">[</span><span class="token plain">-F path1 path2</span><span class="token punctuation" style="color:rgb(4, 81, 165)">..</span><span class="token plain">.</span><span class="token punctuation" style="color:rgb(4, 81, 165)">]</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(4, 81, 165)">[</span><span class="token plain">-V pattern</span><span class="token punctuation" style="color:rgb(4, 81, 165)">]</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(4, 81, 165)">[</span><span class="token plain">-j stride</span><span class="token punctuation" style="color:rgb(4, 81, 165)">]</span><span class="token plain"></span><br></span><span class="token-line" style="color:#000000"><span class="token plain">                  </span><span class="token punctuation" style="color:rgb(4, 81, 165)">[</span><span class="token plain">-T</span><span class="token punctuation" style="color:rgb(4, 81, 165)">]</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(4, 81, 165)">[</span><span class="token plain">-C</span><span class="token punctuation" style="color:rgb(4, 81, 165)">]</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(4, 81, 165)">[</span><span class="token plain">-B</span><span class="token punctuation" style="color:rgb(4, 81, 165)">]</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(4, 81, 165)">[</span><span class="token plain">-D</span><span class="token punctuation" style="color:rgb(4, 81, 165)">]</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(4, 81, 165)">[</span><span class="token plain">-G</span><span class="token punctuation" style="color:rgb(4, 81, 165)">]</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(4, 81, 165)">[</span><span class="token plain">-I</span><span class="token punctuation" style="color:rgb(4, 81, 165)">]</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(4, 81, 165)">[</span><span class="token plain">-H depth</span><span class="token punctuation" style="color:rgb(4, 81, 165)">]</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(4, 81, 165)">[</span><span class="token plain">-k depth</span><span class="token punctuation" style="color:rgb(4, 81, 165)">]</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(4, 81, 165)">[</span><span class="token plain">-U mount_point</span><span class="token punctuation" style="color:rgb(4, 81, 165)">]</span><span class="token plain"></span><br></span><span class="token-line" style="color:#000000"><span class="token plain">                  </span><span class="token punctuation" style="color:rgb(4, 81, 165)">[</span><span class="token plain">-S cache_size</span><span class="token punctuation" style="color:rgb(4, 81, 165)">]</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(4, 81, 165)">[</span><span class="token plain">-O</span><span class="token punctuation" style="color:rgb(4, 81, 165)">]</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(4, 81, 165)">[</span><span class="token plain">-L cacheline_size</span><span class="token punctuation" style="color:rgb(4, 81, 165)">]</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(4, 81, 165)">[</span><span class="token plain">-K</span><span class="token punctuation" style="color:rgb(4, 81, 165)">]</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(4, 81, 165)">[</span><span class="token plain">-g maxfilesize_kB</span><span class="token punctuation" style="color:rgb(4, 81, 165)">]</span><span class="token plain"></span><br></span><span class="token-line" style="color:#000000"><span class="token plain">                  </span><span class="token punctuation" style="color:rgb(4, 81, 165)">[</span><span class="token plain">-n minfilesize_kB</span><span class="token punctuation" style="color:rgb(4, 81, 165)">]</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(4, 81, 165)">[</span><span class="token plain">-N</span><span class="token punctuation" style="color:rgb(4, 81, 165)">]</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(4, 81, 165)">[</span><span class="token plain">-Q</span><span class="token punctuation" style="color:rgb(4, 81, 165)">]</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(4, 81, 165)">[</span><span class="token plain">-P start_cpu</span><span class="token punctuation" style="color:rgb(4, 81, 165)">]</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(4, 81, 165)">[</span><span class="token plain">-e</span><span class="token punctuation" style="color:rgb(4, 81, 165)">]</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(4, 81, 165)">[</span><span class="token plain">-c</span><span class="token punctuation" style="color:rgb(4, 81, 165)">]</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(4, 81, 165)">[</span><span class="token plain">-b Excel.xls</span><span class="token punctuation" style="color:rgb(4, 81, 165)">]</span><span class="token plain"></span><br></span><span class="token-line" style="color:#000000"><span class="token plain">                  </span><span class="token punctuation" style="color:rgb(4, 81, 165)">[</span><span class="token plain">-J milliseconds</span><span class="token punctuation" style="color:rgb(4, 81, 165)">]</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(4, 81, 165)">[</span><span class="token plain">-X write_telemetry_filename</span><span class="token punctuation" style="color:rgb(4, 81, 165)">]</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(4, 81, 165)">[</span><span class="token plain">-w</span><span class="token punctuation" style="color:rgb(4, 81, 165)">]</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(4, 81, 165)">[</span><span class="token plain">-W</span><span class="token punctuation" style="color:rgb(4, 81, 165)">]</span><span class="token plain"></span><br></span><span class="token-line" style="color:#000000"><span class="token plain">                  </span><span class="token punctuation" style="color:rgb(4, 81, 165)">[</span><span class="token plain">-Y read_telemetry_filename</span><span class="token punctuation" style="color:rgb(4, 81, 165)">]</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(4, 81, 165)">[</span><span class="token plain">-y minrecsize_kB</span><span class="token punctuation" style="color:rgb(4, 81, 165)">]</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(4, 81, 165)">[</span><span class="token plain">-q maxrecsize_kB</span><span class="token punctuation" style="color:rgb(4, 81, 165)">]</span><span class="token plain"></span><br></span><span class="token-line" style="color:#000000"><span class="token plain">                  </span><span class="token punctuation" style="color:rgb(4, 81, 165)">[</span><span class="token plain">-+u</span><span class="token punctuation" style="color:rgb(4, 81, 165)">]</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(4, 81, 165)">[</span><span class="token plain">-+m cluster_filename</span><span class="token punctuation" style="color:rgb(4, 81, 165)">]</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(4, 81, 165)">[</span><span class="token plain">-+d</span><span class="token punctuation" style="color:rgb(4, 81, 165)">]</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(4, 81, 165)">[</span><span class="token plain">-+x multiplier</span><span class="token punctuation" style="color:rgb(4, 81, 165)">]</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(4, 81, 165)">[</span><span class="token plain">-+p </span><span class="token comment" style="color:rgb(0, 128, 0)"># ]</span><span class="token plain"></span><br></span><span class="token-line" style="color:#000000"><span class="token plain">                  </span><span class="token punctuation" style="color:rgb(4, 81, 165)">[</span><span class="token plain">-+r</span><span class="token punctuation" style="color:rgb(4, 81, 165)">]</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(4, 81, 165)">[</span><span class="token plain">-+t</span><span class="token punctuation" style="color:rgb(4, 81, 165)">]</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(4, 81, 165)">[</span><span class="token plain">-+X</span><span class="token punctuation" style="color:rgb(4, 81, 165)">]</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(4, 81, 165)">[</span><span class="token plain">-+Z</span><span class="token punctuation" style="color:rgb(4, 81, 165)">]</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(4, 81, 165)">[</span><span class="token plain">-+w percent dedupable</span><span class="token punctuation" style="color:rgb(4, 81, 165)">]</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(4, 81, 165)">[</span><span class="token plain">-+y percent_interior_dedup</span><span class="token punctuation" style="color:rgb(4, 81, 165)">]</span><span class="token plain"></span><br></span><span class="token-line" style="color:#000000"><span class="token plain">                  </span><span class="token punctuation" style="color:rgb(4, 81, 165)">[</span><span class="token plain">-+C percent_dedup_within</span><span class="token punctuation" style="color:rgb(4, 81, 165)">]</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(4, 81, 165)">[</span><span class="token plain">-+a zero_pct</span><span class="token punctuation" style="color:rgb(4, 81, 165)">]</span><span class="token plain">  </span><span class="token punctuation" style="color:rgb(4, 81, 165)">[</span><span class="token plain">-+Q dedup granule size</span><span class="token punctuation" style="color:rgb(4, 81, 165)">]</span><span class="token plain"></span><br></span><span class="token-line" style="color:#000000"><span class="token plain">                  </span><span class="token punctuation" style="color:rgb(4, 81, 165)">[</span><span class="token plain">-+M dedup+compress flag </span><span class="token punctuation" style="color:rgb(4, 81, 165)">]</span><span class="token plain"></span><br></span><span class="token-line" style="color:#000000"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#000000"><span class="token plain">           -a  Auto mode</span><br></span><span class="token-line" style="color:#000000"><span class="token plain">           -A  Auto2 mode</span><br></span><span class="token-line" style="color:#000000"><span class="token plain">           -b Filename  Create Excel worksheet </span><span class="token function" style="color:rgb(0, 0, 255)">file</span><span class="token plain"></span><br></span><span class="token-line" style="color:#000000"><span class="token plain">           -B  Use mmap</span><span class="token punctuation" style="color:rgb(4, 81, 165)">(</span><span class="token punctuation" style="color:rgb(4, 81, 165)">)</span><span class="token plain"> files</span><br></span><span class="token-line" style="color:#000000"><span class="token plain">           </span><span class="token punctuation" style="color:rgb(4, 81, 165)">..</span><span class="token punctuation" style="color:rgb(4, 81, 165)">..</span><span class="token punctuation" style="color:rgb(4, 81, 165)">..</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg class="copyButtonIcon_y97N" viewBox="0 0 24 24"><path d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg class="copyButtonSuccessIcon_LjdS" viewBox="0 0 24 24"><path d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><h3 class="anchor anchorWithHideOnScrollNavbar_WYt5" id="a4iozone-主要参数说明">A4、IOzone 主要参数说明<a class="hash-link" href="#a4iozone-主要参数说明" title="Direct link to heading">​</a></h3><p>iozone 常用的几个参数：</p><ul><li><p>-<!-- -->a：全面测试，比如块大小它会自动加。</p></li><li><p>-<!-- -->i N：用来选择测试项，比如 Read/Write/Random 比较常用的是 0 1 2，可以指定成 -i 0 -i 1 -i 2。</p><ul><li>N 代表数字，不同的数字代表不同的测试模式，可以同时执行多个模式。</li></ul><table><thead><tr><th>N 取值</th><th>测试项</th></tr></thead><tbody><tr><td>0</td><td>write/rewrite</td></tr><tr><td>1</td><td>read/re-read</td></tr><tr><td>2</td><td>random read/random write</td></tr><tr><td>3</td><td>backwards read</td></tr><tr><td>4</td><td>re-write-record</td></tr><tr><td>5</td><td>stride-read</td></tr><tr><td>6</td><td>fwrite/re-fwrite</td></tr><tr><td>7</td><td>fread/re-fread</td></tr><tr><td>8</td><td>random mix</td></tr><tr><td>9</td><td>pwrite/re-pwrite</td></tr><tr><td>10</td><td>pread/re-pread</td></tr><tr><td>11</td><td>pwritev/re-pwritev</td></tr><tr><td>12</td><td>preadv/re-preadv</td></tr></tbody></table></li><li><p>-<!-- -->r block size：指定一次写入/读出的块大小。</p></li><li><p>-<!-- -->s file size：指定测试文件的大小。</p><ul><li><em>注意：测试的时候，设置的测试文件大小一定要大过你的内存(最佳为内存的 2 倍大小)，不然 linux 会给你的读写的内容进行缓存。会使数值非常不真实。</em></li></ul></li><li><p>-<!-- -->f filename：指定测试文件的名字，完成后会自动删除(这个文件必须指定你要测试的那个硬盘中)。</p></li><li><p>-<!-- -->F file1 file2…：指定多线程下测试的文件名。</p></li><li><p>-<!-- -->g #：在 auto 模式下，设定最大文件大小(Kbytes)。</p></li><li><p>-<!-- -->n #：在 auto 模式下，设定最小文件大小(Kbytes)。</p></li><li><p>-<!-- -->a -R：生成 excel 报告，iozone 会生成一个 excel 兼容性报告到标准输出，并绘制一个关于文件系统性能的 3D 图。</p></li><li><p>更多选项请参考 <a href="https://www.iozone.org/docs/IOzone_msword_98.pdf" target="_blank" rel="noopener noreferrer">https://www.iozone.org/docs/IOzone<!-- -->_<!-- -->msword<!-- -->_<!-- -->98.pdf</a>。</p></li></ul><h3 class="anchor anchorWithHideOnScrollNavbar_WYt5" id="a5iozone-测试用例">A5、IOzone 测试用例<a class="hash-link" href="#a5iozone-测试用例" title="Direct link to heading">​</a></h3><blockquote><p>官方用例</p></blockquote><ol><li><p>最简单的方式就是以自动化的方式开始。</p><div class="language-bash codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#000000;--prism-background-color:#ffffff"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-bash codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#000000"><span class="token plain">iozone -a</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg class="copyButtonIcon_y97N" viewBox="0 0 24 24"><path d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg class="copyButtonSuccessIcon_LjdS" viewBox="0 0 24 24"><path d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div></li><li><p>如果你希望生成图片，那么不妨打开 Excel mode。</p><div class="language-bash codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#000000;--prism-background-color:#ffffff"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-bash codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#000000"><span class="token plain">iozone -Ra                   </span><span class="token comment" style="color:rgb(0, 128, 0)"># 输出可以使用空格或tab分隔符导入</span><span class="token plain"></span><br></span><span class="token-line" style="color:#000000"><span class="token plain">iozone -Rab output.wks       </span><span class="token comment" style="color:rgb(0, 128, 0)"># 输出 output.wks 文件，是一个二进制电子表格</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg class="copyButtonIcon_y97N" viewBox="0 0 24 24"><path d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg class="copyButtonSuccessIcon_LjdS" viewBox="0 0 24 24"><path d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div></li><li><p>如果你的操作系统超过 512M 内存，测试时你需要通过最大文件大小选项指定一个更大值；比如，你的操作系统是 1G 的内存大小，你可以偿试这样去测试。</p><div class="language-bash codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#000000;--prism-background-color:#ffffff"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-bash codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#000000"><span class="token plain">iozone -Ra -g 2G</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg class="copyButtonIcon_y97N" viewBox="0 0 24 24"><path d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg class="copyButtonSuccessIcon_LjdS" viewBox="0 0 24 24"><path d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><ul><li>操作系统管理文件系统时，会用到内存作为缓存，为了测出磁盘的真实效果，测试文件最大值要远远大于内存值，官方建议是大 1 倍。</li></ul></li><li><p>如果你只是关心 read/write 的磁盘性能，而不想花更多的时间去做所有的性能测试，不妨像下面一样限制测试用例。</p><div class="language-bash codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#000000;--prism-background-color:#ffffff"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-bash codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#000000"><span class="token plain">iozone -Ra -g 2G -i </span><span class="token number" style="color:rgb(9, 134, 88)">0</span><span class="token plain"> -i </span><span class="token number" style="color:rgb(9, 134, 88)">1</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg class="copyButtonIcon_y97N" viewBox="0 0 24 24"><path d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg class="copyButtonSuccessIcon_LjdS" viewBox="0 0 24 24"><path d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div></li><li><p>如果你想作为一个 NFS 客户端通过 iozone 去测试 NFS 文件系统的性能，可以偿试这样操作。</p><div class="language-bash codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#000000;--prism-background-color:#ffffff"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-bash codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#000000"><span class="token plain">iozone -Rac</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg class="copyButtonIcon_y97N" viewBox="0 0 24 24"><path d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg class="copyButtonSuccessIcon_LjdS" viewBox="0 0 24 24"><path d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><ul><li>这会告诉 iozone 在测试的时候需要调用 close()，当客户端是 nfs v3 版本的时候很有必要。因为在客户端是 nfs v3 的时候，close() 会减少客户端侧的缓存影响。</li><li>当然如果你指定的测试文件大小比内存大，那么 c 选项可以不用指定。</li></ul></li></ol><blockquote><p>生产实践</p></blockquote><ol><li><p>生产环境 ssd 测试：</p><div class="language-bash codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#000000;--prism-background-color:#ffffff"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-bash codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#000000"><span class="token punctuation" style="color:rgb(4, 81, 165)">[</span><span class="token plain">root@arm64v8 ~</span><span class="token punctuation" style="color:rgb(4, 81, 165)">]</span><span class="token comment" style="color:rgb(0, 128, 0)"># mkfs.xfs /dev/sdj -f</span><span class="token plain"></span><br></span><span class="token-line" style="color:#000000"><span class="token plain">meta-data</span><span class="token operator" style="color:rgb(0, 0, 0)">=</span><span class="token plain">/dev/sdj               </span><span class="token assign-left variable" style="color:rgb(9, 134, 88)">isize</span><span class="token operator" style="color:rgb(0, 0, 0)">=</span><span class="token number" style="color:rgb(9, 134, 88)">512</span><span class="token plain">    </span><span class="token assign-left variable" style="color:rgb(9, 134, 88)">agcount</span><span class="token operator" style="color:rgb(0, 0, 0)">=</span><span class="token number" style="color:rgb(9, 134, 88)">4</span><span class="token plain">, </span><span class="token assign-left variable" style="color:rgb(9, 134, 88)">agsize</span><span class="token operator" style="color:rgb(0, 0, 0)">=</span><span class="token number" style="color:rgb(9, 134, 88)">29303222</span><span class="token plain"> blks</span><br></span><span class="token-line" style="color:#000000"><span class="token plain">        </span><span class="token operator" style="color:rgb(0, 0, 0)">=</span><span class="token plain">                       </span><span class="token assign-left variable" style="color:rgb(9, 134, 88)">sectsz</span><span class="token operator" style="color:rgb(0, 0, 0)">=</span><span class="token number" style="color:rgb(9, 134, 88)">4096</span><span class="token plain">  </span><span class="token assign-left variable" style="color:rgb(9, 134, 88)">attr</span><span class="token operator" style="color:rgb(0, 0, 0)">=</span><span class="token number" style="color:rgb(9, 134, 88)">2</span><span class="token plain">, </span><span class="token assign-left variable" style="color:rgb(9, 134, 88)">projid32bit</span><span class="token operator" style="color:rgb(0, 0, 0)">=</span><span class="token number" style="color:rgb(9, 134, 88)">1</span><span class="token plain"></span><br></span><span class="token-line" style="color:#000000"><span class="token plain">        </span><span class="token operator" style="color:rgb(0, 0, 0)">=</span><span class="token plain">                       </span><span class="token assign-left variable" style="color:rgb(9, 134, 88)">crc</span><span class="token operator" style="color:rgb(0, 0, 0)">=</span><span class="token number" style="color:rgb(9, 134, 88)">1</span><span class="token plain">        </span><span class="token assign-left variable" style="color:rgb(9, 134, 88)">finobt</span><span class="token operator" style="color:rgb(0, 0, 0)">=</span><span class="token number" style="color:rgb(9, 134, 88)">1</span><span class="token plain">, </span><span class="token assign-left variable" style="color:rgb(9, 134, 88)">sparse</span><span class="token operator" style="color:rgb(0, 0, 0)">=</span><span class="token number" style="color:rgb(9, 134, 88)">1</span><span class="token plain">, </span><span class="token assign-left variable" style="color:rgb(9, 134, 88)">rmapbt</span><span class="token operator" style="color:rgb(0, 0, 0)">=</span><span class="token number" style="color:rgb(9, 134, 88)">0</span><span class="token plain"></span><br></span><span class="token-line" style="color:#000000"><span class="token plain">        </span><span class="token operator" style="color:rgb(0, 0, 0)">=</span><span class="token plain">                       </span><span class="token assign-left variable" style="color:rgb(9, 134, 88)">reflink</span><span class="token operator" style="color:rgb(0, 0, 0)">=</span><span class="token number" style="color:rgb(9, 134, 88)">0</span><span class="token plain"></span><br></span><span class="token-line" style="color:#000000"><span class="token plain">data     </span><span class="token operator" style="color:rgb(0, 0, 0)">=</span><span class="token plain">                       </span><span class="token assign-left variable" style="color:rgb(9, 134, 88)">bsize</span><span class="token operator" style="color:rgb(0, 0, 0)">=</span><span class="token number" style="color:rgb(9, 134, 88)">4096</span><span class="token plain">   </span><span class="token assign-left variable" style="color:rgb(9, 134, 88)">blocks</span><span class="token operator" style="color:rgb(0, 0, 0)">=</span><span class="token number" style="color:rgb(9, 134, 88)">117212886</span><span class="token plain">, </span><span class="token assign-left variable" style="color:rgb(9, 134, 88)">imaxpct</span><span class="token operator" style="color:rgb(0, 0, 0)">=</span><span class="token number" style="color:rgb(9, 134, 88)">25</span><span class="token plain"></span><br></span><span class="token-line" style="color:#000000"><span class="token plain">        </span><span class="token operator" style="color:rgb(0, 0, 0)">=</span><span class="token plain">                       </span><span class="token assign-left variable" style="color:rgb(9, 134, 88)">sunit</span><span class="token operator" style="color:rgb(0, 0, 0)">=</span><span class="token number" style="color:rgb(9, 134, 88)">0</span><span class="token plain">      </span><span class="token assign-left variable" style="color:rgb(9, 134, 88)">swidth</span><span class="token operator" style="color:rgb(0, 0, 0)">=</span><span class="token number" style="color:rgb(9, 134, 88)">0</span><span class="token plain"> blks</span><br></span><span class="token-line" style="color:#000000"><span class="token plain">naming   </span><span class="token operator" style="color:rgb(0, 0, 0)">=</span><span class="token plain">version </span><span class="token number" style="color:rgb(9, 134, 88)">2</span><span class="token plain">              </span><span class="token assign-left variable" style="color:rgb(9, 134, 88)">bsize</span><span class="token operator" style="color:rgb(0, 0, 0)">=</span><span class="token number" style="color:rgb(9, 134, 88)">4096</span><span class="token plain">   ascii-ci</span><span class="token operator" style="color:rgb(0, 0, 0)">=</span><span class="token number" style="color:rgb(9, 134, 88)">0</span><span class="token plain">, </span><span class="token assign-left variable" style="color:rgb(9, 134, 88)">ftype</span><span class="token operator" style="color:rgb(0, 0, 0)">=</span><span class="token number" style="color:rgb(9, 134, 88)">1</span><span class="token plain"></span><br></span><span class="token-line" style="color:#000000"><span class="token plain">log      </span><span class="token operator" style="color:rgb(0, 0, 0)">=</span><span class="token plain">internal log           </span><span class="token assign-left variable" style="color:rgb(9, 134, 88)">bsize</span><span class="token operator" style="color:rgb(0, 0, 0)">=</span><span class="token number" style="color:rgb(9, 134, 88)">4096</span><span class="token plain">   </span><span class="token assign-left variable" style="color:rgb(9, 134, 88)">blocks</span><span class="token operator" style="color:rgb(0, 0, 0)">=</span><span class="token number" style="color:rgb(9, 134, 88)">57232</span><span class="token plain">, </span><span class="token assign-left variable" style="color:rgb(9, 134, 88)">version</span><span class="token operator" style="color:rgb(0, 0, 0)">=</span><span class="token number" style="color:rgb(9, 134, 88)">2</span><span class="token plain"></span><br></span><span class="token-line" style="color:#000000"><span class="token plain">        </span><span class="token operator" style="color:rgb(0, 0, 0)">=</span><span class="token plain">                       </span><span class="token assign-left variable" style="color:rgb(9, 134, 88)">sectsz</span><span class="token operator" style="color:rgb(0, 0, 0)">=</span><span class="token number" style="color:rgb(9, 134, 88)">4096</span><span class="token plain">  </span><span class="token assign-left variable" style="color:rgb(9, 134, 88)">sunit</span><span class="token operator" style="color:rgb(0, 0, 0)">=</span><span class="token number" style="color:rgb(9, 134, 88)">1</span><span class="token plain"> blks, lazy-count</span><span class="token operator" style="color:rgb(0, 0, 0)">=</span><span class="token number" style="color:rgb(9, 134, 88)">1</span><span class="token plain"></span><br></span><span class="token-line" style="color:#000000"><span class="token plain">realtime </span><span class="token operator" style="color:rgb(0, 0, 0)">=</span><span class="token plain">none                   </span><span class="token assign-left variable" style="color:rgb(9, 134, 88)">extsz</span><span class="token operator" style="color:rgb(0, 0, 0)">=</span><span class="token number" style="color:rgb(9, 134, 88)">4096</span><span class="token plain">   </span><span class="token assign-left variable" style="color:rgb(9, 134, 88)">blocks</span><span class="token operator" style="color:rgb(0, 0, 0)">=</span><span class="token number" style="color:rgb(9, 134, 88)">0</span><span class="token plain">, </span><span class="token assign-left variable" style="color:rgb(9, 134, 88)">rtextents</span><span class="token operator" style="color:rgb(0, 0, 0)">=</span><span class="token number" style="color:rgb(9, 134, 88)">0</span><span class="token plain"></span><br></span><span class="token-line" style="color:#000000"><span class="token plain"></span><span class="token punctuation" style="color:rgb(4, 81, 165)">[</span><span class="token plain">root@arm64v8 ~</span><span class="token punctuation" style="color:rgb(4, 81, 165)">]</span><span class="token comment" style="color:rgb(0, 128, 0)"># mkdir /iozone/ssd -p</span><span class="token plain"></span><br></span><span class="token-line" style="color:#000000"><span class="token plain"></span><span class="token punctuation" style="color:rgb(4, 81, 165)">[</span><span class="token plain">root@arm64v8 ~</span><span class="token punctuation" style="color:rgb(4, 81, 165)">]</span><span class="token comment" style="color:rgb(0, 128, 0)"># mount /dev/sdj /iozone/ssd/</span><span class="token plain"></span><br></span><span class="token-line" style="color:#000000"><span class="token plain"></span><span class="token punctuation" style="color:rgb(4, 81, 165)">[</span><span class="token plain">root@arm64v8 ~</span><span class="token punctuation" style="color:rgb(4, 81, 165)">]</span><span class="token comment" style="color:rgb(0, 128, 0)"># </span><span class="token plain"></span><br></span><span class="token-line" style="color:#000000"><span class="token plain"></span><span class="token punctuation" style="color:rgb(4, 81, 165)">[</span><span class="token plain">root@arm64v8 ~</span><span class="token punctuation" style="color:rgb(4, 81, 165)">]</span><span class="token comment" style="color:rgb(0, 128, 0)"># iozone -Ra -g 300G -i 0 -i 1 -f /iozone/ssd/ssdrwtest -b ssdoutput.xls &gt; iozone_ssdrw.out </span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg class="copyButtonIcon_y97N" viewBox="0 0 24 24"><path d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg class="copyButtonSuccessIcon_LjdS" viewBox="0 0 24 24"><path d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div></li><li><p>生产环境 hdd 测试：</p><div class="language-bash codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#000000;--prism-background-color:#ffffff"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-bash codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#000000"><span class="token punctuation" style="color:rgb(4, 81, 165)">[</span><span class="token plain">root@arm64v8 ~</span><span class="token punctuation" style="color:rgb(4, 81, 165)">]</span><span class="token comment" style="color:rgb(0, 128, 0)"># mkfs.xfs /dev/sdb -f</span><span class="token plain"></span><br></span><span class="token-line" style="color:#000000"><span class="token plain">meta-data</span><span class="token operator" style="color:rgb(0, 0, 0)">=</span><span class="token plain">/dev/sdb               </span><span class="token assign-left variable" style="color:rgb(9, 134, 88)">isize</span><span class="token operator" style="color:rgb(0, 0, 0)">=</span><span class="token number" style="color:rgb(9, 134, 88)">512</span><span class="token plain">    </span><span class="token assign-left variable" style="color:rgb(9, 134, 88)">agcount</span><span class="token operator" style="color:rgb(0, 0, 0)">=</span><span class="token number" style="color:rgb(9, 134, 88)">8</span><span class="token plain">, </span><span class="token assign-left variable" style="color:rgb(9, 134, 88)">agsize</span><span class="token operator" style="color:rgb(0, 0, 0)">=</span><span class="token number" style="color:rgb(9, 134, 88)">268435455</span><span class="token plain"> blks</span><br></span><span class="token-line" style="color:#000000"><span class="token plain">        </span><span class="token operator" style="color:rgb(0, 0, 0)">=</span><span class="token plain">                       </span><span class="token assign-left variable" style="color:rgb(9, 134, 88)">sectsz</span><span class="token operator" style="color:rgb(0, 0, 0)">=</span><span class="token number" style="color:rgb(9, 134, 88)">4096</span><span class="token plain">  </span><span class="token assign-left variable" style="color:rgb(9, 134, 88)">attr</span><span class="token operator" style="color:rgb(0, 0, 0)">=</span><span class="token number" style="color:rgb(9, 134, 88)">2</span><span class="token plain">, </span><span class="token assign-left variable" style="color:rgb(9, 134, 88)">projid32bit</span><span class="token operator" style="color:rgb(0, 0, 0)">=</span><span class="token number" style="color:rgb(9, 134, 88)">1</span><span class="token plain"></span><br></span><span class="token-line" style="color:#000000"><span class="token plain">        </span><span class="token operator" style="color:rgb(0, 0, 0)">=</span><span class="token plain">                       </span><span class="token assign-left variable" style="color:rgb(9, 134, 88)">crc</span><span class="token operator" style="color:rgb(0, 0, 0)">=</span><span class="token number" style="color:rgb(9, 134, 88)">1</span><span class="token plain">        </span><span class="token assign-left variable" style="color:rgb(9, 134, 88)">finobt</span><span class="token operator" style="color:rgb(0, 0, 0)">=</span><span class="token number" style="color:rgb(9, 134, 88)">1</span><span class="token plain">, </span><span class="token assign-left variable" style="color:rgb(9, 134, 88)">sparse</span><span class="token operator" style="color:rgb(0, 0, 0)">=</span><span class="token number" style="color:rgb(9, 134, 88)">1</span><span class="token plain">, </span><span class="token assign-left variable" style="color:rgb(9, 134, 88)">rmapbt</span><span class="token operator" style="color:rgb(0, 0, 0)">=</span><span class="token number" style="color:rgb(9, 134, 88)">0</span><span class="token plain"></span><br></span><span class="token-line" style="color:#000000"><span class="token plain">        </span><span class="token operator" style="color:rgb(0, 0, 0)">=</span><span class="token plain">                       </span><span class="token assign-left variable" style="color:rgb(9, 134, 88)">reflink</span><span class="token operator" style="color:rgb(0, 0, 0)">=</span><span class="token number" style="color:rgb(9, 134, 88)">0</span><span class="token plain"></span><br></span><span class="token-line" style="color:#000000"><span class="token plain">data     </span><span class="token operator" style="color:rgb(0, 0, 0)">=</span><span class="token plain">                       </span><span class="token assign-left variable" style="color:rgb(9, 134, 88)">bsize</span><span class="token operator" style="color:rgb(0, 0, 0)">=</span><span class="token number" style="color:rgb(9, 134, 88)">4096</span><span class="token plain">   </span><span class="token assign-left variable" style="color:rgb(9, 134, 88)">blocks</span><span class="token operator" style="color:rgb(0, 0, 0)">=</span><span class="token number" style="color:rgb(9, 134, 88)">1953506646</span><span class="token plain">, </span><span class="token assign-left variable" style="color:rgb(9, 134, 88)">imaxpct</span><span class="token operator" style="color:rgb(0, 0, 0)">=</span><span class="token number" style="color:rgb(9, 134, 88)">5</span><span class="token plain"></span><br></span><span class="token-line" style="color:#000000"><span class="token plain">        </span><span class="token operator" style="color:rgb(0, 0, 0)">=</span><span class="token plain">                       </span><span class="token assign-left variable" style="color:rgb(9, 134, 88)">sunit</span><span class="token operator" style="color:rgb(0, 0, 0)">=</span><span class="token number" style="color:rgb(9, 134, 88)">0</span><span class="token plain">      </span><span class="token assign-left variable" style="color:rgb(9, 134, 88)">swidth</span><span class="token operator" style="color:rgb(0, 0, 0)">=</span><span class="token number" style="color:rgb(9, 134, 88)">0</span><span class="token plain"> blks</span><br></span><span class="token-line" style="color:#000000"><span class="token plain">naming   </span><span class="token operator" style="color:rgb(0, 0, 0)">=</span><span class="token plain">version </span><span class="token number" style="color:rgb(9, 134, 88)">2</span><span class="token plain">              </span><span class="token assign-left variable" style="color:rgb(9, 134, 88)">bsize</span><span class="token operator" style="color:rgb(0, 0, 0)">=</span><span class="token number" style="color:rgb(9, 134, 88)">4096</span><span class="token plain">   ascii-ci</span><span class="token operator" style="color:rgb(0, 0, 0)">=</span><span class="token number" style="color:rgb(9, 134, 88)">0</span><span class="token plain">, </span><span class="token assign-left variable" style="color:rgb(9, 134, 88)">ftype</span><span class="token operator" style="color:rgb(0, 0, 0)">=</span><span class="token number" style="color:rgb(9, 134, 88)">1</span><span class="token plain"></span><br></span><span class="token-line" style="color:#000000"><span class="token plain">log      </span><span class="token operator" style="color:rgb(0, 0, 0)">=</span><span class="token plain">internal log           </span><span class="token assign-left variable" style="color:rgb(9, 134, 88)">bsize</span><span class="token operator" style="color:rgb(0, 0, 0)">=</span><span class="token number" style="color:rgb(9, 134, 88)">4096</span><span class="token plain">   </span><span class="token assign-left variable" style="color:rgb(9, 134, 88)">blocks</span><span class="token operator" style="color:rgb(0, 0, 0)">=</span><span class="token number" style="color:rgb(9, 134, 88)">521728</span><span class="token plain">, </span><span class="token assign-left variable" style="color:rgb(9, 134, 88)">version</span><span class="token operator" style="color:rgb(0, 0, 0)">=</span><span class="token number" style="color:rgb(9, 134, 88)">2</span><span class="token plain"></span><br></span><span class="token-line" style="color:#000000"><span class="token plain">        </span><span class="token operator" style="color:rgb(0, 0, 0)">=</span><span class="token plain">                       </span><span class="token assign-left variable" style="color:rgb(9, 134, 88)">sectsz</span><span class="token operator" style="color:rgb(0, 0, 0)">=</span><span class="token number" style="color:rgb(9, 134, 88)">4096</span><span class="token plain">  </span><span class="token assign-left variable" style="color:rgb(9, 134, 88)">sunit</span><span class="token operator" style="color:rgb(0, 0, 0)">=</span><span class="token number" style="color:rgb(9, 134, 88)">1</span><span class="token plain"> blks, lazy-count</span><span class="token operator" style="color:rgb(0, 0, 0)">=</span><span class="token number" style="color:rgb(9, 134, 88)">1</span><span class="token plain"></span><br></span><span class="token-line" style="color:#000000"><span class="token plain">realtime </span><span class="token operator" style="color:rgb(0, 0, 0)">=</span><span class="token plain">none                   </span><span class="token assign-left variable" style="color:rgb(9, 134, 88)">extsz</span><span class="token operator" style="color:rgb(0, 0, 0)">=</span><span class="token number" style="color:rgb(9, 134, 88)">4096</span><span class="token plain">   </span><span class="token assign-left variable" style="color:rgb(9, 134, 88)">blocks</span><span class="token operator" style="color:rgb(0, 0, 0)">=</span><span class="token number" style="color:rgb(9, 134, 88)">0</span><span class="token plain">, </span><span class="token assign-left variable" style="color:rgb(9, 134, 88)">rtextents</span><span class="token operator" style="color:rgb(0, 0, 0)">=</span><span class="token number" style="color:rgb(9, 134, 88)">0</span><span class="token plain"></span><br></span><span class="token-line" style="color:#000000"><span class="token plain"></span><span class="token punctuation" style="color:rgb(4, 81, 165)">[</span><span class="token plain">root@arm64v8 ~</span><span class="token punctuation" style="color:rgb(4, 81, 165)">]</span><span class="token comment" style="color:rgb(0, 128, 0)"># mkdir /iozone/hdd</span><span class="token plain"></span><br></span><span class="token-line" style="color:#000000"><span class="token plain"></span><span class="token punctuation" style="color:rgb(4, 81, 165)">[</span><span class="token plain">root@arm64v8 ~</span><span class="token punctuation" style="color:rgb(4, 81, 165)">]</span><span class="token comment" style="color:rgb(0, 128, 0)"># mount /dev/sdb /iozone/hdd</span><span class="token plain"></span><br></span><span class="token-line" style="color:#000000"><span class="token plain"></span><span class="token punctuation" style="color:rgb(4, 81, 165)">[</span><span class="token plain">root@arm64v8 ~</span><span class="token punctuation" style="color:rgb(4, 81, 165)">]</span><span class="token comment" style="color:rgb(0, 128, 0)"># </span><span class="token plain"></span><br></span><span class="token-line" style="color:#000000"><span class="token plain"></span><span class="token punctuation" style="color:rgb(4, 81, 165)">[</span><span class="token plain">root@arm64v8 ~</span><span class="token punctuation" style="color:rgb(4, 81, 165)">]</span><span class="token comment" style="color:rgb(0, 128, 0)"># iozone -Ra -g 300G -i 0 -i 1 -f /iozone/hdd/hddrwtest -b hddoutput.xls &gt; iozone_hddrw.out</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg class="copyButtonIcon_y97N" viewBox="0 0 24 24"><path d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg class="copyButtonSuccessIcon_LjdS" viewBox="0 0 24 24"><path d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div></li></ol><p>上面两个测试接近生产环境下的测试，生成的 xls 文件可以使用 excel 打开，然后针对相应的数据具体分析。当然，生产环境下的需求比这个要复杂得多，比如 raid 卡中 raid0 raid1 raid5 等性能如何，raid 卡直通下磁盘性能如何，为了满足业务需求，购买昂贵的 SAN 存储，分布式存储，各自的存储性能如何。都需要具体问题具体分析。</p><p>下面我们使用 out 文件绘制几个图，更加形象地表达测试结果，就利用 iozone<!-- -->_<!-- -->hddrw.out 文件看看 hdd 磁盘的性能如何。</p><div class="language-bash codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#000000;--prism-background-color:#ffffff"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-bash codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#000000"><span class="token comment" style="color:rgb(0, 128, 0)"># 绘图需要 gnuplot 这个开源工具</span><span class="token plain"></span><br></span><span class="token-line" style="color:#000000"><span class="token plain"></span><span class="token punctuation" style="color:rgb(4, 81, 165)">[</span><span class="token plain">root@arm64v8 ~</span><span class="token punctuation" style="color:rgb(4, 81, 165)">]</span><span class="token comment" style="color:rgb(0, 128, 0)"># yum install gnuplot -y</span><span class="token plain"></span><br></span><span class="token-line" style="color:#000000"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#000000"><span class="token plain"></span><span class="token comment" style="color:rgb(0, 128, 0)"># 专门创建一个用来画图的目录 /opt/gnuplot，把 iozone 测试生成的结果文件以及源码自带的绘图工具一并拷贝进去</span><span class="token plain"></span><br></span><span class="token-line" style="color:#000000"><span class="token plain"></span><span class="token punctuation" style="color:rgb(4, 81, 165)">[</span><span class="token plain">root@arm64v8 ~</span><span class="token punctuation" style="color:rgb(4, 81, 165)">]</span><span class="token comment" style="color:rgb(0, 128, 0)"># mkdir /opt/gnuplot</span><span class="token plain"></span><br></span><span class="token-line" style="color:#000000"><span class="token plain"></span><span class="token punctuation" style="color:rgb(4, 81, 165)">[</span><span class="token plain">root@arm64v8 ~</span><span class="token punctuation" style="color:rgb(4, 81, 165)">]</span><span class="token comment" style="color:rgb(0, 128, 0)"># cp iozone_hddrw.out /opt/gnuplot</span><span class="token plain"></span><br></span><span class="token-line" style="color:#000000"><span class="token plain"></span><span class="token punctuation" style="color:rgb(4, 81, 165)">[</span><span class="token plain">root@arm64v8 ~</span><span class="token punctuation" style="color:rgb(4, 81, 165)">]</span><span class="token comment" style="color:rgb(0, 128, 0)"># cp iozone3_493/src/current/Generate_Graphs /opt/gnuplot</span><span class="token plain"></span><br></span><span class="token-line" style="color:#000000"><span class="token plain"></span><span class="token punctuation" style="color:rgb(4, 81, 165)">[</span><span class="token plain">root@arm64v8 ~</span><span class="token punctuation" style="color:rgb(4, 81, 165)">]</span><span class="token comment" style="color:rgb(0, 128, 0)"># cp iozone3_493/src/current/gengnuplot.sh /opt/gnuplot</span><span class="token plain"></span><br></span><span class="token-line" style="color:#000000"><span class="token plain"></span><span class="token punctuation" style="color:rgb(4, 81, 165)">[</span><span class="token plain">root@arm64v8 ~</span><span class="token punctuation" style="color:rgb(4, 81, 165)">]</span><span class="token comment" style="color:rgb(0, 128, 0)"># cp iozone3_493/src/current/Gnuplot.txt /opt/gnuplot</span><span class="token plain"></span><br></span><span class="token-line" style="color:#000000"><span class="token plain"></span><span class="token punctuation" style="color:rgb(4, 81, 165)">[</span><span class="token plain">root@arm64v8 ~</span><span class="token punctuation" style="color:rgb(4, 81, 165)">]</span><span class="token comment" style="color:rgb(0, 128, 0)"># cp iozone3_493/src/current/gnu3d.dem /opt/gnuplot</span><span class="token plain"></span><br></span><span class="token-line" style="color:#000000"><span class="token plain"></span><span class="token punctuation" style="color:rgb(4, 81, 165)">[</span><span class="token plain">root@arm64v8 ~</span><span class="token punctuation" style="color:rgb(4, 81, 165)">]</span><span class="token comment" style="color:rgb(0, 128, 0)">#</span><span class="token plain"></span><br></span><span class="token-line" style="color:#000000"><span class="token plain"></span><span class="token punctuation" style="color:rgb(4, 81, 165)">[</span><span class="token plain">root@arm64v8 ~</span><span class="token punctuation" style="color:rgb(4, 81, 165)">]</span><span class="token comment" style="color:rgb(0, 128, 0)"># cd /opt/gnuplot/</span><span class="token plain"></span><br></span><span class="token-line" style="color:#000000"><span class="token plain"></span><span class="token punctuation" style="color:rgb(4, 81, 165)">[</span><span class="token plain">root@arm64v8 gnuplot</span><span class="token punctuation" style="color:rgb(4, 81, 165)">]</span><span class="token comment" style="color:rgb(0, 128, 0)"># ls</span><span class="token plain"></span><br></span><span class="token-line" style="color:#000000"><span class="token plain">Generate_Graphs  gengnuplot.sh  gnu3d.dem  Gnuplot.txt  iozone_hddrw.out</span><br></span><span class="token-line" style="color:#000000"><span class="token plain"></span><span class="token punctuation" style="color:rgb(4, 81, 165)">[</span><span class="token plain">root@arm64v8 gnuplot</span><span class="token punctuation" style="color:rgb(4, 81, 165)">]</span><span class="token comment" style="color:rgb(0, 128, 0)">#</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg class="copyButtonIcon_y97N" viewBox="0 0 24 24"><path d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg class="copyButtonSuccessIcon_LjdS" viewBox="0 0 24 24"><path d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><p><img loading="lazy" alt="iozone plot write" src="/en/assets/images/iozone plot write-92ae82e113a18b1b0ad0158b0a05c6d5.png" width="922" height="826" class="img_ev3q"></p><p>还有几个图，就不一一附上来了，图画得是不咋的，但是不影响数据分析。</p></div></article><nav class="pagination-nav docusaurus-mt-lg" aria-label="Docs pages navigation"><a class="pagination-nav__link pagination-nav__link--prev" href="/en/docs/linux-test-2"><div class="pagination-nav__sublabel">Previous</div><div class="pagination-nav__label">第 2 章 STREAM 内存测试</div></a><a class="pagination-nav__link pagination-nav__link--next" href="/en/docs/linux-test-4"><div class="pagination-nav__sublabel">Next</div><div class="pagination-nav__label">第 4 章 Netperf 网络测试</div></a></nav></div></div><div class="col col--3"><div class="tableOfContents_bqdL thin-scrollbar theme-doc-toc-desktop"><ul class="table-of-contents table-of-contents__left-border"><li><a href="#31磁盘性能基础知识" class="table-of-contents__link toc-highlight">3.1、磁盘性能基础知识</a></li><li><a href="#32fio-安装" class="table-of-contents__link toc-highlight">3.2、fio 安装</a><ul><li><a href="#321安装前准备工作" class="table-of-contents__link toc-highlight">3.2.1、安装前准备工作</a></li><li><a href="#322安装" class="table-of-contents__link toc-highlight">3.2.2、安装</a></li></ul></li><li><a href="#33使用指导" class="table-of-contents__link toc-highlight">3.3、使用指导</a><ul><li><a href="#331命令行测试方法" class="table-of-contents__link toc-highlight">3.3.1、命令行测试方法</a></li><li><a href="#332配置文件方式" class="table-of-contents__link toc-highlight">3.3.2、配置文件方式</a></li><li><a href="#333测试结果分析" class="table-of-contents__link toc-highlight">3.3.3、测试结果分析</a></li></ul></li><li><a href="#34生产测试" class="table-of-contents__link toc-highlight">3.4、生产测试</a><ul><li><a href="#341硬件环境" class="table-of-contents__link toc-highlight">3.4.1、硬件环境</a></li><li><a href="#342测试结果" class="table-of-contents__link toc-highlight">3.4.2、测试结果</a></li></ul></li><li><a href="#35注意事项" class="table-of-contents__link toc-highlight">3.5、注意事项</a><ul><li><a href="#351测试注意事项" class="table-of-contents__link toc-highlight">3.5.1、测试注意事项</a></li><li><a href="#352性能调优注意事项" class="table-of-contents__link toc-highlight">3.5.2、性能调优注意事项</a></li></ul></li><li><a href="#a附录" class="table-of-contents__link toc-highlight">A、附录</a><ul><li><a href="#a1iozone-测试简介" class="table-of-contents__link toc-highlight">A1、IOzone 测试简介</a></li><li><a href="#a2iozone-测试读写模式" class="table-of-contents__link toc-highlight">A2、IOzone 测试读写模式</a></li><li><a href="#a3iozone-安装" class="table-of-contents__link toc-highlight">A3、IOzone 安装</a></li><li><a href="#a4iozone-主要参数说明" class="table-of-contents__link toc-highlight">A4、IOzone 主要参数说明</a></li><li><a href="#a5iozone-测试用例" class="table-of-contents__link toc-highlight">A5、IOzone 测试用例</a></li></ul></li></ul></div></div></div></div></main></div></div><footer class="footer footer--dark"><div class="container container-fluid"><div class="row footer__links"><div class="col footer__col"><div class="footer__title">Study</div><ul class="footer__items clean-list"><li class="footer__item"><a class="footer__link-item" href="/en/tags">Tags</a></li><li class="footer__item"><a class="footer__link-item" href="/en/archive">Archive</a></li><li class="footer__item"><a class="footer__link-item" href="/en/docs/skill">Notes</a></li><li class="footer__item"><a class="footer__link-item" href="/en/project">Projects</a></li><li class="footer__item"><a class="footer__link-item" href="/en/docs/linux">Linux</a></li></ul></div><div class="col footer__col"><div class="footer__title">Social Media</div><ul class="footer__items clean-list"><li class="footer__item"><a class="footer__link-item" href="/en/about">About Me</a></li><li class="footer__item"><a href="https://github.com/zqingfa" target="_blank" rel="noopener noreferrer" class="footer__link-item">GitHub<svg width="13.5" height="13.5" aria-hidden="true" viewBox="0 0 24 24" class="iconExternalLink_nPIU"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"></path></svg></a></li><li class="footer__item"><a href="https://juejin.cn/" target="_blank" rel="noopener noreferrer" class="footer__link-item">Juejin<svg width="13.5" height="13.5" aria-hidden="true" viewBox="0 0 24 24" class="iconExternalLink_nPIU"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"></path></svg></a></li><li class="footer__item"><a href="https://discord.gg/" target="_blank" rel="noopener noreferrer" class="footer__link-item">Discord<svg width="13.5" height="13.5" aria-hidden="true" viewBox="0 0 24 24" class="iconExternalLink_nPIU"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"></path></svg></a></li></ul></div><div class="col footer__col"><div class="footer__title">More</div><ul class="footer__items clean-list"><li class="footer__item"><a class="footer__link-item" position="right" href="/en/friends">Friends</a></li><li class="footer__item"><a class="footer__link-item" position="right" href="/en/website">Links</a></li><li class="footer__item"><a href="https://docusaurus.io/zh-CN/" target="_blank"><img style="height:50px;margin-top:0.5rem" src="/img/buildwith.png"><a></a></li></ul></div></div><div class="footer__bottom text--center"><div class="footer__copyright"><p><a href="http://beian.miit.gov.cn/">闽ICP备2020017848号-2</a></p><p>Copyright © 2020 – PRESENT kuizuo Built with Docusaurus.</p></div></div></div></footer></div>
<script src="/en/assets/js/runtime~main.06ffa367.js"></script>
<script src="/en/assets/js/main.7f2e5564.js"></script>
</body>
</html>