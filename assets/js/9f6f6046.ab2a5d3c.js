"use strict";(self.webpackChunkblog=self.webpackChunkblog||[]).push([[6972],{3905:function(n,e,a){a.d(e,{Zo:function(){return d},kt:function(){return N}});var t=a(67294);function r(n,e,a){return e in n?Object.defineProperty(n,e,{value:a,enumerable:!0,configurable:!0,writable:!0}):n[e]=a,n}function l(n,e){var a=Object.keys(n);if(Object.getOwnPropertySymbols){var t=Object.getOwnPropertySymbols(n);e&&(t=t.filter((function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable}))),a.push.apply(a,t)}return a}function o(n){for(var e=1;e<arguments.length;e++){var a=null!=arguments[e]?arguments[e]:{};e%2?l(Object(a),!0).forEach((function(e){r(n,e,a[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(n,Object.getOwnPropertyDescriptors(a)):l(Object(a)).forEach((function(e){Object.defineProperty(n,e,Object.getOwnPropertyDescriptor(a,e))}))}return n}function s(n,e){if(null==n)return{};var a,t,r=function(n,e){if(null==n)return{};var a,t,r={},l=Object.keys(n);for(t=0;t<l.length;t++)a=l[t],e.indexOf(a)>=0||(r[a]=n[a]);return r}(n,e);if(Object.getOwnPropertySymbols){var l=Object.getOwnPropertySymbols(n);for(t=0;t<l.length;t++)a=l[t],e.indexOf(a)>=0||Object.prototype.propertyIsEnumerable.call(n,a)&&(r[a]=n[a])}return r}var m=t.createContext({}),i=function(n){var e=t.useContext(m),a=e;return n&&(a="function"==typeof n?n(e):o(o({},e),n)),a},d=function(n){var e=i(n.components);return t.createElement(m.Provider,{value:e},n.children)},p={inlineCode:"code",wrapper:function(n){var e=n.children;return t.createElement(t.Fragment,{},e)}},c=t.forwardRef((function(n,e){var a=n.components,r=n.mdxType,l=n.originalType,m=n.parentName,d=s(n,["components","mdxType","originalType","parentName"]),c=i(a),N=r,u=c["".concat(m,".").concat(N)]||c[N]||p[N]||l;return a?t.createElement(u,o(o({ref:e},d),{},{components:a})):t.createElement(u,o({ref:e},d))}));function N(n,e){var a=arguments,r=e&&e.mdxType;if("string"==typeof n||r){var l=a.length,o=new Array(l);o[0]=c;var s={};for(var m in e)hasOwnProperty.call(e,m)&&(s[m]=e[m]);s.originalType=n,s.mdxType="string"==typeof n?n:r,o[1]=s;for(var i=2;i<l;i++)o[i]=a[i];return t.createElement.apply(null,o)}return t.createElement.apply(null,a)}c.displayName="MDXCreateElement"},88312:function(n,e,a){a.r(e),a.d(e,{assets:function(){return d},contentTitle:function(){return m},default:function(){return N},frontMatter:function(){return s},metadata:function(){return i},toc:function(){return p}});var t=a(83117),r=a(80102),l=(a(67294),a(3905)),o=["components"],s={id:"linux-advanced-5",slug:"/linux-advanced-5",title:"\u7b2c 5 \u7ae0 Linux DNS \u670d\u52a1",authors:"zhangqf",keywords:["linux","Firewall"]},m=void 0,i={unversionedId:"linux/advanced/linux-advanced-5",id:"linux/advanced/linux-advanced-5",title:"\u7b2c 5 \u7ae0 Linux DNS \u670d\u52a1",description:"5.1\u3001DNS \u57fa\u7840",source:"@site/docs/linux/advanced/\u7b2c 5 \u7ae0 Linux DNS \u670d\u52a1.md",sourceDirName:"linux/advanced",slug:"/linux-advanced-5",permalink:"/docs/linux-advanced-5",draft:!1,tags:[],version:"current",frontMatter:{id:"linux-advanced-5",slug:"/linux-advanced-5",title:"\u7b2c 5 \u7ae0 Linux DNS \u670d\u52a1",authors:"zhangqf",keywords:["linux","Firewall"]},sidebar:"linux",previous:{title:"\u7b2c 4 \u7ae0 Linux DHCP \u670d\u52a1",permalink:"/docs/linux-advanced-4"},next:{title:"\u7b2c 6 \u7ae0 Linux httpd \u670d\u52a1\u57fa\u7840\u914d\u7f6e",permalink:"/docs/linux-advanced-6"}},d={},p=[{value:"5.1\u3001DNS \u57fa\u7840",id:"51dns-\u57fa\u7840",level:2},{value:"5.1.1\u3001\u57df\u7684\u5206\u7c7b",id:"511\u57df\u7684\u5206\u7c7b",level:3},{value:"5.1.2\u3001\u4e3b\u673a\u540d\u3001\u57df\u540d\u3001FQDN",id:"512\u4e3b\u673a\u540d\u57df\u540dfqdn",level:3},{value:"5.1.3\u3001\u57df\u7684\u5206\u5c42\u6388\u6743",id:"513\u57df\u7684\u5206\u5c42\u6388\u6743",level:3},{value:"5.1.4\u3001DNS \u89e3\u6790\u6d41\u7a0b",id:"514dns-\u89e3\u6790\u6d41\u7a0b",level:3},{value:"5.1.5\u3001/etc/resolv.conf \u6587\u4ef6",id:"515etcresolvconf-\u6587\u4ef6",level:3},{value:"5.2\u3001DNS \u672f\u8bed",id:"52dns-\u672f\u8bed",level:2},{value:"5.2.1\u3001\u9012\u5f52\u67e5\u8be2\u548c\u8fed\u4ee3\u67e5\u8be2",id:"521\u9012\u5f52\u67e5\u8be2\u548c\u8fed\u4ee3\u67e5\u8be2",level:3},{value:"5.2.2\u3001\u6743\u5a01\u670d\u52a1\u5668\u548c[\u975e]\u6743\u5a01\u5e94\u7b54",id:"522\u6743\u5a01\u670d\u52a1\u5668\u548c\u975e\u6743\u5a01\u5e94\u7b54",level:3},{value:"5.2.3\u3001DNS \u7f13\u5b58",id:"523dns-\u7f13\u5b58",level:3},{value:"5.2.4\u3001\u4e3b\u3001\u4ece dns \u670d\u52a1\u5668",id:"524\u4e3b\u4ece-dns-\u670d\u52a1\u5668",level:3},{value:"5.2.5\u3001\u8d44\u6e90\u8bb0\u5f55",id:"525\u8d44\u6e90\u8bb0\u5f55",level:3},{value:"5.3\u3001\u5b89\u88c5 DNS",id:"53\u5b89\u88c5-dns",level:2},{value:"5.4\u3001\u914d\u7f6e\u548c\u4f7f\u7528 DNS",id:"54\u914d\u7f6e\u548c\u4f7f\u7528-dns",level:2},{value:"5.4.1\u3001named.conf \u914d\u7f6e",id:"541namedconf-\u914d\u7f6e",level:3},{value:"5.4.2\u3001\u533a\u57df\u6570\u636e\u6587\u4ef6\u914d\u7f6e",id:"542\u533a\u57df\u6570\u636e\u6587\u4ef6\u914d\u7f6e",level:3},{value:"5.4.3\u3001\u6d4b\u8bd5 DNS \u89e3\u6790",id:"543\u6d4b\u8bd5-dns-\u89e3\u6790",level:3},{value:"5.5\u3001\u914d\u7f6e\u53cd\u5411\u67e5\u627e\u533a\u57df",id:"55\u914d\u7f6e\u53cd\u5411\u67e5\u627e\u533a\u57df",level:2},{value:"5.6\u3001\u914d\u7f6e &quot;\u4ec5\u7f13\u5b58&quot; DNS \u670d\u52a1\u5668",id:"56\u914d\u7f6e-\u4ec5\u7f13\u5b58-dns-\u670d\u52a1\u5668",level:2},{value:"5.7\u3001\u914d\u7f6e DNS \u8f6c\u53d1\u670d\u52a1\u5668",id:"57\u914d\u7f6e-dns-\u8f6c\u53d1\u670d\u52a1\u5668",level:2},{value:"5.8\u3001ACL",id:"58acl",level:2},{value:"5.9\u3001\u9012\u5f52\u67e5\u8be2\u8be6\u89e3",id:"59\u9012\u5f52\u67e5\u8be2\u8be6\u89e3",level:2},{value:"5.10\u3001DNS \u9ed1\u540d\u5355",id:"510dns-\u9ed1\u540d\u5355",level:2},{value:"5.11\u3001\u914d\u7f6e\u4e3b\u3001\u4ece DNS \u670d\u52a1\u5668",id:"511\u914d\u7f6e\u4e3b\u4ece-dns-\u670d\u52a1\u5668",level:2},{value:"5.11.1\u3001DNS \u4e3b\u4ece\u4f53\u9a8c",id:"5111dns-\u4e3b\u4ece\u4f53\u9a8c",level:3},{value:"5.11.2\u3001DNS \u4e3b\u4ece\u5b8c\u6574\u914d\u7f6e",id:"5112dns-\u4e3b\u4ece\u5b8c\u6574\u914d\u7f6e",level:3},{value:"5.11.3\u3001\u4f55\u65f6\u8fdb\u884c\u533a\u57df\u4f20\u9001",id:"5113\u4f55\u65f6\u8fdb\u884c\u533a\u57df\u4f20\u9001",level:3},{value:"5.11.4\u3001notify \u901a\u77e5",id:"5114notify-\u901a\u77e5",level:3},{value:"5.11.5\u3001\u533a\u57df\u6587\u4ef6\u5907\u4efd\u7684\u91cd\u8981\u6027",id:"5115\u533a\u57df\u6587\u4ef6\u5907\u4efd\u7684\u91cd\u8981\u6027",level:3},{value:"5.12\u3001 rndc \u63a7\u5236 dns \u670d\u52a1\u5668",id:"512-rndc-\u63a7\u5236-dns-\u670d\u52a1\u5668",level:2},{value:"5.12.1\u3001controls \u6307\u4ee4",id:"5121controls-\u6307\u4ee4",level:3},{value:"5.12.2\u3001\u63a7\u5236\u7aef\u751f\u6210 rndc.conf",id:"5122\u63a7\u5236\u7aef\u751f\u6210-rndcconf",level:3},{value:"5.12.3\u3001rndc \u547d\u4ee4",id:"5123rndc-\u547d\u4ee4",level:3},{value:"5.13\u3001\u5b50\u57df",id:"513\u5b50\u57df",level:2},{value:"5.13.1\u3001\u521b\u5efa\u5b50\u57df",id:"5131\u521b\u5efa\u5b50\u57df",level:3},{value:"5.14\u3001\u667a\u80fd DNS \u2014\u2014 \u89c6\u56fe view",id:"514\u667a\u80fd-dns--\u89c6\u56fe-view",level:2},{value:"5.15\u3001DNS \u65e5\u5fd7\u7cfb\u7edf",id:"515dns-\u65e5\u5fd7\u7cfb\u7edf",level:2}],c={toc:p};function N(n){var e=n.components,s=(0,r.Z)(n,o);return(0,l.kt)("wrapper",(0,t.Z)({},c,s,{components:e,mdxType:"MDXLayout"}),(0,l.kt)("h2",{id:"51dns-\u57fa\u7840"},"5.1\u3001DNS \u57fa\u7840"),(0,l.kt)("p",null,"DNS \u4e3b\u8981\u662f\u7528\u4e8e\u5c06\u57df\u540d\u89e3\u6790\u4e3a IP \u5730\u5740\u7684\u534f\u8bae\uff0c\u6709\u65f6\u5019\u4e5f\u7528\u4e8e\u5c06 IP \u5730\u5740\u53cd\u5411\u89e3\u6790\u6210\u57df\u540d\uff0c\u6240\u4ee5 DNS \u53ef\u4ee5\u5b9e\u73b0\u53cc\u5411\u89e3\u6790\u3002"),(0,l.kt)("p",null,"DNS \u53ef\u4ee5\u4f7f\u7528 TCP \u548c UDP \u7684 53 \u7aef\u53e3\uff0c\u57fa\u672c\u4f7f\u7528 UDP \u534f\u8bae\u7684 53 \u7aef\u53e3\u3002"),(0,l.kt)("h3",{id:"511\u57df\u7684\u5206\u7c7b"},"5.1.1\u3001\u57df\u7684\u5206\u7c7b"),(0,l.kt)("p",null,"\u57df\u662f\u5206\u5c42\u7ba1\u7406\u7684\uff0c\u5c31\u50cf\u4e2d\u56fd\u7684\u884c\u653f\u7ea7\u522b\u3002"),(0,l.kt)("p",null,"\u6700\u9ad8\u5c42\u7684\u57df\u662f\u6839\u57df(root) ",(0,l.kt)("inlineCode",{parentName:"p"},'"."'),"\uff0c\u5c31\u662f\u4e00\u4e2a\u70b9\uff0c\u5b83\u5c31\u50cf\u56fd\u5bb6\u4e3b\u5e2d\u4e00\u6837\u3002\u5168\u7403\u53ea\u6709 13 \u4e2a\u6839\u57df\u670d\u52a1\u5668\uff0c\u57fa\u672c\u4e0a\u90fd\u5728\u7f8e\u56fd\uff0c\u4e2d\u56fd\u4e00\u53f0\u6839\u57df\u670d\u52a1\u5668\u90fd\u6ca1\u6709\u3002"),(0,l.kt)("p",null,"\u6839\u57df\u7684\u4e0b\u4e00\u5c42\u5c31\u662f\u7b2c\u4e8c\u5c42\u6b21\u7684\u9876\u7ea7\u57df\uff08TLD\uff09\u4e86\uff0c\u90a3\u4e48\u5b83\u5c31\u662f\u5404\u7701\u7701\u957f\u4e86\u3002\u9876\u7ea7\u57df\u4e00\u822c\u4e24\u79cd\u5212\u5206\u65b9\u6cd5\uff1a\u6309\u56fd\u5bb6\u5212\u5206\u548c\u6309\u7ec4\u7ec7\u6027\u8d28\u5212\u5206\u3002"),(0,l.kt)("ul",null,(0,l.kt)("li",{parentName:"ul"},"\u6309\u56fd\u5bb6\u5212\u5206\uff1a.cn(\u4e2d\u56fd)\u3001.uk(\u82f1\u56fd)\u3001.us(\u7f8e\u56fd)\u3002\u57fa\u672c\u90fd\u662f\u4e24\u4e2a\u5b57\u6bcd\u7684\u3002"),(0,l.kt)("li",{parentName:"ul"},"\u6309\u7ec4\u7ec7\u6027\u8d28\u5212\u5206\uff1a.org\u3001.net\u3001.com\u3001.edu\u3001.gov\u3001.cc\u7b49\u3002"),(0,l.kt)("li",{parentName:"ul"},"\u53cd\u5411\u57df\uff1aarpa\u3002\u8fd9\u662f\u53cd\u5411\u89e3\u6790\u7684\u7279\u6b8a\u9876\u7ea7\u57df\u3002")),(0,l.kt)("p",null,"\u9876\u7ea7\u57df\u4e0b\u6765\u5c31\u662f\u666e\u901a\u7684\u57df\uff0c\u516c\u53f8\u6216\u4e2a\u4eba\u5728\u4e92\u8054\u7f51\u4e0a\u6ce8\u518c\u7684\u57df\u540d\u4e00\u822c\u90fd\u662f\u8fd9\u4e9b\u666e\u901a\u7684\u57df\uff0c\u5982 baidu.com\u3002"),(0,l.kt)("p",null,(0,l.kt)("img",{alt:"dns",src:a(5217).Z,width:"1067",height:"726"})),(0,l.kt)("h3",{id:"512\u4e3b\u673a\u540d\u57df\u540dfqdn"},"5.1.2\u3001\u4e3b\u673a\u540d\u3001\u57df\u540d\u3001FQDN"),(0,l.kt)("p",null,"\u4ee5\u767e\u5ea6(",(0,l.kt)("a",{parentName:"p",href:"http://www.baidu.com)%E5%92%8C%E7%99%BE%E5%BA%A6%E8%B4%B4%E5%90%A7(tieba.baidu.com)%E6%9D%A5%E4%B8%BE%E4%BE%8B%E3%80%82"},"www.baidu.com)\u548c\u767e\u5ea6\u8d34\u5427(tieba.baidu.com)\u6765\u4e3e\u4f8b\u3002")),(0,l.kt)("ul",null,(0,l.kt)("li",{parentName:"ul"},"\u57df\u540d","  \u4e0d\u8bba\u662f ",(0,l.kt)("a",{parentName:"li",href:"http://www.baidu.com"},"www.baidu.com"),' \u8fd8\u662f tieba.baidu.com\uff0c\u5b83\u4eec\u7684\u57df\u540d\u90fd\u662f baidu.com\uff0c\u4e25\u683c\u5730\u8bf4\u662f "baidu.com."\u3002\u8fd9\u662f\u767e\u5ea6\u6240\u8d2d\u4e70\u7684 com \u57df\u4e0b\u7684\u4e00\u4e2a\u5b50\u57df\u540d\u3002\n'),(0,l.kt)("li",{parentName:"ul"},"\u4e3b\u673a\u540d","  \u5bf9\u4e8e ",(0,l.kt)("a",{parentName:"li",href:"http://www.baidu.com"},"www.baidu.com")," \u6765\u8bf4\uff0c\u4e3b\u673a\u540d\u662f www\uff0c\u5bf9\u4e8e tieba.baidu.com \u6765\u8bf4\uff0c\u4e3b\u673a\u540d\u662f tieba\u3002\u5176\u5b9e\u4e25\u683c\u6765\u8bf4\uff0c",(0,l.kt)("a",{parentName:"li",href:"http://www.baidu.com"},"www.baidu.com")," \u548c tieba.baidu.com \u624d\u662f\u4e3b\u673a\u540d\uff0c\u5b83\u4eec\u90fd\u662f baidu.com \u57df\u4e0b\u7684\u4e3b\u673a\u3002\u4e00\u4e2a\u57df\u4e0b\u53ef\u4ee5\u5b9a\u4e49\u5f88\u591a\u4e3b\u673a\uff0c\u53ea\u9700\u914d\u7f6e\u597d\u5b83\u7684\u4e3b\u673a\u540d\u548c\u5bf9\u5e94\u4e3b\u673a\u7684 IP \u5730\u5740\u5373\u53ef\u3002\n"),(0,l.kt)("li",{parentName:"ul"},"FQDN","  FQDN \u662f Fully Qualified Domain Name \u7684\u7f29\u5199\uff0c\u79f0\u4e3a\u5b8c\u5168\u5408\u683c\u57df\u540d\uff0c\u662f\u6307\u5305\u542b\u4e86\u6240\u6709\u57df\u7684\u4e3b\u673a\u540d\uff0c\u5176\u4e2d\u5305\u62ec\u6839\u57df\u3002FQDN \u53ef\u4ee5\u8bf4\u662f\u4e3b\u673a\u540d\u7684\u4e00\u79cd\u5b8c\u5168\u8868\u793a\u5f62\u5f0f\uff0c\u5b83\u4ece\u903b\u8f91\u4e0a\u51c6\u786e\u5730\u8868\u793a\u51fa\u4e3b\u673a\u5728\u4ec0\u4e48\u5730\u65b9\u3002","  \u4f8b\u5982 ",(0,l.kt)("a",{parentName:"li",href:"http://www.baidu.com"},"www.baidu.com"),' \u7684 FQDN \u662f "',(0,l.kt)("a",{parentName:"li",href:"http://www.baidu.com.%22%EF%BC%8Ccom"},'www.baidu.com."\uff0ccom'),' \u540e\u9762\u8fd8\u6709\u4e2a\u70b9\uff0c\u8fd9\u662f\u6839\u57df\uff1btieba.baidu.com \u7684 FQDN \u662f "tieba.baidu.com."\u3002\n')),(0,l.kt)("h3",{id:"513\u57df\u7684\u5206\u5c42\u6388\u6743"},"5.1.3\u3001\u57df\u7684\u5206\u5c42\u6388\u6743"),(0,l.kt)("p",null,"\u57df\u662f\u4ece\u4e0a\u5230\u4e0b\u6388\u6743\u7684\uff0c\u6bcf\u4e00\u5c42\u90fd\u53ea\u8d1f\u8d23\u81ea\u5df1\u7684\u76f4\u8f96\u4e0b\u5c42\uff0c\u800c\u4e0d\u8d1f\u8d23\u4e0b\u4e0b\u5c42\u3002\u4f8b\u5982\u6839\u57df\u7ed9\u9876\u7ea7\u57df\u6388\u6743\uff0c\u9876\u7ea7\u57df\u7ed9\u666e\u901a\u57df\u6388\u6743\uff0c\u4f46\u662f\u6839\u57df\u4e0d\u4f1a\u7ed9\u666e\u901a\u57df\u6388\u6743\u3002\u548c\u73b0\u5b9e\u4e2d\u7684\u884c\u653f\u7ba1\u7406\u4e0d\u4e00\u6837\uff0c\u57df\u7684\u6388\u6743\u548c\u7ba1\u7406\u7edd\u5bf9\u4e0d\u4f1a\u5411\u4e0b\u8d8a\u7ea7\uff0c\u56e0\u4e3a\u5b83\u6839\u672c\u4e0d\u77e5\u9053\u4e0b\u4e0b\u7ea7\u7684\u57df\u540d\u662f\u5426\u5b58\u5728\u3002"),(0,l.kt)("h3",{id:"514dns-\u89e3\u6790\u6d41\u7a0b"},"5.1.4\u3001DNS \u89e3\u6790\u6d41\u7a0b"),(0,l.kt)("p",null,(0,l.kt)("img",{alt:"dns search",src:a(98304).Z,width:"700",height:"560"})),(0,l.kt)("p",null,"\u4ee5\u8bbf\u95ee ",(0,l.kt)("a",{parentName:"p",href:"http://www.baidu.com"},"www.baidu.com")," \u4e3a\u4f8b\u3002"),(0,l.kt)("ol",null,(0,l.kt)("li",{parentName:"ol"},"\u5ba2\u6237\u7aef\u8981\u8bbf\u95ee ",(0,l.kt)("a",{parentName:"li",href:"http://www.baidu.com%EF%BC%8C%E9%A6%96%E5%85%88%E4%BC%9A%E6%9F%A5%E6%89%BE%E6%9C%AC%E6%9C%BA"},"www.baidu.com\uff0c\u9996\u5148\u4f1a\u67e5\u627e\u672c\u673a")," DNS \u7f13\u5b58\uff0c\u518d\u67e5\u627e\u81ea\u5df1\u7684 hosts \u6587\u4ef6\uff0c\u8fd8\u6ca1\u6709\u7684\u8bdd\u5c31\u627e DNS \u670d\u52a1\u5668\uff08\u8fd9\u4e2a DNS \u670d\u52a1\u5668\u5c31\u662f\u8ba1\u7b97\u673a\u91cc\u8bbe\u7f6e\u6307\u5411\u7684 DNS\uff09\u3002"),(0,l.kt)("li",{parentName:"ol"},"DNS \u670d\u52a1\u5668\u6536\u5230\u8be2\u95ee\u8bf7\u6c42\uff0c\u9996\u5148\u67e5\u770b\u81ea\u5df1\u662f\u5426\u6709 ",(0,l.kt)("a",{parentName:"li",href:"http://www.baidu.com"},"www.baidu.com"),' \u7684\u7f13\u5b58\uff0c\u5982\u679c\u6709\u5c31\u76f4\u63a5\u8fd4\u56de\u7ed9\u5ba2\u6237\u7aef\uff0c\u6ca1\u6709\u5c31\u8d8a\u7ea7\u4e0a\u8bbf\u5230\u6839\u57df "."\uff0c\u5e76\u8be2\u95ee\u6839\u57df\u3002'),(0,l.kt)("li",{parentName:"ol"},"\u6839\u57df\u770b\u5230\u662f\u627e .com \u57df\u7684\uff0c\u628a\u5230 .com \u57df\u7684\u8def(\u5730\u5740)\u544a\u8bc9 DNS \u670d\u52a1\u5668\uff0c\u8ba9 DNS \u670d\u52a1\u5668\u53bb\u627e .com \u8be2\u95ee\u3002"),(0,l.kt)("li",{parentName:"ol"},'DNS \u670d\u52a1\u5668\u53bb\u627e .com\uff0c".com" \u4e00\u770b\u662f\u81ea\u5df1\u8f96\u4e0b\u7684 baidu.com\uff0c\u5c31\u628a baidu.com \u7684 IP \u5730\u5740\u7ed9 DNS \u670d\u52a1\u5668\uff0c\u8ba9\u5b83\u53bb\u627e baidu.com\u3002'),(0,l.kt)("li",{parentName:"ol"},"DNS \u627e\u5230 baidu.com\uff0cbaidu.com \u53d1\u73b0 DNS \u670d\u52a1\u5668\u8981\u627e\u7684\u662f\u81ea\u5df1\u533a\u57df\u91cc\u7684 www \u4e3b\u673a\uff0c\u5c31\u628a\u8fd9\u4e2a\u4e3b\u673a IP \u5730\u5740\u7ed9\u4e86 DNS \u670d\u52a1\u5668\u3002"),(0,l.kt)("li",{parentName:"ol"},"DNS \u670d\u52a1\u5668\u628a\u5f97\u5230\u7684 ",(0,l.kt)("a",{parentName:"li",href:"http://www.baidu.com"},"www.baidu.com")," \u7684 IP \u7ed3\u679c\u544a\u8bc9\u5ba2\u6237\u7aef\uff0c\u5e76\u7f13\u5b58\u4e00\u4efd\u7ed3\u679c\u5728\u81ea\u5df1\u673a\u5668\u4e2d(\u9ed8\u8ba4\u4f1a\u7f13\u5b58\uff0c\u56e0\u4e3a\u8be5\u670d\u52a1\u5668\u5141\u8bb8\u4e3a\u5ba2\u6237\u7aef\u9012\u5f52\uff0c\u5426\u5219\u4e0d\u4f1a\u7f13\u5b58\u975e\u6743\u5a01\u6570\u636e)\u3002"),(0,l.kt)("li",{parentName:"ol"},"\u5ba2\u6237\u7aef\u5f97\u5230\u56de\u7b54\u7684 IP \u5730\u5740\u540e\u7f13\u5b58\u4e0b\u6765\uff0c\u5e76\u53bb\u8bbf\u95ee ",(0,l.kt)("a",{parentName:"li",href:"http://www.baidu.com%EF%BC%8C%E7%84%B6%E5%90%8E"},"www.baidu.com\uff0c\u7136\u540e")," ",(0,l.kt)("a",{parentName:"li",href:"http://www.baidu.com"},"www.baidu.com")," \u5c31\u628a\u9875\u9762\u5185\u5bb9\u53d1\u9001\u7ed9\u5ba2\u6237\u7aef\uff0c\u4e5f\u5c31\u662f\u767e\u5ea6\u9875\u9762\u3002")),(0,l.kt)("p",null,(0,l.kt)("em",{parentName:"p"},"\u6ce8\u610f\uff1a")),(0,l.kt)("ol",null,(0,l.kt)("li",{parentName:"ol"},(0,l.kt)("em",{parentName:"li"},'\u672c\u673a\u67e5\u627e\u5b8c\u7f13\u5b58\u540e\u5982\u679c\u6ca1\u6709\u7ed3\u679c\uff0c\u4f1a\u5148\u67e5\u627e hosts \u6587\u4ef6\uff0c\u5982\u679c\u6ca1\u6709\u627e\u5230\u518d\u628a\u67e5\u8be2\u53d1\u9001\u7ed9 DNS \u670d\u52a1\u5668\uff0c\u4f46\u8fd9\u4ec5\u4ec5\u662f\u9ed8\u8ba4\u60c5\u51b5\uff0c\u8fd9\u4e2a\u9ed8\u8ba4\u987a\u5e8f\u662f\u53ef\u4ee5\u6539\u53d8\u7684\u3002\u5728 /etc/nsswitch.conf \u4e2d\u6709\u4e00\u884c "hosts: files dns" \u5c31\u662f\u5b9a\u4e49\u5148\u67e5\u627e hosts \u6587\u4ef6\u8fd8\u662f\u5148\u63d0\u4ea4\u7ed9 DNS \u670d\u52a1\u5668\u7684\uff0c\u5982\u679c\u4fee\u6539\u8be5\u884c\u4e3a "hosts: dns files" \u5219\u5148\u63d0\u4ea4\u7ed9 DNS \u670d\u52a1\u5668\uff0c\u8fd9\u79cd\u60c5\u51b5\u4e0b hosts \u6587\u4ef6\u51e0\u4e4e\u5c31\u4e0d\u600e\u4e48\u7528\u7684\u4e0a\u4e86\u3002')),(0,l.kt)("li",{parentName:"ol"},(0,l.kt)("em",{parentName:"li"},"\u7531\u4e8e\u7f13\u5b58\u662f\u591a\u5c42\u6b21\u7f13\u5b58\u7684\uff0c\u6240\u4ee5\u771f\u6b63\u7684\u67e5\u8be2\u53ef\u80fd\u5e76\u6ca1\u6709\u90a3\u4e48\u591a\u6b65\u9aa4\uff0c\u4e0a\u56fe\u7684\u6b65\u9aa4\u662f\u5b8c\u5168\u6ca1\u6709\u6240\u9700\u7f13\u5b58\u7684\u67e5\u8be2\u60c5\u51b5\u3002\u5047\u5982\u67d0\u4e3b\u673a\u66fe\u7ecf\u5411 DNS \u670d\u52a1\u5668\u63d0\u4ea4\u4e86 ",(0,l.kt)("a",{parentName:"em",href:"http://www.baidu.com"},"www.baidu.com")," \u7684\u67e5\u8be2\uff0c\u90a3\u4e48\u5728 DNS \u670d\u52a1\u5668\u4e0a\u9664\u4e86\u7f13\u5b58\u4e86 ",(0,l.kt)("a",{parentName:"em",href:"http://www.baidu.com"},"www.baidu.com"),' \u7684\u8bb0\u5f55\uff0c\u8fd8\u7f13\u5b58\u4e86 ".com" \u548c "baidu.com" \u7684\u8bb0\u5f55\uff0c\u5982\u679c\u518d\u6709\u4e3b\u673a\u5411\u8be5 DNS \u670d\u52a1\u5668\u63d0\u4ea4 ftp.baidu.com \u7684\u67e5\u8be2\uff0c\u90a3\u4e48\u5c06\u8df3\u8fc7 "." \u548c ".com" \u7684\u67e5\u8be2\u8fc7\u7a0b\u76f4\u63a5\u5411 baidu.com \u53d1\u51fa\u67e5\u8be2\u8bf7\u6c42\u3002'))),(0,l.kt)("h3",{id:"515etcresolvconf-\u6587\u4ef6"},"5.1.5\u3001/etc/resolv.conf \u6587\u4ef6"),(0,l.kt)("p",null,"\u8fd9\u4e2a\u6587\u4ef6\u4e3b\u8981\u7528\u4e8e\u5b9a\u4e49 dns \u6307\u5411\uff0c\u5373\u67e5\u8be2\u4e3b\u673a\u540d\u65f6\u660e\u786e\u6307\u5b9a\u4f7f\u7528\u54ea\u4e2a dns \u670d\u52a1\u5668\u3002"),(0,l.kt)("p",null,'\u4f8b\u5982\u6587\u4ef6\u4e2d\u6307\u5b9a\u4e86 "nameserver 8.8.8.8"\uff0c\u5219\u6bcf\u5f53\u8981\u67e5\u8be2\u4e3b\u673a\u540d\u65f6\uff0c\u90fd\u4f1a\u5411 8.8.8.8 \u8fd9\u53f0 dns \u670d\u52a1\u5668\u53d1\u8d77\u9012\u5f52\u67e5\u8be2\uff0c\u8fd9\u53f0 dns \u670d\u52a1\u5668\u4f1a\u5e2e\u5fd9\u67e5\u627e\u5230\u6700\u7ec8\u7ed3\u679c\u5e76\u8fd4\u56de\u7ed9\u4f60\u3002'),(0,l.kt)("p",null,'\u5f53\u7136\uff0c\u5728\u540e\u6587\u7684\u5b9e\u9a8c\u6d4b\u8bd5\u8fc7\u7a0b\u4e2d\uff0c\u4f7f\u7528\u4e86\u53e6\u4e00\u79cd\u65b9\u5f0f\u6307\u5b9a\u8981\u4f7f\u7528\u7684 dns \u670d\u52a1\u5668\uff1adig \u547d\u4ee4\u4e2d\u4f7f\u7528 "@dns',"_",'server"\u3002'),(0,l.kt)("h2",{id:"52dns-\u672f\u8bed"},"5.2\u3001DNS \u672f\u8bed"),(0,l.kt)("h3",{id:"521\u9012\u5f52\u67e5\u8be2\u548c\u8fed\u4ee3\u67e5\u8be2"},"5.2.1\u3001\u9012\u5f52\u67e5\u8be2\u548c\u8fed\u4ee3\u67e5\u8be2"),(0,l.kt)("p",null,"\u4f8b\u5982 A \u4e3b\u673a\u8981\u67e5\u8be2 C \u57df\u4e2d\u7684\u4e00\u4e2a\u4e3b\u673a\uff0cA \u6240\u6307\u5411\u7684 DNS \u670d\u52a1\u5668\u4e3a B\uff0c\u9012\u5f52\u548c\u8fed\u4ee3\u67e5\u8be2\u7684\u65b9\u5f0f\u662f\u8fd9\u6837\u7684\uff1a"),(0,l.kt)("p",null,"\u9012\u5f52\u67e5\u8be2\uff1aA --\x3e B --\x3e C --\x3e B --\x3e A"),(0,l.kt)("p",null,"\u8fed\u4ee3\u67e5\u8be2\uff1aA --\x3e B A --\x3e C --\x3e A"),(0,l.kt)("p",null,"\u5c06\u9012\u5f52\u67e5\u8be2\u548c\u8fed\u4ee3\u67e5\u8be2\u7684\u65b9\u5f0f\u653e\u5230\u67e5\u8be2\u6d41\u7a0b\u4e2d\uff0c\u5c31\u5982\u4e0b\u56fe\u6240\u793a\u3002"),(0,l.kt)("p",null,(0,l.kt)("img",{alt:"dns recursive",src:a(11234).Z,width:"846",height:"400"})),(0,l.kt)("p",null,(0,l.kt)("strong",{parentName:"p"},"\u9012\u5f52"),"\u7684\u610f\u601d\u662f\u627e\u4e86\u8c01\u8c01\u5c31\u4e00\u5b9a\u8981\u7ed9\u51fa\u7b54\u6848\uff0c\u90a3\u4e48\u5141\u8bb8\u9012\u5f52\u7684\u610f\u601d\u5c31\u662f\u5e2e\u5fd9\u53bb\u627e\u4f4d\u7f6e\uff1b",(0,l.kt)("strong",{parentName:"p"},"\u8fed\u4ee3"),"\u5c31\u662f\u6211\u53ea\u6709\u4e0b\u4e00\u7ea7\u7684\u5730\u5740\u7ed9\u4f60\uff0c\u4f60\u95ee\u4ed6\u53bb\uff0c\u770b\u4e0b\u4e0b\u4e00\u7ea7\u600e\u4e48\u627e\u3002"),(0,l.kt)("ul",null,(0,l.kt)("li",{parentName:"ul"},"\u5982 A \u5bf9 B \u5141\u8bb8\u9012\u5f52\uff0c\u90a3\u4e48 B \u8be2\u95ee A \u65f6\uff0cA \u5c31\u53bb\u5e2e\u5fd9\u627e\u7b54\u6848\uff0c\u5373\u9012\u5f52\u67e5\u8be2\uff1b\u5982\u679c A \u4e0d\u5141\u8bb8\u5bf9 B \u9012\u5f52\uff0c\u90a3\u4e48 A \u5c31\u4f1a\u544a\u8bc9 B \u7684\u4e0b\u4e00\u5c42\u57df\u7684\u5730\u5740\u8ba9 B \u81ea\u5df1\u53bb\u627e\uff0c\u5373\u8fed\u4ee3\u67e5\u8be2\u3002")),(0,l.kt)("p",null,"\u53ef\u4ee5\u60f3\u8c61\uff0c\u5982\u679c\u6574\u4e2a\u57df\u7cfb\u7edf\u90fd\u4f7f\u7528\u9012\u5f52\u67e5\u8be2\uff0c\u90a3\u4e9b\u516c\u5171\u7684\u6839\u57df\u548c\u9876\u7ea7\u57df\u4f1a\u5fd9\u5230\u6b7b\uff0c\u56e0\u6b64\u66f4\u597d\u7684\u65b9\u6848\u5c31\u662f\u628a\u8fd9\u4e9b\u538b\u529b\u5206\u6563\u5230\u6bcf\u4e2a\u4e2a\u4eba\u5b9a\u5236\u7684 DNS \u670d\u52a1\u5668\u3002"),(0,l.kt)("p",null,"\u6240\u4ee5 DNS \u7684\u89e3\u6790\u6d41\u7a0b\u624d\u4f1a\u5982\u4e0b\u56fe\u3002\u5e76\u4e14\u5728\u5ba2\u6237\u7aef\u5230 DNS \u670d\u52a1\u5668\u7aef\u7684\u8fd9\u4e00\u9636\u6bb5\u662f\u9012\u5f52\u67e5\u8be2\uff0c\u4ece DNS \u670d\u52a1\u5668\u4e4b\u540e\u7684\u662f\u8fed\u4ee3\u67e5\u8be2\u3002\u4e5f\u5c31\u662f\u8bf4\uff0c\u9876\u7ea7\u57df\u548c\u6839\u57df\u51fa\u4e8e\u6027\u80fd\u7684\u8003\u8651\uff0c\u662f\u4e0d\u5141\u8bb8\u7ed9\u5176\u4ed6\u4efb\u4f55\u673a\u5668\u9012\u5f52\u7684\u3002"),(0,l.kt)("p",null,(0,l.kt)("img",{alt:"dns search1",src:a(93708).Z,width:"703",height:"566"})),(0,l.kt)("p",null,"\u4e3a\u4ec0\u4e48\u5ba2\u6237\u7aef\u5230 DNS \u670d\u52a1\u5668\u9636\u6bb5\u662f\u9012\u5f52\u67e5\u8be2\uff1f"),(0,l.kt)("ul",null,(0,l.kt)("li",{parentName:"ul"},"\u56e0\u4e3a\u5ba2\u6237\u7aef\u672c\u8eab\u4e0d\u662f DNS \u670d\u52a1\u5668\uff0c\u5b83\u81ea\u5df1\u662f\u627e\u4e0d\u5230\u4e92\u8054\u7f51\u4e0a\u7684\u57df\u540d\u5730\u5740\u7684\uff0c\u6240\u4ee5\u53ea\u80fd\u8be2\u95ee DNS \u670d\u52a1\u5668\uff0c\u6700\u540e\u4e00\u5b9a\u7531 DNS \u670d\u52a1\u5668\u6765\u8fd4\u56de\u7b54\u6848\uff1b"),(0,l.kt)("li",{parentName:"ul"},"\u56e0\u6b64 ",(0,l.kt)("strong",{parentName:"li"},"DNS \u670d\u52a1\u5668\u9700\u8981\u5bf9\u8fd9\u4e2a\u5ba2\u6237\u7aef\u5141\u8bb8\u9012\u5f52\u3002\u56e0\u6b64\uff0cdns \u89e3\u6790\u5668(nslookup\u3001host\u3001dig \u7b49) \u6240\u53d1\u51fa\u7684\u67e5\u8be2\u90fd\u662f\u9012\u5f52\u67e5\u8be2\u3002"))),(0,l.kt)("h3",{id:"522\u6743\u5a01\u670d\u52a1\u5668\u548c\u975e\u6743\u5a01\u5e94\u7b54"},"5.2.2\u3001\u6743\u5a01\u670d\u52a1\u5668\u548c","[","\u975e","]","\u6743\u5a01\u5e94\u7b54"),(0,l.kt)("p",null,(0,l.kt)("strong",{parentName:"p"},"\u6743\u5a01\u670d\u52a1\u5668\uff08\u6743\u5a01\u8005\uff09\u53ef\u4ee5\u7406\u89e3\u4e3a\u76f4\u63a5\u4e0a\u5c42\u57df\u7684 DNS \u670d\u52a1\u5668\u3002")),(0,l.kt)("p",null,"\u4f8b\u5982 ",(0,l.kt)("a",{parentName:"p",href:"http://www.baidu.com"},"www.baidu.com")," \u8fd9\u53f0\u4e3b\u673a\u7684\u4e0a\u5c42\u57df\u662f baidu.com\uff0c\u90a3\u4e48\u5bf9 www \u6765\u8bf4\uff0c\u5b83\u7684\u6743\u5a01\u670d\u52a1\u5668\u5c31\u662f baidu.com \u8fd9\u4e2a\u57df\u5185\u8d1f\u8d23\u89e3\u6790\u7684 DNS \u670d\u52a1\u5668\uff0c\u800c\u5bf9\u4e8e baidu.com \u8fd9\u4e2a\u4e3b\u673a\u6765\u8bf4\uff0c\u5b83\u7684\u6743\u5a01\u670d\u52a1\u5668\u662f .com \u8fd9\u4e2a\u57df\u8d1f\u8d23\u89e3\u6790\u7684 DNS \u670d\u52a1\u5668\u3002"),(0,l.kt)("p",null,"\u66f4\u5177\u4f53\u7684\u8bf4\uff0c\u67d0\u57df\u7684\u6743\u5a01\u670d\u52a1\u5668\u662f\u53ef\u4ee5\u76f4\u63a5\u67e5\u770b\u8be5\u57df\u6570\u636e(\u5373\u533a\u57df\u6570\u636e\u6587\u4ef6)\u7684 DNS \u670d\u52a1\u5668\uff0c\u4e3b\u3001\u4ece DNS \u670d\u52a1\u5668\u90fd\u662f\u6743\u5a01\u670d\u52a1\u5668\u3002"),(0,l.kt)("p",null,"\u53ea\u6709\u6743\u5a01\u670d\u52a1\u5668\u7ed9\u51fa\u7684\u5e94\u7b54\u624d\u662f\u6743\u5a01\u5e94\u7b54\uff0c\u5426\u5219\u5c31\u662f\u975e\u6743\u5a01\u5e94\u7b54\u3002\u4e3a\u4ec0\u4e48\u5462\uff1f\u56e0\u4e3a\u4e00\u4e2a\u57df\u4e2d\u6240\u6709\u7684\u4e3b\u673a\u90fd\u662f\u5728 DNS \u670d\u52a1\u5668\u4e2d\u7684\u533a\u57df\u6570\u636e\u6587\u4ef6\u4e2d\u8bb0\u5f55\u7684\uff0c\u5bf9\u4e8e\u4e3b\u673a\u6765\u8bf4\uff0c\u5b83\u4eec\u7684\u4f4d\u7f6e\u53ea\u6709\u76f4\u63a5\u4e0a\u5c42\u624d\u77e5\u9053\u5728\u54ea\u91cc\u3002"),(0,l.kt)("p",null,"\u56e0\u6b64\u5982\u679c\u89e3\u6790 ",(0,l.kt)("a",{parentName:"p",href:"http://www.baidu.com"},"www.baidu.com")," \u65f6\u8981\u83b7\u5f97\u6743\u5a01\u5e94\u7b54\uff0c\u5e94\u8be5\u5c06 DNS \u6307\u5411 baidu.com \u8fd9\u4e2a\u57df\u5185\u8d1f\u8d23\u89e3\u6790\u7684 DNS \u670d\u52a1\u5668\u3002"),(0,l.kt)("p",null,"\u53ea\u6709\u6743\u5a01\u670d\u52a1\u5668\u76f4\u63a5\u7ed9\u51fa\u7684\u7b54\u6848\u624d\u662f\u6c38\u8fdc\u6b63\u786e\u7684\uff0c\u901a\u8fc7\u7f13\u5b58\u5f97\u5230\u7684\u7b54\u6848\u57fa\u672c\u90fd\u662f\u975e\u6743\u5a01\u5e94\u7b54\u3002\u5f53\u7136\u8fd9\u4e0d\u662f\u4e00\u5b9a\u7684\uff0c\u56e0\u4e3a\u6743\u5a01\u670d\u52a1\u5668\u7ed9\u7684\u7b54\u6848\u4e5f\u662f\u7f13\u5b58\u4e2d\u7684\u7ed3\u679c\uff0c\u4f46\u662f\u8fd9\u662f\u6743\u5a01\u7b54\u6848\u3002DNS \u670d\u52a1\u5668\u7f13\u5b58\u89e3\u6790\u7684\u6570\u636e\u5e93\u65f6\u95f4\u957f\u5ea6\u662f\u7531\u6743\u5a01\u670d\u52a1\u5668\u51b3\u5b9a\u7684\u3002"),(0,l.kt)("h3",{id:"523dns-\u7f13\u5b58"},"5.2.3\u3001DNS \u7f13\u5b58"),(0,l.kt)("p",null,"\u5728 Client \u548c DNS \u670d\u52a1\u5668\u8fd9\u4e9b\u4e2a\u4eba\u8ba2\u5236\u7684 DNS \u89e3\u6790\u7cfb\u7edf\u4e2d\u90fd\u4f1a\u4f7f\u7528\u7f13\u5b58\u6765\u52a0\u901f\u89e3\u6790\u4ee5\u51cf\u5c11\u7f51\u7edc\u6d41\u91cf\u548c\u67e5\u8be2\u538b\u529b\uff0c\u5c31\u7b97\u662f\u89e3\u6790\u4e0d\u5230\u7684\u5426\u5b9a\u7b54\u6848\u4e5f\u4f1a\u7f13\u5b58\u3002"),(0,l.kt)("p",null,"\u4f46\u662f\u8981\u8bbf\u95ee\u7684\u4e3b\u673a IP \u53ef\u80fd\u4f1a\u6539\u53d8\uff0c\u6240\u6709\u4f7f\u7528\u7f13\u5b58\u5f97\u5230\u7684\u7b54\u6848\u4e0d\u4e00\u5b9a\u662f\u5bf9\u7684\uff0c\u56e0\u6b64\u7f13\u5b58\u7ed9\u7684\u7b54\u6848\u662f\u975e\u6743\u5a01\u7684\uff0c\u53ea\u6709\u5bf9\u65b9\u4e3b\u673a\u7684\u4e0a\u4e00\u7ea7\u7ed9\u7684\u7b54\u6848\u624d\u662f\u6743\u5a01\u7b54\u6848\u3002\u7f13\u5b58\u7ed9\u7684\u975e\u6743\u5a01\u7b54\u6848\u5e94\u8be5\u8bbe\u5b9a\u7f13\u5b58\u65f6\u95f4\uff0c\u8fd9\u4e2a\u7f13\u5b58\u65f6\u95f4\u7684\u957f\u77ed\u7531\u6743\u5a01\u8005\u6307\u5b9a\u3002"),(0,l.kt)("p",null,"\u53e6\u5916\u8bbf\u95ee\u67d0\u4e2a\u57df\u4e0b\u6839\u672c\u4e0d\u5b58\u5728\u7684\u4e3b\u673a\uff0c\u8fd9\u4e2a\u57df\u7684 DNS \u670d\u52a1\u5668\u4e5f\u4f1a\u7ed9\u51fa\u7b54\u6848\uff0c\u4f46\u662f\u8fd9\u662f\u5426\u5b9a\u7b54\u6848\uff0c\u5426\u5b9a\u7b54\u6848\u4e5f\u4f1a\u7f13\u5b58\uff0c\u5e76\u4e14\u6709\u7f13\u5b58\u65f6\u95f4\u3002"),(0,l.kt)("ul",null,(0,l.kt)("li",{parentName:"ul"},"\u4f8b\u5982\u67d0\u4e2a Client \u8bf7\u6c42 51cto.com \u57df\u4e0b\u7684 ftp \u4e3b\u673a\uff0c\u4f46\u662f\u5b9e\u9645\u4e0a 51cto.com \u4e0b\u9762\u53ef\u80fd\u6839\u672c\u6ca1\u6709\u8fd9\u4e2a ftp \u4e3b\u673a\uff0c\u90a3\u4e48 51cto.com \u5c31\u4f1a\u7ed9\u5426\u5b9a\u7b54\u6848\uff0c\u4e3a\u4e86\u9632\u6b62 Client \u4e0d\u6b7b\u5fc3\u7684\u8bbf\u95ee ftp \u641e\u7834\u574f\uff0c51cto.com \u8fd9\u4e2a\u57df\u8d1f\u8d23\u89e3\u6790\u7684 DNS \u670d\u52a1\u5668\u6709\u5fc5\u8981\u7ed9 Client \u6307\u5b9a\u5426\u5b9a\u7b54\u6848\u7684\u7f13\u5b58\u65f6\u95f4\u3002")),(0,l.kt)("h3",{id:"524\u4e3b\u4ece-dns-\u670d\u52a1\u5668"},"5.2.4\u3001\u4e3b\u3001\u4ece dns \u670d\u52a1\u5668"),(0,l.kt)("p",null,"dns \u670d\u52a1\u5668\u4e5f\u79f0\u4e3a name server\uff0c\u6bcf\u4e2a\u57df\u90fd\u5fc5\u987b\u6709 dns \u670d\u52a1\u5668\u8d1f\u8d23\u8be5\u57df\u76f8\u5173\u6570\u636e\u7684\u89e3\u6790\u3002"),(0,l.kt)("p",null,"\u4f46 dns \u670d\u52a1\u5668\u8981\u8d1f\u8d23\u6574\u4e2a\u57df\u7684\u6570\u636e\u89e3\u6790\uff0c\u538b\u529b\u76f8\u5bf9\u6765\u8bf4\u662f\u6bd4\u8f83\u5927\u7684\uff0c\u4e14\u4e00\u65e6\u51fa\u73b0\u95ee\u9898\uff0c\u6574\u4e2a\u57df\u90fd\u5d29\u6e83\u65e0\u6cd5\u5411\u5916\u63d0\u4f9b\u670d\u52a1\uff0c\u8fd9\u662f\u975e\u5e38\u4e25\u91cd\u7684\u4e8b\u3002"),(0,l.kt)("p",null,"\u6240\u4ee5\uff0c\u65e0\u8bba\u662f\u51fa\u4e8e\u8d1f\u8f7d\u5747\u8861\u8fd8\u662f\u57df\u6570\u636e\u5b89\u5168\u53ef\u7528\u7684\u8003\u8651\uff0c\u4e24\u53f0 dns \u670d\u52a1\u5668\u5df2\u7ecf\u662f\u6700\u4f4e\u8981\u6c42\u4e86\uff0c\u591a\u6570\u65f6\u5019\u5e94\u8be5\u914d\u7f6e\u591a\u53f0 dns \u670d\u52a1\u5668\u3002"),(0,l.kt)("p",null,"\u591a\u53f0 dns \u670d\u52a1\u5668\u4e4b\u95f4\u6709\u4e3b\u6b21\u4e4b\u5206\uff0c\u4e3b dns \u670d\u52a1\u5668\u79f0\u4e3a master\uff0c\u4ece dns \u670d\u52a1\u5668\u79f0\u4e3a slave\u3002slave \u4e0a\u7684\u57df\u6570\u636e\u90fd\u662f\u4ece master \u4e0a\u83b7\u53d6\u7684\uff0c\u8fd9\u6837 slave \u548c master \u5c31\u90fd\u80fd\u5411\u5916\u63d0\u4f9b\u540d\u79f0\u89e3\u6790\u670d\u52a1\u3002"),(0,l.kt)("h3",{id:"525\u8d44\u6e90\u8bb0\u5f55"},"5.2.5\u3001\u8d44\u6e90\u8bb0\u5f55"),(0,l.kt)("p",null,"\u5bf9\u4e8e\u63d0\u4f9b DNS \u670d\u52a1\u7684\u7cfb\u7edf(DNS \u670d\u52a1\u5668)\uff0c\u57df\u540d\u76f8\u5173\u7684\u6570\u636e\u90fd\u9700\u8981\u5b58\u50a8\u5728\u6587\u4ef6(\u533a\u57df\u6570\u636e\u6587\u4ef6)\u4e2d\u3002\u8fd9\u4e9b\u6570\u636e\u5206\u4e3a\u591a\u79cd\u7c7b\u522b\uff0c\u6bcf\u79cd\u7c7b\u522b\u5b58\u50a8\u5728\u5bf9\u5e94\u7684\u8d44\u6e90\u8bb0\u5f55(resource record\uff0cRR)\u4e2d\u3002\u4e5f\u5c31\u662f\u8bf4\uff0c\u8d44\u6e90\u8bb0\u5f55\u65e2\u7528\u6765\u533a\u5206\u57df\u6570\u636e\u7684\u7c7b\u578b\uff0c\u4e5f\u7528\u6765\u5b58\u50a8\u5bf9\u5e94\u7684\u57df\u6570\u636e\u3002"),(0,l.kt)("p",null,"DNS \u7684 internet \u7c7b\u4e2d\u6709\u975e\u5e38\u591a\u7684\u8d44\u6e90\u8bb0\u5f55\u7c7b\u578b\u3002\u5e38\u7528\u7684\u662f SOA \u8bb0\u5f55\u3001NS \u8bb0\u5f55\u3001A \u8bb0\u5f55(IPV6 \u5219\u4e3a AAAA \u8bb0\u5f55)\u3001PTR \u8bb0\u5f55\u3001CNAME \u8bb0\u5f55\u3001MX \u8bb0\u5f55\u7b49\u3002"),(0,l.kt)("ol",null,(0,l.kt)("li",{parentName:"ol"},(0,l.kt)("p",{parentName:"li"},(0,l.kt)("strong",{parentName:"p"},'SOA \u8bb0\u5f55\uff1astart of authority\uff0c\u8d77\u59cb\u6388\u6743\u673a\u6784\u3002\u8be5\u8bb0\u5f55\u5b58\u50a8\u4e86\u4e00\u7cfb\u5217\u6570\u636e\uff0c\u82e5\u4e0d\u660e\u767d SOA \u8bb0\u5f55\uff0c\u8bf7\u7ed3\u5408\u4e0b\u9762\u7684 NS \u8bb0\u5f55\uff0cSOA \u66f4\u591a\u7684\u4fe1\u606f\u89c1 "\u5b50\u57df" \u90e8\u5206\u7684\u5185\u5bb9\u3002\u683c\u5f0f\u5982\u4e0b\uff1a')),(0,l.kt)("pre",{parentName:"li"},(0,l.kt)("code",{parentName:"pre",className:"language-bash"},"brinnatt.com.      IN  SOA dnsserver.brinnatt.com.    mail.brinnatt.com. (\n                               1     \n                               3h    \n                               1h    \n                               1w    \n                               1h )\n")),(0,l.kt)("ul",{parentName:"li"},(0,l.kt)("li",{parentName:"ul"},'\u7b2c\u56db\u5217\u6307\u5b9a\u4e86 "dnsserver.brinnatt.com." \u4e3a\u8be5\u57df\u7684 master DNS \u670d\u52a1\u5668\u3002\n'),(0,l.kt)("li",{parentName:"ul"},"\u7b2c\u4e94\u5217\u662f\u8be5\u57df\u7684\u7ba1\u7406\u5458\u90ae\u7bb1\u5730\u5740\uff0c\u4f46\u6ce8\u610f\u4e0d\u80fd\u4f7f\u7528 ",(0,l.kt)("inlineCode",{parentName:"li"},"@")," \u683c\u5f0f\u7684\u90ae\u7bb1\uff0c\u800c\u662f\u8981\u5c06 ",(0,l.kt)("inlineCode",{parentName:"li"},"@"),' \u7b26\u53f7\u66ff\u6362\u4e3a\u70b9 "."\uff0c\u6b63\u5982\u4e0a\u9762\u7684\u4f8b\u5b50 "mail.brinnatt.com."\uff0c\u5176\u5b9e\u9645\u8868\u793a\u7684\u662f "',(0,l.kt)("a",{parentName:"li",href:"mailto:mail@brinnatt.com"},"mail@brinnatt.com"),'"\u3002\n'),(0,l.kt)("li",{parentName:"ul"},"\u7b2c\u516d\u5217\u4f7f\u7528\u62ec\u53f7\u5c06\u51e0\u4e2a\u503c\u5305\u56f4\u8d77\u6765\u3002",(0,l.kt)("ul",{parentName:"li"},(0,l.kt)("li",{parentName:"ul"},(0,l.kt)("p",{parentName:"li"},"\u7b2c\u4e00\u4e2a\u503c\u662f\u533a\u57df\u6570\u636e\u6587\u4ef6\u7684\u5e8f\u5217\u7f16\u53f7 serial\uff0c\u6bcf\u6b21\u4fee\u6539\u6b64\u533a\u57df\u6570\u636e\u6587\u4ef6\u90fd\u9700\u8981\u4fee\u6539\u8be5\u7f16\u53f7\u503c\u4ee5\u4fbf\u8ba9 slave dns \u670d\u52a1\u5668\u540c\u6b65\u8be5\u533a\u57df\u6570\u636e\u6587\u4ef6\u3002\n")),(0,l.kt)("li",{parentName:"ul"},(0,l.kt)("p",{parentName:"li"},"\u7b2c\u4e8c\u4e2a\u503c\u662f\u5237\u65b0 refresh \u65f6\u95f4\u95f4\u9694\uff0c\u8868\u793a slave dns \u670d\u52a1\u5668\u627e master dns \u670d\u52a1\u5668\u66f4\u65b0\u533a\u57df\u6570\u636e\u6587\u4ef6\u7684\u65f6\u95f4\u95f4\u9694\u3002\n")),(0,l.kt)("li",{parentName:"ul"},(0,l.kt)("p",{parentName:"li"},"\u7b2c\u4e09\u4e2a\u503c\u662f\u91cd\u8bd5 retry \u65f6\u95f4\u95f4\u9694\uff0c\u8868\u793a slave dns \u670d\u52a1\u5668\u627e master dns \u670d\u52a1\u5668\u66f4\u65b0\u533a\u57df\u6570\u636e\u6587\u4ef6\u65f6\uff0c\u5982\u679c\u8054\u7cfb\u4e0d\u4e0a master\uff0c\u5219\u7b49\u5f85\u591a\u4e45\u518d\u91cd\u8bd5\u8054\u7cfb\uff0c\u8be5\u503c\u4e00\u822c\u6bd4 refresh \u65f6\u95f4\u77ed\uff0c\u5426\u5219\u8be5\u503c\u8868\u793a\u7684\u91cd\u8bd5\u5c31\u5931\u53bb\u4e86\u610f\u4e49\u3002\n")),(0,l.kt)("li",{parentName:"ul"},(0,l.kt)("p",{parentName:"li"},"\u7b2c\u56db\u4e2a\u503c\u662f\u8fc7\u671f expire \u65f6\u95f4\u503c\uff0c\u8868\u793a slave dns \u670d\u52a1\u5668\u4e0a\u7684\u533a\u57df\u6570\u636e\u6587\u4ef6\u591a\u4e45\u8fc7\u671f\u3002\n")),(0,l.kt)("li",{parentName:"ul"},(0,l.kt)("p",{parentName:"li"},"\u7b2c\u4e94\u4e2a\u503c\u662f negative ttl\uff0c\u8868\u793a\u5ba2\u6237\u7aef\u627e dns \u670d\u52a1\u5668\u89e3\u6790\u65f6\uff0c\u5426\u5b9a\u7b54\u6848\u7684\u7f13\u5b58\u65f6\u95f4\u957f\u5ea6\u3002\n")),(0,l.kt)("li",{parentName:"ul"},(0,l.kt)("p",{parentName:"li"},"\u8fd9\u51e0\u4e2a\u503c\u53ef\u4ee5\u5206\u884c\u5199\uff0c\u4e5f\u53ef\u4ee5\u76f4\u63a5\u5199\u5728\u540c\u4e00\u884c\u4e2d\u4f7f\u7528\u7a7a\u683c\u5206\u5f00\uff0c\u6240\u4ee5\uff0c\u4e0a\u9762\u7684 SOA \u8bb0\u5f55\u53ef\u4ee5\u5199\u6210\u5982\u4e0b\u683c\u5f0f\uff1a"),(0,l.kt)("pre",{parentName:"li"},(0,l.kt)("code",{parentName:"pre",className:"language-bash"},"brinnatt.com.   IN  SOA dnsserver.brinnatt.com.   mail.brinnatt.com. ( 1 3h 1h 1w 1h )\n"))))),(0,l.kt)("li",{parentName:"ul"},'\u524d\u4e09\u5217\u662f\u58f0\u660e\u6027\u7684\u8bed\u53e5\uff0c\u8868\u793a "brinnatt.com." \u8fd9\u4e2a\u57df\u5185\u7684\u8d77\u59cb\u6388\u6743\u673a\u6784\u4e3a\u7b2c\u56db\u5217\u7684\u503c "dnsserver.brinnatt.com." \u6240\u8868\u793a\u7684\u4e3b\u673a\u3002\u7b2c\u4e94\u5217\u548c\u7b2c\u516d\u5217\u662f SOA \u7684\u9644\u52a0\u5c5e\u6027\u6570\u636e\u3002\n'),(0,l.kt)("li",{parentName:"ul"},"\u6bcf\u4e2a\u533a\u57df\u6570\u636e\u6587\u4ef6\u4e2d\u90fd\u6709\u4e14\u4ec5\u80fd\u6709\u4e00\u4e2a SOA \u8bb0\u5f55\uff0c\u4e14\u4e00\u822c\u90fd\u5b9a\u4e49\u4e3a\u533a\u57df\u6570\u636e\u6587\u4ef6\u4e2d\u7684\u8d44\u6e90\u8bb0\u5f55\u3002\n"),(0,l.kt)("li",{parentName:"ul"},(0,l.kt)("em",{parentName:"li"},"\u6ce8\u610f\uff1a\u8d44\u6e90\u8bb0\u5f55\u7684\u4f5c\u7528\u4e4b\u4e00\u662f\u5b58\u50a8\u57df\u76f8\u5173\u7684\u5bf9\u5e94\u6570\u636e\uff0c\u6240\u4ee5\u7b2c 4\u30015\u30016 \u5217\u8868\u793a\u7684\u662f\u8be5 SOA \u8bb0\u5f55\u6240\u5b58\u50a8\u7684\u76f8\u5173\u503c\u3002")))),(0,l.kt)("li",{parentName:"ol"},(0,l.kt)("p",{parentName:"li"},(0,l.kt)("strong",{parentName:"p"},"NS \u8bb0\u5f55\uff1aname server\uff0c\u5b58\u50a8\u7684\u662f\u8be5\u57df\u5185\u7684 dns \u670d\u52a1\u5668\u76f8\u5173\u4fe1\u606f\u3002\u5373 NS \u8bb0\u5f55\u6807\u8bc6\u4e86\u54ea\u53f0\u670d\u52a1\u5668\u662f DNS \u670d\u52a1\u5668\u3002\u683c\u5f0f\u5982\u4e0b\uff1a")),(0,l.kt)("pre",{parentName:"li"},(0,l.kt)("code",{parentName:"pre",className:"language-bash"},"brinnatt.com.    IN  NS  dnsserver.brinnatt.com.\n")),(0,l.kt)("ul",{parentName:"li"},(0,l.kt)("li",{parentName:"ul"},'\u524d\u4e09\u5217\u4ecd\u7136\u662f\u58f0\u660e\u6027\u8bed\u53e5\uff0c\u8868\u793a "brinnatt.com." \u57df\u5185\u7684 DNS \u670d\u52a1\u5668(name server)\u4e3a\u7b2c\u56db\u5217\u503c\u6240\u8868\u793a\u7684 "dnsserver.brinnatt.com." \u4e3b\u673a\u3002\n'),(0,l.kt)("li",{parentName:"ul"},"\u5982\u679c\u4e00\u4e2a\u57df\u5185\u6709\u591a\u4e2a dns \u670d\u52a1\u5668\uff0c\u5219\u5fc5\u7136\u6709\u4e3b\u6b21\u4e4b\u5206\uff0c\u5373 master \u548c slave \u4e4b\u5206\u3002\u4f46\u5728 NS \u8bb0\u5f55\u4e0a\u5e76\u4e0d\u80fd\u4f53\u73b0\u4e3b\u6b21\u5173\u7cfb\u3002\u4f8b\u5982\uff1a",(0,l.kt)("pre",{parentName:"li"},(0,l.kt)("code",{parentName:"pre",className:"language-bash"},"brinnatt.com.    IN  NS  dnsserver1.brinnatt.com.\nbrinnatt.com.    IN  NS  dnsserver2.brinnatt.com.\n")),(0,l.kt)("ul",{parentName:"li"},(0,l.kt)("li",{parentName:"ul"},'\u8868\u793a\u4e3b\u673a "dnsserver1.brinnatt.com." \u548c\u4e3b\u673a "dnsserver2.brinnatt.com." \u90fd\u662f\u57df "brinnatt.com." \u5185\u7684 dns \u670d\u52a1\u5668\uff0c\u4f46\u6ca1\u6709\u533a\u5206\u51fa\u4e3b\u6b21 dns \u670d\u52a1\u5668\u3002')))),(0,l.kt)("p",{parentName:"li"},"\u4e0d\u5c11\u670b\u53cb\u641e\u4e0d\u61c2 SOA \u8bb0\u5f55\uff0c\u4e5f\u5f88\u5bb9\u6613\u6df7\u6dc6 SOA \u548c NS \u8bb0\u5f55\u3002\u5176\u5b9e\uff0c\u4ec5\u5c31\u5b83\u4eec\u7684\u4e3b\u8981\u4f5c\u7528\u800c\u8a00\uff0cNS \u8bb0\u5f55\u4ec5\u4ec5\u53ea\u662f\u58f0\u660e\u8be5\u57df\u5185\u54ea\u53f0\u4e3b\u673a\u662f dns \u670d\u52a1\u5668\uff0c\u7528\u6765\u63d0\u4f9b\u540d\u79f0\u89e3\u6790\u670d\u52a1\uff0cNS \u8bb0\u5f55\u4e0d\u4f1a\u533a\u5206\u54ea\u53f0 dns \u670d\u52a1\u5668\u662f master \u54ea\u53f0 dns \u670d\u52a1\u5668\u662f slave\u3002"),(0,l.kt)("p",{parentName:"li"},'\u800c SOA \u8bb0\u5f55\u5219\u7528\u4e8e\u6307\u5b9a\u54ea\u4e2a NS \u8bb0\u5f55\u5bf9\u5e94\u7684\u4e3b\u673a\u662f master dns \u670d\u52a1\u5668\uff0c\u4e5f\u5c31\u662f\u4ece\u591a\u4e2a dns \u670d\u52a1\u5668\u4e2d\u6311\u9009\u4e00\u53f0\u4efb\u547d\u5176\u4e3a\u8be5\u57df\u5185\u7684 master dns \u670d\u52a1\u5668\uff0c\u5176\u4ed6\u7684\u90fd\u662f slave\uff0c\u90fd\u9700\u8981\u4ece master \u4e0a\u83b7\u53d6\u57df\u76f8\u5173\u6570\u636e\u3002\u7531\u6b64\uff0cSOA \u7684\u540d\u79f0 "\u8d77\u59cb\u6388\u6743\u673a\u6784" \u6240\u8868\u793a\u7684\u610f\u601d\u4e5f\u5c31\u5bb9\u6613\u7406\u89e3\u4e86\u3002')),(0,l.kt)("li",{parentName:"ol"},(0,l.kt)("p",{parentName:"li"},(0,l.kt)("strong",{parentName:"p"},"A \u8bb0\u5f55\uff1aaddress\uff0c\u5b58\u50a8\u7684\u662f\u57df\u5185\u4e3b\u673a\u540d\u6240\u5bf9\u5e94\u7684 ip \u5730\u5740\u3002\u683c\u5f0f\u5982\u4e0b\uff1a")),(0,l.kt)("pre",{parentName:"li"},(0,l.kt)("code",{parentName:"pre",className:"language-bash"},"dnsserver.brinnatt.com.    IN  A   172.16.100.11\n")),(0,l.kt)("ul",{parentName:"li"},(0,l.kt)("li",{parentName:"ul"},"\u5ba2\u6237\u7aef\u4e4b\u6240\u4ee5\u80fd\u591f\u89e3\u6790\u5230\u4e3b\u673a\u540d\u5bf9\u5e94\u7684 ip \u5730\u5740\uff0c\u5c31\u662f\u56e0\u4e3a dns \u670d\u52a1\u5668\u4e2d\u7684\u6709 A \u8bb0\u5f55\u5b58\u50a8\u4e86\u4e3b\u673a\u540d\u548c ip \u7684\u5bf9\u5e94\u5173\u7cfb\u3002"),(0,l.kt)("li",{parentName:"ul"},"AAAA \u8bb0\u5f55\u5b58\u50a8\u7684\u662f\u4e3b\u673a\u540d\u548c ipv6 \u5730\u5740\u7684\u5bf9\u5e94\u5173\u7cfb\u3002"))),(0,l.kt)("li",{parentName:"ol"},(0,l.kt)("p",{parentName:"li"},(0,l.kt)("strong",{parentName:"p"},"PTR \u8bb0\u5f55\uff1apointer\uff0c\u548c A \u8bb0\u5f55\u76f8\u53cd\uff0c\u5b58\u50a8\u7684\u662f ip \u5730\u5740\u5bf9\u5e94\u7684\u4e3b\u673a\u540d\uff0c\u8be5\u8bb0\u5f55\u53ea\u5b58\u5728\u4e8e\u53cd\u5411\u89e3\u6790\u7684\u533a\u57df\u6570\u636e\u6587\u4ef6\u4e2d(\u5e76\u975e\u4e00\u5b9a)\u3002\u683c\u5f0f\u5982\u4e0b\uff1a")),(0,l.kt)("pre",{parentName:"li"},(0,l.kt)("code",{parentName:"pre",className:"language-bash"},"12.100.16.172.in-addr.arpa.  IN  PTR  www.brinnatt.com.\n")),(0,l.kt)("ul",{parentName:"li"},(0,l.kt)("li",{parentName:"ul"},'\u8868\u793a\u89e3\u6790 172.16.100.12 \u5730\u5740\u65f6\u5f97\u5230\u4e3b\u673a\u540d "',(0,l.kt)("a",{parentName:"li",href:"http://www.brinnatt.com.%22"},'www.brinnatt.com."')," \u7684\u7ed3\u679c\u3002"))),(0,l.kt)("li",{parentName:"ol"},(0,l.kt)("p",{parentName:"li"},(0,l.kt)("strong",{parentName:"p"},"CNAME \u8bb0\u5f55\uff1acanonical name\uff0c\u8868\u793a\u89c4\u8303\u540d\u7684\u610f\u601d\uff0c\u5176\u6240\u4ee3\u8868\u7684\u8bb0\u5f55\u5e38\u79f0\u4e3a\u522b\u540d\u8bb0\u5f55\u3002\u4e4b\u6240\u4ee5\u5982\u6b64\u79f0\u547c\uff0c\u5c31\u662f\u56e0\u4e3a\u4e3a\u89c4\u8303\u540d\u8d77\u4e86\u4e00\u4e2a\u522b\u540d\u3002\u4ec0\u4e48\u662f\u89c4\u8303\u540d\uff1f\u53ef\u4ee5\u7b80\u5355\u8ba4\u4e3a\u662f fqdn\u3002\u683c\u5f0f\u5982\u4e0b\uff1a")),(0,l.kt)("pre",{parentName:"li"},(0,l.kt)("code",{parentName:"pre",className:"language-bash"},"www1.brinnatt.com.     IN  CNAME  www.brinnatt.com.\n")),(0,l.kt)("ul",{parentName:"li"},(0,l.kt)("li",{parentName:"ul"},'\u6700\u540e\u4e00\u5217\u5c31\u662f\u89c4\u8303\u540d\uff0c\u800c\u7b2c\u4e00\u5217\u662f\u89c4\u8303\u540d\u5373\u6700\u540e\u4e00\u5217\u7684\u522b\u540d\u3002\u5f53\u67e5\u8be2 "www1.brinnatt.com."\uff0cdns \u670d\u52a1\u5668\u4f1a\u627e\u5230\u5b83\u7684\u89c4\u8303\u540d "',(0,l.kt)("a",{parentName:"li",href:"http://www.brinnatt.com.%22%EF%BC%8C%E7%84%B6%E5%90%8E%E5%86%8D%E6%9F%A5%E8%AF%A2%E8%A7%84%E8%8C%83%E5%90%8D%E7%9A%84"},'www.brinnatt.com."\uff0c\u7136\u540e\u518d\u67e5\u8be2\u89c4\u8303\u540d\u7684')," A \u8bb0\u5f55\uff0c\u4e5f\u5c31\u83b7\u5f97\u4e86\u5bf9\u5e94\u7684 IP \u5730\u5740\u5e76\u8fd4\u56de\u7ed9\u5ba2\u6237\u7aef\u3002"),(0,l.kt)("li",{parentName:"ul"},"CNAME \u8bb0\u5f55\u975e\u5e38\u91cd\u8981\uff0c\u5f88\u591a\u65f6\u5019\u4f7f\u7528 CNAME \u53ef\u4ee5\u89e3\u51b3\u5f88\u590d\u6742\u7684\u95ee\u9898\u3002\u800c\u4e14\u76ee\u524d\u5e38\u7528\u7684 CDN \u6280\u672f\u6709\u4e00\u4e2a\u6b65\u9aa4\u5c31\u662f\u5728 dns \u670d\u52a1\u5668\u4e0a\u8bbe\u7f6e CNAME \u8bb0\u5f55\uff0c\u5c06\u5ba2\u6237\u7aef\u5bf9\u8d44\u6e90\u7684\u8bf7\u6c42\u5f15\u5bfc\u5230\u4e0e\u5b83\u540c\u7f51\u7edc\u73af\u5883(\u7535\u4fe1\u3001\u7f51\u901a)\u4ee5\u53ca\u5730\u7406\u4f4d\u7f6e\u8fd1\u7684\u7f13\u5b58\u670d\u52a1\u5668\u4e0a\u3002"))),(0,l.kt)("li",{parentName:"ol"},(0,l.kt)("p",{parentName:"li"},"MX \u8bb0\u5f55\uff1amail exchanger\uff0c\u90ae\u4ef6\u4ea4\u6362\u8bb0\u5f55\u3002\u8d1f\u8d23\u8f6c\u53d1\u6216\u5904\u7406\u8be5\u57df\u540d\u5185\u7684\u90ae\u4ef6\u3002"))),(0,l.kt)("p",null,"\u5173\u4e8e\u8d44\u6e90\u8bb0\u5f55\uff0c\u6700\u9700\u8981\u660e\u786e\u7684\u6982\u5ff5\u5c31\u662f\u5b83\u4e0d\u4ec5\u4ec5\u7528\u6765\u533a\u5206\u548c\u6807\u8bc6\u533a\u57df\u6570\u636e\u7684\u7c7b\u578b\uff0c\u8fd8\u7528\u6765\u5b58\u50a8\u5bf9\u5e94\u7684\u57df\u6570\u636e\u3002"),(0,l.kt)("h2",{id:"53\u5b89\u88c5-dns"},"5.3\u3001\u5b89\u88c5 DNS"),(0,l.kt)("p",null,"Linux \u4e0a\u642d\u5efa DNS \u670d\u52a1\u7684\u8f6f\u4ef6\u6709 bind9\u3001NSD(Name server domain) \u548c unbound\uff0c\u5176\u4e2d bind9 \u662f\u5e02\u573a\u5360\u6709\u7387\u6700\u9ad8\u7684\u8f6f\u4ef6\u3002\u672c\u6587\u4e5f\u4ee5\u6b64\u8f6f\u4ef6\u6765\u4ecb\u7ecd DNS \u670d\u52a1\u3002"),(0,l.kt)("pre",null,(0,l.kt)("code",{parentName:"pre",className:"language-bash"},"[root@arm64v8 ~]# yum install bind -y\n")),(0,l.kt)("p",null,"\u4ee5\u4e0b\u662f bind \u751f\u6210\u7684\u547d\u4ee4\u7a0b\u5e8f\u3002"),(0,l.kt)("pre",null,(0,l.kt)("code",{parentName:"pre",className:"language-bash"},"[root@arm64v8 ~]# rpm -ql bind | grep sbin\n/usr/sbin/arpaname\n/usr/sbin/ddns-confgen\n/usr/sbin/dnssec-checkds\n/usr/sbin/dnssec-coverage\n/usr/sbin/dnssec-dsfromkey\n/usr/sbin/dnssec-importkey\n/usr/sbin/dnssec-keyfromlabel\n/usr/sbin/dnssec-keygen\n/usr/sbin/dnssec-keymgr\n/usr/sbin/dnssec-revoke\n/usr/sbin/dnssec-settime\n/usr/sbin/dnssec-signzone\n/usr/sbin/dnssec-verify\n/usr/sbin/genrandom\n/usr/sbin/isc-hmac-fixup\n/usr/sbin/lwresd\n/usr/sbin/named\n/usr/sbin/named-checkconf\n/usr/sbin/named-checkzone\n/usr/sbin/named-compilezone\n/usr/sbin/named-journalprint\n/usr/sbin/nsec3hash\n/usr/sbin/rndc\n/usr/sbin/rndc-confgen\n[root@arm64v8 ~]#\n")),(0,l.kt)("ul",null,(0,l.kt)("li",{parentName:"ul"},"\u5176\u4e2d named \u662f\u63d0\u4f9b DNS \u670d\u52a1\u7684\u4e3b\u7a0b\u5e8f\uff0c\u5b83\u9ed8\u8ba4\u4f1a\u8bfb\u53d6\u914d\u7f6e\u6587\u4ef6 /etc/named.conf\u3002")),(0,l.kt)("p",null,"\u5b89\u88c5 bind \u540e\u751f\u6210\u4e86\u4ee5\u4e0b\u51e0\u4e2a\u914d\u7f6e\u6587\u4ef6\uff1a"),(0,l.kt)("pre",null,(0,l.kt)("code",{parentName:"pre",className:"language-bash"},"[root@arm64v8 ~]# rpm -ql bind | grep etc\n/etc/logrotate.d/named\n/etc/named\n/etc/named.conf\n/etc/named.iscdlv.key\n/etc/named.rfc1912.zones\n/etc/named.root.key\n/etc/rndc.conf\n/etc/rndc.key\n/etc/rwtab.d/named\n/etc/sysconfig/named\n/usr/share/doc/bind-9.9.4/sample/etc\n/usr/share/doc/bind-9.9.4/sample/etc/named.conf\n/usr/share/doc/bind-9.9.4/sample/etc/named.rfc1912.zones\n[root@arm64v8 ~]#\n")),(0,l.kt)("ul",null,(0,l.kt)("li",{parentName:"ul"},"\u5176\u4e2d named.conf \u662f named \u5de5\u5177\u9ed8\u8ba4\u7684\u914d\u7f6e\u6587\u4ef6\uff0c\u5b83\u7684\u914d\u7f6e\u6307\u4ee4\u9879\u975e\u5e38\u591a\u3002")),(0,l.kt)("h2",{id:"54\u914d\u7f6e\u548c\u4f7f\u7528-dns"},"5.4\u3001\u914d\u7f6e\u548c\u4f7f\u7528 DNS"),(0,l.kt)("h3",{id:"541namedconf-\u914d\u7f6e"},"5.4.1\u3001named.conf \u914d\u7f6e"),(0,l.kt)("p",null,"\u4e0b\u6587\u5c06\u4ee5 brinnatt.com \u57df\u4ee5\u53ca\u8fd9\u4e2a\u57df\u4e2d\u7684\u4e3b\u673a\u7684\u5b9a\u4e49\u6765\u8bf4\u660e\u76f8\u5173\u914d\u7f6e\u65b9\u6cd5\u3002"),(0,l.kt)("p",null,"named.conf \u662f named \u9ed8\u8ba4\u52a0\u8f7d\u7684\u914d\u7f6e\u6587\u4ef6\uff0c\u8be5\u914d\u7f6e\u6587\u4ef6\u4e2d\u4f7f\u7528 ",(0,l.kt)("inlineCode",{parentName:"p"},"#")," \u6216 ",(0,l.kt)("inlineCode",{parentName:"p"},"/**/")," \u6216 ",(0,l.kt)("inlineCode",{parentName:"p"},"//")," \u4f5c\u4e3a\u6ce8\u91ca\u7b26\u53f7\uff0c\u6bcf\u4e2a\u975e\u6ce8\u91ca\u8bed\u53e5\u90fd\u5fc5\u987b\u4f7f\u7528\u5206\u53f7 ",(0,l.kt)("inlineCode",{parentName:"p"},";")," \u7ed3\u675f\u3002"),(0,l.kt)("p",null,"\u8be5\u914d\u7f6e\u6587\u4ef6\u4e2d\u53ea\u80fd\u6709\u4e00\u4e2a options\uff0c\u5728\u8fd9\u91cc\u9762\u7528\u4e8e\u914d\u7f6e\u5168\u5c40\u9879\u3002\u5176\u4e2d\u4e0b\u4f8b\u4e2d\u7684 directory \u6307\u4ee4\u5b9a\u4e49\u533a\u57df\u6570\u636e\u6587\u4ef6\u7684\u5b58\u653e\u76ee\u5f55\u3002"),(0,l.kt)("pre",null,(0,l.kt)("code",{parentName:"pre",className:"language-bash"},'options {\n    directory "/var/named";\n};\n')),(0,l.kt)("p",null,"\u9664\u4e86 option\uff0c\u8fd8\u5fc5\u9700\u6709\u533a\u57df\u7684\u914d\u7f6e\u3002zone \u5173\u952e\u5b57\u540e\u9762\u63a5\u7684\u662f\u57df\u548c\u7c7b\uff0c\u57df\u662f\u81ea\u5b9a\u4e49\u7684\u57df\u540d\uff0cIN \u662f internet \u7684\u7b80\u79f0\uff0c\u662f bind 9 \u4e2d\u7684\u9ed8\u8ba4\u7c7b\uff0c\u6240\u4ee5\u53ef\u4ee5\u7701\u7565\u3002"),(0,l.kt)("p",null,'type \u5b9a\u4e49\u8be5\u57df\u7684\u7c7b\u578b\u662f "master | slave | stub | hint | forward" \u4e2d\u7684\u54ea\u79cd\uff0cfile \u5b9a\u4e49\u8be5\u57df\u7684\u533a\u57df\u6570\u636e\u6587\u4ef6(\u533a\u57df\u6570\u636e\u6587\u4ef6\u7684\u8bf4\u660e\u89c1\u4e0b\u6587)\uff0c\u56e0\u4e3a\u8fd9\u91cc\u662f\u76f8\u5bf9\u8def\u5f84 db.brinnatt.com\uff0c\u5b83\u7684\u76f8\u5bf9\u8def\u5f84\u662f\u76f8\u5bf9\u4e8e /var/named \u7684\uff0c\u4e5f\u53ef\u4ee5\u6307\u5b9a\u7edd\u5bf9\u8def\u5f84 /var/named/db.brinnatt.com\u3002'),(0,l.kt)("pre",null,(0,l.kt)("code",{parentName:"pre",className:"language-bash"},'zone "brinnatt.com" IN{\n    type master;\n    file "db.brinnatt.com"\n};\n')),(0,l.kt)("p",null,"\u9664\u6b64\u5916\uff0c\u5728\u6bcf\u4e2a named.conf \u4e2d\u8fd8\u5e94\u8be5\u914d\u7f6e\u51e0\u4e2a\u5fc5\u987b\u7684\u533a\u57df\uff1a"),(0,l.kt)("ol",null,(0,l.kt)("li",{parentName:"ol"},(0,l.kt)("p",{parentName:"li"},'\u6839\u57df\u540d "." \u7684\u533a\u57df\u914d\u7f6e\u3002'),(0,l.kt)("pre",{parentName:"li"},(0,l.kt)("code",{parentName:"pre",className:"language-bash"},'zone "." IN {\n   type hint;\n   file named.ca;\n}\n')),(0,l.kt)("ul",{parentName:"li"},(0,l.kt)("li",{parentName:"ul"},'type hint \u8868\u793a\u8be5\u533a\u57df "." \u7c7b\u578b\u4e3a hint\u3002\u56de\u987e dns \u89e3\u6790\u6d41\u7a0b\uff0c\u5728\u5ba2\u6237\u7aef\u8ba9 dns \u670d\u52a1\u5668\u8fed\u4ee3\u67e5\u8be2\u65f6\uff0c\u8fed\u4ee3\u67e5\u8be2\u7684\u7b2c\u4e00\u6b65\u5c31\u662f\u8ba9 dns \u670d\u52a1\u5668\u53bb\u627e\u6839\u57df\u540d\u670d\u52a1\u5668\u3002'),(0,l.kt)("li",{parentName:"ul"},"\u4f46\u662f dns \u670d\u52a1\u5668\u5982\u4f55\u77e5\u9053\u6839\u57df\u540d\u670d\u52a1\u5668\u5728\u54ea\u91cc\uff1f\u8fd9\u5c31\u662f hint \u7c7b\u578b\u7684\u4f5c\u7528\uff0c\u5b83\u63d0\u793a dns \u670d\u52a1\u5668\u6839\u636e\u5176\u533a\u57df\u6570\u636e\u6587\u4ef6 named.ca \u4e2d\u7684\u5185\u5bb9\u53bb\u83b7\u53d6\u6839\u57df\u540d\u5730\u5740\uff0c\u5e76\u5c06\u8fd9\u4e9b\u6570\u636e\u7f13\u5b58\u8d77\u6765\uff0c\u4e0b\u6b21\u9700\u8981\u6839\u57df\u540d\u5730\u5740\u65f6\u76f4\u63a5\u67e5\u627e\u7f13\u5b58\u5373\u53ef\u3002"),(0,l.kt)("li",{parentName:"ul"},"\u7531\u4e8e\u6839\u57df\u540d\u5730\u5740\u4e5f\u662f\u4f1a\u6539\u53d8\u7684\uff0c\u6709\u4e86\u6839\u533a\u57df\u7684\u63d0\u793a\uff0c\u5c31\u53ef\u4ee5\u6c38\u8fdc\u80fd\u83b7\u53d6\u5230\u6700\u65b0\u7684\u6839\u533a\u57df\u5730\u5740\u3002\u5176\u5b9e\u4e5f\u53ef\u4ee5\u624b\u52a8\u4e0b\u8f7d\u8fd9\u4e9b\u6570\u636e\uff0c\u5730\u5740\u4e3a\uff1a",(0,l.kt)("a",{parentName:"li",href:"https://www.internic.net/domain/named.root%E3%80%82%E5%9B%A0%E6%AD%A4%EF%BC%8C%E5%8F%AA%E6%9C%89%E6%A0%B9%E5%8C%BA%E5%9F%9F"},"https://www.internic.net/domain/named.root\u3002\u56e0\u6b64\uff0c\u53ea\u6709\u6839\u533a\u57df"),' "." \u624d\u4f1a\u8bbe\u7f6e\u4e3a hint \u7c7b\u578b\u3002'))),(0,l.kt)("li",{parentName:"ol"},(0,l.kt)("p",{parentName:"li"},'"localhost" \u57df\u540d(\u7528\u4e8e\u89e3\u6790 localhost \u4e3a 127.0.0.1) \u548c 127.0.0.1 \u7684\u65b9\u5411\u67e5\u627e\u533a\u57df\u3002\u8fd9\u4e24\u4e2a\u6ca1\u6709\u5b9a\u4e49\u5728 named.conf \u4e2d\uff0c\u800c\u662f\u5b9a\u4e49\u5728 /etc/named.rfc1912.zones \u4e2d\uff0c\u7136\u540e\u5728 named.conf \u4e2d\u4f7f\u7528 include \u6307\u4ee4\u5c06\u5176\u5305\u542b\u8fdb\u6765\u3002'),(0,l.kt)("pre",{parentName:"li"},(0,l.kt)("code",{parentName:"pre",className:"language-bash"},'include "/etc/named.rfc1912.zones";\n')),(0,l.kt)("p",{parentName:"li"},"\u5176\u4e2d named.rfc1912.zones \u4e2d\u90e8\u5206\u5185\u5bb9\uff1a"),(0,l.kt)("pre",{parentName:"li"},(0,l.kt)("code",{parentName:"pre",className:"language-bash"},'zone "localhost" IN {\n       type master;\n       file "named.localhost";\n       allow-update { none; };\n};\n\nzone "1.0.0.127.in-addr.arpa" IN {\n       type master;\n       file "named.loopback";\n       allow-update { none; };\n};\n')),(0,l.kt)("p",{parentName:"li"},"\u5f53\u7136\uff0c\u53cd\u5411\u67e5\u627e\u533a\u57df\u53ef\u4ee5\u5b9a\u4e49\u4e3a\u57df\u800c\u4e0d\u662f\u76f4\u63a5\u5b9a\u4e49\u6210\u4e3b\u673a\u3002\u4f8b\u5982\uff1a"),(0,l.kt)("pre",{parentName:"li"},(0,l.kt)("code",{parentName:"pre",className:"language-bash"},'zone "0.0.127.in-addr.arpa" IN {\n       type master;\n       file "named.loopback";\n       allow-update { none; };\n};\n')),(0,l.kt)("p",{parentName:"li"},"\u4f46\u8fd9\u6837\u7684\u8bdd\uff0c\u5c31\u9700\u8981\u76f8\u5bf9\u5e94\u5730\u4fee\u6539 /var/named/named.loopback \u6587\u4ef6\u3002"),(0,l.kt)("p",{parentName:"li"},'\u5176\u5b9e\u6839\u57df\u540d "." \u548c "localhost" \u4ee5\u53ca "1.0.0.127.in-addr.arpa" \u5b8c\u5168\u6ca1\u5fc5\u8981\u53bb\u6539\u53d8\uff0c\u7167\u642c\u5c31\u662f\u4e86\u3002'),(0,l.kt)("p",{parentName:"li"},"\u6240\u4ee5\uff0c/etc/named.conf \u7684\u5185\u5bb9\u5982\u4e0b\uff1a"),(0,l.kt)("pre",{parentName:"li"},(0,l.kt)("code",{parentName:"pre",className:"language-bash"},'[root@arm64v8 ~]# cat /etc/named.conf\noptions {\n   directory "/var/named";\n};\n\nzone "brinnatt.com" {\n   type master;\n   file "db.brinnatt.com";\n};\n\nzone "." IN {\n   type hint;\n   file "named.ca";\n};\n\ninclude "/etc/named.rfc1912.zones";\n[root@arm64v8 ~]#\n')),(0,l.kt)("p",{parentName:"li"},"\u5230\u6b64\u5e76\u6ca1\u6709\u7ed3\u675f\uff0c\u56e0\u4e3a /etc/named","*"," \u7684\u5c5e\u7ec4\u90fd\u662f named\uff0c\u4e14\u6743\u9650\u8981\u4e3a 640\u3002\u5982\u4e0b\uff1a"),(0,l.kt)("pre",{parentName:"li"},(0,l.kt)("code",{parentName:"pre",className:"language-bash"},"[root@arm64v8 ~]# ls -l /etc/named*\n-rw-r--r-- 1 root root   206 Oct 15 09:27 /etc/named.conf\n-rw-r----- 1 root root  1808 Oct 15 09:18 /etc/named.conf.backup # \u539f\u6587\u4ef6\u5907\u4efd\n-rw-r--r-- 1 root named 3923 Jun  4  2019 /etc/named.iscdlv.key\n-rw-r----- 1 root named  931 Jun 21  2007 /etc/named.rfc1912.zones\n-rw-r--r-- 1 root named 1587 May 22  2017 /etc/named.root.key\n\n/etc/named:\ntotal 0\n[root@arm64v8 ~]#\n")),(0,l.kt)("p",{parentName:"li"},"\u6240\u4ee5\uff0c\u5bf9\u4e8e\u65b0\u5efa\u7684 /etc/named.conf \u5e94\u8be5\u8981\u6539\u53d8\u5c5e\u7ec4\u548c\u6743\u9650\u3002"),(0,l.kt)("pre",{parentName:"li"},(0,l.kt)("code",{parentName:"pre",className:"language-bash"},"[root@arm64v8 ~]# chown root:named /etc/named.conf\n[root@arm64v8 ~]# chmod 640 /etc/named.conf\n")),(0,l.kt)("p",{parentName:"li"},"\u7136\u540e\u4f7f\u7528 /usr/sbin/named-checkconf \u547d\u4ee4\u6765\u68c0\u67e5\u4e0b /etc/named.conf \u6587\u4ef6\u7684\u914d\u7f6e\u662f\u5426\u6b63\u786e\uff0c\u5982\u679c\u4e0d\u8fd4\u56de\u4efb\u4f55\u4fe1\u606f\uff0c\u5219\u8868\u793a\u914d\u7f6e\u6b63\u786e\u3002"),(0,l.kt)("pre",{parentName:"li"},(0,l.kt)("code",{parentName:"pre",className:"language-bash"},"[root@arm64v8 ~]# named-checkconf\n")),(0,l.kt)("p",{parentName:"li"},"\u914d\u7f6e\u597d\u914d\u7f6e\u6587\u4ef6\u540e\uff0c\u63a5\u4e0b\u6765\u8981\u4e66\u5199\u57df\u76f8\u5173\u6570\u636e\u5e93\u2014\u2014\u533a\u57df\u6570\u636e\u6587\u4ef6\u3002"))),(0,l.kt)("h3",{id:"542\u533a\u57df\u6570\u636e\u6587\u4ef6\u914d\u7f6e"},"5.4.2\u3001\u533a\u57df\u6570\u636e\u6587\u4ef6\u914d\u7f6e"),(0,l.kt)("p",null,'\u533a\u57df\u6570\u636e\u6587\u4ef6\u5373 named.conf \u4e2d zone \u5173\u952e\u5b57\u5b9a\u4e49\u7684\u57df\u7684\u6570\u636e\u6587\u4ef6\uff0c\u7531 zone \u4e2d\u7684 file \u6307\u4ee4\u6307\u5b9a\u6587\u4ef6\u540d\uff0c\u4f8b\u5982\u4e0a\u9762\u5b9a\u4e49\u7684 "db.brinnatt.com"\uff0c\u8bf4\u660e brinnatt.com \u8fd9\u4e2a zone \u7684\u533a\u57df\u6570\u636e\u6587\u4ef6\u4e3a /var/named/db.brinnatt.com\u3002'),(0,l.kt)("p",null,'\u533a\u57df\u6570\u636e\u6587\u4ef6\u4e2d\u5f88\u591a\u5730\u65b9\u90fd\u53ef\u4ee5\u4f7f\u7528\u7f29\u5199\uff0c\u5982\u679c\u4e0d\u4f7f\u7528\u7f29\u5199\u7684\u4e66\u5199\u65b9\u5f0f\uff0c\u90a3\u4e48\u6bcf\u4e00\u6761\u8bb0\u5f55\u4e2d\u7684\u57df\u540d\u6216\u4e3b\u673a\u540d\u90fd\u8981\u5199\u5168\uff0c\u5373\u8981\u5199\u5230\u6839\u57df "."\u3002'),(0,l.kt)("p",null,"\u5047\u8bbe brinnatt.com \u57df\u5185\u6709 3 \u53f0\u4e3b\u673a www\u3001ftp \u548c mydb\uff0c\u5b83\u4eec\u7684 ip \u5206\u522b\u4e3a 10.1.1.{116,117,118}\uff0c\u8fd8\u6709\u4e00\u53f0 DNS \u670d\u52a1\u5668\u4e3b\u673a\u540d\u4e3a dnsserver\uff0c\u5176 ip \u4e3a 10.1.1.2\u3002"),(0,l.kt)("p",null,'\u4e8e\u662f\uff0cbrinnatt.com \u8fd9\u4e2a\u533a\u57df\u7684\u6570\u636e\u6587\u4ef6\u53ef\u4ee5\u5982\u4e0b\u4e66\u5199\uff1a\u533a\u57df\u6570\u636e\u6587\u4ef6\u4e2d\u4f7f\u7528\u5206\u53f7 ";" \u6765\u6ce8\u91ca\u3002'),(0,l.kt)("pre",null,(0,l.kt)("code",{parentName:"pre",className:"language-bash"},"$TTL 6h\nbrinnatt.com.              IN  SOA dnsserver.brinnatt.com.   xyz.brinnatt.com. (\n                       1     ; serial num\n                       3h    ; refresh time \n                       1h    ; retry time \n                       1w    ; expire time\n                       1h )  ; negative time\n\nbrinnatt.com.              IN  NS  dnsserver.brinnatt.com.\n\ndnsserver.brinnatt.com.    IN  A   10.1.1.2\nwww.brinnatt.com.          IN  A   10.1.1.116\nftp.brinnatt.com.          IN  A   10.1.1.117\nmydb.brinnatt.com.         IN  A   10.1.1.118\n\nwww1.brinnatt.com.         IN  CNAME  www.brinnatt.com.\n")),(0,l.kt)("ul",null,(0,l.kt)("li",{parentName:"ul"},"\u5176\u4e2d\u7b2c\u4e00\u884c\u7684 ",(0,l.kt)("inlineCode",{parentName:"li"},"$TTL 6h")," \u8868\u793a\u7f13\u5b58\u5468\u671f\uff0c\u5373\u67e5\u8be2\u8be5\u57df\u4e2d\u8bb0\u5f55\u65f6\u80af\u5b9a\u7b54\u6848\u7684\u7f13\u5b58\u65f6\u95f4\u957f\u5ea6\u3002\u4f8b\u5982\u672c\u5730\u67e5\u8be2 ",(0,l.kt)("a",{parentName:"li",href:"http://www.baidu.com"},"www.baidu.com")," \u65f6\uff0c\u672c\u5730\u5c06\u7f13\u5b58 baidu.com \u57df\u7684\u76f8\u5173\u67e5\u8be2\u7ed3\u679c\uff0c\u7f13\u5b58\u65f6\u95f4\u957f\u5ea6\u7531 baidu.com \u8fd9\u4e2a\u57df\u7684\u533a\u57df\u6570\u636e\u6587\u4ef6\u4e2d\u5b9a\u4e49\u7684 ",(0,l.kt)("inlineCode",{parentName:"li"},"$TTL")," \u7684\u503c\u51b3\u5b9a\u3002\n"),(0,l.kt)("li",{parentName:"ul"},"\u5728\u533a\u57df\u6570\u636e\u6587\u4ef6\u4e2d\uff0c",(0,l.kt)("inlineCode",{parentName:"li"},"$TTL")," \u7684\u5b9a\u4e49\u8868\u793a\u5176\u540e\u7684\u8bb0\u5f55\u90fd\u4ee5\u6b64 TTL \u4e3a\u51c6\uff0c\u76f4\u5230\u9047\u5230\u4e0b\u4e00\u4e2a ",(0,l.kt)("inlineCode",{parentName:"li"},"$TTL"),"\u3002\u4e5f\u5c31\u662f\u8bf4\uff0c\u4e24\u4e2a ",(0,l.kt)("inlineCode",{parentName:"li"},"$TTL")," \u4e4b\u95f4\u7684\u6240\u6709\u8bb0\u5f55\u90fd\u4ee5\u524d\u9762\u7684 ",(0,l.kt)("inlineCode",{parentName:"li"},"$TTL")," \u4e3a\u51c6\u3002\u4e0d\u8fc7\u5927\u591a\u6570\u65f6\u5019\uff0c\u4e00\u4e2a\u533a\u57df\u6570\u636e\u6587\u4ef6\u4e2d\u53ea\u4f1a\u5728\u7b2c\u4e00\u884c\u5b9a\u4e49\u4e00\u4e2a ",(0,l.kt)("inlineCode",{parentName:"li"},"$TTL")," \u503c\uff0c\u8868\u793a\u8be5\u6587\u4ef6\u4e2d\u6240\u6709\u8bb0\u5f55\u90fd\u4f7f\u7528\u8be5\u7f13\u5b58\u5468\u671f\u503c\u3002\n"),(0,l.kt)("li",{parentName:"ul"},"\u7b2c\u4e8c\u884c\u5b9a\u4e49\u7684\u662f SOA \u8bb0\u5f55\uff0c\u6bcf\u4e2a\u533a\u57df\u6587\u4ef6\u4e2d\u7684\u7b2c\u4e00\u4e2a\u8d44\u6e90\u8bb0\u5f55\u5b9a\u4e49\u884c\u90fd\u8981\u662f SOA \u8bb0\u5f55\u3002\u5728\u8be5\u884c\u4e2d\u9664\u4e86\u6307\u5b9a\u4e86 master dns \u670d\u52a1\u5668\uff0c\u8fd8\u6307\u5b9a\u4e86\u4e00\u4e9b\u9644\u52a0\u5c5e\u6027\uff0c\u5305\u62ec\u5e8f\u5217\u53f7\u4e3a 1\uff0c\u8fd8\u6709\u5404\u79cd\u65f6\u957f\u7b49\u4fe1\u606f\u3002\n"),(0,l.kt)("li",{parentName:"ul"},'\u7b2c\u4e8c\u4e2a\u8d44\u6e90\u8bb0\u5f55\u884c\u5b9a\u4e49\u7684\u662f NS \u8bb0\u5f55\uff0cNS \u8bb0\u5f55\u884c\u8868\u793a\u8be5\u884c\u5b9a\u4e49\u7684\u4e3b\u673a "dnsserver.brinnatt.com." \u662f\u8fd9\u4e2a\u57df "brinnatt.com." \u5185\u7684 dns \u670d\u52a1\u5668\u3002\n'),(0,l.kt)("li",{parentName:"ul"},'\u63a5\u4e0b\u6765\u7684\u51e0\u4e2a\u8d44\u6e90\u8bb0\u5f55\u884c\u5b9a\u4e49\u7684\u90fd\u662f A \u8bb0\u5f55\uff0c\u5206\u522b\u5b9a\u4e49\u4e86 "{dnsserver,www,ftp,mydb}.brinnatt.com." \u8fd9\u51e0\u4e2a\u4e3b\u673a\u5bf9\u5e94\u7684 ip \u5730\u5740\u4e3a 10.1.1.{2,116,117,118}\u3002A \u8bb0\u5f55\u4e2d\u5b58\u50a8\u7684\u662f\u4e3b\u673a\u540d\u548c IP \u5730\u5740\u4e4b\u95f4\u7684\u6620\u5c04\u5173\u7cfb\uff0c\u5728\u4e3a\u5916\u754c\u4e3b\u673a\u63d0\u4f9b\u4e3b\u673a\u540d\u67e5\u8be2\u670d\u52a1\u65f6\uff0c\u5c31\u662f\u4ece A \u8bb0\u5f55\u4e2d\u83b7\u53d6\u5bf9\u5e94\u7684 ip \u5730\u5740\u3002\n'),(0,l.kt)("li",{parentName:"ul"},'\u6700\u540e\u4e00\u4e2a\u8d44\u6e90\u8bb0\u5f55\u884c\u5b9a\u4e49\u7684\u662f CNAME \u8bb0\u5f55\uff0c\u5b83\u5b58\u50a8\u7684\u662f canonical name \u6240\u5bf9\u5e94\u7684\u522b\u540d\u3002\u4f8b\u5982\u6b64\u5904\u5b9a\u4e49\u7684\u662f "',(0,l.kt)("a",{parentName:"li",href:"http://www.brinnatt.com.%22"},'www.brinnatt.com."'),' \u7684\u522b\u540d\u4e3a "www1.brinnatt.com."\u3002\n'),(0,l.kt)("li",{parentName:"ul"},"\u7136\u540e\u4fee\u6539 /var/named/db.brinnatt.com \u6587\u4ef6\u7684\u5c5e\u7ec4\u548c\u6743\u9650\u3002",(0,l.kt)("pre",{parentName:"li"},(0,l.kt)("code",{parentName:"pre",className:"language-bash"},"[root@arm64v8 ~]# chmod 640 /var/named/db.brinnatt.com\n[root@arm64v8 ~]# chown root:named /var/named/db.brinnatt.com\n"))),(0,l.kt)("li",{parentName:"ul"},'\u7136\u540e\u4f7f\u7528 named-checkzone \u547d\u4ee4\u68c0\u67e5\u533a\u57df\u6570\u636e\u6587\u4ef6\u662f\u5426\u4e66\u5199\u6b63\u786e\u3002\u4f8b\u5982\uff0c\u8981\u68c0\u67e5 "brinnatt.com" \u533a\u57df\uff0c\u5176\u533a\u57df\u6570\u636e\u6587\u4ef6\u4e3a /var/named/named.conf\u3002',(0,l.kt)("pre",{parentName:"li"},(0,l.kt)("code",{parentName:"pre",className:"language-bash"},"[root@arm64v8 ~]# named-checkzone brinnatt.com /var/named/db.brinnatt.com\nzone brinnatt.com/IN: loaded serial 1\nOK\n[root@arm64v8 ~]#\n")))),(0,l.kt)("p",null,"\u56de\u5230\u533a\u57df\u6570\u636e\u6587\u4ef6\u7684\u914d\u7f6e\u8bf4\u660e\u4e0a\u3002\u5728\u4e0a\u9762\u7684\u914d\u7f6e\u8fc7\u7a0b\u4e2d\uff0c\u5b8c\u5168\u6ca1\u6709\u4f7f\u7528\u7f29\u5199\uff0c\u4f46\u5176\u5b9e\u5f88\u591a\u5730\u65b9\u90fd\u80fd\u4f7f\u7528\u7f29\u5199\u7684\u4e66\u5199\u65b9\u5f0f\u3002\u4ee5\u4e0b\u662f\u533a\u57df\u6570\u636e\u6587\u4ef6\u4e2d\u7684\u4e00\u4e9b\u4e66\u5199\u89c4\u5219\uff0c\u5305\u62ec\u7f29\u5199\u89c4\u5219\uff1a"),(0,l.kt)("ol",null,(0,l.kt)("li",{parentName:"ol"},(0,l.kt)("p",{parentName:"li"},(0,l.kt)("inlineCode",{parentName:"p"},"$")," \u7b26\u53f7\uff1a\u5b9a\u4e49\u5b8f\u3002\u6700\u5e38\u89c1\u7684\u662f ",(0,l.kt)("inlineCode",{parentName:"p"},"$TTL"),"\u3001",(0,l.kt)("inlineCode",{parentName:"p"},"$ORIGIN"),"\u3002origin \u7684\u610f\u601d\u662f\u8d77\u70b9\uff0c\u53ef\u4ee5\u81ea\u884c\u5b9a\u4e49 ",(0,l.kt)("inlineCode",{parentName:"p"},"$ORIGIN")," \u7684\u503c\u3002"),(0,l.kt)("p",{parentName:"li"},"\u4f8b\u5982\uff1a",(0,l.kt)("inlineCode",{parentName:"p"},"$ORIGIN .")," \u8868\u793a\u5b9a\u4e49\u7684 ",(0,l.kt)("inlineCode",{parentName:"p"},"$ORIGIN")," \u7684\u8d77\u70b9\u503c\u4e3a\u6839\u57df\u7b26\u53f7\uff0c",(0,l.kt)("inlineCode",{parentName:"p"},"$ORIGIN brinnatt.com.")," \u8868\u793a ",(0,l.kt)("inlineCode",{parentName:"p"},"$ORIGIN")," \u7684\u503c\u4e3a ",(0,l.kt)("inlineCode",{parentName:"p"},"brinnatt.com."),"\uff0c\u672a\u5b9a\u4e49 ",(0,l.kt)("inlineCode",{parentName:"p"},"$ORIGIN"),' \u65f6\uff0c\u503c\u4e3a zone "domain" \u7684 domain \u90e8\u5206\u3002')),(0,l.kt)("li",{parentName:"ol"},(0,l.kt)("p",{parentName:"li"},'fqdn \u81ea\u52a8\u8865\u9f50\uff1a\u5728\u533a\u57df\u6570\u636e\u6587\u4ef6\u4e2d\uff0c\u6ca1\u6709\u4f7f\u7528\u70b9\u53f7 "." \u7ed3\u5c3e\u7684\uff0c\u5728\u5b9e\u9645\u4f7f\u7528\u7684\u65f6\u5019\u90fd\u4f1a\u81ea\u52a8\u8865\u4e0a\u57df\u540d\uff0c\u4f7f\u5176\u53d8\u4e3a fqdn\u3002'),(0,l.kt)("p",{parentName:"li"},'\u4f8b\u5982\u533a\u57df "brinnatt.com."\uff0c\u4ee5\u4e0b\u662f\u5b8c\u5168\u683c\u5f0f\u7684\u8d44\u6e90\u8bb0\u5f55\uff1a'),(0,l.kt)("pre",{parentName:"li"},(0,l.kt)("code",{parentName:"pre",className:"language-bash"},"dnsserver.brinnatt.com.    IN  A   172.16.10.15\n")),(0,l.kt)("p",{parentName:"li"},"\u53ef\u4ee5\u7f29\u5199\u4e3a\uff1a"),(0,l.kt)("pre",{parentName:"li"},(0,l.kt)("code",{parentName:"pre",className:"language-bash"},"dnsserver    IN    A   172.16.10.15\n")),(0,l.kt)("p",{parentName:"li"},'\u56e0\u4e3a dnsserver \u540e\u6ca1\u6709\u70b9\uff0c\u6240\u4ee5\u4f1a\u8865\u9f50\u6574\u4e2a\u57df\u540d "brinnatt.com."\u3002'),(0,l.kt)("p",{parentName:"li"},"\u5b9e\u9645\u4e0a\uff0c\u81ea\u52a8\u8865\u9f50\u7684\u90e8\u5206\u662f ",(0,l.kt)("inlineCode",{parentName:"p"},"$ORIGIN")," \u7684\u503c\uff0c\u53ea\u4e0d\u8fc7\u9ed8\u8ba4\u6ca1\u5b9a\u4e49 ",(0,l.kt)("inlineCode",{parentName:"p"},"$ORIGIN")," \u65f6\uff0c",(0,l.kt)("inlineCode",{parentName:"p"},"$ORIGIN")," \u7684\u503c\u4e3a zone \u5b9a\u4e49\u7684\u57df\u540d\uff0c\u6240\u4ee5\u9ed8\u8ba4\u662f\u81ea\u52a8\u8865\u9f50\u57df\u540d\u3002")),(0,l.kt)("li",{parentName:"ol"},(0,l.kt)("p",{parentName:"li"},(0,l.kt)("inlineCode",{parentName:"p"},"@")," \u7b26\u53f7\uff1a\u53ef\u4ee5\u4f7f\u7528 ",(0,l.kt)("inlineCode",{parentName:"p"},"@")," \u7b26\u53f7\u6765\u7f29\u5199 ",(0,l.kt)("inlineCode",{parentName:"p"},"$ORIGIN")," \u7684\u503c\u3002"),(0,l.kt)("p",{parentName:"li"},"\u7531\u4e8e\u81ea\u5b9a\u4e49\u7684\u533a\u57df\u6570\u636e\u6587\u4ef6\u4e2d\uff0c\u4e00\u822c\u4e0d\u4f1a\u4e3b\u52a8\u5b9a\u4e49 ",(0,l.kt)("inlineCode",{parentName:"p"},"$ORIGIN")," \u7684\u503c\uff0c\u800c\u7b2c\u4e00\u4e2a\u8d44\u6e90\u8bb0\u5f55\u4e00\u822c\u90fd\u662f SOA \u8bb0\u5f55\uff0c\u6240\u4ee5\u6b64\u65f6 SOA \u8bb0\u5f55\u4e2d\u7684\u7b2c\u4e00\u5217\u5c31\u53ef\u4ee5\u4f7f\u7528 ",(0,l.kt)("inlineCode",{parentName:"p"},"@")," \u7b26\u53f7\uff0c\u5176\u5b83\u5730\u65b9\u53ea\u8981\u503c\u4e3a ",(0,l.kt)("inlineCode",{parentName:"p"},"$ORIGIN"),"\uff0c\u90fd\u53ef\u4ee5\u4f7f\u7528 ",(0,l.kt)("inlineCode",{parentName:"p"},"@")," \u7b26\u53f7\u7f29\u5199\u3002"),(0,l.kt)("pre",{parentName:"li"},(0,l.kt)("code",{parentName:"pre",className:"language-bash"},"@     IN  SOA  dnsserver  xyz. ( 1 3h 1h 1w 1h )\n@     IN  NS   dnsserver\n"))),(0,l.kt)("li",{parentName:"ol"},(0,l.kt)("p",{parentName:"li"},"\u91cd\u590d\u6700\u8fd1\u4e00\u4e2a\u540d\u79f0\uff1a\u533a\u57df\u6570\u636e\u6587\u4ef6\u4e2d\u7684\u7b2c\u4e00\u5217\u53ef\u4ee5\u4f7f\u7528\u7a7a\u683c\u6216\u5236\u8868\u7b26\u4f7f\u8be5\u5217\u7ee7\u627f\u4e0a\u4e00\u884c\u7684\u7b2c\u4e00\u5217\u7684\u503c\u3002"),(0,l.kt)("p",{parentName:"li"},'\u4f8b\u5982\u7b2c\u4e00\u884c\u5b9a\u4e49\u7684\u662f SOA \u8bb0\u5f55\uff0c\u7b2c\u4e00\u5217\u662f "brinnatt.com."\uff0c\u90a3\u4e48\u7b2c\u4e8c\u884c\u5b9a\u4e49\u7684 NS \u8bb0\u5f55\u4e2d\uff0c\u5176\u7b2c\u4e00\u5217\u5c31\u53ef\u4ee5\u7559\u7a7a\u6765\u7ee7\u627f\u7b2c\u4e00\u884c\u7b2c\u4e00\u5217\u7684 "brinnatt.com."\u3002\u4e0d\u6b62\u7b2c\u4e00\u884c\u548c\u7b2c\u4e8c\u884c\uff0c\u7b2c\u4e09\u884c\u4e5f\u53ef\u4ee5\u7ee7\u627f\u7b2c\u4e8c\u884c\u7684\u7b2c\u4e00\u5217\uff0c\u7b2c n+1 \u884c\u4e5f\u53ef\u4ee5\u7ee7\u627f\u7b2c n \u884c\u7684\u7b2c\u4e00\u5217\uff0c\u53ea\u8981\u5b83\u4eec\u7684\u503c\u4e00\u6837\u5373\u53ef\u3002'),(0,l.kt)("p",{parentName:"li"},"\u6240\u4ee5\uff0c/var/named/db.brinnatt.com \u8fd9\u4e2a\u6587\u4ef6\u5b8c\u5168\u7f29\u5199\u540e\u7684\u7ed3\u679c\u5982\u4e0b\uff1a"),(0,l.kt)("pre",{parentName:"li"},(0,l.kt)("code",{parentName:"pre",className:"language-bash"},"[root@arm64v8 ~]# cat /var/named/db.brinnatt.com\n$TTL 6h\n@            IN  SOA dnsserver   xyz (\n            1     ; serial num\n            3h    ; refresh time \n            1h    ; retry time \n            1w    ; expire time\n            1h )  ; negative time\n\n@            IN  NS  dnsserver\n\ndnsserver    IN  A   10.1.1.2\nwww          IN  A   10.1.1.116\nftp          IN  A   10.1.1.117\nmydb     IN  A   10.1.1.118\n\nwww1     IN  CNAME   www\n[root@arm64v8 ~]#\n")),(0,l.kt)("p",{parentName:"li"},"\u662f\u5426\u7f29\u5199\u6b63\u786e\uff0c\u53ef\u4ee5\u4f7f\u7528 named-checkzone \u6765\u68c0\u67e5\u4e0b\uff0c\u8fd8\u53ef\u4ee5\u4f7f\u7528 named-compilezone \u547d\u4ee4\u5bf9\u533a\u57df\u6570\u636e\u6587\u4ef6\u8fdb\u884c\u7f16\u8bd1\uff0c\u5e76\u8f93\u51fa\u7f16\u8bd1\u540e\u7684\u7ed3\u679c\u3002"),(0,l.kt)("pre",{parentName:"li"},(0,l.kt)("code",{parentName:"pre",className:"language-bash"},"[root@arm64v8 ~]# named-checkzone brinnatt.com /var/named/db.brinnatt.com\nzone brinnatt.com/IN: loaded serial 1\nOK\n[root@arm64v8 ~]# \n[root@arm64v8 ~]# named-compilezone -o - brinnatt.com /var/named/db.brinnatt.com \nzone brinnatt.com/IN: loaded serial 1\nbrinnatt.com.                      21600 IN SOA  dnsserver.brinnatt.com. xyz.brinnatt.com. 1 10800 3600 604800 3600\nbrinnatt.com.                      21600 IN NS   dnsserver.brinnatt.com.\ndnsserver.brinnatt.com.            21600 IN A    10.1.1.2\nftp.brinnatt.com.                  21600 IN A    10.1.1.117\nmydb.brinnatt.com.                 21600 IN A    10.1.1.118\nwww.brinnatt.com.                  21600 IN A    10.1.1.116\nwww1.brinnatt.com.                 21600 IN CNAME    www.brinnatt.com.\nOK\n[root@arm64v8 ~]#\n")),(0,l.kt)("ul",{parentName:"li"},(0,l.kt)("li",{parentName:"ul"},'"-o" \u9009\u9879\u8868\u793a\u5c06\u7f16\u8bd1\u540e\u7684\u7ed3\u679c\u8f93\u51fa\u5230\u6307\u5b9a\u6587\u4ef6\u4e2d\uff0c"-" \u8868\u793a\u8f93\u51fa\u5230\u6807\u51c6\u8f93\u51fa\u3002'),(0,l.kt)("li",{parentName:"ul"},"\u7531\u4e0a\u9762\u7f16\u8bd1\u7684\u7ed3\u679c\u53ef\u4ee5\u770b\u51fa\uff0c\u7f29\u5199\u540e\u7684\u7ed3\u679c\u5e76\u6ca1\u6709\u4efb\u4f55\u9519\u8bef\u3002")))),(0,l.kt)("p",null,'\u5728 /etc/named.conf \u4e2d\uff0c\u8fd8\u5b9a\u4e49\u4e86 3 \u4e2a\u533a\u57df\uff0c\u5206\u522b\u662f "."\u3001"localhost" \u548c "1.0.0.127.in-addr.arpa"\uff0c\u5b83\u4eec\u7684\u533a\u57df\u6570\u636e\u6587\u4ef6\u5206\u522b\u662f /var/named/{named.ca, named.localhost, loopback}\uff0c\u8fd9\u51e0\u4e2a\u6587\u4ef6\u7684\u5185\u5bb9\u53ef\u4ee5\u81ea\u884c\u89e3\u8bfb\u3002'),(0,l.kt)("pre",null,(0,l.kt)("code",{parentName:"pre",className:"language-bash"},"[root@arm64v8 ~]# cat /var/named/named.ca \n; <<>> DiG 9.9.4-RedHat-9.9.4-38.el7_3.2 <<>> +bufsize=1200 +norec @a.root-servers.net\n; (2 servers found)\n;; global options: +cmd\n;; Got answer:\n;; ->>HEADER<<- opcode: QUERY, status: NOERROR, id: 17380\n;; flags: qr aa; QUERY: 1, ANSWER: 13, AUTHORITY: 0, ADDITIONAL: 27\n\n;; OPT PSEUDOSECTION:\n; EDNS: version: 0, flags:; udp: 1472\n;; QUESTION SECTION:\n;.              IN  NS\n\n;; ANSWER SECTION:\n.           518400  IN  NS  a.root-servers.net.\n.           518400  IN  NS  b.root-servers.net.\n.           518400  IN  NS  c.root-servers.net.\n.           518400  IN  NS  d.root-servers.net.\n.           518400  IN  NS  e.root-servers.net.\n.           518400  IN  NS  f.root-servers.net.\n.           518400  IN  NS  g.root-servers.net.\n.           518400  IN  NS  h.root-servers.net.\n.           518400  IN  NS  i.root-servers.net.\n.           518400  IN  NS  j.root-servers.net.\n.           518400  IN  NS  k.root-servers.net.\n.           518400  IN  NS  l.root-servers.net.\n.           518400  IN  NS  m.root-servers.net.\n\n;; ADDITIONAL SECTION:\na.root-servers.net. 3600000 IN  A   198.41.0.4\na.root-servers.net. 3600000 IN  AAAA    2001:503:ba3e::2:30\nb.root-servers.net. 3600000 IN  A   192.228.79.201\nb.root-servers.net. 3600000 IN  AAAA    2001:500:84::b\nc.root-servers.net. 3600000 IN  A   192.33.4.12\nc.root-servers.net. 3600000 IN  AAAA    2001:500:2::c\nd.root-servers.net. 3600000 IN  A   199.7.91.13\nd.root-servers.net. 3600000 IN  AAAA    2001:500:2d::d\ne.root-servers.net. 3600000 IN  A   192.203.230.10\ne.root-servers.net. 3600000 IN  AAAA    2001:500:a8::e\nf.root-servers.net. 3600000 IN  A   192.5.5.241\nf.root-servers.net. 3600000 IN  AAAA    2001:500:2f::f\ng.root-servers.net. 3600000 IN  A   192.112.36.4\ng.root-servers.net. 3600000 IN  AAAA    2001:500:12::d0d\nh.root-servers.net. 3600000 IN  A   198.97.190.53\nh.root-servers.net. 3600000 IN  AAAA    2001:500:1::53\ni.root-servers.net. 3600000 IN  A   192.36.148.17\ni.root-servers.net. 3600000 IN  AAAA    2001:7fe::53\nj.root-servers.net. 3600000 IN  A   192.58.128.30\nj.root-servers.net. 3600000 IN  AAAA    2001:503:c27::2:30\nk.root-servers.net. 3600000 IN  A   193.0.14.129\nk.root-servers.net. 3600000 IN  AAAA    2001:7fd::1\nl.root-servers.net. 3600000 IN  A   199.7.83.42\nl.root-servers.net. 3600000 IN  AAAA    2001:500:9f::42\nm.root-servers.net. 3600000 IN  A   202.12.27.33\nm.root-servers.net. 3600000 IN  AAAA    2001:dc3::35\n\n;; Query time: 18 msec\n;; SERVER: 198.41.0.4#53(198.41.0.4)\n;; WHEN: Po kv\u011b 22 10:14:44 CEST 2017\n;; MSG SIZE  rcvd: 811\n\n[root@arm64v8 ~]#\n")),(0,l.kt)("ul",null,(0,l.kt)("li",{parentName:"ul"},"\u8be5\u6587\u4ef6\u4e2d\u8bb0\u5f55\u4e86\u83b7\u53d6\u6839\u533a\u57df\u7684\u65b9\u6cd5\uff1adig +bufsize=1200 +norec @a.root-servers.net\u3002")),(0,l.kt)("pre",null,(0,l.kt)("code",{parentName:"pre",className:"language-bash"},"[root@arm64v8 ~]# cat /var/named/named.{localhost,loopback}\n$TTL 1D\n@   IN SOA  @ rname.invalid. (\n                    0   ; serial\n                    1D  ; refresh\n                    1H  ; retry\n                    1W  ; expire\n                    3H )    ; minimum\n    NS  @\n    A   127.0.0.1\n    AAAA    ::1\n$TTL 1D\n@   IN SOA  @ rname.invalid. (\n                    0   ; serial\n                    1D  ; refresh\n                    1H  ; retry\n                    1W  ; expire\n                    3H )    ; minimum\n    NS  @\n    A   127.0.0.1\n    AAAA    ::1\n    PTR localhost.\n[root@arm64v8 ~]#\n")),(0,l.kt)("p",null,"\u81f3\u6b64\uff0c\u914d\u7f6e\u6587\u4ef6\u548c\u533a\u57df\u6570\u636e\u6587\u4ef6\u90fd\u5df2\u7ecf\u914d\u7f6e\u7ed3\u675f\u4e86\uff0c\u53ef\u4ee5\u542f\u52a8 named \u670d\u52a1\u3002"),(0,l.kt)("pre",null,(0,l.kt)("code",{parentName:"pre",className:"language-bash"},"[root@arm64v8 ~]# systemctl start named.service \n[root@arm64v8 ~]# netstat -tnlup | grep named\ntcp        0      0 127.0.0.1:953           0.0.0.0:*               LISTEN      26161/named         \ntcp        0      0 10.1.1.2:53             0.0.0.0:*               LISTEN      26161/named         \ntcp        0      0 127.0.0.1:53            0.0.0.0:*               LISTEN      26161/named         \ntcp6       0      0 ::1:953                 :::*                    LISTEN      26161/named         \nudp        0      0 10.1.1.2:53             0.0.0.0:*                           26161/named         \nudp        0      0 127.0.0.1:53            0.0.0.0:*                           26161/named         \n[root@arm64v8 ~]#\n")),(0,l.kt)("ul",null,(0,l.kt)("li",{parentName:"ul"},"\u4ece\u7ed3\u679c\u4e2d\u770b\u5230\uff0cnamed \u9ed8\u8ba4\u76d1\u542c\u5728\u6240\u6709\u63a5\u53e3\u7684 tcp \u548c udp \u7684 53 \u7aef\u53e3\u4e0a\uff0c\u4f46\u8fd8\u76d1\u542c\u4e86\u73af\u56de\u5730\u5740\u7684 tcp \u7684 953 \u7aef\u53e3\uff0c\u8fd9\u662f named \u4e3a rndc \u63d0\u4f9b\u7684\u63a7\u5236\u7aef\u53e3\uff0crndc \u662f named \u7684\u8fdc\u7a0b\u63a7\u5236\u5de5\u5177\uff0c\u5728\u540e\u6587\u4f1a\u4e13\u95e8\u4ecb\u7ecd\u5176\u7528\u6cd5\u3002")),(0,l.kt)("h3",{id:"543\u6d4b\u8bd5-dns-\u89e3\u6790"},"5.4.3\u3001\u6d4b\u8bd5 DNS \u89e3\u6790"),(0,l.kt)("p",null,"\u4efb\u627e\u4e00\u53f0\u673a\u5668(\u4e5f\u53ef\u4ee5\u662f dns \u670d\u52a1\u5668\u672c\u8eab)\uff0c\u5c06\u5176 dns \u6307\u5411 dns \u670d\u52a1\u5668\u7684\u76d1\u542c\u5730\u5740\u3002"),(0,l.kt)("p",null,"\u6211\u4eec\u4f7f\u7528 10.1.1.3 \u6d4b\u8bd5\u4e3b\u673a\u6307\u5411 10.1.1.2 DNS \u670d\u52a1\u5668\uff1a"),(0,l.kt)("pre",null,(0,l.kt)("code",{parentName:"pre",className:"language-bash"},"[root@tarmdns ~]# cat /etc/resolv.conf\nnameserver 10.1.1.2\n[root@tarmdns ~]#\n")),(0,l.kt)("p",null,"\u7136\u540e\u4f7f\u7528 nslookup \u547d\u4ee4\u6216 host \u547d\u4ee4\u6216 bind-utils \u5305\u4e2d\u63d0\u4f9b\u7684 dig \u547d\u4ee4\u6765\u6d4b\u8bd5\u80fd\u5426\u89e3\u6790 brinnatt.com \u8fd9\u4e2a\u57df\u76f8\u5173\u6570\u636e\u3002\u5efa\u8bae\u4f7f\u7528 dig \u547d\u4ee4\uff0c\u56e0\u4e3a host \u592a\u7b80\u964b\uff0cnslookup \u5728\u67d0\u4e9b\u60c5\u51b5\u4e0b\u6709\u7f3a\u9677\uff0cdig \u547d\u4ee4\u5219\u76f8\u5bf9\u66f4\u5b8c\u7f8e\u4e9b\u3002dig \u547d\u4ee4\u7684\u7528\u6cd5\u8bf7\u53c2\u89c1 man \u6587\u6863\u3002"),(0,l.kt)("p",null,"\u4f8b\u5982\uff0c\u89e3\u6790 brinnatt.com \u57df\u4e2d\u7684\u4e3b\u673a www \u7684 A \u8bb0\u5f55\uff1a"),(0,l.kt)("pre",null,(0,l.kt)("code",{parentName:"pre",className:"language-bash"},"[root@tarmdns ~]# dig -t A www.brinnatt.com\n\n; <<>> DiG 9.11.4-P2-9.11.4-13.ky10 <<>> -t A www.brinnatt.com\n;; global options: +cmd\n;; Got answer:\n;; ->>HEADER<<- opcode: QUERY, status: NOERROR, id: 15013\n;; flags: qr aa rd ra; QUERY: 1, ANSWER: 1, AUTHORITY: 1, ADDITIONAL: 2\n\n;; OPT PSEUDOSECTION:\n; EDNS: version: 0, flags:; udp: 4096\n;; QUESTION SECTION:\n;www.brinnatt.com.              IN  A\n\n;; ANSWER SECTION:\nwww.brinnatt.com.       21600   IN  A   10.1.1.116\n\n;; AUTHORITY SECTION:\nbrinnatt.com.           21600   IN  NS  dnsserver.brinnatt.com.\n\n;; ADDITIONAL SECTION:\ndnsserver.brinnatt.com. 21600   IN  A   10.1.1.2\n\n;; Query time: 0 msec\n;; SERVER: 10.1.1.2#53(10.1.1.2)\n;; WHEN: \u516d 10\u6708 16 18:12:41 CST 2021\n;; MSG SIZE  rcvd: 101\n\n[root@tarmdns ~]#\n")),(0,l.kt)("ul",null,(0,l.kt)("li",{parentName:"ul"},'"QUESTION SECTION" \u8868\u793a\u6240\u53d1\u8d77\u7684\u67e5\u8be2\uff0c\u8868\u793a\u8981\u67e5\u8be2 "',(0,l.kt)("a",{parentName:"li",href:"http://www.brinnatt.com.%22"},'www.brinnatt.com."')," \u7684 A \u8bb0\u5f55\u3002"),(0,l.kt)("li",{parentName:"ul"},'"ANSWER SECTION" \u8868\u793a\u5bf9\u67e5\u8be2\u7684\u56de\u590d\u3002\u56de\u590d\u7684\u7ed3\u679c\u662f "',(0,l.kt)("a",{parentName:"li",href:"http://www.brinnatt.com.%22"},'www.brinnatt.com."'),' \u7684 A \u8bb0\u5f55\u503c\u4e3a "10.1.1.116"\uff0c\u8fd9\u6b63\u662f dig \u6240\u671f\u671b\u7684\u7ed3\u679c\u3002'),(0,l.kt)("li",{parentName:"ul"},'"AUTHORITY SECTION" \u8868\u793a\u8be5\u67e5\u8be2\u662f\u6743\u5a01\u670d\u52a1\u5668\u7ed9\u7684\u7b54\u6848\uff0c\u5e76\u7ed9\u51fa\u4e86\u6743\u5a01\u670d\u52a1\u5668\u7684 ns \u8bb0\u5f55\u3002\u5728\u6b64\u4f8b\u4e2d\uff0c"',(0,l.kt)("a",{parentName:"li",href:"http://www.brinnatt.com%22"},'www.brinnatt.com"'),' \u4e3b\u673a\u6240\u5728\u7684\u57df "brinnatt.com" \u7684\u6743\u5a01\u670d\u52a1\u5668\u4e3a "dnsserver.brinnatt.com."\u3002\u5982\u679c\u6ca1\u6709\u8be5\u6bb5\uff0c\u8868\u793a\u975e\u6743\u5a01\u5e94\u7b54\u3002'),(0,l.kt)("li",{parentName:"ul"},'"ADDITIONAL SECTION" \u6bb5\u662f\u989d\u5916\u7684\u56de\u590d\uff0c\u56de\u590d\u7684\u5185\u5bb9\u662f\u6743\u5a01\u670d\u52a1\u5668\u7684 A \u8bb0\u5f55\u3002')),(0,l.kt)("p",null,"\u8fd8\u53ef\u4ee5\u6d4b\u8bd5 ns \u8bb0\u5f55\u3001soa \u8bb0\u5f55\u3001cname \u8bb0\u5f55\u7b49\u3002"),(0,l.kt)("p",null,"\u4e0d\u8fc7\u9700\u8981\u6ce8\u610f\u7684\u662f soa \u8bb0\u5f55\u548c ns \u8bb0\u5f55\u67e5\u8be2\u7684\u5bf9\u8c61\u662f\u57df\u540d\u800c\u4e0d\u662f\u4e3b\u673a\u540d\uff0c\u800c CNAME \u8bb0\u5f55\u7684\u5bf9\u8c61\u5219\u5fc5\u987b\u662f\u4e3b\u673a\u540d\u3002"),(0,l.kt)("pre",null,(0,l.kt)("code",{parentName:"pre",className:"language-bash"},"[root@tarmdns ~]# dig -t ns brinnatt.com\n[root@tarmdns ~]# dig -t soa brinnatt.com\n[root@tarmdns ~]# dig -t cname www1.brinnatt.com\n")),(0,l.kt)("h2",{id:"55\u914d\u7f6e\u53cd\u5411\u67e5\u627e\u533a\u57df"},"5.5\u3001\u914d\u7f6e\u53cd\u5411\u67e5\u627e\u533a\u57df"),(0,l.kt)("p",null,"\u53cd\u5411\u67e5\u627e\u662f\u6839\u636e ip \u5730\u5740\u67e5\u627e\u5176\u5bf9\u5e94\u7684\u4e3b\u673a\u540d\u3002\u5728 /etc/named.conf \u4e2d\uff0c\u9700\u8981\u5b9a\u4e49 ",(0,l.kt)("inlineCode",{parentName:"p"},"zone *.in-addr.arpa"),"\uff0c\u5176\u4e2d ",(0,l.kt)("inlineCode",{parentName:"p"},"*")," \u662f\u70b9\u5206\u5341\u8fdb\u5236 ip \u7684\u53cd\u5199\uff0c\u53ef\u4ee5\u662f\u53cd\u5199 ip \u540e\u7684\u4efb\u610f\u4e00\u6bb5\u957f\u5ea6\u3002"),(0,l.kt)("p",null,'\u4f8b\u5982 127.0.0.1 \u53cd\u5199\u540e\u662f 1.0.0.127\uff0c\u6240\u4ee5 zone \u6240\u5b9a\u4e49\u7684\u53ef\u4ee5\u662f "1.0.0.127"\u3001"0.0.127"\u3001"0.127"\uff0c\u751a\u81f3\u662f "127"\uff0c\u957f\u5ea6\u4f4d\u6570\u4e0d\u540c\uff0c\u5728\u533a\u57df\u6570\u636e\u6587\u4ef6\u4e2d\u9700\u8981\u8865\u5168\u7684\u6570\u503c\u5c31\u4e0d\u540c\u3002'),(0,l.kt)("p",null,"\u53e6\u5916\uff0c\u53cd\u5411\u67e5\u627e\u533a\u57df\u7684\u5404\u79cd\u7f13\u5b58\u65f6\u95f4\u53ef\u4ee5\u90fd\u8bbe\u7f6e\u957f\u4e00\u70b9\uff0c\u56e0\u4e3a\u7528\u7684\u4e0d\u591a\u3002"),(0,l.kt)("p",null,"\u5c31\u4ee5 127.0.0.1 \u89e3\u6790\u4e3a localhost \u4e3a\u4f8b\u3002"),(0,l.kt)("p",null,"\u5728 /etc/named.rfc1912.zones \u4e2d\u5df2\u6709\u8fd9\u6837\u4e00\u6bb5\uff1a"),(0,l.kt)("pre",null,(0,l.kt)("code",{parentName:"pre",className:"language-bash"},'zone "1.0.0.127.in-addr.arpa" IN {\n       type master;\n       file "named.loopback";\n       allow-update { none; };\n};\n')),(0,l.kt)("p",null,"\u5176\u533a\u57df\u6570\u636e\u6587\u4ef6 /var/named/named.loopback \u5185\u5bb9\u5982\u4e0b\uff1a"),(0,l.kt)("pre",null,(0,l.kt)("code",{parentName:"pre",className:"language-bash"},"[root@tarmdns ~]# cat /var/named/named.loopback\n$TTL 1D\n@   IN SOA  @ rname.invalid. (\n                    0   ; serial\n                    1D  ; refresh\n                    1H  ; retry\n                    1W  ; expire\n                    3H )    ; minimum\n    NS      @\n    A       127.0.0.1\n    AAAA    ::1\n    PTR     localhost.\n[root@tarmdns ~]#\n")),(0,l.kt)("p",null,"\u793a\u4f8b 1\uff1a\u5c06 DNS \u670d\u52a1\u5668\u4e2d /etc/named.rfc1912.zones \u4e2d\u5c06 1.0.0.127.in-addr.arpa \u533a\u57df\u7684\u914d\u7f6e\u6ce8\u91ca\u6389\uff0c\u6539\u4e3a\u5982\u4e0b\u5185\u5bb9\uff1a"),(0,l.kt)("pre",null,(0,l.kt)("code",{parentName:"pre",className:"language-bash"},'zone "0.127.in-addr.arpa" IN {\n        type master;\n        file "named.loopback.test";\n        allow-update { none; };\n};\n')),(0,l.kt)("p",null,"\u7136\u540e\u4e66\u5199\u5176\u533a\u57df\u6570\u636e\u6587\u4ef6 /var/named/named.loopback.test\uff1a"),(0,l.kt)("pre",null,(0,l.kt)("code",{parentName:"pre",className:"language-bash"},"$TTL 1D\n@    IN    SOA     1.0    rname.invalid. ( 0 1D 1H 1W 3H )  \n           NS      1.0.0.127.in-addr.arpa.\n1.0        A       127.0.0.1\n1.0        PTR     arm64v8.\n")),(0,l.kt)("ul",null,(0,l.kt)("li",{parentName:"ul"},'\u5728\u4e0a\u8ff0\u914d\u7f6e\u4e2d\uff0c\u7279\u610f\u5c06 1.0 \u7684 ptr \u8bb0\u5f55\u5199\u6210\u4e86 "arm64v8."\uff0c\u8fd9\u6837\u67e5\u8be2 1.0.0.127 \u7684\u4e3b\u673a\u540d\u65f6\uff0c\u5c06\u5f97\u5230 arm64v8 \u800c\u4e0d\u662f localhost\u3002')),(0,l.kt)("p",null,'\u4fee\u6539\u5c5e\u7ec4\u3001\u6743\u9650\u540e\u91cd\u542f named\uff0c\u5e76\u4f7f\u7528 dig -x \u6d4b\u8bd5\uff0cdig \u7684 "-x" \u9009\u9879\u4e13\u95e8\u7528\u4e8e\u53cd\u5411\u67e5\u627e\u3002'),(0,l.kt)("pre",null,(0,l.kt)("code",{parentName:"pre",className:"language-bash"},"[root@tarmdns ~]# chown root:named /var/named/named.loopback.test \n[root@tarmdns ~]# chmod 640 /var/named/named.loopback.test\n[root@tarmdns ~]# systemctl restart named\n[root@tarmdns ~]#\n")),(0,l.kt)("pre",null,(0,l.kt)("code",{parentName:"pre",className:"language-bash"},"[root@arm64v8 ~]# dig -x 127.0.0.1\n\n; <<>> DiG 9.9.4-RedHat-9.9.4-74.el7_6.1 <<>> -x 127.0.0.1\n;; global options: +cmd\n;; Got answer:\n;; ->>HEADER<<- opcode: QUERY, status: NOERROR, id: 57502\n;; flags: qr aa rd ra; QUERY: 1, ANSWER: 1, AUTHORITY: 1, ADDITIONAL: 2\n\n;; OPT PSEUDOSECTION:\n; EDNS: version: 0, flags:; udp: 4096\n;; QUESTION SECTION:\n;1.0.0.127.in-addr.arpa.        IN  PTR\n\n;; ANSWER SECTION:\n1.0.0.127.in-addr.arpa. 86400   IN  PTR arm64v8.\n\n;; AUTHORITY SECTION:\n0.127.in-addr.arpa.     86400   IN  NS  1.0.0.127.in-addr.arpa.\n\n;; ADDITIONAL SECTION:\n1.0.0.127.in-addr.arpa. 86400   IN  A   127.0.0.1\n\n;; Query time: 0 msec\n;; SERVER: 10.1.1.2#53(10.1.1.2)\n;; WHEN: Sat Oct 16 08:57:55 EDT 2021\n;; MSG SIZE  rcvd: 102\n\n[root@arm64v8 ~]#\n")),(0,l.kt)("p",null,"\u793a\u4f8b 2\uff1a\u914d\u7f6e brinnatt.com \u4e2d\u4e3b\u673a\u7684\u53cd\u5411\u89e3\u6790\u533a\u57df\uff0c\u7531\u4e8e\u5728\u5b9e\u9a8c\u8fc7\u7a0b\u4e2d\uff0c\u8be5\u57df\u4e2d\u7684\u4e3b\u673a\u5730\u5740\u90fd\u662f 10.1.1.0/24 \u7f51\u6bb5\u5185\u7684\u4e3b\u673a\uff0c\u6240\u4ee5\u53ea\u9700\u8981\u914d\u7f6e\u4e00\u4e2a 1.1.10.in-addr.arpa \u53cd\u5411\u67e5\u627e\u533a\u57df\u5373\u53ef\uff0c\u5982\u679c\u57df\u5185\u4e3b\u673a\u8de8\u4e86\u591a\u4e2a\u7f51\u6bb5\uff0c\u4f8b\u5982 10.1.1.0/24 \u548c 192.168.1.0/24\uff0c\u5219\u9700\u8981\u914d\u7f6e\u4e24\u4e2a\u53cd\u5411\u67e5\u627e\u533a\u57df\u3002"),(0,l.kt)("pre",null,(0,l.kt)("code",{parentName:"pre",className:"language-bash"},'[root@arm64v8 ~]# cat /etc/named.conf\noptions {\n    directory "/var/named";\n};\n\nzone "brinnatt.com" {\n    type master;\n    file "db.brinnatt.com";\n};\n\nzone "1.1.10.in-addr.arpa" in {\n    type master;\n    file "db.1.1.10";\n};\n\nzone "." IN {\n    type hint;\n    file "named.ca";\n};\n\ninclude "/etc/named.rfc1912.zones";\n[root@arm64v8 ~]#\n')),(0,l.kt)("pre",null,(0,l.kt)("code",{parentName:"pre",className:"language-bash"},"[root@arm64v8 ~]# cat /var/named/db.1.1.10\n$TTL 1D\n@    IN   SOA   2   xyz.brinnatt.com. ( 0 1D 1H 1W 3H )\n     IN   NS    dnsserver.brinnatt.com.\n2    IN   PTR   dnsserver.brinnatt.com.\n116  IN   PTR   www.brinnatt.com.\n117  IN   PTR   ftp.brinnatt.com.\n118  IN   PTR   mydb.brinnatt.com.\n[root@arm64v8 ~]#\n")),(0,l.kt)("p",null,"\u91cd\u542f named\uff0c\u7136\u540e\u4f7f\u7528 dig -x \u6d4b\u8bd5\u3002"),(0,l.kt)("pre",null,(0,l.kt)("code",{parentName:"pre",className:"language-bash"},"[root@arm64v8 ~]# chown root:named /var/named/db.1.1.10 \n[root@arm64v8 ~]# chmod 640 /var/named/db.1.1.10 \n[root@arm64v8 ~]# systemctl restart named\n")),(0,l.kt)("pre",null,(0,l.kt)("code",{parentName:"pre",className:"language-bash"},"[root@arm64v8 ~]# dig -x 10.1.1.118\n\n; <<>> DiG 9.9.4-RedHat-9.9.4-74.el7_6.1 <<>> -x 10.1.1.118\n;; global options: +cmd\n;; Got answer:\n;; ->>HEADER<<- opcode: QUERY, status: NOERROR, id: 5472\n;; flags: qr aa rd ra; QUERY: 1, ANSWER: 1, AUTHORITY: 1, ADDITIONAL: 2\n\n;; OPT PSEUDOSECTION:\n; EDNS: version: 0, flags:; udp: 4096\n;; QUESTION SECTION:\n;118.1.1.10.in-addr.arpa.   IN  PTR\n\n;; ANSWER SECTION:\n118.1.1.10.in-addr.arpa. 86400  IN  PTR mydb.brinnatt.com.\n\n;; AUTHORITY SECTION:\n1.1.10.in-addr.arpa.    86400   IN  NS  dnsserver.brinnatt.com.\n\n;; ADDITIONAL SECTION:\ndnsserver.brinnatt.com. 21600   IN  A   10.1.1.2\n\n;; Query time: 0 msec\n;; SERVER: 10.1.1.2#53(10.1.1.2)\n;; WHEN: Sat Oct 16 09:50:52 EDT 2021\n;; MSG SIZE  rcvd: 123\n\n[root@arm64v8 ~]#\n")),(0,l.kt)("h2",{id:"56\u914d\u7f6e-\u4ec5\u7f13\u5b58-dns-\u670d\u52a1\u5668"},'5.6\u3001\u914d\u7f6e "\u4ec5\u7f13\u5b58" DNS \u670d\u52a1\u5668'),(0,l.kt)("p",null,"\u4ec5\u7528\u4f5c\u63d0\u4f9b\u7f13\u5b58\u7684 dns \u670d\u52a1\u5668\uff0c\u5f53\u6709\u5ba2\u6237\u7aef\u8bf7\u6c42\u8be5 dns \u670d\u52a1\u5668\u5e2e\u5fd9\u89e3\u6790\u67d0\u4e2a\u5730\u5740\u65f6\uff0c\u5b83\u4e0d\u4f1a\u76f4\u63a5\u4e3a\u5916\u754c\u4e3b\u673a\u63d0\u4f9b dns \u89e3\u6790\uff0c\u800c\u662f\u81ea\u5df1\u53bb\u627e\u5176\u4ed6 dns \u670d\u52a1\u5668\u89e3\u6790\uff0c\u5e76\u5c06\u7ed3\u679c\u7f13\u5b58\u5728\u672c\u5730\uff0c\u5e76\u5c06\u7f13\u5b58\u7ed3\u679c\u63d0\u4f9b\u7ed9\u5ba2\u6237\u7aef\u3002"),(0,l.kt)("p",null,"\u4e5f\u5c31\u662f\u8bf4\uff0c\u4ec5\u7f13\u5b58 dns \u670d\u52a1\u5668\u5176\u5b9e\u626e\u6f14\u7684\u89d2\u8272\u548c\u5ba2\u6237\u7aef\u4e00\u6837\uff0c\u53ea\u4e0d\u8fc7\u5b83\u8fd8\u672a\u5176\u4ed6\u5ba2\u6237\u7aef\u63d0\u4f9b\u89e3\u6790\u67e5\u8be2\u800c\u5df2\u3002"),(0,l.kt)("p",null,'\u8981\u914d\u7f6e\u4ec5\u7f13\u5b58 dns \u670d\u52a1\u5668\uff0c\u53ea\u8981\u914d\u7f6e 3 \u4e2a\u4efb\u4f55\u65f6\u5019\u90fd\u5fc5\u8981\u7684\u57df\uff1a\u6839\u57df "."\u3001"localhost" \u57df\u548c "1.0.0.127.in-addr.arpa"\u3002\u4e5f\u5c31\u662f\u8bf4\uff0c\u4efb\u4f55\u4e00\u53f0\u5b8c\u6574\u7684 dns \u670d\u52a1\u5668\uff0c\u81f3\u5c11\u90fd\u662f "\u7f13\u5b58" \u670d\u52a1\u5668\u3002'),(0,l.kt)("p",null,"\u6240\u4ee5\uff0c\u4ec5\u7f13\u5b58 dns \u670d\u52a1\u5668\u914d\u7f6e\u5982\u4e0b\uff1a"),(0,l.kt)("pre",null,(0,l.kt)("code",{parentName:"pre",className:"language-bash"},'[root@arm64v8 ~]# cat /etc/named.conf\noptions {\n    directory "/var/named";\n};\n\n/*\nzone "brinnatt.com" {\n    type master;\n    file "db.brinnatt.com";\n};\n\nzone "1.1.10.in-addr.arpa" in {\n    type master;\n    file "db.1.1.10";\n};\n*/\n\nzone "." IN {\n    type hint;\n    file "named.ca";\n};\n\ninclude "/etc/named.rfc1912.zones";\n[root@arm64v8 ~]#\n')),(0,l.kt)("p",null,"\u5176\u4ed6\u7684\u91c7\u7528\u9ed8\u8ba4\u5373\u53ef\u3002dig \u6d4b\u8bd5\u65f6\uff0c\u5982\u4f55\u533a\u5206\u662f\u5426\u662f\u7531\u7f13\u5b58\u7ed9\u7b54\u6848\u8fd8\u662f\u89e3\u6790\u540e\u7ed9\u7b54\u6848\uff0c\u6709\u4e9b\u65f6\u5019\u4e0d\u662f\u5f88\u597d\u5224\u65ad\uff0c\u4f46\u5982\u679c\u4ec5\u4ec5\u662f\u6d4b\u8bd5\u4ec5\u7f13\u5b58\u670d\u52a1\u5668\u7684\u7f13\u5b58\u6548\u679c\uff0c\u65b9\u6cd5\u8fd8\u662f\u5f88\u7b80\u5355\u7684\u3002"),(0,l.kt)("p",null,"\u4f8b\u5982\uff0c\u5c06\u4e0a\u8ff0 dns \u670d\u52a1\u5668\u6307\u5411 8.8.8.8\uff0c\u53e6\u627e\u4e00\u53f0\u673a\u5668\uff0c\u6267\u884c dig \u547d\u4ee4\uff0c\u5e76\u660e\u786e\u6307\u5b9a\u4f7f\u7528\u8be5\u7f13\u5b58 dns \u670d\u52a1\u5668\u6765\u5e2e\u5fd9\u89e3\u6790\u3002\u4f8b\u5982\uff0cdig \u4e00\u4e0b www1.baidu.com \u7684\u522b\u540d\u8bb0\u5f55\u3002"),(0,l.kt)("pre",null,(0,l.kt)("code",{parentName:"pre",className:"language-bash"},"[root@tarmdns ~]# dig -t cname www1.baidu.com @10.1.1.2\n\n; <<>> DiG 9.11.4-P2-9.11.4-13.ky10 <<>> -t cname www1.baidu.com @10.1.1.2\n;; global options: +cmd\n;; Got answer:\n;; ->>HEADER<<- opcode: QUERY, status: NOERROR, id: 57653\n;; flags: qr rd ra; QUERY: 1, ANSWER: 1, AUTHORITY: 0, ADDITIONAL: 1\n\n;; OPT PSEUDOSECTION:\n; EDNS: version: 0, flags:; udp: 4096\n;; QUESTION SECTION:\n;www1.baidu.com.            IN  CNAME\n\n;; ANSWER SECTION:\nwww1.baidu.com.     3346    IN  CNAME   www.baidu.com.\n\n;; Query time: 44 msec\n;; SERVER: 10.1.1.2#53(10.1.1.2)\n;; WHEN: \u516d 10\u6708 16 22:10:26 CST 2021\n;; MSG SIZE  rcvd: 61\n")),(0,l.kt)("ul",null,(0,l.kt)("li",{parentName:"ul"},"\u67e5\u8be2\u6d88\u8017\u4e86 44 \u6beb\u79d2\u3002\u518d\u6b21\u6267\u884c\u4e0a\u9762\u7684 dig\uff0c\u53d1\u73b0\u67e5\u8be2\u65f6\u95f4\u4e00\u5b9a\u662f 0 \u6beb\u79d2\uff0c\u56e0\u4e3a\u662f\u7f13\u5b58\u7ed9\u7684\u7b54\u6848\u3002")),(0,l.kt)("h2",{id:"57\u914d\u7f6e-dns-\u8f6c\u53d1\u670d\u52a1\u5668"},"5.7\u3001\u914d\u7f6e DNS \u8f6c\u53d1\u670d\u52a1\u5668"),(0,l.kt)("p",null,"\u914d\u7f6e\u6210\u4e86\u8f6c\u53d1\u670d\u52a1\u5668\uff0cnamed.conf \u91cc\u6240\u6709\u7684 zone \u90fd\u5c06\u5931\u6548(\u9664\u975e\u914d\u7f6e\u8f6c\u53d1\u533a\u548c\u7a7a\u8f6c\u53d1\u533a)\uff0c\u4e5f\u5c31\u662f\u4e0d\u4f1a\u518d\u505a\u4efb\u4f55\u89e3\u6790\uff08\u5305\u62ec\u5bf9\u6839\u7684\u67e5\u8be2\uff09\uff0c\u6536\u5230\u7684\u89e3\u6790\u8bf7\u6c42\u5168\u90fd\u63d0\u4ea4\u7ed9\u8f6c\u53d1\u9009\u9879\u91cc\u6307\u5b9a\u7684\u673a\u5668\uff0c\u8f6c\u53d1\u9009\u9879\u6240\u6307\u5b9a\u7684\u673a\u5668\u79f0\u4e3a\u8f6c\u53d1\u5668\u3002\u8f6c\u53d1\u5668\u8fd8\u53ef\u4ee5\u6307\u5b9a\u7ed9\u4e0a\u4e00\u5c42\u3002"),(0,l.kt)("p",null,"\u4f8b\u5982\uff0c\u65b0\u6dfb\u52a0\u4e00\u53f0 dns \u670d\u52a1\u5668 10.1.1.3\uff0c\u8bbe\u7f6e\u5176\u4e3a\u8f6c\u53d1\u8005\uff0c\u5176\u8f6c\u53d1\u5668\u4e3a 10.1.1.2\uff0c\u5982\u4e0b\u56fe\u3002"),(0,l.kt)("p",null,(0,l.kt)("img",{alt:"dns forward",src:a(26361).Z,width:"869",height:"384"})),(0,l.kt)("p",null,"\u914d\u7f6e\u8f6c\u53d1\u5668\u7684\u65b9\u5f0f\u6781\u5176\u7b80\u5355\uff0c\u53ea\u9700\u5728 10.1.1.3 \u8fd9\u53f0 dns \u670d\u52a1\u5668\u4e0a /etc/named.conf \u4e2d\u7684 options \u4e2d\u4f7f\u7528\u4e00\u4e2a forwarders \u6307\u4ee4\u3002\u5176\u5b9e\u8fd8\u9700\u52a0\u4e0a forward \u6307\u4ee4\uff0c\u53ea\u4e0d\u8fc7\u73b0\u5728\u91c7\u53d6\u5176\u9ed8\u8ba4\u503c\uff0c\u6240\u4ee5\u7701\u7565\u5b83\u3002/etc/named.conf \u5185\u5bb9\u5982\u4e0b\uff1a"),(0,l.kt)("pre",null,(0,l.kt)("code",{parentName:"pre",className:"language-bash"},'options {\n    directory "/var/named";\n    forwarders { 10.1.1.2; }; \n};\ninclude "/etc/named.rfc1912.zones";\n')),(0,l.kt)("ul",null,(0,l.kt)("li",{parentName:"ul"},"\u8fd9\u8868\u793a\u5c06 10.1.1.3 \u6536\u5230\u7684\u6240\u6709\u67e5\u8be2\u8bf7\u6c42\u90fd\u4ea4\u7ed9 10.1.1.2 \u8fd9\u53f0\u8f6c\u53d1\u5668\uff0c\u7531\u8fd9\u53f0\u8f6c\u53d1\u5668\u5e2e\u5fd9\u67e5\u8be2\u76f8\u5173\u8bf7\u6c42\uff0c\u7136\u540e\u56de\u590d\u7ed9\u8f6c\u53d1\u8005\uff0c\u7531\u8f6c\u53d1\u8005\u56de\u590d\u7ed9\u5ba2\u6237\u7aef\u3002"),(0,l.kt)("li",{parentName:"ul"},'\u5982\u679c\u8981\u6307\u5b9a\u591a\u4e2a\u8f6c\u53d1\u5668\uff0c\u8fd9\u4f7f\u7528\u5206\u53f7\u5206\u9694\u5404\u8f6c\u53d1\u5668\u5730\u5740\uff0c\u5982 "forwarders { 10.1.1.3;10.1.1.4; }"\u3002')),(0,l.kt)("p",null,"\u793a\u4f8b\uff1a\u524d\u6587\u5728 10.1.1.2 \u4e0a\u5df2\u7ecf\u914d\u7f6e\u4e86 brinnatt.com \u57df\u7684\u57df\u6570\u636e\uff0c\u4f8b\u5982 ",(0,l.kt)("a",{parentName:"p",href:"http://www.brinnatt.com"},"www.brinnatt.com")," \u4e3b\u673a\u7684 A \u8bb0\u5f55\u3002\u6b64\u65f6\u627e\u53f0\u5ba2\u6237\u7aef\uff0c\u8ba9\u5176 dns \u6307\u5411\u8f6c\u53d1\u8005 10.1.1.3\uff0c\u7136\u540e\u53d1\u8d77 ",(0,l.kt)("a",{parentName:"p",href:"http://www.brinnatt.com"},"www.brinnatt.com")," \u7684 A \u8bb0\u5f55\u67e5\u8be2\u8bf7\u6c42\uff0c\u5982\u679c\u80fd\u8fd4\u56de\u5f97\u5230 10.1.1.2 \u4e3b\u673a\u4e0a\u6240\u914d\u7f6e\u7684\u57df\u6570\u636e\uff0c\u5219\u8868\u660e\u8f6c\u53d1\u6210\u529f\u3002"),(0,l.kt)("pre",null,(0,l.kt)("code",{parentName:"pre",className:"language-bash"},"[root@tarmdns ~]# dig -t A www.brinnatt.com @10.1.1.3\n\n; <<>> DiG 9.11.4-P2-9.11.4-13.ky10 <<>> -t A www.brinnatt.com @10.1.1.3\n;; global options: +cmd\n;; Got answer:\n;; ->>HEADER<<- opcode: QUERY, status: NOERROR, id: 64956\n;; flags: qr rd ra; QUERY: 1, ANSWER: 1, AUTHORITY: 0, ADDITIONAL: 1\n\n;; OPT PSEUDOSECTION:\n; EDNS: version: 0, flags:; udp: 4096\n; COOKIE: d2953fe0c499a1c0458b114d616b7b379c62d458aeeaf7ca (good)\n;; QUESTION SECTION:\n;www.brinnatt.com.      IN  A\n\n;; ANSWER SECTION:\nwww.brinnatt.com.   21600   IN  A   10.1.1.116\n\n;; Query time: 1 msec\n;; SERVER: 10.1.1.3#53(10.1.1.3)\n;; WHEN: \u65e5 10\u6708 17 09:24:07 CST 2021\n;; MSG SIZE  rcvd: 89\n\n[root@tarmdns ~]#\n")),(0,l.kt)("p",null,(0,l.kt)("em",{parentName:"p"},"\u6ce8\u610f\uff1a\u8003\u8651\u4e00\u79cd\u7279\u6b8a\u60c5\u51b5\uff0c\u5982\u679c\u8f6c\u53d1\u5668\u65e0\u6cd5\u67e5\u8be2\u5230\u7ed3\u679c\uff0c\u4e5f\u5c31\u662f\u8bf4\u8f6c\u53d1\u8005\u83b7\u53d6\u4e0d\u5230\u6765\u81ea\u8f6c\u53d1\u5668\u7684\u7b54\u6848\uff0c\u5219\u8f6c\u53d1\u8005\u81ea\u5df1\u4e5f\u4f1a\u53bb\u67e5\u8be2\u3002\u4e5f\u5c31\u662f\u8bf4\uff0c\u5982\u679c\u8f6c\u53d1\u5668\u65e0\u6cd5\u63d0\u4f9b\u7b54\u6848\u65f6\uff0c\u8f6c\u53d1\u8005\u4e2d\u95f4\u4f1a\u95f4\u9694\u4e00\u6bb5\u7b49\u5f85\u65f6\u95f4\u3002")),(0,l.kt)("p",null,'\u5f53\u7136\uff0c\u8fd8\u5b58\u5728\u4e00\u79cd\u9650\u5236\u6027\u6781\u5927\u7684 "\u4ec5\u8f6c\u53d1" dns \u670d\u52a1\u5668\uff0c\u5b83\u53ea\u8f6c\u53d1\uff0c\u5373\u4f7f\u83b7\u53d6\u4e0d\u5230\u8f6c\u53d1\u5668\u7684\u56de\u590d\uff0c\u4e5f\u4e0d\u4f1a\u81ea\u5df1\u53bb\u67e5\u8be2\u3002\u8981\u914d\u7f6e\u6210 "\u4ec5\u8f6c\u53d1" dns \u670d\u52a1\u5668\uff0c\u53ea\u9700\u52a0\u4e0a "forward only" \u6307\u4ee4\u5373\u53ef\u3002\u800c\u524d\u9762\u6240\u8bf4\u7684\u60c5\u51b5\u5219\u662f "forward first"\uff0c\u5148\u8f6c\u53d1\uff0c\u8f6c\u53d1\u5931\u8d25\u65f6\u81ea\u884c\u67e5\u8be2\uff0c\u53ea\u4e0d\u8fc7\u8fd9\u662f\u9ed8\u8ba4\u503c\uff0c\u53ef\u4ee5\u7701\u7565\u3002'),(0,l.kt)("pre",null,(0,l.kt)("code",{parentName:"pre",className:"language-bash"},'options {\n    directory "/var/named";\n    forwarders { 10.1.1.2; };\n    forward only;\n};\ninclude /etc/named.rfc1912.zones;\n')),(0,l.kt)("ul",null,(0,l.kt)("li",{parentName:"ul"},"\u5176\u5b9e\uff0c\u914d\u7f6e\u6210\u4ec5\u8f6c\u53d1 dns \u670d\u52a1\u5668\u65f6\uff0c\u9664\u4e86 forward \u548c forwarder \u6307\u4ee4\uff0c\u5176\u4ed6\u7684\u4e00\u5207\u6307\u4ee4\u90fd\u53ef\u4ee5\u7701\u7565\uff0c\u5373\u4f7f\u662f direcotry \u6307\u4ee4\u3002\u56e0\u4e3a\u4ec5\u8f6c\u53d1 dns \u670d\u52a1\u5668\u6839\u672c\u7528\u4e0d\u4e0a\u4efb\u4f55\u533a\u57df\uff0c\u6240\u6709\u7684\u67e5\u8be2\u8bf7\u6c42\u5305\u62ec localhost \u8fd9\u6837\u7684\u8bf7\u6c42\u90fd\u4f1a\u8f6c\u53d1\u3002\u6240\u4ee5\u4e0a\u8ff0\u914d\u7f6e\u53ef\u7b80\u5316\u4e3a\uff1a",(0,l.kt)("pre",{parentName:"li"},(0,l.kt)("code",{parentName:"pre",className:"language-bash"},"options {\n  forwarders { 10.1.1.2; };\n  forward only;\n};\n"))),(0,l.kt)("li",{parentName:"ul"},"\u4e5f\u8bb8\u4f60\u5df2\u7ecf\u611f\u53d7\u5230\u4e86\uff0c\u51e0\u4e4e\u4e0d\u4f1a\u53bb\u914d\u7f6e\u4ec5\u8f6c\u53d1 dns \u670d\u52a1\u5668\u3002\u5b9e\u9645\u4e0a\uff0c\u64cd\u4f5c\u7cfb\u7edf\u4e2d\u8bbe\u7f6e dns \u6307\u5411\u7684\u5730\u65b9\uff0c\u5c31\u662f\u5728\u8bbe\u7f6e\u4ec5\u8f6c\u53d1\u529f\u80fd\uff0c\u4f8b\u5982 /etc/resolv.conf \u6587\u4ef6\u4e2d\u6240\u8bbe\u7f6e\u7684 nameserver\uff0c\u8fd9\u5c31\u662f\u4ec5\u8f6c\u53d1\u529f\u80fd\u3002\n")),(0,l.kt)("p",null,"\u9700\u8981\u6ce8\u610f\u7684\u4e00\u70b9\u662f\uff0c",(0,l.kt)("strong",{parentName:"p"},"\u8f6c\u53d1\u8005\u8f6c\u53d1\u7ed9\u8f6c\u53d1\u5668\u7684\u67e5\u8be2\u662f\u9012\u5f52\u67e5\u8be2\uff0c\u8f6c\u53d1\u5668\u5fc5\u987b\u8981\u4eb2\u81ea\u56de\u590d\u8f6c\u53d1\u8005"),"\uff0c\u4e5f\u5c31\u662f\u8bf4\u8f6c\u53d1\u8005\u5176\u5b9e\u5c31\u76f8\u5f53\u4e8e\u4e00\u4e2a\u5ba2\u6237\u7aef\u3002"),(0,l.kt)("p",null,"\u5176\u5b9e\uff0c\u4e0a\u8ff0\u6240\u8ff0\u7684\u60c5\u51b5\u662f\u4f20\u7edf\u7684\u8f6c\u53d1\u529f\u80fd\uff1a\u914d\u7f6e\u5728 options \u4e2d\u7684\u8f6c\u53d1\u6307\u4ee4\uff0c\u53ea\u80fd\u4f5c\u7528\u4e8e\u5168\u5c40\uff0c\u4e5f\u5c31\u662f\u8bf4\u65e0\u8bba\u5bf9\u54ea\u4e2a\u57df\u7684\u67e5\u8be2\uff0c\u90fd\u5168\u90e8\u8f6c\u53d1\u51fa\u53bb\u3002\u5728 bind 9.1 \u4e4b\u540e\uff0c",(0,l.kt)("strong",{parentName:"p"},"\u53ef\u4ee5\u914d\u7f6e\u65b0\u7684\u8f6c\u53d1\u529f\u80fd\u2014\u2014\u8f6c\u53d1\u533a\uff0c\u53ea\u6709\u6307\u5b9a\u7684\u533a\u57df\u7684\u67e5\u8be2\u8bf7\u6c42\u624d\u4f1a\u8f6c\u53d1\u51fa\u53bb"),"\u3002"),(0,l.kt)("p",null,"\u8f6c\u53d1\u533a\u7684\u914d\u7f6e\u65b9\u5f0f\u4e5f\u5f88\u7b80\u5355\uff0c\u4e0d\u7528\u5728 options \u4e2d\u6307\u5b9a forward\uff0c\u800c\u662f\u5728\u6307\u5b9a\u7684\u533a\u57df\u5185\u8bbe\u7f6e\u5176 type \u4e3a forward\u3002\u4f8b\u5982\u5728 10.1.1.3 \u4e0a\uff1a"),(0,l.kt)("pre",null,(0,l.kt)("code",{parentName:"pre",className:"language-bash"},'[root@tarmdns ~]# cat /etc/named.conf\noptions {\n    directory "/var/named";\n};\n\nzone "brinnatt.com" IN {\n    type forward;\n    forwarders { 10.1.1.2; };\n};\n\nzone "." IN {\n    type hint;\n    file "named.ca";\n};\n\ninclude "/etc/named.rfc1912.zones";\n[root@tarmdns ~]#\n')),(0,l.kt)("ul",null,(0,l.kt)("li",{parentName:"ul"},'\u8fd9\u6837\uff0c\u53ea\u6709\u67e5\u8be2 "brinnatt.com" \u7ed3\u5c3e\u7684\u8bb0\u5f55\u90fd\u5c06\u8f6c\u53d1\u5230 10.1.1.2 \u4e0a\u3002'),(0,l.kt)("li",{parentName:"ul"},'\u4f46\u8981\u6ce8\u610f\uff0c\u662f brinnatt.com \u7ed3\u5c3e\uff0c\u800c\u4e0d\u662f\u9650\u5236\u5176\u57df\u4e3a "brinnatt.com"\uff0c\u6240\u4ee5\u5982\u679c\u53d1\u51fa png.img.brinnatt.com \u7684\u67e5\u8be2\u8bf7\u6c42\uff0c\u4e5f\u4f1a\u88ab\u8f6c\u53d1\uff0c\u4f46\u5b9e\u9645\u4e0a\u8fd9\u662f brinnatt.com \u7684\u5b50\u57df img.brinnatt.com \u4e2d\u7684\u4e3b\u673a\u3002')),(0,l.kt)("p",null,'\u76f8\u5bf9\u5e94\u7684\uff0c\u8fd8\u53ef\u4ee5\u8bbe\u7f6e "\u7981\u8f6c\u53d1\u533a"\uff0c\u5373\u6307\u5b9a\u7279\u5b9a\u7684\u533a\u57df\u7684\u67e5\u8be2\u4e0d\u8f6c\u53d1\uff0c\u5176\u4ed6\u6240\u6709\u533a\u7684\u67e5\u8be2\u8bf7\u6c42\u90fd\u8f6c\u53d1\u8d70\u3002\u8bbe\u7f6e\u65b9\u6cd5\u6709\u70b9\u7279\u6b8a\uff0c\u662f\u5728 options \u4e2d\u8bbe\u7f6e forwarders \u548c forward \u6307\u4ee4(\u8be5\u6307\u4ee4\u53ef\u7701\u7565)\uff0c\u5e76\u5728\u60f3\u8981\u7981\u8f6c\u53d1\u7684\u533a\u4e2d\u8bbe\u7f6e forwarders \u76ee\u6807\u4e3a\u7a7a\u3002\u4f8b\u5982\uff1a'),(0,l.kt)("pre",null,(0,l.kt)("code",{parentName:"pre",className:"language-bash"},'options {\n    directory "/var/named";\n    forwarders { 10.1.1.2; };\n};\n\nzone "brinnatt.com" IN {\n    type master;\n    forwarders {};\n};\n\nzone "." IN {\n    type hint;\n    file "named.ca";\n};\n\ninclude "/etc/named.rfc1912.zones";\n')),(0,l.kt)("p",null,(0,l.kt)("em",{parentName:"p"},"\u6ce8\u610f\uff1a\u5728 options \u4e2d\u8bbe\u7f6e\u4e86\u8f6c\u53d1\u76ee\u6807\uff0c\u5728 brinnatt.com \u4e2d\u8bbe\u7f6e\u4e86 type master\uff0c\u4e5f\u63a5\u53d7 slave\u3001stub \u7c7b\u578b\u7684\u533a\uff0c\u6700\u91cd\u8981\u7684\u662f\u8bbe\u7f6e\u4e86\u76ee\u6807\u4e3a\u7a7a\u7684 forwarders \u6307\u4ee4\u3002\u8fd9\u6837 brinnatt.com \u7ed3\u5c3e\u7684\u67e5\u8be2\u8bf7\u6c42\u90fd\u4e0d\u4f1a\u8f6c\u53d1\u8d70\uff0c\u5305\u62ec\u5b50\u57df\u5185\u4e3b\u673a png.img.brinnatt.com \u7684\u67e5\u8be2\u3002")),(0,l.kt)("h2",{id:"58acl"},"5.8\u3001ACL"),(0,l.kt)("p",null,"DNS \u914d\u7f6e\u6587\u4ef6 /etc/named.conf \u4e2d\u652f\u6301\u4f7f\u7528 ACL(access control list)\uff0c\u4f46\u5728\u5f15\u7528 ACL \u7684\u65f6\u5019\uff0c\u5fc5\u987b\u5728\u5176\u524d\u9762\u5df2\u7ecf\u5b9a\u4e49\u597d ACL\u3002"),(0,l.kt)("p",null,"\u5b9a\u4e49 ACL \u7684\u683c\u5f0f\u4e3a\uff1a"),(0,l.kt)("pre",null,(0,l.kt)("code",{parentName:"pre",className:"language-bash"},'acl "acl_name" { 192.253.254/24;172.16.10/24 };\n')),(0,l.kt)("p",null,"\u5176\u4e2d acl","_","name \u662f\u5c06\u6765\u5728\u5176\u4ed6\u5730\u65b9\u5f15\u7528\u8be5 acl \u7684\u540d\u79f0\u3002\u5927\u62ec\u53f7\u4e2d\u7684\u662f ip \u5730\u5740\u5217\u8868\uff0c\u53ef\u4ee5\u662f IP\u3001IP \u524d\u7f00\u6216\u5df2\u5b9a\u4e49\u7684 acl","_","name\u3002"),(0,l.kt)("p",null,"\u6b64\u5916\uff0c\u8fd8\u6709 4 \u4e2a\u9884\u5b9a\u4e49\u7684 acl \u503c\uff1a",(0,l.kt)("strong",{parentName:"p"},"any\u3001none\u3001localhost(DNS \u670d\u52a1\u5668\u7684\u4efb\u4e00 IP \u5730\u5740)\u3001localnets(DNS \u670d\u52a1\u5668\u4efb\u4e00 ip \u5730\u5740\u6240\u5728\u7f51\u6bb5)")),(0,l.kt)("h2",{id:"59\u9012\u5f52\u67e5\u8be2\u8be6\u89e3"},"5.9\u3001\u9012\u5f52\u67e5\u8be2\u8be6\u89e3"),(0,l.kt)("p",null,"\u5148\u56de\u987e\u4e0b\u9012\u5f52\u67e5\u8be2\u548c\u8fed\u4ee3\u67e5\u8be2\u7684\u6982\u5ff5\uff1adns \u670d\u52a1\u5668\u63a5\u6536\u5230\u9012\u5f52\u67e5\u8be2\u8bf7\u6c42\u65f6\uff0c\u5b83\u9700\u8981\u5e2e\u5fd9\u53bb\u627e\u7b54\u6848\uff0c\u5e76\u4eb2\u81ea\u56de\u590d\u8bf7\u6c42\u8005\uff0c\u5982\u679c\u6536\u5230\u7684\u662f\u8fed\u4ee3\u67e5\u8be2\u8bf7\u6c42\uff0c\u5219\u5c06\u81ea\u5df1\u77e5\u9053\u7684\u6d88\u606f(\u4e00\u822c\u662f\u81ea\u5df1\u8d1f\u8d23\u7684\u57df\u4fe1\u606f\uff0c\u6240\u4ee5\u662f\u6743\u5a01\u6d88\u606f)\u544a\u8bc9\u8bf7\u6c42\u8005\uff0c\u8ba9\u8bf7\u6c42\u8005\u4eb2\u81ea\u53bb\u67e5\u8be2\u3002"),(0,l.kt)("p",null,"\u7531\u4e8e",(0,l.kt)("strong",{parentName:"p"},"dns \u89e3\u6790\u5668\u53d1\u8d77\u7684\u67e5\u8be2\u90fd\u662f\u9012\u5f52\u67e5\u8be2\uff0c\u6240\u4ee5\u4e00\u822c\u5ba2\u6237\u7aef\u914d\u7f6e DNS \u6307\u5411\u8c01\u5c31\u8868\u793a\u627e\u8c01\u5e2e\u5fd9\u505a\u9012\u5f52\u67e5\u8be2\u3002\u5982\u679c dns \u670d\u52a1\u5668\u63a5\u53d7\u5b83\u7684\u9012\u5f52\u67e5\u8be2\u8bf7\u6c42\uff0c\u5219\u5b83\u4f1a\u53bb\u5e2e\u52a9\u67e5\u8be2\uff0c\u5982\u679c dns \u670d\u52a1\u5668\u4e0d\u63a5\u53d7\u5b83\u7684\u9012\u5f52\u67e5\u8be2\u8bf7\u6c42\uff0c\u5219\u4f1a\u5c06\u9012\u5f52\u67e5\u8be2\u5f53\u6210\u8fed\u4ee3\u67e5\u8be2\u770b\u5f85\uff0c\u8ba9\u8bf7\u6c42\u8005\u81ea\u5df1\u53bb\u67e5\u8be2\u3002")),(0,l.kt)("p",null,(0,l.kt)("strong",{parentName:"p"},"\u53e6\u5916\uff0c\u5141\u8bb8\u9012\u5f52\u67e5\u8be2\u7684\u670d\u52a1\u5668\uff0c\u7531\u4e8e\u8981\u5e2e\u5fd9\u67e5\u8be2\uff0c\u6240\u4ee5\u5728\u9012\u5f52\u67e5\u8be2\u670d\u52a1\u5668\u4e0a\u603b\u662f\u7f13\u5b58\u4e86\u4e00\u4e9b\u975e\u6743\u5a01\u6570\u636e\uff0c\u5982\u679c\u662f\u975e\u9012\u5f52\u67e5\u8be2\u670d\u52a1\u5668\uff0c\u5219\u4e0d\u7528\u7f13\u5b58\u4efb\u4f55\u6570\u636e\uff0c\u53ea\u9700\u8fd4\u56de\u5176\u8d1f\u8d23\u7684\u57df\u7684\u6743\u5a01\u6570\u636e\u5373\u53ef\uff0c\u8fd9\u5bf9\u51cf\u8f7b\u538b\u529b\u7684\u4f5c\u7528\u662f\u975e\u5e38\u5927\u7684\u3002")),(0,l.kt)("p",null,'\u6b63\u5982\u6839\u57df "." \u670d\u52a1\u5668\uff0c\u5b83\u63a5\u53d7\u6765\u81ea\u4e16\u754c\u5404\u5730\u7684\u67e5\u8be2\u8bf7\u6c42\uff0c\u5982\u679c\u5141\u8bb8\u9012\u5f52\uff0c\u4e0d\u4ec5\u5176\u538b\u529b\u6781\u5927\uff0c\u4e14\u7f13\u5b58\u4e5f\u4f1a\u6781\u5927\u3002\u6240\u4ee5\u6b63\u5e38\u60c5\u51b5\u4e0b\uff0c\u6839\u57df\u540d\u670d\u52a1\u5668\u662f\u4e0d\u5141\u8bb8\u9012\u5f52\u67e5\u8be2\u7684\u3002'),(0,l.kt)("p",null,"dns \u670d\u52a1\u5668\u5bf9\u4e0d\u662f\u81ea\u5df1\u8d1f\u8d23\u7684\u57df\uff0c\u4e0d\u5e94\u8be5\u5e2e\u522b\u4eba\u9012\u5f52\u3002\u4f8b\u5982\uff0c\u8fdc\u7a0b client \u8bbf\u95ee brinnatt.com \u57df\uff0c\u56e0\u4e3a\u8fd9\u5c31\u662f dnsserver.brinnatt.com \u8d1f\u8d23\u7684\u57df\uff0c\u800c\u4e14\u53c8\u5fc5\u987b\u7ed9\u7b54\u6848\uff0c\u6240\u4ee5\u5e94\u8be5\u7ed9\u9012\u5f52\u3002\u4f46\u662f client \u901a\u8fc7 dnsserver.brinnatt.com \u6765\u67e5\u8be2 sohu.com\uff0c\u90a3\u5c31\u4e0d\u5e94\u8be5\u7ed9\u9012\u5f52\uff0c\u5426\u5219 dns \u670d\u52a1\u5668\u4f1a\u4ea7\u751f\u66f4\u591a\u6d41\u91cf\u548c\u538b\u529b\u3002"),(0,l.kt)("p",null,'\u9ed8\u8ba4\u60c5\u51b5\u4e0b\uff0c/etc/named.conf \u4e2d\u9690\u542b\u4e86\u9009\u9879 "recursion yes" \u548c "allow-recursion {any;}"\uff0c\u4e5f\u5c31\u662f\u8bf4\u5141\u8bb8\u9012\u5f52\u67e5\u8be2\uff0c\u4e14\u662f\u5141\u8bb8\u6240\u6709\u4eba\u53d1\u8d77\u7684\u9012\u5f52\u67e5\u8be2\u3002\u53ef\u4ee5\u624b\u52a8\u914d\u7f6e\u5982\u4f55\u9012\u5f52\uff0c\u6bd4\u5982\u4ec5\u5141\u8bb8 172.168.10.0/24 \u7f51\u6bb5\u7684\u4e3b\u673a\u8fdb\u884c\u9012\u5f52\u67e5\u8be2\uff1a'),(0,l.kt)("pre",null,(0,l.kt)("code",{parentName:"pre",className:"language-bash"},"options {\n    recursion yes;\n    allow-recursion { 172.168.10.0/24; };\n};\n")),(0,l.kt)("ul",null,(0,l.kt)("li",{parentName:"ul"},"\u5982\u679c\u4e0d\u60f3\u7ed9\u6240\u6709\u4eba\u9012\u5f52\uff0c\u5219\u5c06 recursion \u8bbe\u7f6e\u4e3a no\uff0c\u5173\u95ed\u9012\u5f52\u529f\u80fd\u5373\u53ef\u3002"),(0,l.kt)("li",{parentName:"ul"},(0,l.kt)("strong",{parentName:"li"},"\u4e0d\u8981\u5c06\u975e\u9012\u5f52\u67e5\u8be2 dns \u670d\u52a1\u5668\u8bbe\u7f6e\u4e3a\u8f6c\u53d1\u5668\uff0c\u56e0\u4e3a\u8f6c\u53d1\u8005\u8f6c\u53d1\u7ed9\u8f6c\u53d1\u5668\u7684\u67e5\u8be2\u662f\u9012\u5f52\u67e5\u8be2"),"\u3002"),(0,l.kt)("li",{parentName:"ul"},'\u4f7f\u7528 "allow-query {}" \u6307\u4ee4\u53ef\u4ee5\u6307\u5b9a\u5141\u8bb8\u67e5\u8be2\u7684\u4e3b\u673a\u5217\u8868\uff0c\u5217\u8868\u5916\u7684\u4e3b\u673a\u90fd\u4e0d\u5141\u8bb8\u67e5\u8be2\uff0c\u4e0d\u4ec5\u4e0d\u5141\u8bb8\u4e3a\u5ba2\u6237\u7aef\u505a\u9012\u5f52\u67e5\u8be2\uff0c\u4e5f\u4e0d\u5141\u8bb8\u4e3a\u5ba2\u6237\u7aef\u505a\u8fed\u4ee3\u67e5\u8be2\u3002'),(0,l.kt)("li",{parentName:"ul"},"\u5b9e\u9645\u4e0a options \u9009\u9879\u8fdc\u4e0d\u6b62\u8fd9\u4e9b\uff0c\u53ef\u4ee5\u4f7f\u7528 man named.conf \u83b7\u53d6\u66f4\u591a\u53c2\u6570\u5e2e\u52a9\u3002")),(0,l.kt)("h2",{id:"510dns-\u9ed1\u540d\u5355"},"5.10\u3001DNS \u9ed1\u540d\u5355"),(0,l.kt)("p",null,"\u81ea\u5efa\u7684 dns \u670d\u52a1\u5668\u5e2e\u5fd9\u67e5\u8be2\u7b54\u6848\u65f6\uff0c\u6709\u4e9b\u8fdc\u7a0b dns \u670d\u52a1\u5668\u4f1a\u8fd4\u56de\u4e00\u4e9b\u9519\u8bef\u3001\u8fc7\u65f6\u6216\u8005\u84c4\u610f\u6b3a\u9a97\u7684\u4fe1\u606f\u3002\u5bf9\u4e8e\u8fd9\u4e9b\u6709\u95ee\u9898\u7684\u8fdc\u7a0b dns \u670d\u52a1\u5668\uff0c\u81ea\u5efa dns \u670d\u52a1\u5668\u4e0d\u5e94\u8be5\u53bb\u67e5\u8be2\u5b83\u4eec\u3002"),(0,l.kt)("p",null,"\u4e3a\u4e86\u8ba9 dns \u670d\u52a1\u5668\u660e\u786e\u4e0d\u67e5\u8be2\u6307\u5b9a\u7684\u8fdc\u7a0b dns \u670d\u52a1\u5668\uff0c\u53ef\u4ee5\u4f7f\u7528\uff1a"),(0,l.kt)("pre",null,(0,l.kt)("code",{parentName:"pre",className:"language-bash"},"server 10.0.0.2 {\n    bogus yes;\n};\n")),(0,l.kt)("p",null,"\u5bf9\u4e8e\u5927\u91cf\u8fdc\u7a0b dns \u670d\u52a1\u5668\u9ed1\u540d\u5355\uff0c\u53ef\u4ee5\u5c06\u8fd9\u4e9b\u4e3b\u673a\u653e\u8fdb blackhole\u3002"),(0,l.kt)("pre",null,(0,l.kt)("code",{parentName:"pre",className:"language-bash"},"options {\n    blackhole {\n        10/8;\n        172.16/12;\n        192.168/16;\n    };\n};\n")),(0,l.kt)("h2",{id:"511\u914d\u7f6e\u4e3b\u4ece-dns-\u670d\u52a1\u5668"},"5.11\u3001\u914d\u7f6e\u4e3b\u3001\u4ece DNS \u670d\u52a1\u5668"),(0,l.kt)("p",null,"\u5728\u914d\u7f6e /etc/named.conf \u7684 zone \u533a\u57df\u65f6\uff0c\u4f1a\u6307\u5b9a type \u662f\u4ec0\u4e48\u7c7b\u578b\u7684\uff0c\u5e38\u89c1\u7684\u6709 master\u3001slave\u3001stub\u3001forward\u3001hint \u7b49\u3002"),(0,l.kt)("p",null,"forward \u548c hint \u5728\u524d\u6587\u5df2\u7ecf\u4ecb\u7ecd\u8fc7\u4e86\uff0cstub \u5728\u540e\u6587\u4ecb\u7ecd\u5b50\u57df\u7684\u65f6\u5019\u4ecb\u7ecd\uff0c\u6b64\u5904\u5148\u4ecb\u7ecd\u4e3b\u4ece dns \u670d\u52a1\u5668\uff0c\u5373 master \u548c slave \u7c7b\u578b\u3002"),(0,l.kt)("p",null,"\u5728\u53ea\u6709\u4e00\u53f0 dns \u670d\u52a1\u5668\u65f6\uff0c\u6240\u6709\u7684 dns \u89e3\u6790\u8fc7\u7a0b\u90fd\u7531\u8fd9\u53f0 dns \u670d\u52a1\u5668\u8d1f\u8d23\uff0c\u538b\u529b\u6781\u5927\u3002\u800c\u4e14\u6781\u4e0d\u5b89\u5168\uff0c\u56e0\u4e3a\u8fd9\u53f0 dns \u670d\u52a1\u5668\u4e00\u57ae\u6389\uff0c\u6240\u6709\u7684\u89e3\u6790\u670d\u52a1\u90fd\u505c\u6b62\uff0c\u6574\u4e2a\u7f51\u7ad9\u4e5f\u5c31\u57ae\u4e86\u3002"),(0,l.kt)("p",null,"\u65e0\u8bba\u662f\u51fa\u4e8e\u8d1f\u8f7d\u5747\u8861\u8003\u8651\uff0c\u8fd8\u662f\u6570\u636e\u5b89\u5168\u53ef\u9760\u7684\u8003\u8651\uff0c\u81f3\u5c11\u90fd\u5e94\u8be5\u914d\u7f6e 2 \u53f0\u6216 2 \u53f0\u4ee5\u4e0a\u7684 dns \u670d\u52a1\u5668\uff0c\u5176\u4e2d\u5fc5\u987b\u6709\u4e00\u53f0\u662f master \u670d\u52a1\u5668\uff0c\u5176\u4f59\u7684\u662f slave \u670d\u52a1\u5668\u3002"),(0,l.kt)("p",null,'master \u548c slave \u670d\u52a1\u5668\u90fd\u53ef\u4ee5\u914d\u7f6e\u6210\u5411\u5916\u63d0\u4f9b\u89e3\u6790\u670d\u52a1\u3002\u4f46 slave \u4e0a\u7684\u533a\u57df\u6570\u636e\u4ece\u4f55\u800c\u6765\uff1f\u4e0d\u662f\u81ea\u884c\u4e66\u5199\u533a\u57df\u6570\u636e\u6587\u4ef6\u800c\u6765\uff0c\u800c\u662f\u4ece master \u670d\u52a1\u5668\u4e0a\u590d\u5236\u800c\u6765\u3002\u4ece master \u590d\u5236\u533a\u57df\u6570\u636e\u5230 slave \u7684\u8fc7\u7a0b\uff0cdns \u672f\u8bed\u79f0\u4e4b\u4e3a "\u533a\u57df\u4f20\u9001"\u3002'),(0,l.kt)("h3",{id:"5111dns-\u4e3b\u4ece\u4f53\u9a8c"},"5.11.1\u3001DNS \u4e3b\u4ece\u4f53\u9a8c"),(0,l.kt)("p",null,"\u914d\u7f6e\u4e3b\u4ece\u7684\u65b9\u5f0f\u5f88\u7b80\u5355\uff0c\u4ec5\u4ec5\u53ea\u9700\u5728\u5f85\u8bbe\u7f6e\u4e3a slave \u7684\u670d\u52a1\u5668\u4e0a\u8bbe\u7f6e zone \u7c7b\u578b\u4e3a slave\uff0c\u5e76\u7ed9\u5b9a\u4e00\u4e2a masters \u6307\u4ee4\u6307\u5411\u5176\u6240\u5c5e master \u5373\u53ef\u3002\u4f8b\u5982\u5728 10.1.1.3 \u4e0a\u5b89\u88c5\u597d bind \u8f6f\u4ef6\u540e\uff0c\u914d\u7f6e\u5176 named.conf\uff0c\u5982\u4e0b\uff1a"),(0,l.kt)("pre",null,(0,l.kt)("code",{parentName:"pre",className:"language-bash"},'zone "brinnatt.com" IN {\n    type slave;\n    masters { 10.1.1.2; };\n    file "slaves/db.brinnatt.com.slave";\n};\n')),(0,l.kt)("ul",null,(0,l.kt)("li",{parentName:"ul"},'\u8fd9\u8868\u793a 10.1.1.3 \u662f 10.1.1.2 \u4e0a "brinnatt.com" \u7684 slave\u3002'),(0,l.kt)("li",{parentName:"ul"},"\u6ce8\u610f\uff0c\u4e0a\u9762\u7684\u793a\u4f8b\u4e2d\u4f7f\u7528 file \u6307\u4ee4\uff0c\u4f46\u5b9e\u9645\u4e0a ",(0,l.kt)("strong",{parentName:"li"},"slave \u662f\u53ef\u4ee5\u4e0d\u8981\u533a\u57df\u6570\u636e\u6587\u4ef6\u7684"),"\uff0c\u5b83\u4ece master \u4e0a\u4f20\u9001\u590d\u5236\u533a\u57df\u6570\u636e\u540e\u4f1a\u5c06\u5176\u7f13\u5b58\u4e0b\u6765\uff0c\u5e76\u4ece\u7f13\u5b58\u4e2d\u63d0\u4f9b\u67e5\u8be2\u89e3\u6790\u670d\u52a1\u3002"),(0,l.kt)("li",{parentName:"ul"},(0,l.kt)("strong",{parentName:"li"},"\u5982\u679c\u5728 slave \u533a\u57df\u5185\u6307\u5b9a file \u6307\u4ee4\uff0c\u5219\u8868\u793a\u5728\u533a\u57df\u4f20\u9001\u65f6\u8fd8\u5c06\u5907\u4efd\u4e00\u4efd\u6570\u636e\u5230 file \u6307\u5b9a\u7684\u6587\u4ef6\u4e2d"),"\uff0c\u6240\u4ee5\u8be5\u6587\u4ef6\u5bf9 named \u7ec4\u8981\u6c42\u6709\u5199\u6743\u9650\u3002\u5728\u5b89\u88c5 bind \u540e\uff0c\u5728 /var/named \u76ee\u5f55\u4e0b\u81ea\u52a8\u751f\u6210\u4e86\u4e00\u4e2a /var/named/slaves \u76ee\u5f55\uff0c\u5176\u5c5e\u7ec4\u548c\u6743\u9650\u5df2\u7ecf\u8bbe\u7f6e\u597d\uff0c\u6b63\u9002\u5408\u653e\u7f6e\u533a\u57df\u4f20\u9001\u7684",(0,l.kt)("strong",{parentName:"li"},"\u5907\u4efd\u6587\u4ef6"),"\u3002\u5982\u679c\u81ea\u5b9a\u4e49\u5b58\u653e\u5907\u4efd\u6587\u4ef6\u7684\u8def\u5f84\uff0c\u5219\u5176\u5b58\u653e\u76ee\u5f55\u5c5e\u7ec4\u8981\u6c42\u4e3a named\uff0c\u4e14\u5c5e\u7ec4\u6709 rwx \u6743\u9650\u3002")),(0,l.kt)("p",null,"\u91cd\u542f slave \u670d\u52a1\u5668\u3002"),(0,l.kt)("pre",null,(0,l.kt)("code",{parentName:"pre",className:"language-bash"},"[root@tarmdns ~]# systemctl restart named\n")),(0,l.kt)("ul",null,(0,l.kt)("li",{parentName:"ul"},(0,l.kt)("strong",{parentName:"li"},"slave \u6bcf\u6b21\u91cd\u542f\u90fd\u4f1a\u81ea\u52a8\u5b8c\u6210\u4e00\u6b21\u533a\u57df\u4f20\u9001\u3002"))),(0,l.kt)("p",null,"\u67e5\u770b master \u548c slave \u4e0a\u7684\u65e5\u5fd7\u4fe1\u606f\uff1a"),(0,l.kt)("p",null,"\u5728 master \u4e0a\u67e5\u770b\u65e5\u5fd7\uff1a"),(0,l.kt)("pre",null,(0,l.kt)("code",{parentName:"pre",className:"language-bash"},"[root@arm64v8 ~]# tail /var/log/messages\nOct 17 01:55:31 arm64v8 named[6455]: client 10.1.1.3#41813 (brinnatt.com): transfer of 'brinnatt.com/IN': AXFR started\nOct 17 01:55:31 arm64v8 named[6455]: client 10.1.1.3#41813 (brinnatt.com): transfer of 'brinnatt.com/IN': AXFR ended\n[root@arm64v8 ~]#\n")),(0,l.kt)("ul",null,(0,l.kt)("li",{parentName:"ul"},"AXFR \u8868\u793a\u5b8c\u5168\u533a\u57df\u4f20\u9001\uff0c\u8fd8\u6709\u589e\u91cf\u533a\u57df\u4f20\u9001 IXFR\u3002",(0,l.kt)("strong",{parentName:"li"},"\u5b8c\u5168\u533a\u57df\u4f20\u9001\u662f\u4f20\u9001\u6574\u4e2a\u533a\u57df\u6570\u636e\u6587\u4ef6\uff0c\u589e\u91cf\u533a\u57df\u4f20\u9001\u5219\u53ea\u4f20\u9001\u533a\u57df\u6570\u636e\u6587\u4ef6\u4e2d\u53d1\u751f\u6539\u53d8\u7684\u90e8\u5206\u3002")),(0,l.kt)("li",{parentName:"ul"},"\u5bf9\u4e8e\u5b8c\u5168\u533a\u57df\u4f20\u9001\u548c\u589e\u91cf\u533a\u57df\u4f20\u9001\uff0c\u5728 bind9 \u4e0a\u53ef\u4ee5\u5b8c\u5168\u4e0d\u7528\u914d\u7f6e\uff0c\u4e00\u5207\u90fd\u53ef\u91c7\u7528\u9ed8\u8ba4\u503c\uff0c\u5b83\u4f1a",(0,l.kt)("strong",{parentName:"li"},"\u81ea\u52a8\u51b3\u5b9a\u4f55\u65f6\u5b8c\u5168\u3001\u4f55\u65f6\u589e\u91cf\u4f20\u9001"),"\u3002")),(0,l.kt)("p",null,"\u5728 slave \u4e0a\u67e5\u770b\u65e5\u5fd7\uff1a"),(0,l.kt)("pre",null,(0,l.kt)("code",{parentName:"pre",className:"language-bash"},"[root@tarmdns ~]# tail /var/log/messages \nOct 17 13:55:31 localhost named[47150]: zone brinnatt.com/IN: Transfer started.\nOct 17 13:55:31 localhost named[47150]: transfer of 'brinnatt.com/IN' from 10.1.1.2#53: connected using 10.1.1.3#41813\nOct 17 13:55:31 localhost named[47150]: zone brinnatt.com/IN: transferred serial 1\nOct 17 13:55:31 localhost named[47150]: transfer of 'brinnatt.com/IN' from 10.1.1.2#53: Transfer status: success\nOct 17 13:55:31 localhost named[47150]: transfer of 'brinnatt.com/IN' from 10.1.1.2#53: Transfer completed: 1 messages, 8 records, 226 bytes, 0.001 secs (226000 bytes/sec)\nOct 17 13:55:31 localhost [/bin/bash]: [systemctl restart named] return code=[0], execute success by [root(uid=0)] from [pts/1 (10.1.1.1)]\n[root@tarmdns ~]#\n")),(0,l.kt)("p",null,(0,l.kt)("em",{parentName:"p"},"\u6ce8\u610f\uff1a\u8fd9\u6837\u914d\u7f6e\u7684\u4e3b\u4ece\u670d\u52a1\u5668\u53ea\u4f1a\u5b8c\u5168\u533a\u57df\u4f20\u9001\u3002\u539f\u56e0\u7a0d\u540e\u89e3\u91ca\u3002")),(0,l.kt)("h3",{id:"5112dns-\u4e3b\u4ece\u5b8c\u6574\u914d\u7f6e"},"5.11.2\u3001DNS \u4e3b\u4ece\u5b8c\u6574\u914d\u7f6e"),(0,l.kt)("p",null,"\u65e2\u7136 slave \u4e5f\u662f\u57df\u6570\u636e\u89e3\u6790\u7684\u8d1f\u8d23\u4eba(\u5c3d\u7ba1\u5b83\u662f\u4ece\u7684)\uff0c\u56e0\u6b64",(0,l.kt)("strong",{parentName:"p"},"\u5728 master \u4e0a\u7684\u533a\u57df\u6570\u636e\u6587\u4ef6\u4e2d\u5e94\u8be5\u6dfb\u52a0 slave \u7684 ns \u8bb0\u5f55\uff0c\u5426\u5219\u5916\u90e8\u6ca1\u6cd5\u627e\u5230 slave \u8fd9\u4e2a\u4e0d\u5b8c\u6574\u7684 dns \u670d\u52a1\u5668\u6765\u5e2e\u5fd9\u89e3\u6790\uff0c\u4e14 master \u4e5f\u65e0\u6cd5\u627e\u5230 slave"),"\u3002"),(0,l.kt)("p",null,"\u53e6\u5916\uff0c\u4e0d\u5728 master \u533a\u57df\u6570\u636e\u6587\u4ef6\u4e2d\u6dfb\u52a0 slave \u7684 ns \u8bb0\u5f55\uff0c\u5176\u53ea\u80fd\u8fdb\u884c\u5b8c\u5168\u533a\u57df\u4f20\u9001\uff0c\u65e0\u6cd5\u589e\u91cf\u533a\u57df\u4f20\u9001\u3002\u56e0\u4e3a\u4e0d\u5728\u4e3b\u670d\u52a1\u5668\u7684\u533a\u57df\u6587\u4ef6\u4e2d\u6dfb\u52a0\u4ece\u670d\u52a1\u5668\u7684 ns \u8bb0\u5f55\uff0c\u5c06\u4e0d\u8868\u660e\u8fd9\u53f0 slave \u662f DNS \u670d\u52a1\u5668\u3002"),(0,l.kt)("p",null,"\u4e4b\u6240\u4ee5\u4e0d\u6dfb\u52a0 ns \u8bb0\u5f55\u65f6 slave \u4e5f\u4f1a\u8fdb\u884c\u5b8c\u5168\u533a\u57df\u4f20\u9001\uff0c\u4ec5\u4ec5\u662f\u56e0\u4e3a slave \u670d\u52a1\u5668\u505a\u4e86\u6307\u5411 master \u7684\u914d\u7f6e\uff0c\u6240\u4ee5\u53ea\u80fd\u6bcf\u6b21 slave \u4e0a\u542f\u52a8 named \u65f6\u624d\u4f1a\u5b9e\u73b0\u5b8c\u5168\u533a\u57df\u4f20\u9001\uff0cmaster \u91cd\u542f named \u65f6\u662f\u4e0d\u4f1a\u8fdb\u884c\u533a\u57df\u4f20\u9001\u7684(\u56e0\u4e3a master \u627e\u4e0d\u5230 slave)\u3002"),(0,l.kt)("p",null,"\u6240\u4ee5\uff0c\u8981\u914d\u7f6e\u5b8c\u6574\u7684\u4e3b\u4ece\u670d\u52a1\u5668\uff0c\u53ea\u9700\u5728\u524d\u9762\u7684\u57fa\u7840\u4e0a\uff0c\u518d\u5728 master \u7684\u533a\u57df\u6570\u636e\u6587\u4ef6\u4e2d\u52a0\u4e0a slave \u7684 ns \u8bb0\u5f55\u548c\u5bf9\u5e94\u7684 A \u8bb0\u5f55\u5373\u53ef\uff0c\u522b\u5fd8\u4e86\u4fee\u6539 SOA \u8bb0\u5f55\u7684\u5e8f\u5217\u7248\u672c\u53f7\u3002"),(0,l.kt)("pre",null,(0,l.kt)("code",{parentName:"pre",className:"language-bash"},"[root@arm64v8 ~]# cat /var/named/db.brinnatt.com\n$TTL 6h\n@           IN  SOA dnsserver   xyz (\n            111   ; serial num\n            3h    ; refresh time \n            1h    ; retry time \n            1w    ; expire time\n            1h )  ; negative time\n\n@           IN  NS  dnsserver\n@           IN  NS  dnsslaver\n\ndnsserver   IN  A   10.1.1.2\ndnsslaver   IN  A   10.1.1.3\nwww         IN  A   10.1.1.116\nftp         IN  A   10.1.1.117\nmydb        IN  A   10.1.1.118\n\nwww1        IN  CNAME   www\n[root@arm64v8 ~]#\n")),(0,l.kt)("p",null,"\u91cd\u542f master dns \u670d\u52a1\u4ee5\u91cd\u65b0\u7f16\u8bd1\u533a\u57df\u6570\u636e\u6587\u4ef6\u3002\u91cd\u542f master \u65f6\uff0cmaster \u4f1a\u53d1\u9001 notify \u4fe1\u606f\u7ed9 slave\uff0c\u901a\u77e5 slave \u6765\u590d\u5236\u533a\u57df\u6570\u636e\u3002"),(0,l.kt)("pre",null,(0,l.kt)("code",{parentName:"pre",className:"language-bash"},"[root@arm64v8 ~]# systemctl restart named\n")),(0,l.kt)("pre",null,(0,l.kt)("code",{parentName:"pre",className:"language-bash"},"[root@arm64v8 ~]# tail /var/log/messages\nOct 17 06:41:24 arm64v8 named[12105]: zone 0.in-addr.arpa/IN: loaded serial 0\nOct 17 06:41:24 arm64v8 named[12105]: zone localhost.localdomain/IN: loaded serial 0\nOct 17 06:41:24 arm64v8 named[12105]: zone 1.0.0.127.in-addr.arpa/IN: loaded serial 0\nOct 17 06:41:24 arm64v8 named[12105]: zone localhost/IN: loaded serial 0\nOct 17 06:41:24 arm64v8 named[12105]: zone brinnatt.com/IN: loaded serial 111\nOct 17 06:41:24 arm64v8 named[12105]: all zones loaded\nOct 17 06:41:24 arm64v8 named[12105]: running\nOct 17 06:41:24 arm64v8 named[12105]: zone brinnatt.com/IN: sending notifies (serial 111)\nOct 17 06:41:24 arm64v8 named[12105]: client 10.1.1.3#57645 (brinnatt.com): transfer of 'brinnatt.com/IN': AXFR-style IXFR started\nOct 17 06:41:24 arm64v8 named[12105]: client 10.1.1.3#57645 (brinnatt.com): transfer of 'brinnatt.com/IN': AXFR-style IXFR ended\n[root@arm64v8 ~]#\n")),(0,l.kt)("ul",null,(0,l.kt)("li",{parentName:"ul"},"\u7531\u4e8e\u914d\u7f6e\u4e86\u5b8c\u6574\u7684\u4e3b\u4ece\u7ed3\u6784\uff0c\u4e14\u4fee\u6539\u4e86 master \u533a\u57df\u6570\u636e\u6587\u4ef6\u4e0a\u7684\u5e8f\u5217\u53f7\uff0c\u6240\u4ee5\u533a\u57df\u4f20\u9001\u7684\u7c7b\u578b\u662f\u589e\u91cf\u4f20\u9001\u3002"),(0,l.kt)("li",{parentName:"ul"},(0,l.kt)("strong",{parentName:"li"},(0,l.kt)("em",{parentName:"strong"},"\u6ce8\u610f\uff1a\u4e3b\u4ece\u670d\u52a1\u5668\u90fd\u5e94\u8be5\u653e\u884c\u9632\u706b\u5899\uff0c\u6216\u8005\u5173\u95ed\u9632\u706b\u5899\uff0c\u5426\u5219\u5f88\u6709\u53ef\u80fd\u4f20\u9001\u5931\u8d25\u3002")))),(0,l.kt)("p",null,"\u56de\u5230 slave \u4e0a\uff0c\u67e5\u770b\u533a\u57df\u6570\u636e\u6587\u4ef6\u548c\u65e5\u5fd7\u4fe1\u606f\uff1a"),(0,l.kt)("pre",null,(0,l.kt)("code",{parentName:"pre",className:"language-bash"},"[root@tarmdns ~]# cat /var/named/slaves/db.brinnatt.com.slave \nak\udbbc\udd54brinnattcom>  dnsservebrinnattcomxybrinnattcomo*0 :VTbrinnattcom  dnsservebrinnattcom dnsslavebrinnattcom2T` dnsservebrinnattcom \n2T`    dnsslavebrinnattcom \n,T`ftbrinnattcom \nu-T`mydbrinnattcom \nv,T`wwbrinnattcom \nt;T`wwwbrinnattcomwwbrinnattcom[root@tarmdns ~]# Xshell\n-bash: Xshell\uff1a\u672a\u627e\u5230\u547d\u4ee4\n[root@tarmdns ~]#\n")),(0,l.kt)("ul",null,(0,l.kt)("li",{parentName:"ul"},"\u6211\u4eec\u73b0\u5728\u5b9e\u9a8c\u7684 DNS \u8f6f\u4ef6\u5305\u7248\u672c\u662f BIND 9.11.4-P2-9.11.4-13.ky10\uff0cBIND 9.9.X \u540e\u9ed8\u8ba4 DNS \u4ece\u670d\u52a1\u5668\u540c\u6b65\u7684\u6587\u4ef6\u662f\u4e8c\u8fdb\u5236\u6587\u4ef6\uff0c\u5373 raw \u683c\u5f0f\uff0c\u4e3b\u8981\u76ee\u7684\u662f\u63d0\u9ad8\u52a0\u8f7d\u6027\u80fd\u3002\u5b9e\u9645\u5de5\u4f5c\u4e2d\u8be5\u683c\u5f0f\u4e0d\u4fbf\u4e8e\u79fb\u690d\uff0c\u6240\u4ee5\u5b98\u65b9\u63d0\u4f9b\u4e24\u79cd\u65b9\u5f0f\u5c06 raw \u683c\u5f0f\u8f6c\u6362\u6210\u6211\u4eec\u5e38\u7528\u7684 text \u6807\u51c6\u6587\u672c\u683c\u5f0f\u3002",(0,l.kt)("ul",{parentName:"li"},(0,l.kt)("li",{parentName:"ul"},(0,l.kt)("p",{parentName:"li"},"\u65b9\u5f0f\u4e00\uff1a\u4f7f\u7528 named-compilezone \u547d\u4ee4"),(0,l.kt)("pre",{parentName:"li"},(0,l.kt)("code",{parentName:"pre",className:"language-bash"},"[root@tarmdns ~]# named-compilezone -f raw -F text -o newfile brinnatt.com /var/named/slaves/db.brinnatt.com.slave \nzone brinnatt.com/IN: loaded serial 111\ndump zone to newfile...done\nOK\n[root@tarmdns ~]#\n[root@tarmdns ~]# cat newfile \nbrinnatt.com.                     21600 IN SOA  dnsserver.brinnatt.com. xyz.brinnatt.com. 111 10800 3600 604800 3600\nbrinnatt.com.                     21600 IN NS   dnsserver.brinnatt.com.\nbrinnatt.com.                     21600 IN NS   dnsslaver.brinnatt.com.\ndnsserver.brinnatt.com.           21600 IN A    10.1.1.2\ndnsslaver.brinnatt.com.           21600 IN A    10.1.1.3\nftp.brinnatt.com.                 21600 IN A    10.1.1.117\nmydb.brinnatt.com.                21600 IN A    10.1.1.118\nwww.brinnatt.com.                 21600 IN A    10.1.1.116\nwww1.brinnatt.com.                21600 IN CNAME    www.brinnatt.com.\n[root@tarmdns ~]#\n"))),(0,l.kt)("li",{parentName:"ul"},(0,l.kt)("p",{parentName:"li"},"\u65b9\u5f0f\u4e8c\uff1a\u4fee\u6539 slave \u4ece\u670d\u52a1\u5668\u76f8\u5173\u7684\u914d\u7f6e\u6587\u4ef6\uff08/etc/named.conf \uff09\uff0c\u6dfb\u52a0\u5982\u4e0b\u4e00\u884c\uff1a"),(0,l.kt)("pre",{parentName:"li"},(0,l.kt)("code",{parentName:"pre",className:"language-bash"},'[root@tarmdns ~]# cat /etc/named.conf\noptions {\n    directory "/var/named";\n    masterfile-format text;     # slave\u4ece\u670d\u52a1\u5668\u4e0a\u4f7f\u7528\u8be5\u6307\u4ee4\n};\n......\ninclude "/etc/named.rfc1912.zones";\n[root@tarmdns ~]#\n')),(0,l.kt)("p",{parentName:"li"},"\u91cd\u542f\u4ece\u670d\u52a1\u5668\uff1a"),(0,l.kt)("pre",{parentName:"li"},(0,l.kt)("code",{parentName:"pre",className:"language-bash"},"[root@tarmdns ~]# systemctl restart named\n")),(0,l.kt)("p",{parentName:"li"},"\u67e5\u770b\u533a\u57df\u6570\u636e\u6587\u4ef6\uff0c\u5df2\u81ea\u52a8\u8f6c\u6362\u6210 text \u683c\u5f0f\uff1a"),(0,l.kt)("pre",{parentName:"li"},(0,l.kt)("code",{parentName:"pre",className:"language-bash"},"[root@tarmdns ~]# cat /var/named/slaves/db.brinnatt.com.slave \n$ORIGIN .\n$TTL 21600  ; 6 hours\nbrinnatt.com        IN  SOA     dnsserver.brinnatt.com. xyz.brinnatt.com. (\n                        111        ; serial\n                        10800      ; refresh (3 hours)\n                        3600       ; retry (1 hour)\n                        604800     ; expire (1 week)\n                        3600       ; minimum (1 hour)\n                        )\n                        NS      dnsserver.brinnatt.com.\n                        NS      dnsslaver.brinnatt.com.\n$ORIGIN brinnatt.com.\ndnsserver               A       10.1.1.2\ndnsslaver               A       10.1.1.3\nftp                     A       10.1.1.117\nmydb                    A       10.1.1.118\nwww                     A       10.1.1.116\nwww1                    CNAME   www\n[root@tarmdns ~]#\n")))))),(0,l.kt)("p",null,"\u8fd8\u53ef\u4ee5\u914d\u7f6e slave \u4ece\u53e6\u4e00\u4e2a slave \u4e0a\u590d\u5236\u533a\u57df\u6570\u636e\uff0c\u8fd9\u79cd\u60c5\u51b5\u4e0b\uff0cmaster \u662f slave1 \u7684\u4e3b\uff0cslave1 \u662f slave2 \u7684\u4e3b\u3002\u5982\u4e0b\u56fe\uff1a"),(0,l.kt)("p",null,(0,l.kt)("img",{alt:"multi-slaves",src:a(37933).Z,width:"532",height:"137"})),(0,l.kt)("p",null,"\u914d\u7f6e\u65b9\u5f0f\u4e00\u6837\u5f88\u7b80\u5355\uff0c\u53ea\u9700\u5c06 slave2 \u4e3b\u673a\u7684 named.conf \u4e2d\u7684 zone \u533a\u57df\u914d\u7f6e\u6210\u5982\u4e0b\u683c\u5f0f\uff1a"),(0,l.kt)("pre",null,(0,l.kt)("code",{parentName:"pre",className:"language-bash"},'zone "domain" IN {\n    type slave;\n    masters { slave1_ip };\n};\n')),(0,l.kt)("p",null,(0,l.kt)("em",{parentName:"p"},"\u6ce8\u610f\uff1amaster \u7684\u533a\u57df\u6570\u636e\u6587\u4ef6\u4e2d\u5e94\u8be5\u5236\u5b9a slave2 \u7684 ns \u8bb0\u5f55\u548c A \u8bb0\u5f55\u3002")),(0,l.kt)("h3",{id:"5113\u4f55\u65f6\u8fdb\u884c\u533a\u57df\u4f20\u9001"},"5.11.3\u3001\u4f55\u65f6\u8fdb\u884c\u533a\u57df\u4f20\u9001"),(0,l.kt)("p",null,"\u6709 3 \u79cd\u60c5\u51b5\u4f1a\u8fdb\u884c\u533a\u57df\u4f20\u9001\u52a8\u4f5c\uff1a"),(0,l.kt)("ol",null,(0,l.kt)("li",{parentName:"ol"},"slave \u91cd\u542f\u3002\u6b64\u65f6 slave \u4e3b\u52a8\u53bb master \u4e0a\u83b7\u53d6\u533a\u57df\u6570\u636e\u3002"),(0,l.kt)("li",{parentName:"ol"},"master \u91cd\u542f\u3002\u6b64\u65f6 master \u4f1a\u53d1\u9001 notify \u6d88\u606f\u7ed9 slave\u3002\u4f46\u8981\u6c42\u533a\u57df\u6570\u636e\u6587\u4ef6\u4e2d\u5b9a\u4e49\u4e86 slave \u7684 ns \u8bb0\u5f55\u53ca\u5176 A \u8bb0\u5f55\uff0c\u5426\u5219\u627e\u4e0d\u5230 slave\uff0c\u4e5f\u5c31\u8054\u7cfb\u4e0d\u4e0a slave\u3002"),(0,l.kt)("li",{parentName:"ol"},"\u533a\u57df\u6570\u636e\u6587\u4ef6 SOA \u8bb0\u5f55\u4e2d\u5b9a\u4e49\u7684 refresh \u65f6\u957f\u5230\u4e86\u3002\u4e5f\u5c31\u662f\u8bf4\u6b63\u5e38\u8fd0\u884c\u65f6\uff0c\u6bcf\u9694\u4e00\u6bb5\u65f6\u95f4\uff0cslave \u90fd\u4f1a\u4e3b\u52a8\u53bb\u8054\u7cfb master\uff0c\u5e76\u4ece\u5176\u4e0a\u590d\u5236\u533a\u57df\u6570\u636e\u3002")),(0,l.kt)("p",null,'\u5728 named.conf \u4e2d\u53ef\u4ee5\u5b9a\u4e49 notify \u53d1\u9001\u7ed9\u8c01\u4ee5\u53ca\u63a5\u6536\u8c01\u7684 notify\uff0c\u8fd9\u4e2a\u7ec6\u8282\u548c\u8fc7\u7a0b\u7bc7\u5e45\u7a0d\u5927\uff0c\u4e0b\u4e00\u8282\u8bf4\u660e\u3002\u6b64\u5904\u5148\u8bf4\u660e "allow-transfer" \u6307\u4ee4\u7684\u7528\u6cd5\u3002\u4f8b\u5982\uff1a'),(0,l.kt)("pre",null,(0,l.kt)("code",{parentName:"pre",className:"language-bash"},'zone "movie.edu" {\n     type master;\n     file "db.movie.edu";\n     allow-transfer { 192.249.249.1; 192.253.253.1; 192.249.249.9; 192.253.253.9; };\n};\n')),(0,l.kt)("p",null,"\u9ed8\u8ba4\u60c5\u51b5\u4e0b\uff0callow-transfer \u7684\u503c\u4e3a any\uff0c\u8868\u793a\u5141\u8bb8\u4efb\u4f55\u4eba\u90fd\u53ef\u4ee5\u4ece\u6b64\u4e3b\u673a\u4e0a\u6267\u884c\u533a\u57df\u4f20\u9001\u3002\u5b9e\u9645\u4e0a\uff0c",(0,l.kt)("strong",{parentName:"p"},"\u5e94\u8be5\u8bbe\u7f6e\u4e3b dns \u670d\u52a1\u5668\u53ea\u5141\u8bb8 slave \u670d\u52a1\u5668\u6765\u533a\u57df\u4f20\u9001\uff0c\u5e76\u8bbe\u7f6e slave \u670d\u52a1\u5668\u4e0d\u5141\u8bb8\u4efb\u4f55\u4eba\u533a\u57df\u4f20\u9001"),"\uff0c\u8fd9\u6837\u5c31\u6700\u5927\u7a0b\u5ea6\u4fdd\u8bc1\u4e86\u533a\u57df\u6570\u636e\u4e0d\u6cc4\u6f0f\u3002"),(0,l.kt)("p",null,"\u53ef\u4ee5\u624b\u52a8\u4f7f\u7528 dig \u547d\u4ee4\u5f3a\u5236\u533a\u57df\u4f20\u9001\uff0c\u53ea\u9700\u4f7f\u7528 -t \u6307\u5b9a\u533a\u57df\u4f20\u9001\u7684\u7c7b\u578b\u5373\u53ef\uff0c\u5982\u4e0b\uff1a"),(0,l.kt)("pre",null,(0,l.kt)("code",{parentName:"pre",className:"language-bash"},"dig -t AXFR\ndig -t ixfr=N\n")),(0,l.kt)("p",null,"\u5728\u6307\u5b9a\u589e\u91cf\u533a\u57df\u4f20\u9001\u65f6\uff0c\u9700\u8981\u6307\u5b9a\u5e8f\u5217\u53f7\uff0c\u53ea\u6709\u6bd4 N \u5927\u7684\u5e8f\u5217\u53f7\u624d\u4f1a\u4f20\u9001\u3002"),(0,l.kt)("h3",{id:"5114notify-\u901a\u77e5"},"5.11.4\u3001notify \u901a\u77e5"),(0,l.kt)("p",null,"\u4e3b DNS \u670d\u52a1\u5668\u53ef\u4ee5\u901a\u77e5\u4ece DNS \u670d\u52a1\u5668\u8fdb\u884c\u533a\u57df\u4f20\u9001\u3002"),(0,l.kt)("p",null,"notify \u662f\u8fd9\u6837\u5de5\u4f5c\u7684\uff1a",(0,l.kt)("strong",{parentName:"p"},"\u5f53\u4e3b DNS \u670d\u52a1\u5668\u91cd\u542f\u4e86 DNS \u670d\u52a1\u65f6\uff0c\u5219\u901a\u77e5\u6240\u6709 slave DNS \u670d\u52a1\u5668\u6765\u66f4\u65b0\u533a\u57df\u6570\u636e\u3002")),(0,l.kt)("ul",null,(0,l.kt)("li",{parentName:"ul"},"\u6709\u4e9b\u5730\u65b9\u6a21\u7cca\u5730\u8bf4 SOA \u5e8f\u5217\u53f7\u53d1\u751f\u6539\u53d8\u4e5f\u4f1a\u53d1\u9001 notify\uff0c\u5176\u5b9e\u4e0d\u7136\uff0c\u56e0\u4e3a\u533a\u57df\u6570\u636e\u6587\u4ef6\u9700\u8981\u7f16\u8bd1\u52a0\u8f7d\u5230\u5185\u5b58\uff0c\u4e0d\u91cd\u542f named\uff0c\u5373\u4f7f\u6539\u53d8\u4e86\u5e8f\u5217\u53f7\u4e5f\u65e0\u6548\u3002")),(0,l.kt)("p",null,"\u5b83\u662f\u8fd9\u6837\u5224\u65ad\u54ea\u4e9b\u662f\u4e3b DNS \u670d\u52a1\u5668\u54ea\u4e9b\u662f\u4ece DNS \u670d\u52a1\u5668\u7684\uff1a",(0,l.kt)("strong",{parentName:"p"},"\u627e\u5230\u533a\u57df\u6570\u636e\u6587\u4ef6\u4e2d\u7684\u6240\u6709 NS \u8bb0\u5f55\uff0c\u5e76\u6392\u9664\u672c\u673a\u4ee5\u53ca SOA \u8bb0\u5f55\u4e2d MNAME \u7684\u90a3\u4e2a\u670d\u52a1\u5668(SOA \u8bb0\u5f55\u7684 MNAME \u5217\u5373 IN \u5173\u952e\u5b57\u540e\u7684\u4e00\u5217\uff0c\u4e00\u822c\u5c31\u662f\u4e3b DNS \u670d\u52a1\u5668)\uff0c\u5269\u4f59\u7684\u90fd\u662f\u4ece DNS \u670d\u52a1\u5668\u3002")),(0,l.kt)("p",null,"\u4e3b DNS \u4e3a\u6bcf\u4e2a\u81ea\u5b9a\u4e49\u7684\u533a\u90fd\u53d1\u9001 notify \u58f0\u660e\u7ed9\u6240\u6709\u4ece\u670d\u52a1\u5668\uff0c\u544a\u77e5\u5176\u54ea\u4e9b\u533a\u6539\u53d8\u4e86\uff0cslave \u670d\u52a1\u5668\u63a5\u6536\u5230 notify \u58f0\u660e\u540e\u54cd\u5e94\u4e3b DNS \u670d\u52a1\u5668\u544a\u77e5\u5b83\u5df2\u7ecf\u6536\u5230\u4e86\u901a\u77e5\uff0c\u7136\u540e slave \u670d\u52a1\u5668\u5411\u4e3b DNS \u670d\u52a1\u5668\u53d1\u8d77\u67e5\u8be2\uff0c\u4ee5\u786e\u5b9a notify \u58f0\u660e\u4e2d\u6240\u901a\u544a\u7684\u533a\u7684 SOA \u8bb0\u5f55\u662f\u5426\u771f\u7684\u53d1\u751f\u4e86\u6539\u53d8\uff0c\u5982\u679c SOA \u53d1\u751f\u4e86\u6539\u53d8\uff0c\u5219\u8fdb\u884c\u533a\u57df\u4f20\u9001\uff0c\u5982\u679c\u6ca1\u6709\u6539\u53d8\u5219\u4e0d\u8fdb\u884c\u4f20\u9001\u3002"),(0,l.kt)("p",null,"\u4e3a\u4ec0\u4e48\u4ece DNS \u670d\u52a1\u5668\u63a5\u6536\u5230 notify \u58f0\u660e\u540e\u8fd8\u8981\u518d\u6b21\u67e5\u8be2\u4e3b\u670d\u52a1\u5668\u4e0a SOA \u8bb0\u5f55\u6765\u786e\u8ba4\u5462\uff1f\u7b2c\u4e00\u662f\u56e0\u4e3a\u8981\u6bd4\u8f83\u5e8f\u5217\u53f7\uff0c\u51b3\u5b9a\u662f\u5426\u8981\u4f20\u9001\uff0c\u4ee5\u53ca\u8981\u5b8c\u5168\u4f20\u9001\u8fd8\u662f\u589e\u91cf\u533a\u57df\u4f20\u9001\uff0c\u7b2c\u4e8c\u662f\u56e0\u4e3a\u6709\u4e9b\u4eba\u53ef\u80fd\u4f1a\u53d1\u9001\u5047\u5192\u7684 notify \u58f0\u660e\u7ed9\u4ece DNS \u670d\u52a1\u5668\uff0c\u4ece\u800c\u5bfc\u81f4\u591a\u4f59\u7684\u533a\u57df\u4f20\u9001\u3002"),(0,l.kt)("p",null,"\u5728 bind 9 \u4e2d\uff0c",(0,l.kt)("strong",{parentName:"p"},"\u4ece DNS \u670d\u52a1\u5668\u6536\u5230 notify \u58f0\u660e\u540e\u5e76\u8fdb\u884c\u4e86\u533a\u57df\u4f20\u9001\u540e\uff0c\u4ece DNS \u670d\u52a1\u5668\u4e4b\u95f4\u8fd8\u4f1a\u5404\u81ea\u53d1\u9001 notify \u7ed9\u5bf9\u65b9\uff0c\u56e0\u4e3a\u6709\u4e9b\u66f4\u4f4e\u5c42\u6b21\u7684\u4ece\u670d\u52a1\u5668\u4e0d\u4f1a\u63a5\u53d7\u4e3b DNS \u670d\u52a1\u5668\u53d1\u9001\u7684 notify\u3002")),(0,l.kt)("p",null,"\u56fe\u4f8b1\uff1amovie.edu \u7684\u4e3b DNS \u670d\u52a1\u5668\u4e3a terminator.movie.edu\uff0c\u8fd8\u6709\u4e24\u53f0\u4ece\u670d\u52a1\u5668\u5206\u522b\u4e3a wormhole.movie.edu \u548c zardoz.movie.edu\uff0c\u5b83\u4eec\u90fd\u662f movie.edu \u57df\u7684\u6743\u5a01\u670d\u52a1\u5668\uff0c\u5728\u8be5\u57df\u7684\u533a\u57df\u6587\u4ef6\u4e2d\u90fd\u6709 NS \u8bb0\u5f55\u3002"),(0,l.kt)("p",null,(0,l.kt)("img",{alt:"dns notify",src:a(47737).Z,width:"413",height:"334"})),(0,l.kt)("p",null,"\u5f53 terminator.movie.edu \u91cd\u542f\u4e86 named \u670d\u52a1\u65f6\uff0c\u8be5\u673a\u5668\u4f1a\u53d1\u9001 notify \u58f0\u660e\u7ed9 wormhole.movie.edu \u548c zardoz.movie.edu\uff0c\u5f53\u8fd9\u4e24\u53f0\u4ece\u670d\u52a1\u5668\u8fdb\u884c\u4e86\u533a\u57df\u4f20\u9001\u540e\uff0c\u5b83\u4eec\u8fd8\u4f1a\u4e92\u53d1 notify \u58f0\u660e\u7ed9\u5bf9\u65b9\uff0c\u4f46\u662f\u7531\u4e8e\u5b83\u4eec\u90fd\u4e0d\u662f\u5bf9\u65b9\u7684\u4e3b DNS \u670d\u52a1\u5668\uff0c\u6240\u4ee5\u4f1a\u5ffd\u7565\u5bf9\u65b9\u53d1\u9001\u7684 notify \u58f0\u660e\u3002"),(0,l.kt)("p",null,"\u56fe\u4f8b2\uff1aa \u662f\u67d0\u4e2a\u533a\u57df\u7684\u4e3b DNS \u670d\u52a1\u5668\uff0cb \u548c c \u90fd\u662f\u8be5\u533a\u57df\u7684\u4ece DNS \u670d\u52a1\u5668\uff0c\u4f46\u662f b \u662f a \u7684\u4ece\uff0cc \u662f b \u7684\u4ece\uff0c\u6240\u4ee5\u5728\u8fd9\u91cc\uff0cSOA \u8bb0\u5f55\u4e2d mname \u5217\u4ee3\u8868\u7684\u673a\u5668\u662f a\u3002"),(0,l.kt)("p",null,(0,l.kt)("img",{alt:"dns notify1",src:a(7361).Z,width:"433",height:"375"})),(0,l.kt)("p",null,"\u5f53 a \u91cd\u542f named \u65f6\uff0c\u53d1\u9001 notify \u58f0\u660e\u7ed9\u9664\u4e86\u672c\u673a\u548c SOA \u4e2d\u7684 mname \u4ee3\u8868\u7684\u673a\u5668\u5916\u7684 b \u548c c\uff0c b \u548c c \u90fd\u4f1a\u6536\u5230notify\uff0c\u4f46\u662f c \u4f1a\u5ffd\u7565 a \u7684 notify \u4fe1\u606f\uff0c\u56e0\u4e3a a \u4e0d\u662f\u5b83\u7684\u4e3b DNS \u670d\u52a1\u5668\uff0c\u5b83\u53ea\u4f1a\u63a5\u53d7 b \u53d1\u9001\u7684 notify\u3002"),(0,l.kt)("p",null,"\u800c b \u6536\u5230 a \u7684 notify \u540e\u4f1a\u4ece a \u4e0a\u8fdb\u884c\u533a\u57df\u4f20\u9001\uff0c\u4f20\u9001\u5b8c\u6bd5\u540e\u53d1\u9001 notify \u7ed9\u9664\u4e86\u672c\u673a\u548c a(\u56e0\u4e3a\u5b83\u662f SOA \u8bb0\u5f55\u4e2d mname \u5217\u7684\u503c)\u4e4b\u5916\u7684\u673a\u5668\uff0c\u5373\u53ea\u53d1\u9001 notify \u7ed9 c\uff0cc \u6536\u5230 b \u7684 notify \u540e\u5411 b \u53d1\u8d77\u67e5\u8be2\u786e\u8ba4\u662f\u5426\u9700\u8981\u8fdb\u884c\u4f20\u9001\uff0c\u4f20\u9001\u5b8c\u6bd5\u540e\u7ee7\u7eed\u53d1\u9001 notify \u7ed9\u9664\u4e86\u672c\u673a\u548c a \u4e4b\u5916\u7684\u673a\u5668\u5373 b \u673a\u5668\uff0cb \u6536\u5230 c \u7684 notify \u4fe1\u606f\u540e\u5bf9\u5176\u5ffd\u7565\uff0c\u56e0\u4e3a c \u4e0d\u662f\u5b83\u7684\u4e3b DNS \u670d\u52a1\u5668\u3002"),(0,l.kt)("p",null,"bind 9 \u4e2d\uff0cnotify \u9ed8\u8ba4\u662f\u6253\u5f00\u7684\uff0c\u6ce8\u610f notify \u662f\u5199\u5728\u4e3b DNS \u670d\u52a1\u5668\u7684 named.conf \u4e2d\u7684\uff0c\u5b83\u7684\u4f5c\u7528\u5bf9\u8c61\u9ed8\u8ba4\u662f\u6240\u6709\u7684\u4ece\u670d\u52a1\u5668\u3002\u4f7f\u7528\u4e0b\u9762\u7684\u8bed\u53e5\u53ef\u4ee5\u5173\u95ed\uff1a"),(0,l.kt)("pre",null,(0,l.kt)("code",{parentName:"pre",className:"language-bash"},"options {\n    notify no;\n};\n")),(0,l.kt)("p",null,"\u4e5f\u53ef\u4ee5\u5c06 notify \u7684\u5f00\u548c\u5173\u5b57\u53e5\u5199\u5728\u67d0\u4e2a\u533a\u57df\u4e2d\uff0c\u8fd9\u6837\u8be5\u8bbe\u7f6e\u4f1a\u8986\u76d6\u5168\u5c40\u914d\u7f6e\u3002"),(0,l.kt)("pre",null,(0,l.kt)("code",{parentName:"pre",className:"language-bash"},'zone "fx.movie.edu" {\n    type master;\n    file "db.fx.movie.edu";\n    notify no;\n};\n')),(0,l.kt)("p",null,"\u8fd8\u53ef\u4ee5\u4f7f\u7528 also-notify \u6765\u5b9a\u4e49 notify \u5217\u8868\uff0c\u8fd9\u6837\u9664\u4e86\u4f1a\u53d1\u9001 notify \u901a\u77e5\u7ed9\u4ece\u670d\u52a1\u5668\u8fd8\u4f1a\u53d1\u9001\u7ed9\u5217\u8868\u4e2d\u5b9a\u4e49\u7684\u673a\u5668\u3002also-notify \u5b57\u53e5\u53ef\u4ee5\u5199\u5728\u67d0\u4e2a\u533a\u4e2d\uff0c\u4e5f\u53ef\u4ee5\u5199\u5728\u5168\u5c40\u914d\u7f6e options \u5b57\u53e5\u4e2d\u3002"),(0,l.kt)("pre",null,(0,l.kt)("code",{parentName:"pre",className:"language-bash"},'zone "fx.movie.edu" {\n    type slave;\n    file "bak.fx.movie.edu";\n    notify yes;\n    also-notify { 15.255.152.4; };\n};\n')),(0,l.kt)("p",null,"\u9ed8\u8ba4\u4ece\u670d\u52a1\u5668\u53ea\u63a5\u53d7\u6765\u81ea\u5176\u4e3b DNS \u670d\u52a1\u5668\u7684 notify \u4fe1\u606f\uff0c\u975e\u4e3b DNS \u670d\u52a1\u5668\u7684\u4fe1\u606f\u90fd\u4f1a\u5ffd\u7565\uff0c\u4f46\u662f\u53ef\u4ee5\u4f7f\u7528 allow-notify \u5b57\u53e5\u5b9a\u4e49\u53ef\u4ee5\u63a5\u53d7\u5176\u4ed6\u4ece\u670d\u52a1\u5668\u7684 notify \u4fe1\u606f\u3002\u4f8b\u5982 a \u662f b \u548c c \u7684\u4e3b\uff0c\u5982\u679c\u5728 c \u4e0a\u5b9a\u4e49 ",(0,l.kt)("inlineCode",{parentName:"p"},"allow-notify { b_IP; };"),"\uff0c\u90a3\u4e48\u5b83\u4e5f\u4f1a\u63a5\u53d7 b \u7684 notify \u4fe1\u606f\u3002"),(0,l.kt)("h3",{id:"5115\u533a\u57df\u6587\u4ef6\u5907\u4efd\u7684\u91cd\u8981\u6027"},"5.11.5\u3001\u533a\u57df\u6587\u4ef6\u5907\u4efd\u7684\u91cd\u8981\u6027"),(0,l.kt)("p",null,"\u5728\u524d\u9762\u5b9a\u4e49 slave \u65f6\u8bf4\u8fc7\uff0c\u5176\u5b9e zone \u4e2d\u7684 file \u6307\u4ee4\u662f\u53ef\u4ee5\u7701\u7565\u7684\uff0c\u56e0\u4e3a slave \u4ece master \u590d\u5236\u7684\u533a\u57df\u6570\u636e\u662f\u5b58\u653e\u5728\u7f13\u5b58\u4e2d\u7684\u3002\u5982\u679c\u660e\u786e\u6307\u5b9a\u4e86 file \u6307\u4ee4\uff0c\u5219\u8868\u793a\u590d\u5236\u533a\u57df\u6570\u636e\u65f6\uff0c\u8fd8\u5c06\u5176\u5907\u4efd\u5230\u6307\u5b9a\u6587\u4ef6\u4e2d\u3002"),(0,l.kt)("p",null,"\u8fd9\u4e2a\u533a\u57df\u6570\u636e\u5907\u4efd\u6587\u4ef6\u975e\u5e38\u91cd\u8981\uff0c\u5176\u91cd\u8981\u6027\u4f53\u73b0\u5728 slave \u8054\u7cfb\u4e0d\u4e0a master \u65f6\u3002\u5f53 slave \u91cd\u542f\u4e86 named \u670d\u52a1\u6216\u8005 refresh \u65f6\u95f4\u5230\u4e86\uff0c\u4f46\u53c8\u8054\u7cfb\u4e0d\u4e0a master \u65f6\uff0cslave \u5c31\u7f3a\u5c11\u4e86\u533a\u57df\u6570\u636e\uff0c\u4e5f\u5c31\u6ca1\u6cd5\u5411\u5916\u63d0\u4f9b\u89e3\u6790\u670d\u52a1\u3002\u8fd9\u610f\u5473\u7740\uff0cdns \u670d\u52a1\u5b8c\u5168\u57ae\u4e86\u3002"),(0,l.kt)("h2",{id:"512-rndc-\u63a7\u5236-dns-\u670d\u52a1\u5668"},"5.12\u3001 rndc \u63a7\u5236 dns \u670d\u52a1\u5668"),(0,l.kt)("p",null,"rndc \u662f\u8fdc\u7a0b\u63a7\u5236 DNS \u670d\u52a1\u5668\u7684\u5de5\u5177\uff0c\u9ed8\u8ba4\u5728\u88c5 bind \u65f6\u5df2\u7ecf\u88c5\u597d\u3002"),(0,l.kt)("p",null,"\u63a7\u5236 dns \u670d\u52a1\u5668\u5b9e\u9645\u4e0a\u662f\u901a\u8fc7\u7279\u6b8a\u7684\u901a\u9053\u7ed9 dns \u670d\u52a1\u7a0b\u5e8f\u53d1\u9001\u63a7\u5236\u6d88\u606f\uff0c\u5728 bind9 \u4e0a\u53ea\u652f\u6301 tcp \u7aef\u53e3\u53f7\u7c7b\u578b\u7684\u63a7\u5236\u901a\u9053\uff0c\u6240\u4ee5\u5f85\u63a7\u5236\u7684 dns \u670d\u52a1\u5668\u4e0a\u9700\u8981\u5f00\u542f\u597d\u4e00\u4e2a\u7aef\u53e3\u53f7\u3002\u8fd9\u4e2a\u7aef\u53e3\u53f7\u662f\u901a\u8fc7 /etc/named.conf \u4e2d\u7684 controls \u6307\u4ee4\u6765\u8bbe\u7f6e\u7684\u3002"),(0,l.kt)("p",null,"rndc \u6709\u51e0\u4e2a\u5f88\u597d\u7684\u547d\u4ee4\u5de5\u5177\uff0c\u5982\u6e05\u7a7a DNS \u7f13\u5b58\u7684\u547d\u4ee4 rndc flush\uff0c\u8be5\u547d\u4ee4\u8fd8\u53ef\u4ee5\u6307\u5b9a\u6e05\u7a7a\u54ea\u4e2a\u57df\u7684\u7f13\u5b58\u3002\u6b64\u5916\u8fd8\u6709 rndc dumpdb \u53ef\u4ee5\u67e5\u8be2\u7f13\u5b58\u7b49\u529f\u80fd\uff0c\u8fd9\u4e9b\u529f\u80fd\u65e0\u9700\u914d\u7f6e\u5c31\u53ef\u76f4\u63a5\u4f7f\u7528\u3002\u4f46\u6709\u4e9b rndc \u7684\u529f\u80fd\u9700\u8981\u914d\u7f6e\u540e\u624d\u80fd\u4f7f\u7528\uff0c\u4f8b\u5982\u63a7\u5236 dns \u670d\u52a1\u5668\u3002"),(0,l.kt)("p",null,(0,l.kt)("img",{alt:"rndc",src:a(2945).Z,width:"422",height:"320"})),(0,l.kt)("h3",{id:"5121controls-\u6307\u4ee4"},"5.12.1\u3001controls \u6307\u4ee4"),(0,l.kt)("p",null,"\u5728 /etc/named.conf \u4e2d\uff0c\u53ef\u4ee5\u4f7f\u7528 controls \u6307\u4ee4\u6765\u8bbe\u7f6e\u63a5\u6536\u63a7\u5236\u6d88\u606f\u7684\u901a\u9053\uff0c\u4ee5\u53ca\u5141\u8bb8\u63a7\u5236\u672c\u673a\u7684\u63a7\u5236\u8005\u3002\u5b9a\u4e49\u65b9\u5f0f\u5982\u4e0b\uff1a"),(0,l.kt)("pre",null,(0,l.kt)("code",{parentName:"pre",className:"language-bash"},'controls {\n    inet local_ip port PORT_NUM  allow { control_ip_list; } keys { "rndc-key"; };\n};\n')),(0,l.kt)("p",null,"\u5728\u4e0a\u8ff0\u683c\u5f0f\u4e2d\uff1a"),(0,l.kt)("ol",null,(0,l.kt)("li",{parentName:"ol"},"local","_","ip \u548c PORT","_","NUM \u8bbe\u7f6e\u7684\u662f dns \u670d\u52a1\u5668\u5f00\u542f\u7684 tcp \u901a\u9053\uff0c\u8868\u793a\u76d1\u542c\u5728\u672c\u673a\u67d0\u4e2a IP \u5730\u5740 local","_","ip \u4e0a\u7684 PORT","_","NUM \u7aef\u53e3\u4e0a\u3002"),(0,l.kt)("li",{parentName:"ol"},"allow \u5173\u952e\u5b57\u5b9a\u4e49\u5141\u8bb8\u8fde\u63a5\u672c\u901a\u9053\u7684\u4e3b\u673a\u5217\u8868\uff0c\u4e5f\u5c31\u662f\u9650\u5b9a\u8c01\u80fd\u63a7\u5236\u672c\u673a dns \u670d\u52a1\u5668\u3002"),(0,l.kt)("li",{parentName:"ol"},"keys \u5173\u952e\u5b57\u5b9a\u4e49\u7684\u662f\u8fde\u63a5\u672c\u901a\u9053\u65f6\u9700\u8981\u8fdb\u884c\u5bc6\u94a5\u8ba4\u8bc1\uff0c\u53ea\u6709\u8ba4\u8bc1\u901a\u8fc7\u7684\u624d\u80fd\u6210\u529f\u8fde\u63a5\u901a\u9053\u3002\u8fd9\u4e2a key \u5728\u540e\u9762\u4ecb\u7ecd rndc \u65f6\u4f1a\u8bf4\u660e\u3002")),(0,l.kt)("p",null,"\u5176\u4e2d local","_","ip \u53ef\u4ee5\u4f7f\u7528 ",(0,l.kt)("inlineCode",{parentName:"p"},"*")," \u8868\u793a\u76d1\u542c\u5728\u672c\u673a\u6240\u6709\u5730\u5740\u4e0a\uff0cport \u53ef\u4ee5\u7701\u7565\uff0c\u9ed8\u8ba4\u76d1\u542c\u7aef\u53e3\u4e3a 953\u3002\u53e6\u5916\uff0ckey \u53ef\u4ee5\u653e\u5728\u67d0\u4e2a\u6587\u4ef6\u4e2d\uff0c\u7136\u540e\u4f7f\u7528 include \u6307\u4ee4\u5bfc\u5165\u5230 /etc/named.conf \u4e2d\u3002"),(0,l.kt)("h3",{id:"5122\u63a7\u5236\u7aef\u751f\u6210-rndcconf"},"5.12.2\u3001\u63a7\u5236\u7aef\u751f\u6210 rndc.conf"),(0,l.kt)("p",null,"\u4f7f\u7528\u5de5\u5177 rndc-confgen \u53ef\u4ee5\u751f\u6210 rndc \u7684\u914d\u7f6e\u6587\u4ef6 rndc.conf\uff0c\u540c\u65f6\u4e5f\u4f1a\u751f\u6210\u4e00\u4e2a md5 \u7684 key\u3002"),(0,l.kt)("pre",null,(0,l.kt)("code",{parentName:"pre",className:"language-bash"},"[root@jumper ~]# rndc-confgen > /etc/rndc.conf\n")),(0,l.kt)("p",null,"\u8fd9\u4e2a\u547d\u4ee4\u5728\u8fdc\u7a0b\u8fde\u63a5\u5de5\u5177\u4e0a\u6267\u884c\u53ef\u80fd\u4f1a\u5f88\u6162\uff0c\u5728 Linux \u673a\u5668\u672c\u8eab\u6267\u884c\u4f1a\u5f88\u5feb\u3002\u89e3\u51b3\u529e\u6cd5\u662f\u521b\u5efa\u4e00\u4e2a\u968f\u673a\u6570\u6587\u4ef6\uff0c\u7136\u540e\u4f7f\u7528 rndc-confgen -r \u6307\u5b9a\u968f\u673a\u6570\u6587\u4ef6\u3002"),(0,l.kt)("p",null,"\u53ef\u4ee5\u4f7f\u7528\u5b89\u88c5 bind \u65f6\u751f\u6210\u7684 genrandom \u5de5\u5177\u521b\u5efa\u968f\u673a\u6570\u6587\u4ef6\uff1a"),(0,l.kt)("pre",null,(0,l.kt)("code",{parentName:"pre",className:"language-bash"},"# \u5176\u4e2d 2 \u8868\u793a b.ran \u7684\u5927\u5c0f\u4e3a 2kB\n[root@jumper ~]# genrandom 2 /tmp/random.txt\n")),(0,l.kt)("p",null,"\u7136\u540e\u518d\u751f\u6210 rndc.conf \u5c31\u5f88\u5feb\u4e86\uff1a"),(0,l.kt)("pre",null,(0,l.kt)("code",{parentName:"pre",className:"language-bash"},"[root@jumper ~]# rndc-confgen -r /tmp/random.txt > /etc/rndc.conf\n")),(0,l.kt)("p",null,"\u67e5\u770b rndc.conf \u91cc\u7684\u5185\u5bb9\uff1a"),(0,l.kt)("pre",null,(0,l.kt)("code",{parentName:"pre",className:"language-bash"},'[root@jumper ~]# cat /etc/rndc.conf \n# Start of rndc.conf                    # rndc.conf\u5f00\u59cb\nkey "rndc-key" {\n    algorithm hmac-md5;\n    secret "QDCyDaU8El7quzv3vB3z9A==";    # rndc-confgen\u751f\u6210\u7684\u5bc6\u94a5\n};\n\noptions {\n    default-key "rndc-key";\n    default-server 127.0.0.1;\n    default-port 953;\n};\n# End of rndc.conf                      # rndc.conf\u7ed3\u675f\n\n# \u4e0a\u9762\u4e00\u6bb5\u662f/etc/rndc.conf\u7684\u914d\u7f6e\u3002\n# \u4e0b\u9762\u4e00\u6bb5\u662f\u590d\u5236\u6bb5\uff0c\u9700\u8981\u590d\u5236\u5230\u5f85\u63a7\u5236\u7684dns\u670d\u52a1\u5668\u7684named.conf\u4e2d\uff0c\u5e76\u6309\u9700\u4fee\u6539controls\u6307\u4ee4\n\n# Use with the following in named.conf, adjusting the allow list as needed:\n# key "rndc-key" {\n#   algorithm hmac-md5;\n#   secret "QDCyDaU8El7quzv3vB3z9A==";    #\u8fd9\u4e2a\u548c\u4e0a\u9762\u7684\u5bc6\u94a5\u662f\u76f8\u540c\u7684\uff0c\u80fd\u591f\u914d\u5bf9\n# };\n# \n# controls {\n#   inet 127.0.0.1 port 953\n#       allow { 127.0.0.1; } keys { "rndc-key"; };\n# };\n# End of named.conf\n[root@jumper ~]#\n')),(0,l.kt)("p",null,'\u4e0a\u9762\u7684 /etc/rndc.conf \u6587\u4ef6\u4e2d\u5206\u4e3a\u4e24\u6bb5\uff0c\u4e00\u6bb5\u662f\u4fdd\u7559\u5728 rndc.conf \u4e2d\u7684\uff0c\u53e6\u4e00\u6bb5\u662f\u9700\u8981\u590d\u5236\u5230\u5f85\u63a7\u5236\u673a\u5668\u7684 named.conf \u4e2d\u7684\u3002\u4e3a\u4e86\u65b9\u4fbf\u79f0\u547c\uff0c\u4e0b\u6587\u5c06\u4ee5 "\u590d\u5236\u6bb5" \u6765\u8868\u793a\u9700\u8981\u590d\u5236\u7684\u6bb5\u3002'),(0,l.kt)("p",null,"\u4ee5\u4e0b\u662f /etc/rndc.conf \u7684\u914d\u7f6e\u8bf4\u660e\uff1a"),(0,l.kt)("ol",null,(0,l.kt)("li",{parentName:"ol"},"options \u6bb5\u7528\u4e8e\u914d\u7f6e\u9ed8\u8ba4\u9879\u3002\u53ef\u4ee5\u914d\u7f6e\u7684\u6307\u4ee4\u5305\u62ec default-server\u3001default-port\u3001default-key\uff0c\u8868\u793a\u5f53\u6ca1\u6709\u4efb\u4f55\u5730\u65b9\u6307\u5b9a\u8fd9\u4e9b\u9879\u7684\u503c\u65f6\u5c06\u91c7\u7528\u8fd9\u4e9b\u9ed8\u8ba4\u503c\u3002"),(0,l.kt)("li",{parentName:"ol"},"server \u6bb5\u7528\u4e8e\u914d\u7f6e\u5f85\u63a7\u5236\u7684 dns \u670d\u52a1\u5668\u3002server \u5173\u952e\u5b57\u540e\u63a5\u7684\u662f dns \u670d\u52a1\u5668\u7684\u4e3b\u673a\u540d\u6216 ip \u5730\u5740\u3002\u5728\u6b64\u6bb5\u843d\u5185\uff0c\u53ef\u4ee5\u914d\u7f6e\u7684\u6307\u4ee4\u5305\u62ec\uff1akey\u3001port\u3001addresses\u3002",(0,l.kt)("ul",{parentName:"li"},(0,l.kt)("li",{parentName:"ul"},"key \u8868\u793a\u8fde\u63a5\u6b64 server \u65f6\u5c06\u4f7f\u7528\u8be5 key \u8fdb\u884c\u914d\u5bf9\uff1b"),(0,l.kt)("li",{parentName:"ul"},"port \u8868\u793a\u8981\u8fde\u63a5\u7684 dns \u670d\u52a1\u5668\u7684 rndc \u7aef\u53e3\u53f7\uff1b"),(0,l.kt)("li",{parentName:"ul"},"addresses \u6307\u5b9a\u8981\u8fde\u63a5\u7684 dns \u670d\u52a1\u5668\u5730\u5740\uff0c\u5f53\u4f7f\u7528\u4e86\u8be5\u6307\u4ee4\u65f6\u5c06\u66ff\u4ee3 server \u5173\u952e\u5b57\u540e\u7684\u4e3b\u673a\u540d\u6216 ip \u5730\u5740\uff0caddresses \u540e\u53ef\u4ee5\u7d27\u8ddf\u7740\u7aef\u53e3\u53f7\u3002"))),(0,l.kt)("li",{parentName:"ol"},"key \u6bb5\u5b9a\u4e49 key \u503c\u3002\u53ea\u6709\u4e24\u4e2a\u6307\u4ee4\uff0c\u4e00\u4e2a\u662f algorithm\uff0c\u76ee\u524d\u53ea\u652f\u6301 hmac-md5\uff0c\u53e6\u4e00\u4e2a\u6307\u4ee4\u662f secret\uff0c\u8868\u793a\u8be5 key \u6bb5\u6240\u4f7f\u7528\u7684 key\u3002secret \u6bb5\u52a0\u5bc6\u7684 key \u53ef\u4ee5\u4f7f\u7528 rndc-confgen \u751f\u6210\uff0c\u53ea\u9700\u4f7f\u7528\u4e0d\u540c\u7684\u968f\u673a\u6570\u5373\u53ef\u3002")),(0,l.kt)("p",null,"\u4ee5\u4e0b\u662f\u5728 10.1.1.1 \u4e0a\u8bbe\u7f6e\u7684 rndc.conf\uff0c\u7528\u4e8e\u63a7\u5236 10.1.1.2 \u548c 10.1.1.3 \u8fd9\u4e24\u53f0 dns \u670d\u52a1\u5668\u3002"),(0,l.kt)("pre",null,(0,l.kt)("code",{parentName:"pre",className:"language-bash"},'[root@jumper ~]# cat /etc/rndc.conf\n# Start of rndc.conf\nkey "rndc-key" {\n    algorithm hmac-md5;\n    secret "QDCyDaU8El7quzv3vB3z9A==";\n};\n\nserver localhost {\n    key  "rndc-key";\n};\n\nserver 10.1.1.2 {\n    key  "rndc-key";\n    port 953;\n};\n\nserver 10.1.1.3 {\n    key "rndc-key";\n    port 953;\n}; \n\noptions {\n    default-key "rndc-key";\n    default-server 127.0.0.1;\n    default-port 953;\n};\n# End of rndc.conf\n\n# Use with the following in named.conf, adjusting the allow list as needed:\n# key "rndc-key" {\n#   algorithm hmac-md5;\n#   secret "QDCyDaU8El7quzv3vB3z9A==";\n# };\n# \n# controls {\n#   inet 127.0.0.1 port 953\n#       allow { 127.0.0.1; } keys { "rndc-key"; };\n# };\n# End of named.conf\n[root@jumper ~]#\n')),(0,l.kt)("p",null,'\u7136\u540e\u53ea\u9700\u5c06\u4e0a\u8ff0 "\u590d\u5236\u6bb5" \u590d\u5236\u5230 10.1.1.2 \u548c 10.1.1.3 \u4e3b\u673a\u7684 /etc/named.conf \u4e2d\uff0c\u5e76\u7a0d\u4f5c\u4fee\u6539\uff0c\u5982\u4e0b\uff1a'),(0,l.kt)("pre",null,(0,l.kt)("code",{parentName:"pre",className:"language-bash"},'key "rndc-key" {\n    algorithm hmac-md5;\n    secret "QDCyDaU8El7quzv3vB3z9A==";  \n};\n\ncontrols {\n    inet * port 953\n    allow { 10.1.1.1; } keys { "rndc-key"; };\n};\n')),(0,l.kt)("p",null,"\u7136\u540e\u91cd\u542f\u5f85\u63a7\u5236\u7aef\u7684 named \u670d\u52a1\u3002\u53e6\u5916\uff0c\u4e3a\u4e86\u63a7\u5236\u672c\u5730\u4e3b\u673a\uff0c\u8fd8\u5e94\u8be5\u590d\u5236\u5230\u672c\u673a\u7684 /etc/named.conf \u4e2d\u5e76\u505a\u4fee\u6539\uff0c\u7136\u540e\u91cd\u542f named\uff0c\u5f53\u7136\uff0c\u5982\u679c\u4e0d\u7528\u63a7\u5236\u672c\u673a\u5219\u65e0\u9700\u914d\u7f6e\u3002"),(0,l.kt)("p",null,"\u7136\u540e\u4f7f\u7528 rndc \u53bb\u6d4b\u8bd5\u662f\u5426\u80fd\u63a7\u5236\u8fdc\u7a0b dns \u670d\u52a1\u5668\uff1a"),(0,l.kt)("pre",null,(0,l.kt)("code",{parentName:"pre",className:"language-bash"},"[root@jumper ~]# rndc -c /etc/rndc.conf -s 10.1.1.2 status\nversion: 9.9.4-RedHat-9.9.4-74.el7_6.1 <id:8f9657aa>\nCPUs found: 16\nworker threads: 16\nUDP listeners per interface: 16\nnumber of zones: 102\ndebug level: 0\nxfers running: 0\nxfers deferred: 0\nsoa queries in progress: 0\nquery logging is OFF\nrecursive clients: 0/0/1000\ntcp clients: 2/150\nserver is up and running\n[root@jumper ~]#\n")),(0,l.kt)("ul",null,(0,l.kt)("li",{parentName:"ul"},"\u8fd9\u8868\u793a\u63a7\u5236\u6210\u529f\u3002\u5982\u679c\u63a7\u5236\u5931\u8d25\uff0c\u53ef\u4ee5\u4ece\u4ee5\u4e0b\u51e0\u4e2a\u65b9\u9762\u627e\u539f\u56e0\uff1a",(0,l.kt)("ul",{parentName:"li"},(0,l.kt)("li",{parentName:"ul"},"\u7248\u672c\u4e0d\u4e00\u6837\u53ef\u80fd\u4f1a\u51fa\u95ee\u9898\u3002"),(0,l.kt)("li",{parentName:"ul"},"key \u65e0\u6cd5\u914d\u5bf9\u3002"),(0,l.kt)("li",{parentName:"ul"},"\u65f6\u95f4\u672a\u540c\u6b65\u3002"),(0,l.kt)("li",{parentName:"ul"},"key \u5df2\u7ecf\u5931\u6548\u3002")))),(0,l.kt)("h3",{id:"5123rndc-\u547d\u4ee4"},"5.12.3\u3001rndc \u547d\u4ee4"),(0,l.kt)("p",null,"rndc \u547d\u4ee4\u529f\u80fd\u975e\u5e38\u5f3a\u5927\uff0c\u6709\u5f88\u591a\u5f88\u597d\u7528\u7684\u529f\u80fd\u3002\u6b64\u5904\u53ea\u5217\u51fa\u51e0\u4e2a\u5e38\u7528\u7684\u547d\u4ee4\uff0c\u66f4\u591a\u7684\u7528\u6cd5\u53ef\u4ee5\u81ea\u884c\u63a2\u7d22\u3002"),(0,l.kt)("pre",null,(0,l.kt)("code",{parentName:"pre",className:"language-bash"},"[root@jumper ~]# rndc\nUsage: rndc [-b address] [-c config] [-s server] [-p port]\n    [-k key-file ] [-y key] [-r] [-V] command\n\ncommand is one of the following:\n  reload        Reload configuration file and zones.\n\n  reload zone [class [view]]\n                Reload a single zone.\n\n  notify zone [class [view]]\n                Resend NOTIFY messages for the zone.\n\n  reconfig      Reload configuration file and new zones only.\n  stop          Save pending updates to master files and stop the server.\n  flush         Flushes all of the server's caches.\n  status        Display status of the server.\n  ......\n")),(0,l.kt)("p",null,"\u751f\u4ea7\u5e94\u7528\u73af\u5883\u5f53\u4e2d\uff0c\u624b\u52a8\u914d\u7f6e DNS \u601d\u8def\u66f4\u52a0\u6e05\u6dc5\uff0c\u5f88\u5c11\u4f1a\u7528\u5230 rndc \u547d\u4ee4\u53bb\u7ba1\u7406\uff0c\u9664\u975e\u5728 DNS \u4ea7\u54c1\u670d\u52a1\u516c\u53f8\uff0c\u4f7f\u7528 rndc \u7ba1\u7406\u6548\u7387\u66f4\u9ad8\u3002"),(0,l.kt)("h2",{id:"513\u5b50\u57df"},"5.13\u3001\u5b50\u57df"),(0,l.kt)("p",null,'\u9876\u7ea7\u57df ".com" \u662f\u6839\u57df "." \u7684\u5b50\u57df\uff0c"baidu.com." \u53c8\u662f ".com." \u7684\u5b50\u57df\u3002\u4e3a\u4f55\u5fc5\u987b\u8981\u5411 isc \u7533\u8bf7\u624d\u80fd\u6ce8\u518c\u9876\u7ea7\u57df\u540d\u4e0b\u7684\u5b50\u57df\u5982 "brinnatt.com" \u5462\uff1f\u5f53\u6709\u4e86 "brinnatt.com" \u540e\uff0c\u5982\u4f55\u521b\u5efa\u548c\u8bbe\u7f6e\u5b83\u7684\u5b50\u57df "video.brinnatt.com" \u5462\uff1f'),(0,l.kt)("p",null,"\u4e0d\u7ba1\u662f\u4e0d\u662f\u5b50\u57df\uff0c\u53ea\u8981\u5b83\u662f\u4e00\u4e2a\u57df\uff0c\u5c31\u5fc5\u987b\u8981\u6709 dns \u670d\u52a1\u5668\u6765\u8d1f\u8d23\u8be5\u57df\u7684\u89e3\u6790\u3002\u57df\u7684\u7075\u9b42\u5728\u4e8e\u5176\u533a\u57df\u6570\u636e\u6587\u4ef6(\u4e0d\u662f named.conf\uff0c\u5b83\u53ea\u662f\u914d\u7f6e named \u7a0b\u5e8f\u5de5\u4f5c\u7684\u6587\u4ef6)\uff0c\u53ea\u6709\u533a\u57df\u6570\u636e\u6587\u4ef6\u4e2d\u624d\u63d0\u4f9b\u4e86\u57df\u6240\u9700\u7684\u6240\u6709\u6570\u636e\uff0c",(0,l.kt)("strong",{parentName:"p"},"\u8981\u8ba9 dns \u670d\u52a1\u5668\u80fd\u591f\u6b63\u5e38\u5de5\u4f5c\uff0c\u57df\u6570\u636e\u5fc5\u987b\u8981\u5b8c\u6574\u4e14\u6b63\u786e\uff0c\u5b8c\u6574\u7684\u57df\u6570\u636e\u81f3\u5c11\u8981\u5b58\u50a8 SOA \u8bb0\u5f55\uff0cns \u8bb0\u5f55\u4ee5\u53ca ns \u5bf9\u5e94\u7684 a \u8bb0\u5f55\u3002")),(0,l.kt)("ul",null,(0,l.kt)("li",{parentName:"ul"},"\u5982\u679c\u6ca1\u6709 ns \u8bb0\u5f55\uff0c\u5219\u8868\u793a\u8be5\u57df\u7f3a\u5c11 dns \u670d\u52a1\u5668\uff0c\u8fd9\u663e\u7136\u4e0d\u53ef\u80fd\u3002\u800c\u7f3a\u5c11 ns \u5bf9\u5e94\u7684 a \u8bb0\u5f55\u5219\u80fd\u77e5\u9053 dns \u670d\u52a1\u5668\u7684\u5b58\u5728\u4ee5\u53ca\u5176\u4e3b\u673a\u540d\uff0c\u5374\u627e\u4e0d\u5230 dns \u670d\u52a1\u5668\uff0c\u56e0\u4e3a\u6ca1\u6709\u5b83\u7684 ip \u5730\u5740\u3002"),(0,l.kt)("li",{parentName:"ul"},"\u66f4\u91cd\u8981\u7684\u662f\u7f3a\u5c11\u4e86 soa \u8bb0\u5f55\u540e\uff0c\u5b83\u6307\u5b9a\u4e0d\u4e86\u54ea\u4e2a dns \u670d\u52a1\u5668\u662f\u4e3b dns \u670d\u52a1\u5668\uff0c\u4ee5\u53ca\u4e00\u7cfb\u5217\u7684\u9644\u52a0\u5c5e\u6027(\u5e8f\u5217\u53f7\u3001\u5404\u79cd\u91cd\u8bd5\u7f13\u5b58\u65f6\u95f4\u7b49)\uff1b\u66f4\u5173\u952e\u7684\u662f soa \u662f\u8d77\u59cb\u6388\u6743\u673a\u6784\uff0c",(0,l.kt)("strong",{parentName:"li"},"\u7f3a\u5c11\u4e86 soa \u8bb0\u5f55\u8868\u660e\u7236\u57df\u6ca1\u6709\u5bf9\u8be5\u57df\u6388\u6743\uff0c\u8be5\u57df\u6ca1\u6709\u81ea\u4e3b\u6743\uff0c\u5b83\u53ea\u662f\u7236\u57df\u4e0b\u7684\u4e00\u90e8\u5206\uff0c\u6240\u6709\u7684\u89e3\u6790\u5de5\u4f5c\u90fd\u9700\u8981\u7531\u7236\u57df\u6765\u5b8c\u6210\uff0c\u53ea\u6709\u6709\u4e86 soa \u8bb0\u5f55\uff0c\u624d\u8868\u660e\u7236\u57df\u6388\u6743\u4e86\u8be5\u57df\uff0c\u8be5\u57df\u53ef\u4ee5\u4eab\u53d7\u8d77\u59cb\u6388\u6743\u7684\u6743\u5229\uff0c\u4e5f\u5c31\u662f\u5177\u6709\u81ea\u4e3b\u6743\uff0c\u53ef\u4ee5\u72ec\u7acb\u5b8c\u6210\u89e3\u6790\u5de5\u4f5c\u3002")),(0,l.kt)("li",{parentName:"ul"},"\u5b50\u57df\uff0c\u540c\u6837\u662f\u57df\u7684\u6982\u5ff5\uff0c\u56e0\u6b64\u5b83\u7684\u533a\u57df\u6570\u636e\u6587\u4ef6\u4e5f\u4e00\u6837\u8981\u6ee1\u8db3\u8fd9\u4e9b\u57fa\u672c\u6761\u4ef6\u3002")),(0,l.kt)("p",null,"\u518d\u56de\u987e\u4e0b dns \u89e3\u6790\u6d41\u7a0b\uff1a"),(0,l.kt)("ol",null,(0,l.kt)("li",{parentName:"ol"},"\u5ba2\u6237\u7aef\u5411 dns \u670d\u52a1\u5668\u53d1\u9001\u9012\u5f52\u67e5\u8be2\u540e\uff0cdns \u670d\u52a1\u5668\u4f1a\u67e5\u8be2\u6839\u57df\uff0c\u6839\u57df\u4f1a\u544a\u8bc9 dns \u670d\u52a1\u5668\u8d1f\u8d23\u89e3\u6790\u9876\u7ea7\u57df\u7684\u670d\u52a1\u5668\u5730\u5740\uff1b"),(0,l.kt)("li",{parentName:"ol"},"dns \u670d\u52a1\u5668\u518d\u5411\u9876\u7ea7\u57df\u670d\u52a1\u5668\u53d1\u8d77\u67e5\u8be2\uff0c\u9876\u7ea7\u57df\u670d\u52a1\u5668\u518d\u544a\u8bc9 dns \u670d\u52a1\u5668\u518d\u4e0b\u4e00\u5c42\u6b21\u57df\u7684\u670d\u52a1\u5668\u5730\u5740\uff0c\u4f9d\u6b21\u4e0b\u53bb\uff0c\u76f4\u5230\u627e\u5230\u6700\u7ec8\u4e3b\u673a\u5730\u5740\u5e76\u8fd4\u56de\u7ed9\u5ba2\u6237\u7aef\u3002")),(0,l.kt)("p",null,"\u5728\u8fd9\u4e2a\u89e3\u6790\u6d41\u7a0b\u4e2d\uff0c\u7236\u57df\u603b\u662f\u5c06\u5b50\u57df dns \u670d\u52a1\u5668\u7684\u5730\u5740\u544a\u8bc9 dns \u670d\u52a1\u5668\u3002\u6240\u4ee5\uff0c\u7236\u57df\u662f\u77e5\u9053\u5b50\u57df dns \u670d\u52a1\u5668\u7684 ip \u5730\u5740\u7684\uff0c\u56e0\u6b64",(0,l.kt)("strong",{parentName:"p"},"\u5728\u7236\u57df\u7684\u533a\u57df\u6570\u636e\u6587\u4ef6\u4e2d\uff0c\u5fc5\u7136\u8981\u6307\u5b9a\u5b50\u57df dns \u670d\u52a1\u5668\u7684 A \u8bb0\u5f55"),"\u3002"),(0,l.kt)("p",null,"\u53e6\u5916\uff0c\u7236\u57df\u5982\u4f55\u77e5\u9053\u57df\u5185\u4e3b\u673a\u662f\u666e\u901a\u7684\u4e3b\u673a\u8fd8\u662f\u5b50\u57df dns \u670d\u52a1\u5668\uff1f\u603b\u4e0d\u80fd\u8ba9\u5b50\u57df dns \u670d\u52a1\u5668\u88ab\u7236\u57df\u5f53\u6210\u666e\u901a\u4e3b\u673a\u5427\uff1f\u533a\u5206\u7684\u65b9\u6cd5\u662f",(0,l.kt)("strong",{parentName:"p"},"\u5728\u7236\u57df\u7684\u533a\u57df\u6570\u636e\u6587\u4ef6\u4e2d\u4f7f\u7528 NS \u8bb0\u5f55\u6765\u5b58\u50a8\u5b50\u57df dns \u670d\u52a1\u5668\u4fe1\u606f"),"\u3002\u8fd9\u6837\u4e00\u6765\uff0c\u5b50\u57df dns \u670d\u52a1\u5668\u4e0d\u4ec5\u5728\u7236\u57df\u7684\u533a\u57df\u6570\u636e\u6587\u4ef6\u4e2d\u6709\u4e86 NS \u8bb0\u5f55\uff0c\u8fd8\u6709\u4e86 A \u8bb0\u5f55\uff0c\u7236\u57df\u5c31\u80fd\u5c06\u5b50\u57df\u4fe1\u606f\u8fd4\u56de\u7ed9\u67e5\u8be2\u53d1\u8d77\u8005\u3002"),(0,l.kt)("p",null,"\u5176\u5b9e\u5728\u7406\u8bba\u4e0a\uff0c\u7236\u57df\u7684\u533a\u57df\u6570\u636e\u6587\u4ef6\u4e2d\u662f\u53ef\u4ee5\u4e0d\u5b58\u50a8\u5b50\u57df dns \u670d\u52a1\u5668 A \u8bb0\u5f55\u7684\uff0c\u56e0\u4e3a NS \u8bb0\u5f55\u5df2\u7ecf\u533a\u5206\u4e86\u5b83\u662f dns \u670d\u52a1\u5668\uff0c\u53ea\u4e0d\u8fc7\u53ea\u6709 NS \u8bb0\u5f55\u6ca1\u6709 A \u8bb0\u5f55\u662f\u627e\u4e0d\u5230\u8be5\u5b50\u57df dns \u670d\u52a1\u5668\u7684\u3002"),(0,l.kt)("p",null,"\u6839\u636e\u4e0a\u8ff0\u5206\u6790\uff0c\u5e94\u8be5\u5c31\u80fd\u660e\u767d\u5728\u4e92\u8054\u7f51\u4e0a\u7533\u8bf7\u57df\u540d\u5e76\u5411\u5916\u754c\u63d0\u4f9b\u89e3\u6790\u65f6\uff0c\u5b9e\u9645\u4e0a\u662f\u7533\u8bf7\u673a\u6784\u7684\u533a\u57df\u6570\u636e\u6587\u4ef6\u4e2d\u6dfb\u52a0 NS \u8bb0\u5f55\u548c NS \u5bf9\u5e94\u7684 A \u8bb0\u5f55\uff0c\u4ec5\u6b64\u800c\u5df2\u3002\u7531\u6b64\u53ef\u77e5\uff0c\u6839\u57df\u540d\u548c\u9876\u7ea7\u57df\u540d\u7684\u533a\u57df\u6570\u636e\u6587\u4ef6\u662f\u65e0\u6bd4\u5de8\u5927\u7684\uff0c\u5728\u5176\u4e2d\u5b58\u653e\u4e86\u65e0\u6570\u7684 NS \u8bb0\u5f55\u548c A \u8bb0\u5f55\u3002"),(0,l.kt)("h3",{id:"5131\u521b\u5efa\u5b50\u57df"},"5.13.1\u3001\u521b\u5efa\u5b50\u57df"),(0,l.kt)("p",null,'\u6839\u636e\u4e0a\u9762\u7684\u5206\u6790\uff0c\u5728\u5df2\u6709 "brinnatt.com" \u57df\u65f6\uff0c\u5047\u8bbe\u8981\u521b\u5efa\u5176\u5b50\u57df "video.brinnatt.com"\uff0c\u9700\u8981\u6ee1\u8db3\u4ee5\u4e0b\u4e24\u4e2a\u6761\u4ef6\uff1a'),(0,l.kt)("ol",null,(0,l.kt)("li",{parentName:"ol"},'"brinnatt.com" \u7684\u533a\u57df\u6570\u636e\u6587\u4ef6\u4e2d\uff0c\u9700\u8981\u6dfb\u52a0\u5b50\u57df "video.brinnatt.com" \u7684 dns \u670d\u52a1\u5668\u7684 NS \u8bb0\u5f55\u548c A \u8bb0\u5f55\uff0c\u5982\u679c\u8be5\u5b50\u57df\u6709\u591a\u4e2a dns \u670d\u52a1\u5668\uff0c\u5219\u9700\u8981\u6dfb\u52a0\u591a\u4e2a NS \u8bb0\u5f55\u548c\u5bf9\u5e94\u7684 A \u8bb0\u5f55\u3002'),(0,l.kt)("li",{parentName:"ol"},"\u5b50\u57df master dns \u670d\u52a1\u5668\u4e0a\u7684\u533a\u57df\u6570\u636e\u6587\u4ef6\u4e2d\uff0c\u9700\u8981\u4e66\u5199 SOA \u8bb0\u5f55\uff0cNS \u8bb0\u5f55\u548c NS \u5bf9\u5e94\u7684 A \u8bb0\u5f55\u3002")),(0,l.kt)("p",null,"\u6240\u4ee5\uff0c\u914d\u7f6e\u5b50\u57df\u7684\u8fc7\u7a0b\u5176\u5b9e\u5f88\u7b80\u5355\u3002\u4f46\u5b9e\u9645\u4e0a\uff0c\u8981\u521b\u5efa\u5b50\u57df\u662f\u4e00\u4e2a\u6bd4\u8f83\u7cbe\u7ec6\u7684\u6d3b\uff0c\u4e0d\u4ec5\u8981\u8003\u8651\u5b50\u57df\u7684\u57df\u540d(\u8981\u8ba9\u5b50\u57df\u540d\u6709\u610f\u4e49\u3001\u6613\u8bfb\u3001\u6ca1\u6709\u4e8c\u4e49\u6027\u7b49\uff0c\u800c\u4e0d\u662f\u968f\u4fbf\u53d6\u7684)\uff0c\u8fd8\u8981\u8003\u8651\u521b\u5efa\u591a\u5c11\u4e2a\u5b50\u57df\uff0c\u5982\u4f55\u5212\u5206\u5b50\u57df(\u662f\u6309\u5730\u7406\u4f4d\u7f6e\u5212\u5206\u3001\u90e8\u95e8\u5212\u5206\u3001\u529f\u80fd\u5212\u5206\u8fd8\u662f\u5176\u4ed6\u65b9\u5f0f\u5212\u5206)\uff0c\u5f53\u7136\u8fd9\u51e0\u4e2a\u90fd\u4e0d\u662f\u6280\u672f\u5c42\u9762\u7684\u95ee\u9898\u3002"),(0,l.kt)("p",null,"\u5c31\u6280\u672f\u5c42\u9762\u4e0a\u8003\u8651\uff0c\u521b\u5efa\u5b50\u57df\u65f6\uff0c\u9700\u8981\u8003\u8651\u7236\u57df\u6570\u636e\u5230\u5b50\u57df\u7684\u8fc1\u79fb\uff0c\u8fd8\u8981\u8003\u8651\u53cd\u5411\u67e5\u627e\u533a\u57df\u6570\u636e\u6587\u4ef6\u7684\u95ee\u9898(\u53cd\u5411\u67e5\u627e\u533a\u57df\u7684\u7236\u57df\u603b\u662f in-addr.arpa\uff0c\u6240\u4ee5\u6839\u672c\u4e0d\u9700\u8981\u8003\u8651\u5b50\u57df\u53cd\u5411\u67e5\u627e\u533a\u57df\u6570\u636e\u6587\u4ef6\u7684\u7279\u6b8a\u6027)\u3002"),(0,l.kt)("p",null,"\u914d\u7f6e\u4e4b\u524d\u91cd\u8981\u6982\u5ff5\u518d\u68b3\u7406\u4e00\u904d\uff1a"),(0,l.kt)("ol",null,(0,l.kt)("li",{parentName:"ol"},"\u5b50\u57df\u7684\u533a\u57df\u6570\u636e\u6587\u4ef6\u4e2d\u662f\u53ef\u4ee5\u6ca1\u6709 SOA \u8bb0\u5f55\u7684\uff0c\u53ea\u4e0d\u8fc7\u6b64\u65f6\u5b50\u57df\u6ca1\u6709\u5f97\u5230\u7236\u57df\u6388\u6743\uff0c\u4e5f\u5c31\u6ca1\u6709\u81ea\u4e3b\u6743\uff0c\u65e0\u6cd5\u63d0\u4f9b\u89e3\u6790\u529f\u80fd\u3002"),(0,l.kt)("li",{parentName:"ol"},"\u6ca1\u6709 SOA \u8bb0\u5f55\u610f\u5473\u7740\u4e0d\u662f\u4e00\u4e2a\u5b50\u57df\uff0c\u800c\u662f\u7236\u57df\u7684\u4e00\u90e8\u5206\uff0c\u5c31\u76f8\u5f53\u4e8e\u5728\u7236\u57df\u7684\u533a\u57df\u6570\u636e\u6587\u4ef6\u4e2d\u4f7f\u7528 include \u4e00\u6837\u3002"),(0,l.kt)("li",{parentName:"ol"},"\u6709\u4e86 soa \u8bb0\u5f55\uff0c\u624d\u8868\u660e\u7236\u57df\u6388\u6743\u4e86\u8be5\u57df\uff0c\u8be5\u57df\u53ef\u4ee5\u4eab\u53d7\u8d77\u59cb\u6388\u6743\u7684\u6743\u5229\uff0c\u4e5f\u5c31\u662f\u5177\u6709\u81ea\u4e3b\u6743\uff0c\u53ef\u4ee5\u72ec\u7acb\u5b8c\u6210\u89e3\u6790\u5de5\u4f5c\u3002")),(0,l.kt)("p",null,'\u73b0\u5728\u8981\u521b\u5efa\u5b50\u57df "video.brinnatt.com"\uff0c\u65b0\u63d0\u4f9b\u4e00\u53f0\u8d1f\u8d23\u5b50\u57df\u89e3\u6790\u7684 dns \u670d\u52a1\u5668\u3002\u5148\u4fee\u6539\u7236\u57df\u7684\u533a\u57df\u6570\u636e\u6587\u4ef6\uff0c\u52a0\u4e0a\u5b50\u57df\u7684 NS \u8bb0\u5f55\u548c NS \u5bf9\u5e94\u7684 A \u8bb0\u5f55\u3002'),(0,l.kt)("pre",null,(0,l.kt)("code",{parentName:"pre",className:"language-bash"},"[root@arm64v8 ~]# cat /var/named/db.brinnatt.com\n$TTL 6h\n@           IN  SOA dnsserver   xyz (\n                112   ; serial num\n                3h    ; refresh time \n                1h    ; retry time \n                1w    ; expire time\n                1h )  ; negative time\n\n@           IN  NS  dnsserver\n@           IN  NS  dnsslaver\n\ndnsserver   IN  A   10.1.1.2\ndnsslaver   IN  A   10.1.1.3\nwww         IN  A   10.1.1.116\nftp         IN  A   10.1.1.117\nmydb        IN  A   10.1.1.118\nredis       IN  A   10.1.1.119\n\nwww1        IN  CNAME   www\n\nvideo       IN  NS  ns1.video   # \u4e3a\u5b50\u57df\u505a\u51c6\u5907\nns1.video   IN  A   10.1.1.6    # \u4e3a\u5b50\u57df\u505a\u51c6\u5907\n[root@arm64v8 ~]#\n")),(0,l.kt)("p",null,"\u91cd\u542f\u7236\u57df named \u670d\u52a1\uff0c\u6216\u8005\u4f7f\u7528 rndc reload zone \u6587\u4ef6\u3002"),(0,l.kt)("pre",null,(0,l.kt)("code",{parentName:"pre",className:"language-bash"},"[root@jumper ~]# rndc -c /etc/rndc.conf -s 10.1.1.2 reload brinnatt.com\nzone reload queued\n[root@jumper ~]#\n")),(0,l.kt)("p",null,"\u518d\u914d\u7f6e\u5b50\u57df\u7684 named.conf \u4ee5\u53ca\u533a\u57df\u6570\u636e\u6587\u4ef6\u3002\u6ce8\u610f\u5b50\u57df\u7684\u533a\u57df\u6570\u636e\u6587\u4ef6\u4e2d\uff0c\u8981\u914d\u7f6e SOA\u3001NS \u4ee5\u53ca NS \u5bf9\u5e94\u7684 A \u8bb0\u5f55\u3002"),(0,l.kt)("pre",null,(0,l.kt)("code",{parentName:"pre",className:"language-bash"},'[root@b01test-s2500 ~]# cat /etc/named.conf\noptions {\n    directory   "/var/named";\n};\n\nzone "." IN {\n    type hint;\n    file "named.ca";\n};\n\nzone "video.brinnatt.com" IN {\n        type master;\n        file "db.video.brinnatt.com";\n};\n\ninclude "/etc/named.rfc1912.zones";\n[root@b01test-s2500 ~]#\n')),(0,l.kt)("pre",null,(0,l.kt)("code",{parentName:"pre",className:"language-bash"},"[root@b01test-s2500 ~]# cat /var/named/db.video.brinnatt.com\n$TTL 6h\n@       IN    SOA   ns1    xyz    ( 1 6h 3h 1d 1h )\n        IN    NS    ns1\n\nns1     IN    A     10.1.1.6\n[root@b01test-s2500 ~]#\n")),(0,l.kt)("p",null,"\u91cd\u542f\u5b50\u57df dns \u670d\u52a1\u5668\u7684 named \u670d\u52a1\u5668\uff1a"),(0,l.kt)("pre",null,(0,l.kt)("code",{parentName:"pre",className:"language-bash"},"[root@b01test-s2500 ~]# systemctl restart named\n")),(0,l.kt)("p",null,"\u81f3\u6b64\uff0c\u5b50\u57df\u5c31\u6388\u6743\u5b8c\u6210\u4e86\uff0c\u4e8e\u662f\u53ef\u4ee5\u6d4b\u8bd5\u67e5\u8be2\u5b50\u57df\u4e2d\u7684\u4e3b\u673a\u65f6\uff0c\u662f\u7531\u5b50\u57df\u7684 dns \u670d\u52a1\u5668\u800c\u4e0d\u662f\u7236\u57df\u6765\u89e3\u6790\u7684\u3002"),(0,l.kt)("p",null,'\u6d4b\u8bd5\u7684\u65b9\u6cd5\u662f\u67e5\u8be2\u5b50\u57df\u4e2d\u4efb\u610f\u4e3b\u673a\uff0c\u5982\u679c\u5728 dig \u7ed3\u679c\u4e2d\u7684 "AUTHORITY SECTION" \u6bb5\u7ed9\u51fa\u7684\u662f\u7236\u57df\u7684 dns \u670d\u52a1\u5668\uff0c\u5219\u8868\u660e\u662f\u7236\u57df\u8fdb\u884c\u89e3\u6790\u7684\uff0c\u5982\u679c\u7ed9\u51fa\u7684\u662f\u5b50\u57df\u7684 dns \u670d\u52a1\u5668\uff0c\u5219\u8868\u660e\u662f\u5b50\u57df\u8fdb\u884c\u89e3\u6790\u7684\u3002'),(0,l.kt)("p",null,"\u4f8b\u5982\uff0cdig \u4e00\u4e2a\u5b50\u57df\u4e2d\u6ca1\u6709\u7684\u4e3b\u673a\uff1a"),(0,l.kt)("pre",null,(0,l.kt)("code",{parentName:"pre",className:"language-bash"},"[root@dnsslaver ~]# dig -t a xyz.video.brinnatt.com. @10.1.1.2\n\n; <<>> DiG 9.11.21-9.11.21-4.ky10 <<>> -t a xyz.video.brinnatt.com. @10.1.1.2\n;; global options: +cmd\n;; Got answer:\n;; ->>HEADER<<- opcode: QUERY, status: NXDOMAIN, id: 39359\n;; flags: qr rd ra; QUERY: 1, ANSWER: 0, AUTHORITY: 1, ADDITIONAL: 1\n\n;; OPT PSEUDOSECTION:\n; EDNS: version: 0, flags:; udp: 4096\n;; QUESTION SECTION:\n;xyz.video.brinnatt.com.        IN  A\n\n;; AUTHORITY SECTION:       # \u6743\u5a01\u53d8\u6210 video.brinnatt.com\nvideo.brinnatt.com. 3412    IN  SOA ns1.video.brinnatt.com. xyz.video.brinnatt.com. 1 21600 10800 86400 3600\n\n;; Query time: 0 msec\n;; SERVER: 10.1.1.2#53(10.1.1.2)\n;; WHEN: \u4e00 10\u6708 18 15:16:33 CST 2021\n;; MSG SIZE  rcvd: 91\n\n[root@dnsslaver ~]#\n")),(0,l.kt)("ul",null,(0,l.kt)("li",{parentName:"ul"},"\u4e0a\u9762\u7ed3\u679c\u4e2d\u7684\u6743\u5a01\u7b54\u6848\u662f video.brinnatt.com \u7ed9\u7684\uff0c\u8bf4\u660e\u5b50\u57df\u914d\u7f6e\u662f\u5b8c\u6574\u3001\u6b63\u786e\u7684\u3002")),(0,l.kt)("h2",{id:"514\u667a\u80fd-dns--\u89c6\u56fe-view"},"5.14\u3001\u667a\u80fd DNS \u2014\u2014 \u89c6\u56fe view"),(0,l.kt)("p",null,"\u667a\u80fd dns\uff0c\u4ec5\u5c31 bind \u6765\u8bf4\uff0c\u5176\u89c6\u56fe\u7279\u6027\u63d0\u4f9b\u7684\u5c31\u662f\u667a\u80fd dns \u7684\u529f\u80fd\u3002"),(0,l.kt)("p",null,"\u4f7f\u7528 view \u53ef\u4ee5\u5b9e\u73b0\u6839\u636e\u5ba2\u6237\u7aef\u6765\u6e90\u4e3a\u4e0d\u540c\u6765\u6e90\u7684\u5ba2\u6237\u7aef\u5c55\u73b0\u540c\u4e00\u4e2a\u533a\u57df\u7684\u4e0d\u540c\u914d\u7f6e\uff0c\u4e0d\u540c\u6765\u6e90\u7684\u5ba2\u6237\u7aef\u89e3\u6790\u540c\u4e00\u4e2a\u533a\u57df\u4e5f\u53ef\u80fd\u5f97\u5230\u4e0d\u540c\u7684\u7ed3\u679c\u3002"),(0,l.kt)("p",null,"\u4f8b\u5982\uff0c\u516c\u53f8\u4e24\u53f0 web \u670d\u52a1\u5668 web1 \u548c web2\uff08\u5b83\u4eec\u662f\u5b8c\u5168\u76f8\u540c\u7684\u5185\u5bb9\uff09\uff0c\u4f7f\u7528\u7535\u4fe1\u7f51\u7684\u5ba2\u6237\u7aef\u5bf9 web \u7684\u8bf7\u6c42\u8ba9\u5176\u8bbf\u95ee\u5230 web1 \u4e0a\uff0c\u4f7f\u7528\u8054\u901a\u7f51\u7684\u5ba2\u6237\u7aef\u5bf9 web \u7684\u8bf7\u6c42\u8ba9\u5176\u8bbf\u95ee\u5230 web2 \u4e0a\u3002\u901a\u8fc7\u5224\u65ad\u7f51\u7edc\u6765\u6e90\uff0c\u8ba9\u5176\u9009\u62e9\u5408\u9002\u7684\u7ebf\u8def\u8bbf\u95ee\u53ef\u4ee5\u52a0\u5feb\u8bbf\u95ee\u901f\u5ea6\uff0c\u8fd9\u662f\u5e38\u7528\u7684\u529f\u80fd\u3002"),(0,l.kt)("p",null,"\u8981\u4f7f\u7528 view \u529f\u80fd\uff0c\u6700\u597d\u914d\u5408 acl \u6765\u5236\u5b9a\u4ec0\u4e48\u5ba2\u6237\u7aef\u89e3\u6790\u5230\u54ea\u53bb\u3002acl \u6307\u4ee4\u662f\u4ec5\u6709\u7684\u51e0\u4e2a\u4e0d\u80fd\u5b9a\u4e49\u5728 view \u4e2d\u7684\u6307\u4ee4\u4e4b\u4e00\u3002"),(0,l.kt)("p",null,"\u793a\u4f8b\u8bbe\u8ba1\uff1a\u7535\u4fe1\u7684\u5ba2\u6237\u53ea\u80fd\u8bbf\u95ee\u5230 web1 10.1.1.116\uff0c\u8054\u901a\u7684\u5ba2\u6237\u53ea\u80fd\u8bbf\u95ee\u5230 web2 10.1.1.226\u3002"),(0,l.kt)("pre",null,(0,l.kt)("code",{parentName:"pre",className:"language-bash"},'[root@arm64v8 ~]# cat /etc/named.conf\nacl telecom { 10.1.1.3/32; };   //\u6a21\u4eff\u7535\u4fe1\u7528\u6237\nacl unicom { 10.1.1.6/32; };    //\u6a21\u4eff\u8054\u901a\u7528\u6237\noptions {\n    directory "/var/named";\n};\n\nview telecom {\n        match-clients {telecom;};\n        zone "brinnatt.com" IN {\n            type master;\n            file "telecom.brinnatt.com.zone";\n        };\n};\n\nview unicom {\n        match-clients {unicom;};\n        zone "brinnatt.com" IN {\n            type master;\n            file "unicom.brinnatt.com.zone";\n        };\n};\n[root@arm64v8 ~]#\n')),(0,l.kt)("pre",null,(0,l.kt)("code",{parentName:"pre",className:"language-bash"},"[root@arm64v8 ~]# cat /var/named/telecom.brinnatt.com.zone\n$TTL 6h\n@           IN  SOA dnsserver   admin (\n                1     ; serial num\n                3h    ; refresh time \n                1h    ; retry time \n                1w    ; expire time\n                1h )  ; negative time\n\n@           IN  NS  dnsserver\n\ndnsserver   IN  A   10.1.1.2\nwww         IN  A   10.1.1.116  //\u5047\u8bbe web1 ip 10.1.1.116\n[root@arm64v8 ~]# \n[root@arm64v8 ~]# chown root:named /var/named/telecom.brinnatt.com.zone\n[root@arm64v8 ~]# chmod 640 /var/named/telecom.brinnatt.com.zone\n[root@arm64v8 ~]# cp -a /var/named/telecom.brinnatt.com.zone /var/named/unicom.brinnatt.com.zone\n[root@arm64v8 ~]#\n[root@arm64v8 ~]# cat /var/named/unicom.brinnatt.com.zone\n$TTL 6h\n@           IN  SOA dnsserver   admin (\n                1     ; serial num\n                3h    ; refresh time \n                1h    ; retry time \n                1w    ; expire time\n                1h )  ; negative time\n\n@           IN  NS  dnsserver\n\ndnsserver   IN  A   10.1.1.2\nwww         IN  A   10.1.1.226  //\u5047\u8bbe web2 ip 10.1.1.226\n[root@arm64v8 ~]#\n[root@arm64v8 ~]# systemctl restart named\n")),(0,l.kt)("p",null,"\u9a8c\u8bc1\uff1a\u6839\u636e\u672c\u793a\u4f8b\u8bbe\u8ba1\uff0c\u6a21\u4eff\u7535\u4fe1\u7528\u6237\u7684 10.1.1.3 \u5e94\u8be5\u8bbf\u95ee\u7684\u662f\u4ee3\u8868 web1 \u670d\u52a1\u5668\u7684 10.1.1.116\uff1b\u6a21\u4eff\u8054\u901a\u7528\u6237\u7684 10.1.1.6 \u5e94\u8be5\u8bbf\u95ee\u7684\u662f\u4ee3\u8868 web2 \u670d\u52a1\u5668\u7684 10.1.1.226\u3002"),(0,l.kt)("pre",null,(0,l.kt)("code",{parentName:"pre",className:"language-bash"},"# \u4ece 10.1.1.3 dig www \u4e3b\u673a\n[root@dnsslaver ~]# dig -t A www.brinnatt.com @10.1.1.2\n\n; <<>> DiG 9.11.21-9.11.21-4.ky10 <<>> -t A www.brinnatt.com @10.1.1.2\n;; global options: +cmd\n;; Got answer:\n;; ->>HEADER<<- opcode: QUERY, status: NOERROR, id: 4780\n;; flags: qr aa rd ra; QUERY: 1, ANSWER: 1, AUTHORITY: 1, ADDITIONAL: 2\n\n;; OPT PSEUDOSECTION:\n; EDNS: version: 0, flags:; udp: 4096\n;; QUESTION SECTION:\n;www.brinnatt.com.      IN  A\n\n;; ANSWER SECTION:\nwww.brinnatt.com.   21600   IN  A   10.1.1.116      # \u786e\u5b9e\u662f 10.1.1.116\n\n;; AUTHORITY SECTION:\nbrinnatt.com.       21600   IN  NS  dnsserver.brinnatt.com.\n\n;; ADDITIONAL SECTION:\ndnsserver.brinnatt.com. 21600   IN  A   10.1.1.2\n\n;; Query time: 0 msec\n;; SERVER: 10.1.1.2#53(10.1.1.2)\n;; WHEN: \u4e00 10\u6708 18 21:32:48 CST 2021\n;; MSG SIZE  rcvd: 101\n\n[root@dnsslaver ~]#\n")),(0,l.kt)("pre",null,(0,l.kt)("code",{parentName:"pre",className:"language-bash"},"# \u4ece 10.1.1.6 dig www \u4e3b\u673a\n[root@b01test ~]# dig -t A www.brinnatt.com @10.1.1.2\n\n; <<>> DiG 9.11.4-P2-9.11.4-13.ky10 <<>> -t A www.brinnatt.com @10.1.1.2\n;; global options: +cmd\n;; Got answer:\n;; ->>HEADER<<- opcode: QUERY, status: NOERROR, id: 50487\n;; flags: qr aa rd ra; QUERY: 1, ANSWER: 1, AUTHORITY: 1, ADDITIONAL: 2\n\n;; OPT PSEUDOSECTION:\n; EDNS: version: 0, flags:; udp: 4096\n;; QUESTION SECTION:\n;www.brinnatt.com.      IN  A\n\n;; ANSWER SECTION:\nwww.brinnatt.com.   21600   IN  A   10.1.1.226      # \u786e\u5b9e\u662f 10.1.1.226\n\n;; AUTHORITY SECTION:\nbrinnatt.com.       21600   IN  NS  dnsserver.brinnatt.com.\n\n;; ADDITIONAL SECTION:\ndnsserver.brinnatt.com. 21600   IN  A   10.1.1.2\n\n;; Query time: 0 msec\n;; SERVER: 10.1.1.2#53(10.1.1.2)\n;; WHEN: \u4e00 10\u6708 18 21:33:59 CST 2021\n;; MSG SIZE  rcvd: 101\n\n[root@b01test ~]#\n")),(0,l.kt)("p",null,(0,l.kt)("em",{parentName:"p"},"\u6ce8\u610f\u4e8b\u9879\uff1a")),(0,l.kt)("ol",null,(0,l.kt)("li",{parentName:"ol"},(0,l.kt)("em",{parentName:"li"},"\u6240\u6709\u7684 zone \u90fd\u5fc5\u987b\u8981\u5b9a\u4e49\u5728 view \u4e2d\uff0c\u5c3d\u7ba1\u9ed8\u8ba4\u7684 named.conf \u6839\u672c\u6ca1\u6709\u5b9a\u4e49 view\uff0c\u4f46\u662f\u6b64\u65f6\u6240\u6709\u7684 zone \u90fd\u5b9a\u4e49\u5728\u4e86\u4e00\u4e2a\u9690\u542b\u7684\u9ed8\u8ba4\u7684\u89c6\u56fe\u4e2d\u3002")),(0,l.kt)("li",{parentName:"ol"},(0,l.kt)("em",{parentName:"li"},"view \u4e2d match-clients \u6307\u4ee4\u7684\u5339\u914d\u65b9\u5f0f\u662f\u4ece\u524d\u5411\u540e\u5339\u914d\u7684\uff0c\u5982\u679c\u5728\u7b2c\u4e00\u4e2a view \u4e2d\u5339\u914d\u4e86\uff0c\u5219\u540e\u9762\u5b9a\u4e49\u7684 view \u5c06\u4e0d\u4f1a\u751f\u6548\uff0c\u6240\u4ee5\u5b9a\u4e49\u7684 view \u7684\u5148\u540e\u987a\u5e8f\u662f\u5f88\u91cd\u8981\u7684\u3002")),(0,l.kt)("li",{parentName:"ol"},(0,l.kt)("em",{parentName:"li"},"\u7edd\u5927\u591a\u6570 named.conf \u4e2d\u7684\u6307\u4ee4\u90fd\u80fd\u5199\u5728 view \u4e2d\uff0c\u53ea\u6709\u5f88\u5c11\u91cf\u7684\u6307\u4ee4\u4e0d\u5141\u8bb8\uff0c\u4f8b\u5982 acl \u6307\u4ee4\u3002\u5bf9\u4e8e\u672c\u8be5\u5c01\u88c5\u5728 options \u4e2d\u7684\u6307\u4ee4\uff0c\u5982\u679c\u60f3\u5b9a\u4e49\u5728 view \u4e2d\uff0c\u5219\u4e0d\u5e94\u8be5\u5728 view \u4e2d\u4f7f\u7528 options\uff0c\u56e0\u4e3a options \u5b9a\u4e49\u7684\u662f\u5168\u5c40\u9ed8\u8ba4\u503c\uff0c\u914d\u7f6e\u6587\u4ef6\u4e2d\u53ea\u80fd\u51fa\u73b0\u4e00\u6b21\uff0c\u6240\u4ee5\u53ef\u4ee5\u76f4\u63a5\u5728 view \u4e2d\u5199\u6307\u4ee4\uff0c\u8fd9\u6837\u4f1a\u8986\u76d6\u5168\u5c40 options\u3002")),(0,l.kt)("li",{parentName:"ol"},(0,l.kt)("em",{parentName:"li"},"\u4e0d\u540c\u7684 view \u4e2d\u5b9a\u4e49\u7684\u76f8\u540c\u7684 zone\uff0c\u5b83\u4eec\u4f7f\u7528\u7684\u533a\u57df\u6587\u4ef6\u4e00\u822c\u4e0d\u540c\uff08\u5e76\u975e\u5fc5\u987b\u4e0d\u540c\uff09\uff0c\u5426\u5219\u5c31\u6ca1\u6709\u81ea\u5b9a\u4e49 view \u7684\u5fc5\u8981\u3002"))),(0,l.kt)("h2",{id:"515dns-\u65e5\u5fd7\u7cfb\u7edf"},"5.15\u3001DNS \u65e5\u5fd7\u7cfb\u7edf"),(0,l.kt)("p",null,"DNS \u7684\u65e5\u5fd7\u7cfb\u7edf\u6709\u4e24\u4e2a\u6982\u5ff5\uff1a\u901a\u9053(channel)\u548c\u7c7b\u522b(category)\u3002"),(0,l.kt)("p",null,"channel \u5b9a\u4e49\u65e5\u5fd7\u5411\u54ea\u91cc\u53d1\u9001\uff1a\u662f\u53d1\u9001\u5230 syslog \u65e5\u5fd7\u7cfb\u7edf\u4e2d\uff0c\u8fd8\u662f\u53d1\u9001\u5230\u67d0\u4e2a\u81ea\u5b9a\u4e49\u7684\u6587\u4ef6\uff0c\u6291\u6216\u662f\u53d1\u9001\u5230 named \u7684\u6807\u51c6\u8f93\u51fa\uff0c\u8fd8\u53ef\u4ee5\u53d1\u9001\u5230\u4f4d\u5b58\u50a8\u6876(bit bucket)\u3002"),(0,l.kt)("p",null,"category \u5b9a\u4e49\u54ea\u4e9b\u7c7b\u7684\u4fe1\u606f\u9700\u8981\u5199\u5165\u65e5\u5fd7\u3002"),(0,l.kt)("p",null,"\u6bcf\u79cd\u7c7b\u522b\u7684\u6570\u636e\u53ef\u4ee5\u88ab\u53d1\u9001\u7ed9\u4e00\u4e2a\u6216\u591a\u4e2a\u901a\u9053\u3002\u4f8b\u5982\u7edf\u8ba1\u7c7b\u522b\u7684\u4fe1\u606f\u53d1\u9001\u5230\u7cfb\u7edf\u65e5\u5fd7\u901a\u9053\u4e14\u53d1\u9001\u5230\u81ea\u5b9a\u4e49\u65e5\u5fd7\u6587\u4ef6\u901a\u9053\uff0c\u800c\u67e5\u8be2\u7c7b\u522b\u53ea\u53d1\u9001\u5230\u81ea\u5b9a\u4e49\u65e5\u5fd7\u6587\u4ef6\u901a\u9053\u3002"),(0,l.kt)("p",null,(0,l.kt)("img",{alt:"dns log",src:a(54169).Z,width:"597",height:"220"})),(0,l.kt)("p",null,"\u901a\u9053\u5141\u8bb8\u4f60\u8bb0\u5f55\u4e0d\u540c\u7ea7\u522b\u7684\u65e5\u5fd7\u4fe1\u606f\uff0c\u4ece\u4e25\u91cd\u5230\u4e0d\u4e25\u91cd\u6709\u4e03\u79cd\u7ea7\u522b\uff1acritical\uff1berror\uff1bwarring\uff1bnotice\uff1binfo\uff1bdebug","[","level","]"," \u548c dynamic\u3002\u5176\u4e2d\u524d 5 \u79cd\u7ea7\u522b\u548c\u7cfb\u7edf\u65e5\u5fd7 syslog \u7cfb\u7edf\u76f8\u540c\uff0c\u540e\u4e24\u79cd(debug \u548c dynamic) \u662f BIND \u72ec\u6709\uff0c\u4e14 debug \u8fd8\u53ef\u4ee5\u6309\u7167 level \u8fdb\u884c\u7ec6\u5206\u3002"),(0,l.kt)("p",null,"\u4f46\u662f\u5199\u65e5\u5fd7\u662f\u4e00\u9879\u975e\u5e38\u6d88\u8017\u6027\u80fd\u7684\u64cd\u4f5c\uff0c\u6240\u4ee5\u9ed8\u8ba4\u90fd\u662f\u5b9a\u4e49\u5728 info \u7ea7\u522b\u4e0a\u3002\u5728\u6b63\u5e38\u4f7f\u7528\u73af\u5883\u4e2d\uff0c\u9664\u4e86\u8c03\u8bd5\u65f6\u53ef\u80fd\u9700\u8981\u8bb0\u5f55 debug \u6216\u8005 dynamic \u7ea7\u522b\u4fe1\u606f\uff0c\u5176\u4f59\u81f3\u5c11\u90fd\u8bb0\u5f55\u5230 info \u7ea7\u522b\u751a\u81f3\u66f4\u4e25\u683c\u7684\u7ea7\u522b\u3002"),(0,l.kt)("p",null,"\u4ee5\u4e0b\u662f named.conf \u4e2d\u7684\u4e00\u4e2a\u65e5\u5fd7\u5b9a\u4e49\u793a\u4f8b\u3002"),(0,l.kt)("pre",null,(0,l.kt)("code",{parentName:"pre",className:"language-bash"},'logging {\n    channel my_syslog {             /* \u5b9a\u4e49\u65e5\u5fd7\u901a\u9053my_syslog */ \n        syslog daemon;              /* my_syslog\u901a\u9053\u7684\u65e5\u5fd7\u5199\u5165\u5230\u7cfb\u7edf\u65e5\u5fd7syslog\uff0c\u5e76\u6307\u5b9a\u4f7f\u7528daemon\u5de5\u5177\u8bb0\u5f55 */ \n        severity warning;           /* \u8be5\u901a\u9053\u53ea\u8bb0\u5f55\u4e25\u91cd\u7ea7\u522b\u4e3awarning\u53ca\u4ee5\u4e0a\u7684\u4fe1\u606f */ \n    };\n    channel my_file {               /* \u5b9a\u4e49\u7b2c\u4e8c\u4e2a\u65e5\u5fd7\u901a\u9053my_file */ \n        file "log.msgs";          /* my_file\u901a\u9053\u7684\u65e5\u5fd7\u5199\u5165\u5230\u81ea\u5b9a\u4e49\u7684\u6587\u4ef6log.msgs\u4e2d */ \n        severity info;              /* \u8be5\u901a\u9053\u8bb0\u5f55\u65e5\u5fd7\u7ea7\u522b\u4e3ainfo \u53ca\u4ee5\u4e0a\u7684\u4fe1\u606f */ \n    };\n    category statistics {my_syslog;my_file;};   /* \u7edf\u8ba1\u7c7b\u522bstatistics\u7684\u4fe1\u606f\u4f7f\u7528my_syslog\u548cmy_file\u901a\u9053\u8bb0\u5f55 */ \n    category queries {my_file;};                /* \u67e5\u8be2\u7c7b\u522bqueries\u7684\u4fe1\u606f\u8bb0\u5f55\u4f7f\u7528my_file\u901a\u9053\u8bb0\u5f55 */ \n    category default {null;};                   /* \u9664\u4e86\u4e0a\u8ff0\u4e24\u4e2a\u81ea\u5b9a\u4e49\u7684\u7c7b\u522b\uff0c\u5176\u4f59\u7edd\u5927\u90e8\u5206\u7684\u7c7b\u522b\u7684\u4fe1\u606f\u90fd\u4e22\u5f03 */   \n    //category default { my_file; };            /* \u6216\u8005\u4e0d\u4e22\u5f03\uff0c\u5c06\u5176\u8bb0\u5f55\u5230my_file\u901a\u9053\u6307\u5b9a\u7684\u6587\u4ef6\u4e5f\u53ef\u4ee5 */ \n};\n')),(0,l.kt)("p",null,"\u5728\u4e0a\u8ff0\u793a\u4f8b\u4e2d\uff0c\u6709\u51e0\u4e2a\u5173\u952e\u5b57\uff1a"),(0,l.kt)("ul",null,(0,l.kt)("li",{parentName:"ul"},"logging \u662f named.conf \u4e2d\u6807\u8bb0\u65e5\u5fd7\u7cfb\u7edf\u7684\u5173\u952e\u5b57\u3002"),(0,l.kt)("li",{parentName:"ul"},"channel \u662f\u5b9a\u4e49\u901a\u9053\u7684\u5173\u952e\u5b57\u3002"),(0,l.kt)("li",{parentName:"ul"},"severity \u662f\u5b9a\u4e49\u8bb0\u5f55\u4ec0\u4e48\u65e5\u5fd7\u7ea7\u522b\u7684\u5173\u952e\u5b57\u3002"),(0,l.kt)("li",{parentName:"ul"},"category \u662f\u5b9a\u4e49\u4fe1\u606f\u7c7b\u522b\u4f7f\u7528\u54ea\u4e2a\u901a\u9053\u8bb0\u5f55\u7684\u5173\u952e\u5b57\u3002")),(0,l.kt)("p",null,"\u4e0b\u9762\u662f DNS \u65e5\u5fd7\u7cfb\u7edf\u7684\u8bed\u6cd5\uff1a"),(0,l.kt)("pre",null,(0,l.kt)("code",{parentName:"pre",className:"language-bash"},'logging {\n     category string { string; ... };\n     channel string {\n          buffered boolean;\n          file quoted_string [ versions ( "unlimited" | integer )\n              ] [ size size ];\n          null;\n          print-category boolean;\n          print-severity boolean;\n          print-time boolean;\n          severity log_severity;\n          stderr;\n          syslog [ syslog_facility ];\n     };\n};\n')),(0,l.kt)("ol",null,(0,l.kt)("li",{parentName:"ol"},(0,l.kt)("p",{parentName:"li"},(0,l.kt)("strong",{parentName:"p"},"channel \u7684\u89e3\u91ca")),(0,l.kt)("p",{parentName:"li"},"\u5728 channel \u5b57\u53e5\u4e2d\uff0c\u6307\u5b9a\u901a\u9053\u7684\u8def\u5f84\uff08\u5373\u65e5\u5fd7\u8bb0\u5f55\u7684\u4f4d\u7f6e\uff09\u548c\u8bb0\u5f55\u7684\u65e5\u5fd7\u7ea7\u522b\uff0c\u8fd8\u53ef\u4ee5\u6307\u5b9a\u5728\u65e5\u5fd7\u6587\u4ef6\u4e2d\u662f\u5426\u4e5f\u8bb0\u5f55\u7c7b\u522b\u4fe1\u606f\u3001\u65e5\u5fd7\u7ea7\u522b\u4ee5\u53ca\u8be5\u6761\u65e5\u5fd7\u7684\u8bb0\u5f55\u65f6\u95f4\u3002"),(0,l.kt)("p",{parentName:"li"},"\u901a\u9053\u7684\u6709\u56db\u79cd\u4f4d\u7f6e\u53ef\u9009\uff1a"),(0,l.kt)("ul",{parentName:"li"},(0,l.kt)("li",{parentName:"ul"},"syslog\uff1a\u4f7f\u7528\u7cfb\u7edf\u65e5\u5fd7\u6765\u8bb0\u5f55\uff0c\u540c\u65f6\u9700\u8981\u6307\u5b9a\u4f7f\u7528\u54ea\u79cd\u5de5\u5177(facility)\u6765\u8bb0\u5f55\u3002",(0,l.kt)("ul",{parentName:"li"},(0,l.kt)("li",{parentName:"ul"},"\u6709 kern\u3001user\u3001mail\u3001daemon\u3001auth\u3001syslog\u3001lpr\u3001news\u3001uucp\u3001cron\u3001authpriv\u3001ftp\u3001local0\u3001local1\u3001local2\u3001local3\u3001local4\u3001local5\u3001local6 \u548c local7 \u8fd9\u4e48\u591a\u79cd\u5de5\u5177\u53ef\u9009\u3002\u9ed8\u8ba4\u662f daemon\uff0c\u4e5f\u5efa\u8bae\u4f7f\u7528 daemon\u3002"))),(0,l.kt)("li",{parentName:"ul"},"file\uff1a\u4f7f\u7528\u81ea\u5b9a\u4e49\u7684\u6587\u4ef6\u8def\u5f84\u3002\u53ef\u4ee5\u6307\u5b9a\u8be5\u65e5\u5fd7\u6587\u4ef6\u6709\u51e0\u4e2a\u7248\u672c(versions)\u548c\u591a\u5927(size)\u65f6\u5c31\u8fdb\u884c\u8f6e\u66ff\uff0c\u4e0d\u6307\u5b9a\u5927\u5c0f\u9650\u5236\u65f6\u65e5\u5fd7\u6587\u4ef6\u5c06\u65e0\u9650\u5236\u589e\u957f\u3002",(0,l.kt)("ul",{parentName:"li"},(0,l.kt)("li",{parentName:"ul"},(0,l.kt)("p",{parentName:"li"},"\u4f8b\u5982\u4ee5\u4e0b\u5b9a\u4e49\u65b9\u5f0f\uff1a\u6bcf\u4e2a\u65e5\u5fd7\u6587\u4ef6\u589e\u957f\u5230 10M \u5927\u5c0f\u5c31\u521b\u5efa\u65b0\u7684\u6587\u4ef6\u6765\u8bb0\u5f55\u65b0\u7684\u65e5\u5fd7\uff0c\u6700\u591a\u8bb0\u5f55 3 \u4e2a\u7248\u672c\u7684\u65e5\u5fd7\u6587\u4ef6\uff0c\u5f53\u7b2c\u4e09\u4e2a\u65e5\u5fd7\u6587\u4ef6 my","_","logs2 \u4e5f\u5230 10M \u540e\u5c06\u5220\u9664\u6700\u65e9\u7684\u65e5\u5fd7\u6587\u4ef6\u7ee7\u7eed\u8bb0\u5f55\u3002"),(0,l.kt)("pre",{parentName:"li"},(0,l.kt)("code",{parentName:"pre",className:"language-bash"},"channel my_file {\n   file my_logs versions 3 size 10M;\n   severity info;\n};\n"))))),(0,l.kt)("li",{parentName:"ul"},"null\uff1a\u4f7f\u7528 null \u65b9\u5f0f\u7684\u901a\u9053\u5c06\u628a\u4f7f\u7528\u8be5\u901a\u9053\u6765\u8bb0\u5f55\u7684\u4fe1\u606f\u5168\u90e8\u4e22\u5f03\u3002\n"),(0,l.kt)("li",{parentName:"ul"},"stderr\uff1a\u4f7f\u7528 stderr \u65b9\u5f0f\u7684\u901a\u9053\u5c06\u628a\u4f7f\u7528\u8be5\u901a\u9053\u6765\u8bb0\u5f55\u7684\u4fe1\u606f\u8f93\u51fa\u5230 stderr\u3002\n"))),(0,l.kt)("li",{parentName:"ol"},(0,l.kt)("p",{parentName:"li"},(0,l.kt)("strong",{parentName:"p"},"\u7c7b\u522b\u7684\u89e3\u91ca")),(0,l.kt)("p",{parentName:"li"},"BIND 9 \u4e2d\u6709\u5f88\u591a\u79cd\u7c7b\u522b\uff1a"),(0,l.kt)("ul",{parentName:"li"},(0,l.kt)("li",{parentName:"ul"},"default\uff1a\u5339\u914d\u6ca1\u6709\u81ea\u5b9a\u4e49\u7684\u7edd\u5927\u591a\u6570\u7c7b\u522b\u3002\u4f46\u662f\u8fd8\u6709\u4e00\u4e9b\u4fe1\u606f\u662f\u4e0d\u5c5e\u4e8e\u4efb\u4f55\u7c7b\u522b\u7684\u4fe1\u606f\uff0c\u8fd9\u90e8\u5206\u4fe1\u606f\u65e0\u6cd5\u4f7f\u7528 default \u6765\u5339\u914d\uff0c\u800c\u662f\u7528 general \u7c7b\u522b\u6765\u5339\u914d\u3002"),(0,l.kt)("li",{parentName:"ul"},"general\uff1a\u5339\u914d\u90a3\u4e9b\u4e0d\u660e\u786e\u5c5e\u4e8e\u54ea\u4e2a\u7c7b\u522b\u7684\u4fe1\u606f\u3002"),(0,l.kt)("li",{parentName:"ul"},"client\uff1a\u5ba2\u6237\u7aef\u8bf7\u6c42\u4fe1\u606f\u3002"),(0,l.kt)("li",{parentName:"ul"},"config\uff1a\u914d\u7f6e\u6587\u4ef6\u5206\u6790\u548c\u5904\u7406\u4fe1\u606f\u3002"),(0,l.kt)("li",{parentName:"ul"},"lame-servers\uff1a\u53d1\u73b0\u9519\u8bef\u6388\u6743\u4fe1\u606f\u3002"),(0,l.kt)("li",{parentName:"ul"},"network\uff1a\u7f51\u7edc\u64cd\u4f5c\u4fe1\u606f\u3002"),(0,l.kt)("li",{parentName:"ul"},(0,l.kt)("strong",{parentName:"li"},"notify\uff1a"),"\u4e3b\u4ece DNS \u670d\u52a1\u5668\u533a\u6570\u636e\u6587\u4ef6\u4f20\u8f93\u901a\u77e5\u4fe1\u606f\u3002"),(0,l.kt)("li",{parentName:"ul"},(0,l.kt)("strong",{parentName:"li"},"queries\uff1a"),"\u67e5\u8be2\u4fe1\u606f\u3002"),(0,l.kt)("li",{parentName:"ul"},(0,l.kt)("strong",{parentName:"li"},"resolver\uff1a"),"\u540d\u79f0\u89e3\u6790\u4fe1\u606f\uff0c\u5305\u62ec\u6765\u81ea\u89e3\u6790\u5668\uff08\u5ba2\u6237\u7aef\uff09\u7684\u9012\u5f52\u67e5\u8be2\u5904\u7406\u4fe1\u606f\u3002"),(0,l.kt)("li",{parentName:"ul"},"security\uff1a\u8ba4\u53ef\u6216\u975e\u8ba4\u53ef\u7684\u8bf7\u6c42\u4fe1\u606f\u3002"),(0,l.kt)("li",{parentName:"ul"},"update\uff1a\u52a8\u6001\u66f4\u65b0\u4e8b\u4ef6\u4fe1\u606f\u3002"),(0,l.kt)("li",{parentName:"ul"},(0,l.kt)("strong",{parentName:"li"},"xfer-in\uff1a"),"\u8fdc\u7a0b DNS \u670d\u52a1\u5668\u5230\u672c\u5730 DNS \u670d\u52a1\u5668\u7684\u533a\u57df\u4f20\u9001\u4fe1\u606f\u3002"),(0,l.kt)("li",{parentName:"ul"},(0,l.kt)("strong",{parentName:"li"},"xfer-out\uff1a"),"\u4ece\u672c\u5730 DNS \u670d\u52a1\u5668\u5230\u8fdc\u7a0b DNS \u670d\u52a1\u5668\u7684\u533a\u57df\u4f20\u9001\u4fe1\u606f\u3002"))),(0,l.kt)("li",{parentName:"ol"},(0,l.kt)("p",{parentName:"li"},(0,l.kt)("strong",{parentName:"p"},"\u9ed8\u8ba4\u7684 channel \u548c\u7c7b\u522b")),(0,l.kt)("p",{parentName:"li"},"\u5f53\u6ca1\u6709\u5728 named.conf \u4e2d\u5b9a\u4e49\u4efb\u4f55 logging \u5b57\u53e5\u65f6\uff0c\u53d1\u73b0\u5728 /var/log/messages \u4e2d\u8fd8\u662f\u8bb0\u5f55\u4e86\u5f88\u591a DNS \u76f8\u5173\u7684\u65e5\u5fd7\uff0c\u4e3a\u4ec0\u4e48\u6ca1\u5b9a\u4e49\u8fd8\u662f\u6709\u8bb0\u5f55\u5462\uff1f\u56e0\u4e3a\u6709 BIND \u9ed8\u8ba4\u5b9a\u4e49\u7684\u65e5\u5fd7\u8bb0\u5f55\u65b9\u5f0f\u3002"),(0,l.kt)("p",{parentName:"li"},"\u5728 BIND \u4e2d\u9ed8\u8ba4\u5b9a\u4e49\u4e86 4 \u4e2a channel\uff0c\u5206\u522b\u4f7f\u7528 4 \u79cd\u901a\u9053\u8def\u5f84\u3002\u8fd9\u4e9b channel \u4f60\u65e0\u6cd5\u91cd\u5b9a\u4e49\u5b83\u4eec\uff0c\u5373\u4f7f\u4f60\u4e0d\u60f3\u8981\u5b83\u4eec\u3001\u4e0d\u4e66\u5199\u5b83\u4eec\uff0cBIND \u8fd8\u662f\u4f1a\u81ea\u5df1\u521b\u5efa\u5b83\u4eec\u3002\u53ea\u6709\u4e00\u79cd\u65b9\u6cd5\uff1a\u65b0\u6dfb\u52a0\u901a\u9053\u5e76\u6307\u5b9a\u4f7f\u7528\u8be5\u901a\u9053\u7684\u7c7b\u522b\uff0c\u4f7f\u4f60\u60f3\u8bb0\u5f55\u7684\u65e5\u5fd7\u4e0d\u4f7f\u7528\u9ed8\u8ba4\u7684\u5b9a\u4e49\u3002"),(0,l.kt)("p",{parentName:"li"},"\u4ee5\u4e0b\u662f\u9ed8\u8ba4\u5b9a\u4e49\u7684\u901a\u9053\uff1a"),(0,l.kt)("pre",{parentName:"li"},(0,l.kt)("code",{parentName:"pre",className:"language-bash"},'channel default_syslog {\n   syslog daemon;\n   severity info;\n};\nchannel default_debug {\n   file "named.run";\n   severity dynamic;\n};\nchannel default_stderr {\n   stderr;\nseverity info;\n};\nchannel null {\n   null;\n};\n')),(0,l.kt)("p",{parentName:"li"},"\u800c\u540c\u65f6\u5728 BIND 9 \u4e2d\u6240\u6307\u5b9a\u7684\u9ed8\u8ba4\u7c7b\u522b\u8bed\u53e5\u5982\u4e0b\uff1a"),(0,l.kt)("pre",{parentName:"li"},(0,l.kt)("code",{parentName:"pre",className:"language-bash"},"category default { default_syslog;default_debug; };\n")),(0,l.kt)("p",{parentName:"li"},"\u4e5f\u5c31\u662f\u8bf4\uff0c\u5bf9\u4e8e\u4f60\u6ca1\u6709\u6307\u5b9a\u7684\u7edd\u5927\u591a\u6570\u7c7b\u522b\u7684\u4fe1\u606f\u90fd\u4f7f\u7528\u901a\u9053 default","_","syslog \u548c\u901a\u9053 default","_",'debug \u6765\u8bb0\u5f55\u3002\u7531\u4e8e\u9ed8\u8ba4\u5b9a\u4e49\u4e86 null \u901a\u9053\uff0c\u6240\u4ee5\u4f60\u60f3\u628a default \u5339\u914d\u7684\u7c7b\u522b\u4fe1\u606f\u5168\u90e8\u4e22\u5f03\u7684\u8bdd\uff0c\u53ef\u4ee5\u76f4\u63a5\u4f7f\u7528 "categroy default { null; };" \u6765\u4e22\u5f03\u3002'))))}N.isMDXComponent=!0},26361:function(n,e,a){e.Z=a.p+"assets/images/dns forward-d9c71faa158bde7e0c64a1933415a9c8.png"},54169:function(n,e){e.Z="data:image/png;base64,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"},47737:function(n,e,a){e.Z=a.p+"assets/images/dns notify-d36e030b7645fb724c63a82170524c36.png"},7361:function(n,e,a){e.Z=a.p+"assets/images/dns notify1-49a7564b4974d6ad262faeaec9038be7.png"},11234:function(n,e,a){e.Z=a.p+"assets/images/dns recursive-5b4dab4c1718f9db24ec18fbe026bc1a.png"},98304:function(n,e,a){e.Z=a.p+"assets/images/dns search-2daa923a305c4471393c4d60b0b081bf.png"},93708:function(n,e,a){e.Z=a.p+"assets/images/dns search1-1b28fff03ed832a3925920b3fb5b0e4c.png"},5217:function(n,e,a){e.Z=a.p+"assets/images/dns-1c9337cc1345de1fd5aa3b7724b4a66d.png"},37933:function(n,e){e.Z="data:image/png;base64,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"},2945:function(n,e,a){e.Z=a.p+"assets/images/rndc-93692995b4138bde33fb96399f35a485.png"}}]);