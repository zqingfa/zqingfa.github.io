"use strict";(self.webpackChunkblog=self.webpackChunkblog||[]).push([[6570],{3905:function(t,e,n){n.d(e,{Zo:function(){return u},kt:function(){return d}});var a=n(67294);function r(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function l(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);e&&(a=a.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),n.push.apply(n,a)}return n}function s(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{};e%2?l(Object(n),!0).forEach((function(e){r(t,e,n[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):l(Object(n)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(n,e))}))}return t}function i(t,e){if(null==t)return{};var n,a,r=function(t,e){if(null==t)return{};var n,a,r={},l=Object.keys(t);for(a=0;a<l.length;a++)n=l[a],e.indexOf(n)>=0||(r[n]=t[n]);return r}(t,e);if(Object.getOwnPropertySymbols){var l=Object.getOwnPropertySymbols(t);for(a=0;a<l.length;a++)n=l[a],e.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(t,n)&&(r[n]=t[n])}return r}var p=a.createContext({}),o=function(t){var e=a.useContext(p),n=e;return t&&(n="function"==typeof t?t(e):s(s({},e),t)),n},u=function(t){var e=o(t.components);return a.createElement(p.Provider,{value:e},t.children)},m={inlineCode:"code",wrapper:function(t){var e=t.children;return a.createElement(a.Fragment,{},e)}},c=a.forwardRef((function(t,e){var n=t.components,r=t.mdxType,l=t.originalType,p=t.parentName,u=i(t,["components","mdxType","originalType","parentName"]),c=o(n),d=r,k=c["".concat(p,".").concat(d)]||c[d]||m[d]||l;return n?a.createElement(k,s(s({ref:e},u),{},{components:n})):a.createElement(k,s({ref:e},u))}));function d(t,e){var n=arguments,r=e&&e.mdxType;if("string"==typeof t||r){var l=n.length,s=new Array(l);s[0]=c;var i={};for(var p in e)hasOwnProperty.call(e,p)&&(i[p]=e[p]);i.originalType=t,i.mdxType="string"==typeof t?t:r,s[1]=i;for(var o=2;o<l;o++)s[o]=n[o];return a.createElement.apply(null,s)}return a.createElement.apply(null,n)}c.displayName="MDXCreateElement"},39066:function(t,e,n){n.r(e),n.d(e,{assets:function(){return u},contentTitle:function(){return p},default:function(){return d},frontMatter:function(){return i},metadata:function(){return o},toc:function(){return m}});var a=n(83117),r=n(80102),l=(n(67294),n(3905)),s=["components"],i={id:"linux-test-1",slug:"/linux-test-1",title:"\u7b2c 1 \u7ae0 SPEC CPU 2017 \u6d4b\u8bd5",authors:"zhangqf",keywords:["linux","SPEC"]},p=void 0,o={unversionedId:"linux/test/linux-test-1",id:"linux/test/linux-test-1",title:"\u7b2c 1 \u7ae0 SPEC CPU 2017 \u6d4b\u8bd5",description:"1.1\u3001\u6d4b\u8bd5\u7b80\u4ecb",source:"@site/docs/linux/test/\u7b2c 1 \u7ae0 SPEC CPU 2017 \u6d4b\u8bd5.md",sourceDirName:"linux/test",slug:"/linux-test-1",permalink:"/docs/linux-test-1",draft:!1,tags:[],version:"current",frontMatter:{id:"linux-test-1",slug:"/linux-test-1",title:"\u7b2c 1 \u7ae0 SPEC CPU 2017 \u6d4b\u8bd5",authors:"zhangqf",keywords:["linux","SPEC"]},sidebar:"linux",previous:{title:"Linux\u6d4b\u8bd5",permalink:"/docs/category/linux\u6d4b\u8bd5"},next:{title:"\u7b2c 2 \u7ae0 STREAM \u5185\u5b58\u6d4b\u8bd5",permalink:"/docs/linux-test-2"}},u={},m=[{value:"1.1\u3001\u6d4b\u8bd5\u7b80\u4ecb",id:"11\u6d4b\u8bd5\u7b80\u4ecb",level:2},{value:"1.1.1\u3001\u5957\u4ef6\u548c\u6307\u6807\u4ecb\u7ecd",id:"111\u5957\u4ef6\u548c\u6307\u6807\u4ecb\u7ecd",level:3},{value:"1.1.2\u3001SPECspeed \u6307\u6807\u548c SPECrate \u6307\u6807",id:"112specspeed-\u6307\u6807\u548c-specrate-\u6307\u6807",level:3},{value:"1.2\u3001\u524d\u7f6e\u6761\u4ef6",id:"12\u524d\u7f6e\u6761\u4ef6",level:2},{value:"1.2.1\u3001CPU \u8981\u6c42",id:"121cpu-\u8981\u6c42",level:3},{value:"1.2.2\u3001\u5185\u5b58\u9700\u6c42",id:"122\u5185\u5b58\u9700\u6c42",level:3},{value:"1.2.3\u3001\u78c1\u76d8\u9700\u6c42",id:"123\u78c1\u76d8\u9700\u6c42",level:3},{value:"1.2.4\u3001\u64cd\u4f5c\u7cfb\u7edf",id:"124\u64cd\u4f5c\u7cfb\u7edf",level:3},{value:"1.2.5\u3001\u7f16\u8bd1\u5668\u6216\u4e8c\u8fdb\u5236\u6587\u4ef6",id:"125\u7f16\u8bd1\u5668\u6216\u4e8c\u8fdb\u5236\u6587\u4ef6",level:3},{value:"1.3\u3001\u6d4b\u8bd5\u73af\u5883\u8bf4\u660e",id:"13\u6d4b\u8bd5\u73af\u5883\u8bf4\u660e",level:2},{value:"1.3.1\u3001\u786c\u4ef6\u51c6\u5907",id:"131\u786c\u4ef6\u51c6\u5907",level:3},{value:"1.3.2\u3001\u914d\u7f6e spec cpu 2017",id:"132\u914d\u7f6e-spec-cpu-2017",level:3},{value:"1.4\u3001\u8fd0\u884c runcpu \u6d4b\u8bd5",id:"14\u8fd0\u884c-runcpu-\u6d4b\u8bd5",level:2},{value:"1.5\u3001\u6d4b\u8bd5\u7ed3\u679c",id:"15\u6d4b\u8bd5\u7ed3\u679c",level:2},{value:"1.5.1\u3001\u7269\u7406\u670d\u52a1\u5668\u6ee1\u6838\u6d4b\u8bd5\u7ed3\u679c",id:"151\u7269\u7406\u670d\u52a1\u5668\u6ee1\u6838\u6d4b\u8bd5\u7ed3\u679c",level:3},{value:"1.5.2\u3001\u7269\u7406\u670d\u52a1\u5668\u8fd0\u884c 64 \u4e2a\u526f\u672c\u5e76\u53d1\u7684\u6d4b\u8bd5\u7ed3\u679c",id:"152\u7269\u7406\u670d\u52a1\u5668\u8fd0\u884c-64-\u4e2a\u526f\u672c\u5e76\u53d1\u7684\u6d4b\u8bd5\u7ed3\u679c",level:3},{value:"A\u3001\u9644\u5f55",id:"a\u9644\u5f55",level:2},{value:"A1\u3001PerformanceTEST \u6d4b\u8bd5",id:"a1performancetest-\u6d4b\u8bd5",level:3},{value:"A2\u3001stress-ng \u6d4b\u8bd5",id:"a2stress-ng-\u6d4b\u8bd5",level:3}],c={toc:m};function d(t){var e=t.components,i=(0,r.Z)(t,s);return(0,l.kt)("wrapper",(0,a.Z)({},c,i,{components:e,mdxType:"MDXLayout"}),(0,l.kt)("h2",{id:"11\u6d4b\u8bd5\u7b80\u4ecb"},"1.1\u3001\u6d4b\u8bd5\u7b80\u4ecb"),(0,l.kt)("p",null,"\u5b98\u65b9\u6587\u6863\uff1a",(0,l.kt)("a",{parentName:"p",href:"https://www.spec.org/cpu2017/Docs/"},"https://www.spec.org/cpu2017/Docs/")),(0,l.kt)("p",null,"SPEC \u6210\u7acb\u4e8e 1988 \u5e74\uff0c\u662f\u7531\u65af\u5766\u798f\u5927\u5b66\u3001\u6e05\u534e\u5927\u5b66\u3001\u5fae\u8f6f\u3001\u7b49\u5168\u7403\u51e0\u5341\u6240\u77e5\u540d\u5927\u5b66\u3001\u7814\u7a76\u673a\u6784\u3001IT \u4f01\u4e1a\u7ec4\u6210\uff0c\u662f\u4e00\u4e2a\u5168\u7403\u6027\u7684\u3001\u6743\u5a01\u7684\u7b2c\u4e09\u65b9\u5e94\u7528\u6027\u80fd\u6d4b\u8bd5\u7ec4\u7ec7\uff0c\u5b83\u65e8\u5728\u786e\u7acb\u3001\u4fee\u6539\u4ee5\u53ca\u8ba4\u5b9a\u4e00\u7cfb\u5217\u5e94\u7528\u6027\u80fd\u8bc4\u4f30\u7684\u6807\u51c6\u3002"),(0,l.kt)("p",null,"SPEC CPU 2017 \u662f\u4e00\u5957 CPU \u5b50\u7cfb\u7edf\u6d4b\u8bd5\u5de5\u5177\uff0c\u5305\u62ec 4 \u5927\u79cd\u7c7b\u5171 43 \u4e2a\u6d4b\u8bd5\uff0c\u5305\u62ec\u5728\u6d4b\u8bd5\u6574\u578b\u901f\u5ea6\u3001\u6d6e\u70b9\u8fd0\u7b97\u901f\u5ea6\u7684\u6027\u80fd\u6d4b\u8bd5 SPECspeed 2017\u3001SPECspeed 2017 Floating Point \u4ee5\u53ca\u6d4b\u8bd5\u6574\u578b\u5e76\u53d1\u901f\u7387\u548c\u6d6e\u70b9\u5e76\u53d1\u901f\u7387 SPECrate 2017 Integer \u548c SPECrate 2017 Floating Point \u3002\u501f\u52a9\u4e8e OpenMP \u591a\u7ebf\u7a0b API\uff0cSPEC CPU 2017 \u8fd8\u53ef\u4ee5\u5728\u6d4b\u8bd5\u8fc7\u7a0b\u4e2d\u76d1\u63a7\u529f\u8017\u3002"),(0,l.kt)("h3",{id:"111\u5957\u4ef6\u548c\u6307\u6807\u4ecb\u7ecd"},"1.1.1\u3001\u5957\u4ef6\u548c\u6307\u6807\u4ecb\u7ecd"),(0,l.kt)("table",null,(0,l.kt)("thead",{parentName:"table"},(0,l.kt)("tr",{parentName:"thead"},(0,l.kt)("th",{parentName:"tr",align:null},"\u7b80\u79f0"),(0,l.kt)("th",{parentName:"tr",align:null},"\u5957\u4ef6\u540d"),(0,l.kt)("th",{parentName:"tr",align:null},"\u5185\u5bb9"),(0,l.kt)("th",{parentName:"tr",align:null},"\u6307\u6807"),(0,l.kt)("th",{parentName:"tr",align:null},"\u5907\u6ce8"))),(0,l.kt)("tbody",{parentName:"table"},(0,l.kt)("tr",{parentName:"tbody"},(0,l.kt)("td",{parentName:"tr",align:null},"Intspeed"),(0,l.kt)("td",{parentName:"tr",align:null},"SPECspeed2017Integer"),(0,l.kt)("td",{parentName:"tr",align:null},"10 integer benchmarks"),(0,l.kt)("td",{parentName:"tr",align:null},"SPECspeed2017","_","int","_","base",(0,l.kt)("br",null),"SPECspeed2017","_","int","_","peak"),(0,l.kt)("td",{parentName:"tr",align:null},"SPECspeed\u5957\u4ef6\u4e3a\u6bcf\u4e2a\u57fa\u51c6\u8fd0\u884c\u4e00\u4e2a\u526f\u672c\uff1b",(0,l.kt)("br",null),"\u5f97\u5206\u9ad8\u7684\u610f\u5473\u7740\u82b1\u8d39\u7684\u65f6\u95f4\u8d8a\u5c11\u3002")),(0,l.kt)("tr",{parentName:"tbody"},(0,l.kt)("td",{parentName:"tr",align:null},"Fpspeed"),(0,l.kt)("td",{parentName:"tr",align:null},"SPECspeed2017 Floating Point"),(0,l.kt)("td",{parentName:"tr",align:null},"10 floating point benchmark"),(0,l.kt)("td",{parentName:"tr",align:null},"SPECspeed2017","_","fp","_","base",(0,l.kt)("br",null),"SPECspeed2017","_","fp","_","peak"),(0,l.kt)("td",{parentName:"tr",align:null},"SPECspeed\u5957\u4ef6\u4e3a\u6bcf\u4e2a\u57fa\u51c6\u8fd0\u884c\u4e00\u4e2a\u526f\u672c\uff1b",(0,l.kt)("br",null),"\u5f97\u5206\u9ad8\u7684\u610f\u5473\u7740\u82b1\u8d39\u7684\u65f6\u95f4\u8d8a\u5c11\u3002")),(0,l.kt)("tr",{parentName:"tbody"},(0,l.kt)("td",{parentName:"tr",align:null},"Intrate"),(0,l.kt)("td",{parentName:"tr",align:null},"SPECrate2017Integer"),(0,l.kt)("td",{parentName:"tr",align:null},"10 integer benchmarks"),(0,l.kt)("td",{parentName:"tr",align:null},"SPECrate2017","_","int","_","base",(0,l.kt)("br",null),"SPECrate2017","_","int","_","peak"),(0,l.kt)("td",{parentName:"tr",align:null},"SPECrate\u5957\u4ef6\u4e3a\u6bcf\u4e2a\u57fa\u51c6\u8fd0\u884c\u591a\u4e2a\u5e76\u53d1\u7684\u526f\u672c\uff1b",(0,l.kt)("br",null),"\u7531\u6d4b\u8bd5\u4eba\u5458\u9009\u62e9\u591a\u5c11\u4e2a\u526f\u672c\uff1b",(0,l.kt)("br",null),"\u5f97\u5206\u9ad8\u7684\u610f\u5473\u7740\u6709\u66f4\u9ad8\u7684\u541e\u5410\u91cf\u3002")),(0,l.kt)("tr",{parentName:"tbody"},(0,l.kt)("td",{parentName:"tr",align:null},"fprate"),(0,l.kt)("td",{parentName:"tr",align:null},"SPECrate2017Floating Point"),(0,l.kt)("td",{parentName:"tr",align:null},"13 floating point benchmark"),(0,l.kt)("td",{parentName:"tr",align:null},"SPECrate2017","_","fp","_","base",(0,l.kt)("br",null),"SPECrate2017","_","fp","_","peak"),(0,l.kt)("td",{parentName:"tr",align:null},"SPECrate\u5957\u4ef6\u4e3a\u6bcf\u4e2a\u57fa\u51c6\u8fd0\u884c\u591a\u4e2a\u5e76\u53d1\u7684\u526f\u672c\uff1b",(0,l.kt)("br",null),"\u5f97\u5206\u9ad8\u7684\u610f\u5473\u7740\u6709\u66f4\u9ad8\u7684\u541e\u5410\u91cf\u3002",(0,l.kt)("br",null),"\u7531\u6d4b\u8bd5\u4eba\u5458\u9009\u62e9\u591a\u5c11\u4e2a\u526f\u672c\uff1b")))),(0,l.kt)("ul",null,(0,l.kt)("li",{parentName:"ul"},"\u53ef\u4ee5\u6839\u636e\u81ea\u5df1\u7684\u9700\u8981\u9009\u62e9\u76f8\u5e94\u7684\u5957\u4ef6\u8fd0\u884c\uff08\u65e0\u9700\u5168\u90e8\u8fd0\u884c\uff09\uff0c\u5e76\u4e14\u9009\u62e9\u4f1a\u5f71\u54cd\u786c\u4ef6\u7684\u8981\u6c42\uff0cSPECspeed \u548c SPECrate \u5bf9\u5185\u5b58\u548c\u78c1\u76d8\u7a7a\u95f4\u7684\u8981\u6c42\u90fd\u4e0d\u76f8\u540c\uff1b"),(0,l.kt)("li",{parentName:"ul"},"\u5982\u679c\u4f7f\u7528 SPEC \u516c\u5f00\u7684\u6d4b\u8bd5\u7ed3\u679c\uff0c\u5219\u5fc5\u987b\u8fd0\u884c\u5957\u4ef6\u4e2d\u7684\u6240\u6709\u57fa\u51c6\u5e76\u81f3\u5c11\u4ea7\u751f\u57fa\u672c\u5ea6\u91cf\uff1b\u5cf0\u503c\u6307\u6807\u662f\u53ef\u9009\u7684\uff0c\u5982\u679c\u540c\u65f6\u4ea7\u751f\u57fa\u7840\u548c\u5cf0\u503c\uff0c\u5219\u9700\u8981\u66f4\u591a\u7684\u78c1\u76d8\u7a7a\u95f4\uff1b")),(0,l.kt)("h3",{id:"112specspeed-\u6307\u6807\u548c-specrate-\u6307\u6807"},"1.1.2\u3001SPECspeed \u6307\u6807\u548c SPECrate \u6307\u6807"),(0,l.kt)("p",null,"\u6709\u8bb8\u591a\u65b9\u6cd5\u53ef\u4ee5\u8861\u91cf\u8ba1\u7b97\u673a\u6027\u80fd\u3002\u5176\u4e2d\u6700\u5e38\u89c1\u7684\u662f\uff1a"),(0,l.kt)("ul",null,(0,l.kt)("li",{parentName:"ul"},"\u65f6\u95f4 \u2014\u2014 \u4f8b\u5982\uff0c\u5b8c\u6210\u5de5\u4f5c\u91cf\u6240\u9700\u7684\u79d2\u6570\u3002"),(0,l.kt)("li",{parentName:"ul"},"\u541e\u5410\u91cf \u2014\u2014 \u6bcf\u5355\u4f4d\u65f6\u95f4\u5b8c\u6210\u7684\u5de5\u4f5c\uff0c\u4f8b\u5982\u6bcf\u5c0f\u65f6\u7684\u5de5\u4f5c\u3002")),(0,l.kt)("p",null,"SPECspeed \u662f\u57fa\u4e8e\u65f6\u95f4\u7684\u6307\u6807\uff1bSPECrate \u662f\u541e\u5410\u91cf\u6307\u6807\u3002"),(0,l.kt)("table",null,(0,l.kt)("thead",{parentName:"table"},(0,l.kt)("tr",{parentName:"thead"},(0,l.kt)("th",{parentName:"tr",align:null},"SPECspeed \u6307\u6807"),(0,l.kt)("th",{parentName:"tr",align:null},"SPECrate \u6307\u6807"))),(0,l.kt)("tbody",{parentName:"table"},(0,l.kt)("tr",{parentName:"tbody"},(0,l.kt)("td",{parentName:"tr",align:null},"\u5957\u4ef6\u4e2d\u6bcf\u4e2a\u57fa\u51c6\u6d4b\u8bd5\u8fd0\u884c\u4e00\u4e2a\u526f\u672c"),(0,l.kt)("td",{parentName:"tr",align:null},"\u6d4b\u8bd5\u4eba\u5458\u81ea\u5df1\u5b9a\u4e49\u8fd0\u884c\u7684\u5e76\u53d1\u526f\u672c\u6570")),(0,l.kt)("tr",{parentName:"tbody"},(0,l.kt)("td",{parentName:"tr",align:null},"\u6d4b\u8bd5\u4eba\u5458\u53ef\u4ee5\u9009\u62e9\u4f7f\u7528\u591a\u5c11\u4e2a OpenMP \u7ebf\u7a0b"),(0,l.kt)("td",{parentName:"tr",align:null},"\u7981\u7528 OpenMP")),(0,l.kt)("tr",{parentName:"tbody"},(0,l.kt)("td",{parentName:"tr",align:null},"\u5bf9\u4e8e\u6bcf\u4e2a\u57fa\u51c6\uff0c\u6027\u80fd\u6bd4\u8ba1\u7b97\u5982\u4e0b:",(0,l.kt)("br",null),"\u53c2\u8003\u673a\u5668\u6240\u7528\u65f6\u95f4/SUT\u4e0a\u7684\u65f6\u95f4"),(0,l.kt)("td",{parentName:"tr",align:null},"\u5bf9\u4e8e\u6bcf\u4e2a\u57fa\u51c6\uff0c\u6027\u80fd\u6bd4\u8ba1\u7b97\u5982\u4e0b:",(0,l.kt)("br",null),"\u526f\u672c\u6570(\u53c2\u8003\u673a\u5668\u6240\u7528\u7684\u65f6\u95f4/SUT\u4e0a\u7684\u65f6\u95f4)")),(0,l.kt)("tr",{parentName:"tbody"},(0,l.kt)("td",{parentName:"tr",align:null},"\u6240\u7528\u65f6\u95f4\u8d8a\u5c11\uff0c\u5206\u6570\u8d8a\u9ad8"),(0,l.kt)("td",{parentName:"tr",align:null},"\u6bcf\u5355\u4f4d\u65f6\u95f4\u505a\u7684\u5de5\u4f5c\u8d8a\u591a\uff0c\u5206\u6570\u8d8a\u9ad8")))),(0,l.kt)("ul",null,(0,l.kt)("li",{parentName:"ul"},'\u5bf9\u4e8e SPECspeed \u548c SPECrate\uff0c\u6240\u9009\u6bd4\u7387\u5747\u4f7f\u7528 "\u51e0\u4f55\u5e73\u5747\u503c" \u8fdb\u884c\u5e73\u5747\uff0c\u8be5\u51e0\u4f55\u5e73\u5747\u503c\u88ab\u62a5\u544a\u4e3a\u603b\u4f53\u5ea6\u91cf\u3002'),(0,l.kt)("li",{parentName:"ul"},"\u53c2\u8003\u8ba1\u7b97\u673a\u662f\u4e00\u53f0\u5386\u53f2\u60a0\u4e45\u7684 Sun Microsystems \u670d\u52a1\u5668\uff0c\u5373\u5177\u6709 2100 MHz UltraSPARC-IV + \u82af\u7247\u7684 Sun Fire V490\u3002UltraSPARC-IV + \u4e8e 2006 \u5e74\u63a8\u51fa\uff0c\u6bd4 CPU 2000 \u548c CPU 2006 \u53c2\u8003\u8ba1\u7b97\u673a\uff08300 MHz 1997 UltraSPARC II\uff09\u4e2d\u4f7f\u7528\u7684\u82af\u7247\u66f4\u65b0\u3002")),(0,l.kt)("h2",{id:"12\u524d\u7f6e\u6761\u4ef6"},"1.2\u3001\u524d\u7f6e\u6761\u4ef6"),(0,l.kt)("h3",{id:"121cpu-\u8981\u6c42"},"1.2.1\u3001CPU \u8981\u6c42"),(0,l.kt)("p",null,"SPEC \u63d0\u4f9b\u4e86\u7528\u4e8e ARM\uff0cPower ISA\uff0cSPARC \u6216 X86 \u7684\u5de5\u5177\u96c6\uff1b\u652f\u6301\u7269\u7406 CPU\u3001\u865a\u62df CPU\u3001SMP\u3001OpenMP\uff0c\u53ef\u4ee5\u4f7f\u7528 SPEC CPU 2017 \u6765\u6d4b\u91cf\u5177\u6709\u7269\u7406\u6216\u865a\u62df CPU/\u5904\u7406\u5668 \u7684\u7cfb\u7edf\u7684\u8ba1\u7b97\u6027\u80fd\uff1b\u53ef\u4ee5\u9009\u62e9\u6d4b\u91cf\u7cfb\u7edf\u6216\u5b50\u96c6\u4e2d\u7684\u6240\u6709\u5904\u7406\u5668\uff1b"),(0,l.kt)("p",null,"\u901a\u5e38\uff0cSPEC CPU \u7528\u4e8e\u6d4b\u91cf\u5e26\u6240\u6709\u7269\u7406 CPU \u82af\u7247\u7684\u6574\u4e2a\u7cfb\u7edf\uff0c\u4e0d\u8fc7\u4e5f\u53ef\u4ee5\u4f7f\u7528 SPEC CPU 2017 \u6765\u6d4b\u91cf\u7cfb\u7edf\u4e0a CPU \u8d44\u6e90\u7684\u4e00\u4e2a\u5b50\u96c6\uff0c\u4f8b\u5982\u4f7f\u7528\u865a\u62df\u673a\uff08VM\uff09\uff0c\u5206\u533a\uff0c\u533a\u57df\uff0c\u57df\uff0c\u5bb9\u5668\uff0c\u5904\u7406\u5668\u96c6\uff0c\u6838\u5fc3\uff0c\u786c\u4ef6\u7ebf\u7a0b\u6216\u5176\u4ed6\u5b50\u96c6\uff1b\u5982\u679c\u4f7f\u7528\u5b50\u96c6\uff08\u4f8b\u5982 VM\uff09\uff0c\u5219\u5b50\u96c6\u5fc5\u987b\u5177\u6709\u8db3\u591f\u7684\u5185\u5b58\u548c\u78c1\u76d8\uff1b"),(0,l.kt)("p",null,"\u53ef\u4ee5\u4f7f\u7528 SPEC CPU 2017 \u6765\u8bc4\u4f30\u4efb\u610f\u6570\u91cf\u7684\u5904\u7406\u5668\u7684\u6027\u80fd\u3002\u901a\u5e38\uff0c\u5982\u679c\u60a8\u7684\u64cd\u4f5c\u7cfb\u7edf\u53ef\u4ee5\u5904\u7406\u5b83\uff0c\u5219 SPEC CPU\u5de5\u5177\u96c6\u4e5f\u53ef\u4ee5\u5904\u7406\u5b83\u3002"),(0,l.kt)("p",null,(0,l.kt)("strong",{parentName:"p"},"SPECrate \u5957\u4ef6"),"\u53ef\u540c\u65f6\u8fd0\u884c\u591a\u4e2a\u76f8\u540c\u7684\u4f5c\u4e1a\u3002\u901a\u5e38\uff0c\u64cd\u4f5c\u7cfb\u7edf\u4f7f\u7528\u79f0\u4e3a SMP\uff08\u5bf9\u79f0\u591a\u5904\u7406\uff09\u7684\u529f\u80fd\u5c06\u5b83\u4eec\u5206\u5e03\u5728 CPU \u4e0a\u3002"),(0,l.kt)("p",null,(0,l.kt)("strong",{parentName:"p"},"SPECspeed \u5957\u4ef6"),"\u4e00\u6b21\u8fd0\u884c\u4e00\u9879\u5de5\u4f5c\u3002\u6709\u4e9b\u4f5c\u4e1a\u53ef\u4ee5\u901a\u8fc7 OpenMP \u6216\u7f16\u8bd1\u5668\u81ea\u52a8\u5e76\u884c\u5316\u4f7f\u7528\u591a\u4e2a CPU \u3002"),(0,l.kt)("p",null,"\u4ee5\u4e0a\u51e0\u70b9\u603b\u7ed3\u5728\u4e0b\u8868\u4e2d\uff1a"),(0,l.kt)("table",null,(0,l.kt)("thead",{parentName:"table"},(0,l.kt)("tr",{parentName:"thead"},(0,l.kt)("th",{parentName:"tr",align:null},"\u6ce8\u610f\u4e8b\u9879"),(0,l.kt)("th",{parentName:"tr",align:null},"SPECspeed"),(0,l.kt)("th",{parentName:"tr",align:null},"SPECrate"))),(0,l.kt)("tbody",{parentName:"table"},(0,l.kt)("tr",{parentName:"tbody"},(0,l.kt)("td",{parentName:"tr",align:null},"\u526f\u672c\u6570"),(0,l.kt)("td",{parentName:"tr",align:null},"\u6bcf\u4e2a\u57fa\u51c6\u4e00\u6b21\u53ea\u80fd\u8fd0\u884c\u4e00\u4e2a\u526f\u672c\u3002"),(0,l.kt)("td",{parentName:"tr",align:null},"\u6bcf\u4e2a\u57fa\u51c6\u7684\u591a\u4e2a\u526f\u672c\u540c\u65f6\u8fd0\u884c\u3002")),(0,l.kt)("tr",{parentName:"tbody"},(0,l.kt)("td",{parentName:"tr",align:null},"\u7f16\u8bd1\u5668\u5e76\u884c"),(0,l.kt)("td",{parentName:"tr",align:null},"\u53ef\u4ee5\u4f7f\u7528 OpenMP \u6216\u7f16\u8bd1\u5668\u81ea\u52a8\u5e76\u884c\u6027\u8fdb\u884c\u7f16\u8bd1\u3002"),(0,l.kt)("td",{parentName:"tr",align:null},"\u7981\u6b62\u4f7f\u7528 OpenMP \u548c\u7f16\u8bd1\u5668 autopar\u3002")),(0,l.kt)("tr",{parentName:"tbody"},(0,l.kt)("td",{parentName:"tr",align:null},"\u5982\u4f55\u4f7f\u7528\uff1f"),(0,l.kt)("td",{parentName:"tr",align:null},"\u5728\u6784\u5efa\u65f6\uff0c\u542f\u7528 OpenMP\u3002 \u4f7f\u7528 runcpu --threads = N \u6216\u76f8\u5e94\u7684\u914d\u7f6e\u6587\u4ef6\u529f\u80fd\u3002"),(0,l.kt)("td",{parentName:"tr",align:null},"\u4f7f\u7528 runcpu --copies \u6216\u76f8\u5e94\u7684\u914d\u7f6e\u6587\u4ef6\u529f\u80fd\u3002")))),(0,l.kt)("h3",{id:"122\u5185\u5b58\u9700\u6c42"},"1.2.2\u3001\u5185\u5b58\u9700\u6c42"),(0,l.kt)("p",null,"\u7269\u7406\u5185\u5b58\uff1a"),(0,l.kt)("table",null,(0,l.kt)("thead",{parentName:"table"},(0,l.kt)("tr",{parentName:"thead"},(0,l.kt)("th",{parentName:"tr",align:null},"\u6d4b\u8bd5\u9879"),(0,l.kt)("th",{parentName:"tr",align:null},"\u8bf4\u660e"))),(0,l.kt)("tbody",{parentName:"table"},(0,l.kt)("tr",{parentName:"tbody"},(0,l.kt)("td",{parentName:"tr",align:null},"SPECrate"),(0,l.kt)("td",{parentName:"tr",align:null},"\u6bcf\u4e2a\u526f\u672c 1GB\uff08\u5982\u679c\u9488\u5bf9 32 \u4f4d\u5730\u5740\u7a7a\u95f4\u8fdb\u884c\u7f16\u8bd1\uff09")),(0,l.kt)("tr",{parentName:"tbody"},(0,l.kt)("td",{parentName:"tr",align:null},"\u6bcf\u4e2a\u526f\u672c 2GB\uff08\u5982\u679c\u4e3a\u9488\u5bf9 64 \u4f4d\u5730\u5740\u7a7a\u95f4\u8fdb\u884c\u7f16\u8bd1\uff09"),(0,l.kt)("td",{parentName:"tr",align:null})),(0,l.kt)("tr",{parentName:"tbody"},(0,l.kt)("td",{parentName:"tr",align:null},"SPECspeed"),(0,l.kt)("td",{parentName:"tr",align:null},"16GB \u6700\u5c0f\u7cfb\u7edf\u4e3b\u5185\u5b58")))),(0,l.kt)("p",null,"\u865a\u62df\u5185\u5b58\uff1a"),(0,l.kt)("table",null,(0,l.kt)("thead",{parentName:"table"},(0,l.kt)("tr",{parentName:"thead"},(0,l.kt)("th",{parentName:"tr",align:null},"\u6d4b\u8bd5\u9879"),(0,l.kt)("th",{parentName:"tr",align:null},"\u8bf4\u660e"))),(0,l.kt)("tbody",{parentName:"table"},(0,l.kt)("tr",{parentName:"tbody"},(0,l.kt)("td",{parentName:"tr",align:null},"SPECrate"),(0,l.kt)("td",{parentName:"tr",align:null},"-","m32 \u4f60\u53ef\u4ee5\u9009\u62e9 32 \u4f4d\u6216 64 \u4f4d\u7f16\u8bd1\u5668\uff0c\u8fd9\u53d6\u51b3\u4e8e\u4f60\u7684\u7cfb\u7edf\u3001\u7f16\u8bd1\u5668\u548c\u5e93")),(0,l.kt)("tr",{parentName:"tbody"},(0,l.kt)("td",{parentName:"tr",align:null},"-","m64 \u68c0\u67e5\u4f60\u7684\u7f16\u8bd1\u5668\u6587\u6863\u5207\u6362 -m64 \u548c -m32"),(0,l.kt)("td",{parentName:"tr",align:null})),(0,l.kt)("tr",{parentName:"tbody"},(0,l.kt)("td",{parentName:"tr",align:null},"SPECspeed"),(0,l.kt)("td",{parentName:"tr",align:null},"-","m64 \u8fd9\u4e2a SPECspeed \u57fa\u51c6\u4e0d\u9002\u5408\u8fd0\u884c\u5728 32 \u4f4d\uff1b\u7f16\u8bd1\u5b83\u4eec\u9700\u8981 64 \u4f4d\uff1b\u8fdb\u7a0b\u9650\u5236\u5fc5\u987b\u5141\u8bb8\u6700\u5927\u5806\u6808")))),(0,l.kt)("h3",{id:"123\u78c1\u76d8\u9700\u6c42"},"1.2.3\u3001\u78c1\u76d8\u9700\u6c42"),(0,l.kt)("p",null,"\u4e0b\u9762\u7684\u78c1\u76d8\u7a7a\u95f4\u4ec5\u4ec5\u662f\u4f30\u7b97\uff0c\u4e0d\u540c\u7684\u73af\u5883\u9700\u6c42\u4f1a\u4e0d\u4e00\u6837\uff1a"),(0,l.kt)("table",null,(0,l.kt)("thead",{parentName:"table"},(0,l.kt)("tr",{parentName:"thead"},(0,l.kt)("th",{parentName:"tr",align:null},"\u5b89\u88c5\u65b9\u5f0f"),(0,l.kt)("th",{parentName:"tr",align:null},"\u9884\u671f\u7528\u9014"),(0,l.kt)("th",{parentName:"tr",align:null},"\u8be6\u7ec6\u4fe1\u606f"))),(0,l.kt)("tbody",{parentName:"table"},(0,l.kt)("tr",{parentName:"tbody"},(0,l.kt)("td",{parentName:"tr",align:null},"\u5f00\u53d1 250GB+1.2GB/\u526f\u672c"),(0,l.kt)("td",{parentName:"tr",align:null},"\u5728\u5355\u4e2a\u7cfb\u7edf\u4e0a\u5b89\u88c5\u3001\u7f16\u8bd1\u548c\u8fd0\u884c \u505a\u8c03\u8bd5\u8fd0\u884c\uff1b",(0,l.kt)("br",null),"\u6d4b\u8bd5\u7f16\u8bd1\u5668\u9009\u9879\u4fdd\u7559 2 \u5230 4 \u5957\u6784\u5efa\u548c\u8fd0\u884c\uff1b",(0,l.kt)("br",null),"\u6700\u540e\u8fd8\u662f\u9700\u8981\u6e05\u7406\u78c1\u76d8\u7a7a\u95f4\u3002"),(0,l.kt)("td",{parentName:"tr",align:null},"2.5GB \u5b89\u88c5 SPEC CPU 2017\uff1b",(0,l.kt)("br",null),"26GB \u4e3a\u6240\u6709 4 \u4ef6\u5957\u6253\u9020\u57fa\u7840+\u9ad8\u5cf0\uff1b",(0,l.kt)("br",null),"34GB \u53ef\u62a5\u544a\u7684\u76ee\u5f55\uff0c\u57fa\u672c+\u5cf0\u503c\uff0c4 \u4e2a\u5957\u4ef6\uff0c1 \u4e2a\u526f\u672c\uff1b",(0,l.kt)("br",null),"0.6 GB \u5c06\u53e6\u4e00\u4e2a\u526f\u672c\u6dfb\u52a0\u5230 intrate \u548c fprate(\u57fa\u672c+\u5cf0\u503c)\u3002")),(0,l.kt)("tr",{parentName:"tbody"},(0,l.kt)("td",{parentName:"tr",align:null},"\u57fa\u672c\u53ef\u62a5\u544a\u7684 40GB+0.8GB/\u526f\u672c"),(0,l.kt)("td",{parentName:"tr",align:null},"\u5b89\u88c5\u5728\u5176\u4ed6\u4f4d\u7f6e\u6784\u5efa\u7684\u4e8c\u8fdb\u5236\u6587\u4ef6\uff1b",(0,l.kt)("br",null),"\u5bf9\u4e00\u5957\u6784\u5efa\u4f7f\u7528 --reportable(intrate\uff0cfprate\uff0cintspeed \u6216 fpspeed)\u9700\u8981\u5728\u5957\u4ef6\u4e4b\u95f4\u8fdb\u884c\u6e05\u7406\uff1b",(0,l.kt)("br",null),"\u65e0\u6cd5\u4f7f\u7528\u4e00\u4e2a runcpu \u547d\u4ee4\u9009\u62e9\u591a\u4e2a\u5957\u4ef6\u3002"),(0,l.kt)("td",{parentName:"tr",align:null},"2.5 GB \u5b89\u88c5 SPEC CPU 2017",(0,l.kt)("br",null),"5 GB \u4e3a\u6240\u6709 4 \u4e2a\u5957\u4ef6\u5b89\u88c5\u57fa\u51c6\u4e8c\u8fdb\u5236\u6587\u4ef6(\u57fa\u51c6+\u5cf0\u503c)\uff1b",(0,l.kt)("br",null),"10 GB \u53ef\u62a5\u544a\u7684\u76ee\u5f55\uff0c\u57fa\u672c+\u5cf0\u503c\uff0c1\u4e2a\u5957\u4ef6\uff0c1\u4e2a\u526f\u672c\uff1b",(0,l.kt)("br",null),"0.4 GB \u6dfb\u52a0\u53e6\u4e00\u4e2a\u526f\u672c\uff0c\u57fa\u672c+\u5cf0\u503c\uff0c1\u5957\u5957\u4ef6\u3002")),(0,l.kt)("tr",{parentName:"tbody"},(0,l.kt)("td",{parentName:"tr",align:null},"\u6700\u5c0f10GB+0.2GB/\u526f\u672c"),(0,l.kt)("td",{parentName:"tr",align:null},"\u65e0\u6cd5\u6267\u884c\u53ef\u62a5\u544a\u7684\u8fd0\u884c\u3002",(0,l.kt)("br",null),"\u65e0\u6cd5\u5efa\u7acb\u5b8c\u6574\u5957\u4ef6(intrate\uff0cfprate\uff0cintspeed\uff0cfpspeed) \u53ef\u4ee5\u5efa\u7acb\u5e76\u8fd0\u884c1\u4e2a\u57fa\u51c6\u6d4b\u8bd5(\u4f8b\u5982 500.perlbench","_","r)\u5fc5\u987b\u4f7f\u7528minimal","_","builddirs\u3002\u5fc5\u987b\u7ecf\u5e38\u8fd0\u884c cpu --action = clobber\u3002"),(0,l.kt)("td",{parentName:"tr",align:null},"2.5 GB \u5b89\u88c5SPEC CPU 2017",(0,l.kt)("br",null),"2.5 GB \u5efa\u7acb\u5e76\u8fd0\u884c\u6700\u5927\u7684\u5355\u4e00\u57fa\u51c6\uff0cminimum","_","builddirs\uff0c\u4ec5\u57fa\u4e8e\u57fa\u51c6 0.1 GB \u6dfb\u52a0\u53e6\u4e00\u4e2a\u526f\u672c\uff0c\u4ec5\u57fa\u4e8e\u57fa\u51c6\uff0c\u6700\u5927\u7684\u5355\u4e2a\u57fa\u51c6\u3002")))),(0,l.kt)("h3",{id:"124\u64cd\u4f5c\u7cfb\u7edf"},"1.2.4\u3001\u64cd\u4f5c\u7cfb\u7edf"),(0,l.kt)("p",null,"SPEC CPU 2017 V1.0 \u652f\u6301\u7684\u5de5\u5177\u96c6\uff1a"),(0,l.kt)("table",null,(0,l.kt)("thead",{parentName:"table"},(0,l.kt)("tr",{parentName:"thead"},(0,l.kt)("th",{parentName:"tr",align:null},"\u5de5\u5177\u96c6"),(0,l.kt)("th",{parentName:"tr",align:null},"\u63cf\u8ff0"))),(0,l.kt)("tbody",{parentName:"table"},(0,l.kt)("tr",{parentName:"tbody"},(0,l.kt)("td",{parentName:"tr",align:null},"AIX"),(0,l.kt)("td",{parentName:"tr",align:null},"\u8fd0\u884c AIX V7.1 \u6216\u66f4\u9ad8\u7248\u672c\u7684 64 \u4f4d PowerPC \u7cfb\u7edf\u3002")),(0,l.kt)("tr",{parentName:"tbody"},(0,l.kt)("td",{parentName:"tr",align:null},"linux-aarch64"),(0,l.kt)("td",{parentName:"tr",align:null},"\u8fd0\u884c Linux \u7684 64 \u4f4d AArch64 \u7cfb\u7edf")),(0,l.kt)("tr",{parentName:"tbody"},(0,l.kt)("td",{parentName:"tr",align:null},"linux-armv7l"),(0,l.kt)("td",{parentName:"tr",align:null},"\u5177\u6709 ARM Cortex-A7 \u517c\u5bb9 CPU \u7684 Linux \u7cfb\u7edf\u3002")),(0,l.kt)("tr",{parentName:"tbody"},(0,l.kt)("td",{parentName:"tr",align:null},"linux-ppc"),(0,l.kt)("td",{parentName:"tr",align:null},"\u8fd0\u884c Linux \u7684 32 \u4f4d PowerPC \u7cfb\u7edf")),(0,l.kt)("tr",{parentName:"tbody"},(0,l.kt)("td",{parentName:"tr",align:null},"linux-ppc64"),(0,l.kt)("td",{parentName:"tr",align:null},"64 \u4f4d\u5927\u7aef PowerPC Linux \u7cfb\u7edf")),(0,l.kt)("tr",{parentName:"tbody"},(0,l.kt)("td",{parentName:"tr",align:null},"linux-ppc64le"),(0,l.kt)("td",{parentName:"tr",align:null},"64 \u4f4d Little-endian PowerPC Linux \u7cfb\u7edf")),(0,l.kt)("tr",{parentName:"tbody"},(0,l.kt)("td",{parentName:"tr",align:null},"linux-sparc"),(0,l.kt)("td",{parentName:"tr",align:null},"SPARC \u786c\u4ef6\u4e0a\u7684 64 \u4f4d Linux \u7cfb\u7edf")),(0,l.kt)("tr",{parentName:"tbody"},(0,l.kt)("td",{parentName:"tr",align:null},"linux-x86","_","64"),(0,l.kt)("td",{parentName:"tr",align:null},"x86","_","64 Linux \u7cfb\u7edf")),(0,l.kt)("tr",{parentName:"tbody"},(0,l.kt)("td",{parentName:"tr",align:null},"macosx-x86"),(0,l.kt)("td",{parentName:"tr",align:null},"\u82f1\u7279\u5c14\u7cfb\u7edf\u4e0a\u7684 MacOS X 10.6+")),(0,l.kt)("tr",{parentName:"tbody"},(0,l.kt)("td",{parentName:"tr",align:null},"solaris-sparc"),(0,l.kt)("td",{parentName:"tr",align:null},"\u8fd0\u884c Solaris 10 08/11 \u6216\u66f4\u9ad8\u7248\u672c\uff08\u5305\u62ec Solaris 11 \u548c\u66f4\u9ad8\u7248\u672c\uff09\u7684 64 \u4f4d SPARC \u7cfb\u7edf")),(0,l.kt)("tr",{parentName:"tbody"},(0,l.kt)("td",{parentName:"tr",align:null},"solaris-x86"),(0,l.kt)("td",{parentName:"tr",align:null},"\u8fd0\u884c Solaris 10 08/11 \u6216\u66f4\u9ad8\u7248\u672c\uff08\u5305\u62ec Solaris 11 \u548c\u66f4\u9ad8\u7248\u672c\uff09\u7684 x86 \u7cfb\u7edf")),(0,l.kt)("tr",{parentName:"tbody"},(0,l.kt)("td",{parentName:"tr",align:null},"Windows x64"),(0,l.kt)("td",{parentName:"tr",align:null},"\u8fd0\u884c Windows 7 \u6216\u66f4\u9ad8\u7248\u672c\u7684 Windows \u7cfb\u7edf")))),(0,l.kt)("h3",{id:"125\u7f16\u8bd1\u5668\u6216\u4e8c\u8fdb\u5236\u6587\u4ef6"},"1.2.5\u3001\u7f16\u8bd1\u5668\u6216\u4e8c\u8fdb\u5236\u6587\u4ef6"),(0,l.kt)("p",null,"SPEC \u4ee5\u6e90\u4ee3\u7801\u5f62\u5f0f\u63d0\u4f9b\u57fa\u51c6\u3002\u56e0\u6b64\uff0c\u60a8\u5c06\u9700\u8981\uff1a\u4e00\u7ec4\u7f16\u8bd1\u5668\u3002\u8fd9\u4e09\u4e2a\u90fd\u662f\u5fc5\u9700\u7684\uff1aC99\u3001C ++ 2003\u3001Fortran 2003\uff1b\u6216\u8005\uff0c\u4e00\u7ec4\u9884\u7f16\u8bd1\u7684\u57fa\u51c6\u4e8c\u8fdb\u5236\u6587\u4ef6\uff08\u53ef\u6267\u884c\u6587\u4ef6\uff09\uff0c\u7531\u540c\u4e00\u7248\u672c\u7684 SPEC CPU 2017 \u7684\u53e6\u4e00\u4e2a\u7528\u6237\u63d0\u4f9b\u7ed9\u60a8\u3002"),(0,l.kt)("ul",null,(0,l.kt)("li",{parentName:"ul"},"\u8bf7\u6ce8\u610f\uff0cSPEC \u4e0d\u63d0\u4f9b\u4e8c\u8fdb\u5236\u6587\u4ef6\u3002\u5982\u4e0a\u6240\u8ff0\uff0cSPEC \u63d0\u4f9b\u4e86\u6e90\u4ee3\u7801\u3002"),(0,l.kt)("li",{parentName:"ul"},"\u7531\u4e0d\u540c\u7248\u672c\u7684 SPEC CPU 2017 \u751f\u6210\u7684\u4e8c\u8fdb\u5236\u6587\u4ef6\u5c06\u4e0d\u8d77\u4f5c\u7528\u3002"),(0,l.kt)("li",{parentName:"ul"},"\u60a8\u53ef\u80fd\u8fd8\u9700\u8981\u9488\u5bf9\u8fd9\u4e9b\u53ef\u6267\u884c\u6587\u4ef6\u7684\u4e00\u7ec4\u8fd0\u884c\u65f6\u5e93\u3002"),(0,l.kt)("li",{parentName:"ul"},"\u8bf7\u6ce8\u610f\uff0c\u5373\u4f7f\u522b\u4eba\u7f16\u8bd1\u57fa\u51c6\u6d4b\u8bd5\u4e2d\uff0c\u6d4b\u8bd5\u4eba\u5458\u8d1f\u8d23\u9075\u5b88\u7684\u89c4\u5219\uff1a\u4e0d\u8981\u4e0d\u63a5\u53d7\u6765\u81ea\u4e0d\u53d7\u4fe1\u4efb\u6765\u6e90\u7684\u4e8c\u8fdb\u5236\u6587\u4ef6\u3002"),(0,l.kt)("li",{parentName:"ul"},"\u6574\u6570\u5957\u4ef6\u662f CPU 2017 \u7684\u65b0\u589e\u529f\u80fd\uff0c\u5176\u4e2d\u5305\u62ec Fortran \u57fa\u51c6\u6d4b\u8bd5\u3002"),(0,l.kt)("li",{parentName:"ul"},"\u6240\u6709\u5957\u4ef6\u7684\u53ef\u62a5\u544a\u8fd0\u884c\u90fd\u9700\u8981\u6240\u6709\u4e09\u79cd\u8bed\u8a00\uff08C\uff0cC ++\uff0cFortran\uff09\u7684\u7f16\u8bd1\u3002")),(0,l.kt)("h2",{id:"13\u6d4b\u8bd5\u73af\u5883\u8bf4\u660e"},"1.3\u3001\u6d4b\u8bd5\u73af\u5883\u8bf4\u660e"),(0,l.kt)("h3",{id:"131\u786c\u4ef6\u51c6\u5907"},"1.3.1\u3001\u786c\u4ef6\u51c6\u5907"),(0,l.kt)("table",null,(0,l.kt)("thead",{parentName:"table"},(0,l.kt)("tr",{parentName:"thead"},(0,l.kt)("th",{parentName:"tr",align:null},"\u914d\u7f6e"),(0,l.kt)("th",{parentName:"tr",align:null},"x86"),(0,l.kt)("th",{parentName:"tr",align:null},"arm64-single"),(0,l.kt)("th",{parentName:"tr",align:null},"arm64-double"))),(0,l.kt)("tbody",{parentName:"table"},(0,l.kt)("tr",{parentName:"tbody"},(0,l.kt)("td",{parentName:"tr",align:null},"CPU"),(0,l.kt)("td",{parentName:"tr",align:null},"X86(Gold 6138)"),(0,l.kt)("td",{parentName:"tr",align:null},"arm64-64core"),(0,l.kt)("td",{parentName:"tr",align:null},"arm64-128core")),(0,l.kt)("tr",{parentName:"tbody"},(0,l.kt)("td",{parentName:"tr",align:null},"MEM"),(0,l.kt)("td",{parentName:"tr",align:null},"256G"),(0,l.kt)("td",{parentName:"tr",align:null},"256G"),(0,l.kt)("td",{parentName:"tr",align:null},"256G")),(0,l.kt)("tr",{parentName:"tbody"},(0,l.kt)("td",{parentName:"tr",align:null},"DISK"),(0,l.kt)("td",{parentName:"tr",align:null},"480G(SSD)"),(0,l.kt)("td",{parentName:"tr",align:null},"480G(SSD)"),(0,l.kt)("td",{parentName:"tr",align:null},"480G(SSD)")))),(0,l.kt)("h3",{id:"132\u914d\u7f6e-spec-cpu-2017"},"1.3.2\u3001\u914d\u7f6e spec cpu 2017"),(0,l.kt)("ol",null,(0,l.kt)("li",{parentName:"ol"},"\u5b89\u88c5 spec cpu 2017")),(0,l.kt)("pre",null,(0,l.kt)("code",{parentName:"pre",className:"language-bash"},"[root@arm64v8 mnt]# mount -o loop cpu2017-1_0_5.iso /mnt\n[root@arm64v8 mnt]# cd /mnt\n[root@arm64v8 mnt]# ./install.sh -d /opt/spec2017\n......\nInstallation successful.  Source the shrc or cshrc in\n/opt/spec2017\nto set up your environment for the benchmark.\n[root@arm64v8 mnt]# cd /opt/spec2017/\n[root@arm64v8 spec2017]# ls\nbenchspec  cshrc        install.sh   PTDaemon    Revisions  tmp           uninstall.sh\nbin        Docs         LICENSE.txt  README.txt  shrc       tools         version.txt\nconfig     install.bat  MANIFEST     result      shrc.bat   TOOLS.sha512\n[root@arm64v8 spec2017]#\n[root@arm64v8 spec2017]# source shrc\n")),(0,l.kt)("ol",{start:2},(0,l.kt)("li",{parentName:"ol"},(0,l.kt)("p",{parentName:"li"},"\u914d\u7f6e runspec \u8fd0\u884c\u6d4b\u8bd5\u7684\u73af\u5883\u914d\u7f6e\u6587\u4ef6"),(0,l.kt)("pre",{parentName:"li"},(0,l.kt)("code",{parentName:"pre",className:"language-bash"},"[root@arm64v8 ~]# yum install gcc gcc-c++ gcc-gfortran -y\n[root@arm64v8 ~]# which gcc g++ gfortran \n/usr/bin/gcc\n/usr/bin/g++\n/usr/bin/gfortran\n[root@arm64v8 ~]# cd /opt/spec2017/\n[root@arm64v8 spec2017]# cp config/Example-gcc-linux-aarch64.cfg config/zhangqf.cfg\n[root@arm64v8 spec2017]# vim config/zhangqf.cfg\n#      Use:                 %   define gcc_dir /opt/rh/devtoolset-6/root/usr\n#      Use:                 %   define gcc_dir /disk1/mybuild/gcc-8.1.0\n#      Use:                 %   define gcc_dir /usr \u8fd9\u91cc\u8981\u6307\u5411\u521a\u67e5\u770b\u7684 gcc g++ gfortran \u7684\u8def\u5f84\n...\n...\n   CC                      = $(SPECLANG)gcc     -std=c99   %{model} # \u5bf9\u4e8egcc 10\u7248\u672c\u7684\uff0c\u8fd9\u91cc\u9700\u8981\u5728gcc\u540e\u9762\u52a0\u4e0a\u53c2\u6570 -fcommon\n")),(0,l.kt)("ul",{parentName:"li"},(0,l.kt)("li",{parentName:"ul"},"\u7f16\u8bd1\u5668 gcc g++ gfortran \u4e09\u8005\u7f3a\u4e00\u4e0d\u53ef\u3002"),(0,l.kt)("li",{parentName:"ul"},"\u914d\u7f6e\u6587\u4ef6\u6211\u4eec\u5c31\u501f\u9274\u5b98\u65b9\u7684 Example-gcc-linux-aarch64.cfg \u6587\u4ef6\uff0c\u53d6\u540d\u4e3a zhangqf.cfg\u3002"),(0,l.kt)("li",{parentName:"ul"},"\u628a zhangqf.cfg \u7a0d\u4f5c\u4fee\u6539\uff0c\u7279\u522b\u662f define gcc","_","dir \u540c\u65f6\u5b9a\u4e49\u7684\u662f gcc\uff0cg++ \u548c gfortran \u8def\u5f84\uff0c\u82e5\u4e09\u8005\u8def\u5f84\u4e0d\u4e00\u81f4\u9700\u5404\u81ea\u5b9a\u4e49\u3002"))),(0,l.kt)("li",{parentName:"ol"},(0,l.kt)("p",{parentName:"li"},"\u914d\u7f6e\u7f16\u8bd1\u5668\u53c2\u6570\u63cf\u8ff0\u6587\u4ef6\uff0c\u4e0d\u7136\u751f\u6210\u7684\u62a5\u544a\u4f1a\u51fa\u73b0 invalid \u6c34\u5370"),(0,l.kt)("pre",{parentName:"li"},(0,l.kt)("code",{parentName:"pre",className:"language-bash"},"[root@arm64v8 spec2017]# cp config/flags/gcc.xml config/flags/zhangqf.xml\n")),(0,l.kt)("ul",{parentName:"li"},(0,l.kt)("li",{parentName:"ul"},(0,l.kt)("p",{parentName:"li"},"\u76f4\u63a5\u501f\u7528\u5b98\u65b9 gcc.xml \u63cf\u8ff0\u6587\u4ef6\uff0c\u53d6\u540d\u4e3a zhangqf.xml\u3002")),(0,l.kt)("li",{parentName:"ul"},(0,l.kt)("p",{parentName:"li"},"\u6ce8\u610f\uff0c\u5982\u679c\u4e0d\u624b\u52a8\u6307\u5b9a\u63cf\u8ff0\u6587\u4ef6\u4e5f\u662f\u53ef\u4ee5\u7684\uff0c\u4f46\u5fc5\u987b\u5728\u73af\u5883\u914d\u7f6e\u6587\u4ef6\u4e2d\u63d0\u524d\u6307\u5b9a\uff0c\u4ee5\u624b\u52a8\u6307\u5b9a\u4f18\u5148\u7ea7\u6700\u9ad8\uff0c\u6bd4\u5982\uff0czhangqf.cfg \u914d\u7f6e\u6587\u4ef6\u4e2d\u5df2\u6307\u5b9a\u5982\u4e0b\u3002"),(0,l.kt)("pre",{parentName:"li"},(0,l.kt)("code",{parentName:"pre",className:"language-bash"},"flagsurl             = $[top]/config/flags/gcc.xml\n"))))),(0,l.kt)("li",{parentName:"ol"},(0,l.kt)("p",{parentName:"li"},"\u67e5\u770b runcpu \u6d4b\u8bd5\u547d\u4ee4\u7684\u7528\u6cd5"),(0,l.kt)("pre",{parentName:"li"},(0,l.kt)("code",{parentName:"pre",className:"language-bash"},"[root@arm64v8 spec2017]# runcpu --help\n......\n--config file | -c file: \u7528\u4e8e\u6307\u5b9a\u672c\u6b21\u8fd0\u884c\u7684\u914d\u7f6e\u6587\u4ef6\n--size | -i:             \u89c4\u6a21\u9009\u62e9\uff0c\u5206\u4e3atest(\u7b80\u5355\u89c4\u6a21\u6a21\u5f0f\uff0c\u6d4b\u8bd5\u65f6\u95f4\u6700\u77ed)\u3001train(\u4e2d\u7ea7\u89c4\u6a21\u6a21\u5f0f\uff0c\u6d4b\u8bd5\u65f6\u95f4\u5c45\u4e2d)\u3001ref(\u9ad8\u7ea7\u89c4\u6a21\u6a21\u5f0f\uff0c\u6d4b\u8bd5\u65f6\u95f4\u6700\u957f)\uff1b\n--tune | -T:             \u6d4b\u8bd5\u57fa\u51c6\uff0c\u5206\u4e3abase(\u57fa\u51c6\u503c)\u548cpeak(\u5cf0\u503c)\uff0call\u8868\u793aSPEC CPU2017\u5c06\u8fd0\u884c\u57fa\u51c6\u6d4b\u8bd5\u7a0b\u5e8f\u4e2d\u7684\u6240\u6709\u6d4b\u8bd5\u9879\u76ee\uff1b\n--iterations=3 | -n:     \u6d4b\u8bd5\u6b21\u6570\uff0c\u5b98\u65b9\u5efa\u8bae\u4e3a3\u6b21\uff0c\u8bbe\u7f6e3\u6b21\u53ef\u81ea\u52a8\u8ba1\u7b97\u5206\u6570\uff0c\u8bbe\u7f6e1\u6b21\u9700\u8981\u624b\u7b97\u5206\u6570\uff1b\n--copies | -C:               \u6d4b\u8bd5\u6838\u6570\uff0c\u5982-C 64\uff1b\n--reportable | -s:           \u751f\u6210\u53ef\u62a5\u544a\u7684\u7ed3\u679c\n--threads:                   \u6d4b\u8bd5speed\u5219\u9700\u6dfb\u52a0\u3002\u5982\u679c\u9009\u62e9speed\u5ea6\u91cf\u65b9\u5f0f\uff0c\u5176\u6838\u6570\u56fa\u5b9a\u4e3a1\uff0c\u4e0d\u53ef\u66f4\u6539\u3002\n--flagsurl | -F gcc.xml: \u53bb\u9664pdf\u62a5\u544a\u6c34\u5370\u3002\n")),(0,l.kt)("ul",{parentName:"li"},(0,l.kt)("li",{parentName:"ul"},"\u8fd9\u91cc\u53ea\u7ed9\u51fa\u4e86\u6211\u5e38\u7528\u7684\u51e0\u4e2a\u9009\u9879\uff0c\u53ef\u4ee5\u81ea\u884c\u67e5\u770b\u5e2e\u52a9\u4fe1\u606f\u3002"),(0,l.kt)("li",{parentName:"ul"},"runcpu --update \u53ef\u8fde\u63a5\u5916\u7f51\u66f4\u65b0 benchmark \u5957\u4ef6\uff0cexample flag files \u548c config files\u3002\u76ee\u524d\u624b\u4e0a speccpu2017 \u5b89\u88c5\u5305\u7248\u672c\u4e3a V1.0.5\uff0c\u8fde\u5916\u7f51\u53ef\u5347\u7ea7\u5230\u6700\u65b0\u7248\u672c V1.1.0\u3002")))),(0,l.kt)("h2",{id:"14\u8fd0\u884c-runcpu-\u6d4b\u8bd5"},"1.4\u3001\u8fd0\u884c runcpu \u6d4b\u8bd5"),(0,l.kt)("pre",null,(0,l.kt)("code",{parentName:"pre",className:"language-bash"},"[root@arm64v8 spec2017]# runcpu --config /opt/spec2017/config/zhangqf.cfg --flags /opt/spec2017/config/flags/zhangqf.xml --reportable --tune base --iterations=3 intrate\n[root@arm64v8 spec2017]# runcpu --config /opt/spec2017/config/zhangqf.cfg --flags /opt/spec2017/config/flags/zhangqf.xml --reportable --tune base --iterations=3 intspeed\n[root@arm64v8 spec2017]# runcpu --config /opt/spec2017/config/zhangqf.cfg --flags /opt/spec2017/config/flags/zhangqf.xml --reportable --tune base --iterations=3 fprate\n[root@arm64v8 spec2017]# runcpu --config /opt/spec2017/config/zhangqf.cfg --flags /opt/spec2017/config/flags/zhangqf.xml --reportable --tune base --iterations=3 fpspeed\n")),(0,l.kt)("ul",null,(0,l.kt)("li",{parentName:"ul"},(0,l.kt)("p",{parentName:"li"},"\u5728\u6d4b\u8bd5 fpspeed \u65f6\uff0c627.cam4","_","s \u5bf9\u5806\u6808\u4f7f\u7528\u8fc7\u5927\uff0c\u9ed8\u8ba4\u7684 120M \u4e0d\u80fd\u6ee1\u8db3\u9700\u6c42\uff0c\u9700\u6539\u4e3a 1G \u6216\u66f4\u5927\uff1b"),(0,l.kt)("pre",{parentName:"li"},(0,l.kt)("code",{parentName:"pre",className:"language-bash"},"[root@arm64v8 spec2017]# vim config/zhangqf.cfg\nfpspeed:\n    #\n    # 627.cam4 needs a big stack; the preENV will apply it to all\n    # benchmarks in the set, as required by the rules.\n    #\n    preENV_OMP_STACKSIZE = 120M --\x3e \u6539\u6210 1G\n"))),(0,l.kt)("li",{parentName:"ul"},(0,l.kt)("p",{parentName:"li"},"\u8fd8\u9700\u8981\u8c03\u6574\u64cd\u4f5c\u7cfb\u7edf\u7684\u5185\u6838\u5806\u6808\u5927\u5c0f\uff1b"),(0,l.kt)("pre",{parentName:"li"},(0,l.kt)("code",{parentName:"pre",className:"language-bash"},"# \u67e5\u770b\u4e00\u4e0b\u5f53\u524d\u7cfb\u7edf\u7684\u4e00\u4e9b\u9650\u5236\n[root@arm64v8 spec2017]# ulimit -a\ncore file size          (blocks, -c) unlimited\ndata seg size           (kbytes, -d) unlimited\nscheduling priority             (-e) 0\nfile size               (blocks, -f) unlimited\npending signals                 (-i) 1036505\nmax locked memory       (kbytes, -l) 64\nmax memory size         (kbytes, -m) unlimited\nopen files                      (-n) 1024\npipe size            (512 bytes, -p) 8\nPOSIX message queues     (bytes, -q) 819200\nreal-time priority              (-r) 0\nstack size              (kbytes, -s) 8192\ncpu time               (seconds, -t) unlimited\nmax user processes              (-u) 1036505\nvirtual memory          (kbytes, -v) unlimited\nfile locks                      (-x) unlimited\n[root@arm64v8 spec2017]#\n\n# \u89e3\u5f00 stack size \u7684\u9650\u5236\n[root@arm64v8 spec2017]# ulimit -s unlimited\n[root@arm64v8 spec2017]# ulimit -a\ncore file size          (blocks, -c) unlimited\ndata seg size           (kbytes, -d) unlimited\nscheduling priority             (-e) 0\nfile size               (blocks, -f) unlimited\npending signals                 (-i) 1036505\nmax locked memory       (kbytes, -l) 64\nmax memory size         (kbytes, -m) unlimited\nopen files                      (-n) 1024\npipe size            (512 bytes, -p) 8\nPOSIX message queues     (bytes, -q) 819200\nreal-time priority              (-r) 0\nstack size              (kbytes, -s) unlimited\ncpu time               (seconds, -t) unlimited\nmax user processes              (-u) 1036505\nvirtual memory          (kbytes, -v) unlimited\nfile locks                      (-x) unlimited\n[root@arm64v8 spec2017]#\n")),(0,l.kt)("ul",{parentName:"li"},(0,l.kt)("li",{parentName:"ul"},"\u4e3a\u4e86\u65b9\u4fbf\uff0c\u6211\u8fd9\u91cc\u662f\u76f4\u63a5\u6539\u6210\u4e86 unlimited\uff0c\u6ce8\u610f\u8fd9\u4e2a\u8bbe\u7f6e\u53ea\u5728\u5f53\u524d shell \u751f\u6548\uff0c\u60f3\u8981\u6c38\u4e45\u751f\u6548\uff0c\u5199\u5728 /etc/security/limits.conf \u914d\u7f6e\u6587\u4ef6\u4e2d\u3002")))),(0,l.kt)("h2",{id:"15\u6d4b\u8bd5\u7ed3\u679c"},"1.5\u3001\u6d4b\u8bd5\u7ed3\u679c"),(0,l.kt)("h3",{id:"151\u7269\u7406\u670d\u52a1\u5668\u6ee1\u6838\u6d4b\u8bd5\u7ed3\u679c"},"1.5.1\u3001\u7269\u7406\u670d\u52a1\u5668\u6ee1\u6838\u6d4b\u8bd5\u7ed3\u679c"),(0,l.kt)("p",null,(0,l.kt)("img",{alt:"cpu full",src:n(51024).Z,width:"808",height:"860"})),(0,l.kt)("h3",{id:"152\u7269\u7406\u670d\u52a1\u5668\u8fd0\u884c-64-\u4e2a\u526f\u672c\u5e76\u53d1\u7684\u6d4b\u8bd5\u7ed3\u679c"},"1.5.2\u3001\u7269\u7406\u670d\u52a1\u5668\u8fd0\u884c 64 \u4e2a\u526f\u672c\u5e76\u53d1\u7684\u6d4b\u8bd5\u7ed3\u679c"),(0,l.kt)("p",null,(0,l.kt)("img",{alt:"cpu 64",src:n(82585).Z,width:"808",height:"864"})),(0,l.kt)("h2",{id:"a\u9644\u5f55"},"A\u3001\u9644\u5f55"),(0,l.kt)("h3",{id:"a1performancetest-\u6d4b\u8bd5"},"A1\u3001PerformanceTEST \u6d4b\u8bd5"),(0,l.kt)("p",null,'SPEC CPU 2017 \u867d\u8bf4\u662f\u4e1a\u5185\u6bd4\u8f83\u6743\u5a01\u7684 CPU \u6d4b\u8bd5\u65b9\u6848\uff0c\u4f46\u662f\u4f7f\u7528\u8d77\u6765\u6ca1\u6709\u90a3\u4e48\u4fbf\u6377\u3002\u76f8\u6bd4\u8f83\u800c\u8a00\uff0cPerformanceTEST \u8fd9\u4e2a\u5de5\u5177\u4f7f\u7528\u8d77\u6765\u5c31\u975e\u5e38\u7b80\u5355\uff0c\u8fd9\u4e2a\u5de5\u5177\u540c\u6837\u662f\u4e00\u6b3e\u5546\u4e1a\u8f6f\u4ef6\uff0c\u5728 windows \u4e0a\u5e94\u7528\u6bd4\u8f83\u5e7f\u6cdb\uff0c\u7c7b\u4f3c "\u9c81\u5927\u5e08\u8dd1\u5206"\uff0c\u9488\u5bf9 Linux\u3001MAC \u548c Android \u514d\u8d39\u3002'),(0,l.kt)("p",null,"\u5b98\u65b9\u5730\u5740\uff1a",(0,l.kt)("a",{parentName:"p",href:"https://www.passmark.com/products/performancetest/"},"https://www.passmark.com/products/performancetest/")),(0,l.kt)("p",null,"\u5728 4c8g \u7684 arm64 \u53f0\u5f0f\u673a\u4e0a\u6d4b\u8bd5\uff1a"),(0,l.kt)("pre",null,(0,l.kt)("code",{parentName:"pre",className:"language-bash"},"root@arm64v8:~# wget wget https://www.passmark.com/downloads/pt_linux_arm64.zip\nroot@arm64v8:~# ls\npt_linux_arm64.zip\nroot@arm64v8:~# unzip pt_linux_arm64.zip \n\u5b58\u6863\u6587\u4ef6:  pt_linux_arm64.zip\n   creating: PerformanceTest/\n  inflating: PerformanceTest/pt_linux_arm64  \n  inflating: PerformanceTest/readme.txt  \nroot@arm64v8:~# cd PerformanceTest/\nroot@arm64v8:~/PerformanceTest# ./pt_linux_arm64\n                          PassMark PerformanceTest Linux\n\nPhytium,FT-2000/4 (aarch64)\n4 cores @ 2600 MHz  |  7.7 GiB RAM\nNumber of Processes: 4  |  Test Iterations: 1  |  Test Duration: Medium\n--------------------------------------------------------------------------\nCPU Mark:                          1685\n  Integer Math                     17435 Million Operations/s\n  Floating Point Math              6058 Million Operations/s\n  Prime Numbers                    16.8 Million Primes/s\n  Sorting                          7362 Thousand Strings/s\n  Encryption                       343 MB/s\n  Compression                      12827 KB/s\n  CPU Single Threaded              680 Million Operations/s\n  Physics                          222 Frames/s\n  Extended Instructions (NEON)     1128 Million Matrices/s\n\nMemory Mark:                       1130\n  Database Operations              1536 Thousand Operations/s\n  Memory Read Cached               9472 MB/s\n  Memory Read Uncached             6558 MB/s\n  Memory Write                     7239 MB/s\n  Available RAM                    5277 Megabytes\n  Memory Latency                   107 Nanoseconds\n  Memory Threaded                  14138 MB/s\n--------------------------------------------------------------------------\n\nResults not submitted\nUpload results to cpubenchmark.net? [Y/n]:\n\nUse ESC or CTRL-C to exit\nA: Run All Tests   C: Run CPU Tests   M: Run Memory Tests   U: Upload Test Results\n")),(0,l.kt)("h3",{id:"a2stress-ng-\u6d4b\u8bd5"},"A2\u3001stress-ng \u6d4b\u8bd5"),(0,l.kt)("p",null,"stress-ng \u4ee5\u5404\u79cd\u53ef\u9009\u62e9\u7684\u65b9\u5f0f\u5bf9\u8ba1\u7b97\u673a\u7cfb\u7edf\u8fdb\u884c\u538b\u529b\u6d4b\u8bd5\u3002\u5b83\u88ab\u8bbe\u8ba1\u7528\u6765\u6d4b\u8bd5\u8ba1\u7b97\u673a\u7684\u5404\u79cd\u7269\u7406\u5b50\u7cfb\u7edf\u4ee5\u53ca\u5404\u79cd\u64cd\u4f5c\u7cfb\u7edf\u5185\u6838\u63a5\u53e3\u3002stress-ng \u7279\u70b9\uff1a"),(0,l.kt)("ul",null,(0,l.kt)("li",{parentName:"ul"},"\u8d85\u8fc7 260 \u79cd\u538b\u529b\u6d4b\u8bd5"),(0,l.kt)("li",{parentName:"ul"},"85 \u79cd\u4ee5\u4e0a\u7684 CPU \u7279\u5b9a\u7684\u538b\u529b\u6d4b\u8bd5\uff0c\u7528\u6765\u6d4b\u8bd5\u6d6e\u70b9\u3001\u6574\u6570\u3001\u4f4d\u64cd\u4f5c\u548c\u63a7\u5236\u6d41"),(0,l.kt)("li",{parentName:"ul"},"\u8d85\u8fc7 20 \u4e2a\u865a\u62df\u5185\u5b58\u538b\u529b\u6d4b\u8bd5"),(0,l.kt)("li",{parentName:"ul"},"\u53ef\u79fb\u690d\u6027\u5f3a\uff0c\u652f\u6301 Linux\u3001Solaris\u3001BSD\u3001Android\u3001MacOS X \u4ee5\u53ca windows \u7b49\u64cd\u4f5c\u7cfb\u7edf\uff1b\u540c\u65f6\u652f\u6301 x86-64\u3001i386\u3001s390x\u3001ppc64el\u3001armhf\u3001arm64\u3001sparc64\u3001risc-v\u3001m68k \u4ee5\u53ca mips64 \u7b49\u786c\u4ef6\u67b6\u6784\u3002")),(0,l.kt)("p",null,"stress-ng \u8bbe\u8ba1\u7684\u521d\u8877\u662f\u8ba9\u64cd\u4f5c\u7cfb\u7edf\u5728\u82db\u523b\u7684\u73af\u5883\u4e0b\u8fd0\u884c\uff0c\u628a\u786c\u4ef6\u7684\u6781\u9650\u8868\u8fbe\u51fa\u6765\uff0c\u5728\u4e00\u4e9b\u786c\u4ef6\u6216\u64cd\u4f5c\u7cfb\u7edf\u6709\u6f0f\u6d1e\u7684\u60c5\u51b5\u4e0b\uff0c\u53ef\u80fd\u53d1\u751f\u610f\u60f3\u4e0d\u5230\u7684\u70ed\u8fd0\u884c\uff0c\u5bfc\u81f4\u65e0\u6cd5\u505c\u6b62\uff0c\u751a\u81f3\u4f7f\u64cd\u4f5c\u7cfb\u7edf\u53d7\u5230\u91cd\u521b\u3002\u6240\u4ee5\u8981\u505a\u597d\u63d0\u524d\u9884\u9632\u3002"),(0,l.kt)("p",null,"\u5728 root \u6743\u9650\u4e0b\u8fd0\u884c stress-ng \u5c06\u8c03\u6574 Linux \u7cfb\u7edf\u4e0a\u7684\u5185\u5b58\u8bbe\u7f6e\uff0c\u4ee5\u4f7f\u538b\u529b\u6e90\u5728\u5185\u5b58\u4e0d\u8db3\u7684\u60c5\u51b5\u4e0b\u4e0d\u88ab\u6740\u6b7b\uff0c\u56e0\u6b64\u8981\u8c28\u614e\u4f7f\u7528\u8fd9\u79cd\u65b9\u6cd5\u3002\u4f7f\u7528\u9002\u5f53\u7684\u7279\u6743\uff0cstress-ng \u53ef\u4ee5\u5141\u8bb8\u8c03\u6574 ionice \u7c7b\u548c ionice \u7ea7\u522b\uff0c\u540c\u6837\uff0c\u8981\u8c28\u614e\u4f7f\u7528\u3002"),(0,l.kt)("p",null,"\u53e6\u5916 stress-ng \u4e0d\u662f\u4e00\u4e2a\u4e13\u4e1a\u7684\u6027\u80fd\u6d4b\u8bd5\u5957\u4ef6\uff0c\u4e5f\u65e0\u6cd5\u50cf spec cpu 2017 \u90a3\u6837\u5f97\u5230\u4e13\u4e1a\u7684\u6570\u636e\u5206\u6790\u62a5\u544a\u3002\u56e0\u6b64\uff0c\u4f7f\u7528 stress-ng \u53ea\u662f\u5bf9\u4f60\u7684\u786c\u4ef6\u548c\u64cd\u4f5c\u7cfb\u7edf\u8fdb\u884c\u4e00\u6b21\u538b\u529b\u6d4b\u8bd5\uff0c\u8ba9\u4f60\u5bf9\u5373\u5c06\u4f7f\u7528\u7684\u8fd9\u5957\u8bbe\u5907\u6709\u8db3\u591f\u7684\u4e86\u89e3\u3002"),(0,l.kt)("p",null,"\u4e0b\u9762\u6211\u4eec\u4f7f\u7528 rpm \u81ea\u5e26\u7684\u5b89\u88c5\u6e90\u8fdb\u884c stress-ng \u5b89\u88c5\uff0c\u505a\u4e00\u4e9b\u521d\u7ea7\u6d4b\u8bd5\uff1b\u5982\u679c\u60f3\u4f7f\u7528 stress-ng \u6e90\u7801\u7f16\u8bd1\u5b89\u88c5\uff0c\u4e0d\u9632\u53c2\u8003 ",(0,l.kt)("a",{parentName:"p",href:"https://github.com/ColinIanKing/stress-ng"},"https://github.com/ColinIanKing/stress-ng"),"\u3002"),(0,l.kt)("ol",null,(0,l.kt)("li",{parentName:"ol"},(0,l.kt)("p",{parentName:"li"},"\u8fd0\u884c 8 \u4e2a workers \u865a\u62df\u5185\u5b58\u538b\u529b\u6e90\uff0c\u586b\u5145\u53ef\u7528\u5185\u5b58\u7684 80%\uff0c\u8fd0\u884c 1 \u4e2a\u5c0f\u65f6\uff1b\u56e0\u6b64\u6bcf\u4e2a\u538b\u529b\u6e90\u5360\u636e\u53ef\u7528\u5185\u5b58\u7684 10%\u3002"),(0,l.kt)("pre",{parentName:"li"},(0,l.kt)("code",{parentName:"pre",className:"language-bash"},"stress-ng --vm 8 --vm-bytes 80% -t 1h\n"))),(0,l.kt)("li",{parentName:"ol"},(0,l.kt)("p",{parentName:"li"},"\u8fd0\u884c 4 \u4e2a cpu workers \u538b\u529b\u6e90\uff1b\u8fd0\u884c 2 \u4e2a io workers \u538b\u529b\u6e90\uff1b\u8fd0\u884c 1 \u4e2a\u865a\u62df\u5185\u5b58 work \u538b\u529b\u6e90\uff0c\u6620\u5c04\u865a\u62df\u5185\u5b58 1G\uff1b\u8fd0\u884c 60 \u79d2\u3002"),(0,l.kt)("pre",{parentName:"li"},(0,l.kt)("code",{parentName:"pre",className:"language-bash"},"stress-ng --cpu 4 --io 2 --vm 1 --vm-bytes 1G --timeout 60s\n"))),(0,l.kt)("li",{parentName:"ol"},(0,l.kt)("p",{parentName:"li"},"\u8fd0\u884c 2 \u4e2a mixed I/O \u5b9e\u4f8b\uff0c\u5360\u636e\u53ef\u7528\u6587\u4ef6\u7cfb\u7edf\u7a7a\u95f4\u7684 10%\uff0c\u8fd0\u884c 10 \u5206\u949f\uff1b\u4e5f\u5c31\u662f\u6bcf\u4e00\u4e2a\u538b\u529b\u6e90\u5360\u636e\u53ef\u7528\u6587\u4ef6\u7cfb\u7edf\u7a7a\u95f4\u7684 5%\u3002"),(0,l.kt)("pre",{parentName:"li"},(0,l.kt)("code",{parentName:"pre",className:"language-bash"},"stress-ng --iomix 2 --iomix-bytes 10% -t 10m\n"))),(0,l.kt)("li",{parentName:"ol"},(0,l.kt)("p",{parentName:"li"},"\u901a\u8fc7 hdd \u538b\u529b\u6e90\u6d4b\u91cf real time \u8c03\u5ea6\u5ef6\u8fdf\uff0c\u5b83\u4f7f\u7528\u9ad8\u5206\u8fa8\u7387\u7eb3\u79d2\u65f6\u949f\u6765\u6d4b\u91cf 10000 \u7eb3\u79d2\u7761\u7720\u671f\u95f4\u7684\u5ef6\u8fdf\u30021 \u5206\u949f\u7684\u538b\u529b\u6d4b\u8bd5\u4e4b\u540e\uff0c\u5c06\u663e\u793a\u95f4\u9694\u4e3a 2500 ns \u7684\u65f6\u5ef6\u5206\u5e03\u3002"),(0,l.kt)("pre",{parentName:"li"},(0,l.kt)("code",{parentName:"pre",className:"language-bash"},"stress-ng --cyclic 1 --cyclic-dist 2500 --cyclic-method clock_ns --cyclic-prio 100 --cyclic-sleep 10000 --hdd 0 -t 1m\n")),(0,l.kt)("ul",{parentName:"li"},(0,l.kt)("li",{parentName:"ul"},"\u6ce8\u610f\uff1a\u5fc5\u987b\u4e0e CAP","_","SYS","_","NICE \u529f\u80fd\u4e00\u8d77\u8fd0\u884c\uff0c\u4ee5\u542f\u7528\u5b9e\u65f6\u8c03\u5ea6\u4ee5\u83b7\u5f97\u7cbe\u786e\u7684\u6d4b\u91cf\u3002"))),(0,l.kt)("li",{parentName:"ol"},(0,l.kt)("p",{parentName:"li"},"\u8fd0\u884c 8 \u4e2a cpu \u538b\u529b\u6e90\uff0c\u7ecf\u8fc7 800000 bogo \u64cd\u4f5c\u540e\u505c\u6b62"),(0,l.kt)("pre",{parentName:"li"},(0,l.kt)("code",{parentName:"pre",className:"language-bash"},"stress-ng --cpu 8 --cpu-ops 800000\n")),(0,l.kt)("ul",{parentName:"li"},(0,l.kt)("li",{parentName:"ul"},(0,l.kt)("p",{parentName:"li"},'Bogo Ops\uff1astress -ng \u4f7f\u7528 "bogus operations per second" \u4e5f\u5c31\u662f\u6bcf\u79d2\u4f2a\u64cd\u4f5c\u6765\u5ea6\u91cf\u538b\u529b\u6d4b\u8bd5\u7684 "\u541e\u5410\u91cf"\u3002'),(0,l.kt)("pre",{parentName:"li"},(0,l.kt)("code",{parentName:"pre",className:"language-bash"},"root@arm64v8:~# stress-ng --cpu 4 --cpu-ops 8000\nstress-ng: info:  [9175] defaulting to a 86400 second run per stressor\nstress-ng: info:  [9175] dispatching hogs: 4 cpu\nstress-ng: info:  [9175] cache allocate: using built-in defaults as unable to determine cache details\nstress-ng: info:  [9175] cache allocate: default cache size: 2048K\nstress-ng: info:  [9175] successful run completed in 24.11s\nroot@arm64v8:~# \nroot@arm64v8:~# stress-ng --cpu 4 --cpu-ops 8000 --metrics-brief\nstress-ng: info:  [9206] defaulting to a 86400 second run per stressor\nstress-ng: info:  [9206] dispatching hogs: 4 cpu\nstress-ng: info:  [9206] cache allocate: using built-in defaults as unable to determine cache details\nstress-ng: info:  [9206] cache allocate: default cache size: 2048K\nstress-ng: info:  [9206] successful run completed in 23.62s\nstress-ng: info:  [9206] stressor      bogo ops real time  usr time  sys time   bogo ops/s   bogo ops/s\nstress-ng: info:  [9206]                          (secs)    (secs)    (secs)   (real time) (usr+sys time)\nstress-ng: info:  [9206] cpu               8000     23.56     93.66      0.00       339.50        85.42\nroot@arm64v8:~#\n")),(0,l.kt)("ul",{parentName:"li"},(0,l.kt)("li",{parentName:"ul"},"\u4f7f\u7528 --metrics-brief \u9009\u9879\u663e\u793a bogo ops\u3002"))))),(0,l.kt)("li",{parentName:"ol"},(0,l.kt)("p",{parentName:"li"},"\u5176\u5b83\u793a\u4f8b"),(0,l.kt)("pre",{parentName:"li"},(0,l.kt)("code",{parentName:"pre",className:"language-bash"},"# run 2 simultaneous instances of all the stressors sequentially one by one, each for 2 minutes and summarise with performance metrics at the end.\nstress-ng --sequential 2 --timeout 2m --metrics\n\n# run 4 FFT cpu stressors, stop after 10000 bogo operations and produce a summary just for the FFT results.\nstress-ng --cpu 4 --cpu-method fft --cpu-ops 10000 --metrics-brief\n\n# run cpu stressors on all online CPUs working through all the available CPU stressors for 1 hour, loading the CPUs at 90% load capacity.\nstress-ng --cpu -1 --cpu-method all -t 1h --cpu-load 90\n\n# run cpu stressors on all configured CPUs working through all the available CPU stressors for 20 minutes\nstress-ng --cpu 0 --cpu-method all -t 20m\n\n# run 4 instances of all the stressors for 5 minutes.\nstress-ng --all 4 --timeout 5m\n\n# run 64 stressors that are randomly chosen from all the available stressors.\nstress-ng --random 64\n\n# run 64 instances of all the different cpu stressors and verify that the computations are correct for 10 minutes with a bogo operations summary at the end.\nstress-ng --cpu 64 --cpu-method all --verify -t 10m --metrics-brief\n\n# run all the stressors one by one for 10 minutes, with the number of instances of each stressor matching the number of online CPUs.\nstress-ng --sequential -1 -t 10m\n\n# run all the stressors in the io class one by one for 5 minutes each, with 8 instances of each stressor running concurrently and show overall time utilisation statistics at  the  end  of  the run.\nstress-ng --sequential 8 --class io -t 5m --times\n\n# run all the stressors (1 instance of each per online CPU) simultaneously, maximize the settings (memory sizes, file allocations, etc.) and select the most demanding/aggressive options.\nstress-ng --all -1 --maximize --aggressive\n\n# run 32 randomly selected stressors and exclude the numa, hdd and key stressors\nstress-ng --random 32 -x numa,hdd,key\n\n# run 4 instances of the VM stressors one after each other, excluding the bigheap, brk and stack stressors\nstress-ng --sequential 4 --class vm --exclude bigheap,brk,stack\n\n# run 3 instances of the CPU stressor and pin them to CPUs 0, 2 and 3.\nstress-ng --taskset 0,2-3 --cpu 3\n")))),(0,l.kt)("p",null,"\u7531\u4e8e\u672c\u9644\u5f55\u53ea\u662f\u4f5c\u4e3a\u4e00\u4e2a\u5173\u4e8e cpu \u7684\u8865\u5145\u6d4b\u8bd5\uff0c\u6240\u4ee5\u6ca1\u6709\u9488\u5bf9 stress-ng \u8fd9\u4e2a\u5de5\u5177\u505a\u6df1\u5165\u7684\u63a2\u8ba8\uff0c\u60f3\u8981\u66f4\u6df1\u5165\uff0c\u4e0d\u9632\u53c2\u8003 ",(0,l.kt)("inlineCode",{parentName:"p"},"man stress-ng"),"\uff0c",(0,l.kt)("a",{parentName:"p",href:"https://wiki.ubuntu.com/Kernel/Reference/stress-ng"},"https://wiki.ubuntu.com/Kernel/Reference/stress-ng")," \u7b49\u76f8\u5173\u7684\u6587\u7ae0\u3002"))}d.isMDXComponent=!0},82585:function(t,e,n){e.Z=n.p+"assets/images/cpu 64-7cd5c89b10b74210601cc7569336ee88.png"},51024:function(t,e,n){e.Z=n.p+"assets/images/cpu full-30e7b0e5b21c44088a455c8a1bb9aa98.png"}}]);