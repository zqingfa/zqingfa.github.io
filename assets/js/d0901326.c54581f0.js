"use strict";(self.webpackChunkblog=self.webpackChunkblog||[]).push([[7777],{3905:function(t,e,n){n.d(e,{Zo:function(){return s},kt:function(){return d}});var r=n(67294);function a(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function o(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),n.push.apply(n,r)}return n}function l(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{};e%2?o(Object(n),!0).forEach((function(e){a(t,e,n[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):o(Object(n)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(n,e))}))}return t}function i(t,e){if(null==t)return{};var n,r,a=function(t,e){if(null==t)return{};var n,r,a={},o=Object.keys(t);for(r=0;r<o.length;r++)n=o[r],e.indexOf(n)>=0||(a[n]=t[n]);return a}(t,e);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(t);for(r=0;r<o.length;r++)n=o[r],e.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(t,n)&&(a[n]=t[n])}return a}var c=r.createContext({}),m=function(t){var e=r.useContext(c),n=e;return t&&(n="function"==typeof t?t(e):l(l({},e),t)),n},s=function(t){var e=m(t.components);return r.createElement(c.Provider,{value:e},t.children)},u={inlineCode:"code",wrapper:function(t){var e=t.children;return r.createElement(r.Fragment,{},e)}},p=r.forwardRef((function(t,e){var n=t.components,a=t.mdxType,o=t.originalType,c=t.parentName,s=i(t,["components","mdxType","originalType","parentName"]),p=m(n),d=a,b=p["".concat(c,".").concat(d)]||p[d]||u[d]||o;return n?r.createElement(b,l(l({ref:e},s),{},{components:n})):r.createElement(b,l({ref:e},s))}));function d(t,e){var n=arguments,a=e&&e.mdxType;if("string"==typeof t||a){var o=n.length,l=new Array(o);l[0]=p;var i={};for(var c in e)hasOwnProperty.call(e,c)&&(i[c]=e[c]);i.originalType=t,i.mdxType="string"==typeof t?t:a,l[1]=i;for(var m=2;m<o;m++)l[m]=n[m];return r.createElement.apply(null,l)}return r.createElement.apply(null,n)}p.displayName="MDXCreateElement"},93823:function(t,e,n){n.r(e),n.d(e,{assets:function(){return s},contentTitle:function(){return c},default:function(){return d},frontMatter:function(){return i},metadata:function(){return m},toc:function(){return u}});var r=n(83117),a=n(80102),o=(n(67294),n(3905)),l=["components"],i={id:"linux-primary-12",slug:"/linux-primary-12",title:"\u7b2c 12 \u7ae0 Linux \u5b9a\u65f6\u4efb\u52a1",authors:"zhangqf",keywords:["linux","Cron"]},c=void 0,m={unversionedId:"linux/primary/linux-primary-12",id:"linux/primary/linux-primary-12",title:"\u7b2c 12 \u7ae0 Linux \u5b9a\u65f6\u4efb\u52a1",description:"12.1\u3001\u914d\u7f6e crond \u5b9a\u65f6\u4efb\u52a1",source:"@site/docs/linux/primary/\u7b2c 12 \u7ae0 Linux \u5b9a\u65f6\u4efb\u52a1.md",sourceDirName:"linux/primary",slug:"/linux-primary-12",permalink:"/docs/linux-primary-12",draft:!1,tags:[],version:"current",frontMatter:{id:"linux-primary-12",slug:"/linux-primary-12",title:"\u7b2c 12 \u7ae0 Linux \u5b9a\u65f6\u4efb\u52a1",authors:"zhangqf",keywords:["linux","Cron"]},sidebar:"linux",previous:{title:"\u7b2c 11 \u7ae0 Linux \u670d\u52a1\u7ba1\u7406",permalink:"/docs/linux-primary-11"},next:{title:"\u7b2c 13 \u7ae0 Linux \u7f51\u7edc\u7ba1\u7406",permalink:"/docs/linux-primary-13"}},s={},u=[{value:"12.1\u3001\u914d\u7f6e crond \u5b9a\u65f6\u4efb\u52a1",id:"121\u914d\u7f6e-crond-\u5b9a\u65f6\u4efb\u52a1",level:2},{value:"12.1.1\u3001crontab file",id:"1211crontab-file",level:3},{value:"12.1.2\u3001crond \u547d\u4ee4\u8c03\u8bd5",id:"1212crond-\u547d\u4ee4\u8c03\u8bd5",level:3},{value:"12.2\u3001\u914d\u7f6e at \u5b9a\u65f6\u4efb\u52a1",id:"122\u914d\u7f6e-at-\u5b9a\u65f6\u4efb\u52a1",level:2},{value:"12.2.1\u3001atd \u670d\u52a1",id:"1221atd-\u670d\u52a1",level:3},{value:"12.2.2\u3001at \u8fd0\u884c\u65b9\u5f0f",id:"1222at-\u8fd0\u884c\u65b9\u5f0f",level:3},{value:"12.2.3\u3001\u4e3e\u4f8b\u8bf4\u660e",id:"1223\u4e3e\u4f8b\u8bf4\u660e",level:3}],p={toc:u};function d(t){var e=t.components,n=(0,a.Z)(t,l);return(0,o.kt)("wrapper",(0,r.Z)({},p,n,{components:e,mdxType:"MDXLayout"}),(0,o.kt)("h2",{id:"121\u914d\u7f6e-crond-\u5b9a\u65f6\u4efb\u52a1"},"12.1\u3001\u914d\u7f6e crond \u5b9a\u65f6\u4efb\u52a1"),(0,o.kt)("p",null,"\u5173\u4e8e\u5b9a\u65f6\u4efb\u52a1\uff0c\u9996\u5148\u9700\u5f04\u6e05\u7684\u6982\u5ff5\uff1a"),(0,o.kt)("ol",null,(0,o.kt)("li",{parentName:"ol"},"crond \u662f\u4e00\u4e2a daemon \u7c7b\u7a0b\u5e8f\uff0c\u8def\u5f84\u4e3a /usr/sbin/crond\u3002\u9ed8\u8ba4\u4f1a\u4ee5\u540e\u53f0\u65b9\u5f0f\u542f\u52a8\uff0cservice \u6216 systemd \u65b9\u5f0f\u542f\u52a8 crond \u9ed8\u8ba4\u4e5f\u662f\u540e\u53f0\u65b9\u5f0f\u7684\u3002"),(0,o.kt)("li",{parentName:"ol"},"crondtab \u662f\u7ba1\u7406 crontab file \u7684\u5de5\u5177\uff0c\u800c crontab file \u662f\u5b9a\u4e49\u5b9a\u65f6\u4efb\u52a1\u6761\u76ee\u7684\u6587\u4ef6\u3002"),(0,o.kt)("li",{parentName:"ol"},"crontab file \u5b58\u5728\u4e8e\u591a\u5904\uff0c\u5305\u62ec\u7cfb\u7edf\u5b9a\u65f6\u4efb\u52a1\u6587\u4ef6 /etc/crontab \u548c /etc/cron.d/","*","\uff0c\u8fd8\u6709\u72ec\u5c5e\u4e8e\u5404\u7528\u6237\u7684\u4efb\u52a1\u6587\u4ef6 /var/spool/cron/USERNAME\u3002")),(0,o.kt)("p",null,"\u518d\u5c31\u662f crontab \u547d\u4ee4\uff1a"),(0,o.kt)("pre",null,(0,o.kt)("code",{parentName:"pre",className:"language-bash"},"-l\uff1a\u5217\u51fa\u5b9a\u65f6\u4efb\u52a1\u6761\u76ee\n-r\uff1a\u5220\u9664\u5f53\u524d\u4efb\u52a1\u5217\u8868\u7ec8\u7aef\u6240\u6709\u4efb\u52a1\u6761\u76ee\n-i\uff1a\u5220\u9664\u6761\u76ee\u65f6\u63d0\u793a\u662f\u5426\u771f\u7684\u8981\u5220\u9664\n-e\uff1a\u7f16\u8f91\u5b9a\u65f6\u4efb\u52a1\u6587\u4ef6\uff0c\u5b9e\u9645\u4e0a\u7f16\u8f91\u7684\u662f/var/spool/cron/*\u6587\u4ef6\n-u\uff1a\u64cd\u4f5c\u6307\u5b9a\u7528\u6237\u7684\u5b9a\u65f6\u4efb\u52a1\n")),(0,o.kt)("p",null,"\u6267\u884c crontab -e \u547d\u4ee4\u7f16\u8f91\u5f53\u524d\u7528\u6237\u7684 crontab file\uff0c\u4f8b\u5982\u5f53\u524d\u4e3a root \u7528\u6237\uff0c\u5219\u7f16\u8f91\u7684\u662f /var/spool/cron/root \u6587\u4ef6\u3002\u4f8b\u5982\u5199\u5165\u4e0b\u9762\u8fd9\u4e00\u884c\u3002"),(0,o.kt)("blockquote",null,(0,o.kt)("p",{parentName:"blockquote"},"*"," ","*"," ","*"," ","*"," ","*",' /bin/echo "the first cron entry" >> /tmp/crond.txt')),(0,o.kt)("pre",null,(0,o.kt)("code",{parentName:"pre",className:"language-bash"},'[root@arm64v8 ~]# crontab -e\ncrontab: installing new crontab\n[root@arm64v8 ~]# \n[root@arm64v8 ~]# crontab -l\n* * * * * /bin/echo "the first cron entry"  >>/tmp/crond.txt\n[root@arm64v8 ~]# \n[root@arm64v8 ~]# cat /var/spool/cron/root \n* * * * * /bin/echo "the first cron entry"  >>/tmp/crond.txt\n[root@arm64v8 ~]#\n')),(0,o.kt)("p",null,"\u8fd9\u5c06\u4f1a\u6bcf\u5206\u949f\u6267\u884c\u4e00\u6b21 echo \u547d\u4ee4\uff0c\u5c06\u5185\u5bb9\u8ffd\u52a0\u5230 /tmp/crond.txt \u6587\u4ef6\u4e2d\u3002"),(0,o.kt)("p",null,"\u4efb\u52a1\u8ba1\u5212\u4e2d\u7684\u4efb\u52a1\u6761\u76ee\u5982\u4f55\u5b9a\u4e49\uff0c\u53ef\u4ee5\u67e5\u770b /etc/crontab \u6587\u4ef6\u3002"),(0,o.kt)("pre",null,(0,o.kt)("code",{parentName:"pre",className:"language-bash"},"[root@arm64v8 ~]# cat /etc/crontab \nSHELL=/bin/bash\nPATH=/sbin:/bin:/usr/sbin:/usr/bin\nMAILTO=root\n\n# For details see man 4 crontabs\n\n# Example of job definition:\n# .---------------- minute (0 - 59)\n# |  .------------- hour (0 - 23)\n# |  |  .---------- day of month (1 - 31)\n# |  |  |  .------- month (1 - 12) OR jan,feb,mar,apr ...\n# |  |  |  |  .---- day of week (0 - 6) (Sunday=0 or 7) OR sun,mon,tue,wed,thu,fri,sat\n# |  |  |  |  |\n# *  *  *  *  * user-name  command to be executed\n\n[root@arm64v8 ~]#\n")),(0,o.kt)("p",null,"\u5728\u6b64\u6587\u4ef6\u4e2d\u5b9a\u4e49\u4e86 3 \u4e2a\u53d8\u91cf\uff0c\u5176\u4e2d\u4e00\u4e2a\u662f PATH\uff0c\u8be5\u53d8\u91cf\u6781\u5176\u91cd\u8981\uff0c\u4efb\u52a1\u6267\u884c\u5931\u8d25 command not found \u5c31\u8ddf\u8fd9\u6709\u5173\u3002\u5728\u6700\u540e\u8fd8\u7ed9\u51fa\u4e86\u4efb\u52a1\u6761\u76ee\u7684\u5b9a\u4e49\u65b9\u5f0f\uff1a"),(0,o.kt)("ol",null,(0,o.kt)("li",{parentName:"ol"},"\u6bcf\u4e2a\u4efb\u52a1\u6761\u76ee\u5206\u4e3a 6 \u6bb5\uff0c\u6bcf\u6bb5\u4ee5\u7a7a\u683c\u5206\u9694\uff0c\u4e4b\u6240\u4ee5\u6b64\u5904\u591a\u4e86 user-name \u6bb5\u662f\u56e0\u4e3a /etc/crontab \u4e3a\u7cfb\u7edf\u5b9a\u65f6\u4efb\u52a1\u6587\u4ef6\uff0c\u800c\u4e00\u822c\u5b9a\u65f6\u4efb\u52a1\u662f\u6ca1\u6709\u8be5\u6bb5\u7684\u3002"),(0,o.kt)("li",{parentName:"ol"},'\u524d\u4e94\u6bb5\u4e3a\u65f6\u95f4\u7684\u8bbe\u5b9a\u6bb5\uff0c\u5206\u522b\u8868\u793a"\u5206\u65f6\u65e5\u6708\u5468"\uff0c\u5b83\u4eec\u7684\u5b9a\u4e49\u4e0d\u80fd\u8d85\u51fa\u5408\u7406\u503c\u8303\u56f4\uff0c\u7b2c\u516d\u6bb5\u4e3a\u6240\u8981\u6267\u884c\u7684\u547d\u4ee4\u6216\u811a\u672c\u4efb\u52a1\u6bb5\u3002'),(0,o.kt)("li",{parentName:"ol"},'\u5728\u65f6\u95f4\u5b9a\u4e49\u6bb5\u4e2d\uff0c\u4f7f\u7528 "',"*",'" \u8868\u793a\u6bcf\u5355\u4f4d\uff0c\u5373\u6bcf\u5206\u949f\uff0c\u6bcf\u5c0f\u65f6\uff0c\u6bcf\u5929\uff0c\u6bcf\u6708\uff0c\u6bcf\u5468\u51e0(\u4ecd\u7136\u662f\u6bcf\u5929)\u3002\u5b9e\u9645\u4e0a\uff0c\u6309 man \u6587\u6863\u4e2d\u89e3\u91ca\uff0c"',"*",'" \u8868\u793a\u7684\u662f\u4ece\u6bcf\u4e2a\u65f6\u95f4\u6bb5\u7684\u8d77\u59cb\u5230\u7ed3\u5c3e\uff0c\u4e5f\u5c31\u662f\u5168\u90e8\u65f6\u95f4\u5355\u4f4d\u7684\u610f\u601d\u3002\u4f8b\u5982\u5728\u5c0f\u65f6\u4e0a\u8bbe\u7f6e ',"*","\uff0c\u8868\u793a 0, 1, 2, 3 ... 22, 23 \u7684\u610f\u601d\u3002"),(0,o.kt)("li",{parentName:"ol"},'\u6bcf\u4e2a\u65f6\u95f4\u6bb5\u4e2d\uff0c\u90fd\u53ef\u4ee5\u4f7f\u7528\u9017\u53f7 "," \u6765\u8868\u793a\u679a\u4e3e\uff0c\u4f8b\u5982\u5b9a\u4e49 "0, 30, 50 ',"*"," ","*"," ","*"," ","*",'" \u8868\u793a\u6bcf\u4e2a\u65f6\u8fb0\u7684\u6574\u70b9\u3001\u7b2c 30 \u5206\u949f\u548c\u7b2c 50 \u5206\u949f\u90fd\u6267\u884c\u8be5\u4efb\u52a1\u3002'),(0,o.kt)("li",{parentName:"ol"},'\u6bcf\u4e2a\u65f6\u95f4\u6bb5\u4e2d\uff0c\u90fd\u53ef\u4ee5\u4f7f\u7528 "-" \u5b9a\u4e49\u8303\u56f4\uff0c\u53ef\u4ee5\u7ed3\u5408\u9017\u53f7\u4f7f\u7528\u3002\u5982\u5206\u949f\u6bb5\u5b9a\u4e49\u4e86 "00, 20-30, 50" \u8868\u793a\u6bcf\u4e2a\u65f6\u8fb0\u7684\u6574\u70b9\u3001\u7b2c 20 \u5230 30 \u5206\u949f\u7684\u6bcf\u5206\u949f\u3001\u7b2c 50 \u5206\u949f\u90fd\u6267\u884c\u8be5\u4efb\u52a1\u3002'),(0,o.kt)("li",{parentName:"ol"},'\u6bcf\u4e2a\u65f6\u95f4\u6bb5\u4e2d\uff0c\u4f7f\u7528 "/" \u8868\u793a\u5ffd\u7565\u65f6\u95f4\uff0c\u5982\u5728\u5c0f\u65f6\u6bb5\u5b9a\u4e49\u4e86 "0-13/2" \u8868\u793a\u5728 "0/2/4/6/8/10/12" \u70b9\u624d\u6ee1\u8db3\u65f6\u95f4\u5b9a\u4e49\u3002\u5e38\u4f7f\u7528 "',"*",'/N" \u8868\u793a\u6bcf\u9694\u591a\u4e45\u7684\u610f\u601d\u3002\u4f8b\u5982 "00 ',(0,o.kt)("em",{parentName:"li"},"/2"),' " \u8868\u793a\u5728\u6bcf\u5929\u6bcf\u9694\u4e24\u5c0f\u65f6\u7684\u6574\u70b9\u6267\u884c\u8be5\u4efb\u52a1(\u4e25\u683c\u5730\u8bf4\u662f 0-23/2\uff0c\u4e5f\u5c31\u662f 0,2,4,...,22\uff0c\u6240\u4ee5\u51cc\u6668 1 \u70b9\u4e0d\u4f1a\u6267\u884c\u4efb\u52a1)\u3002'),(0,o.kt)("li",{parentName:"ol"},"\u5982\u679c\u5b9a\u4e49\u7684\u65e5\u548c\u5468\u51b2\u7a81\u4e86\uff0c\u5219\u4f1a\u591a\u6b21\u6267\u884c(\u4e0d\u5305\u62ec\u56e0\u4e3a ","*"," \u53f7\u5bfc\u81f4\u7684\u51b2\u7a81)\u3002\u4f8b\u5982\u6bcf\u6708\u7684 15 \u53f7\u6267\u884c\u8be5\u4efb\u52a1\uff0c\u540c\u65f6\u53c8\u5b9a\u4e49\u4e86\u5468\u4e09\u6267\u884c\u8be5\u4efb\u52a1\uff0c\u6b63\u5e38\u65e0\u51b2\u7a81\u60c5\u51b5\u4e0b\uff0c\u5c06\u5728\u5468\u4e09\u548c\u6bcf\u6708 15 \u53f7\u6267\u884c\uff0c\u4f46\u5982\u679c\u67d0\u6708\u7684 15 \u53f7\u540c\u65f6\u662f\u5468\u4e09\uff0c\u5219\u8be5\u4efb\u52a1\u5728\u6b64\u65e5\u6267\u884c\u4e24\u6b21\u3002\u56e0\u6b64\uff0c\u5e94\u8be5\u5c3d\u529b\u907f\u514d\u540c\u65f6\u5b9a\u4e49\u5468\u548c\u65e5\u7684\u4efb\u52a1\u3002"),(0,o.kt)("li",{parentName:"ol"},'\u547d\u4ee4\u6bb5(\u5373\u7b2c 6 \u6bb5) \u4e2d\uff0c\u4e0d\u80fd\u968f\u610f\u51fa\u73b0\u767e\u5206\u53f7 "%"\uff0c\u56e0\u4e3a\u5b83\u8868\u793a\u6362\u884c\u7684\u7279\u6b8a\u610f\u4e49\uff0c\u4e14\u7b2c\u4e00\u4e2a % \u540e\u7684\u6240\u6709\u5b57\u7b26\u4e32\u5c06\u5f53\u4f5c\u547d\u4ee4\u7684\u6807\u51c6\u8f93\u5165\u3002')),(0,o.kt)("blockquote",null,(0,o.kt)("p",{parentName:"blockquote"},"\u6bd4\u5982\uff1a","*"," ","*"," ","*"," ","*"," ","*",' /bin/cat >> /tmp/crond.txt %"the first %%cron entry%"')),(0,o.kt)("pre",null,(0,o.kt)("code",{parentName:"pre",className:"language-bash"},'[root@arm64v8 ~]# crontab -e\ncrontab: installing new crontab\n[root@arm64v8 ~]# \n[root@arm64v8 ~]# crontab -l\n* * * * * /bin/cat >> /tmp/crond.txt %"the second %%cron entry%"\n[root@arm64v8 ~]# \n')),(0,o.kt)("p",null,"\u8be5\u4efb\u52a1\u8f93\u51fa\u7684\u7ed3\u679c\u5c06\u662f\uff1a"),(0,o.kt)("pre",null,(0,o.kt)("code",{parentName:"pre",className:"language-bash"},'[root@arm64v8 ~]# cat /tmp/crond.txt \n"the second \n\ncron entry\n"\n')),(0,o.kt)("p",null,"\u6240\u4ee5\uff0c\u5728\u5b9a\u65f6\u4efb\u52a1\u6761\u76ee\u4e2d\u82e5\u4ee5\u65f6\u95f4\u5b9a\u4e49\u6587\u4ef6\u540d\u65f6\uff0c\u5e94\u5f53\u5c06 % \u4f7f\u7528\u53cd\u659c\u6760\u8f6c\u4e49\u3002\u5982\uff1a"),(0,o.kt)("pre",null,(0,o.kt)("code",{parentName:"pre",className:"language-bash"},"* * * * * cp /etc/fstab /tmp/`date +\\%Y-\\%m-\\%d`.txt\n")),(0,o.kt)("p",null,(0,o.kt)("em",{parentName:"p"},"\u6ce8\u610f\uff1a\u4f7f\u7528 ","*",' \u53f7\u95ee\u9898\u3002\u4f8b\u5982 "',"*"," ","*","/2 ","*"," ","*"," ","*",'"\uff0c\u5b83\u8868\u793a\u6bcf\u9694\u4e24\u5c0f\u65f6\u540e\u7684\u6bcf\u4e00\u5206\u949f\u90fd\u6267\u884c\u4efb\u52a1\uff0c\u4e5f\u5c31\u662f\u51cc\u6668 0 \u70b9\u7684\u6bcf\u5206\u949f\u6267\u884c\u4efb\u52a1\uff0c\u51cc\u6668 1 \u70b9\u4e0d\u6267\u884c\u4efb\u52a1\uff0c\u51cc\u6668 2 \u70b9\u7684\u6bcf\u5206\u949f\u6267\u884c\u4efb\u52a1\uff0c\u51cc\u6668 4 \u70b9\u7684\u6bcf\u5206\u949f\u6267\u884c\u4efb\u52a1\uff0c\u4f9d\u6b64\u7c7b\u63a8\u3002\u540c\u7406\uff0c"',"*","/5 ","*","/2 ","*"," ","*"," ","*",'" \u8868\u793a\u6bcf\u9694 2 \u5c0f\u65f6\u540e\u7684\u6bcf 5 \u5206\u949f\u6267\u884c\u4e00\u6b21\u4efb\u52a1\u3002')),(0,o.kt)("h3",{id:"1211crontab-file"},"12.1.1\u3001crontab file"),(0,o.kt)("p",null,"crontab file \u4e3a\u4efb\u52a1\u5b9a\u4e49\u6587\u4ef6\u3002"),(0,o.kt)("ol",null,(0,o.kt)("li",{parentName:"ol"},"\u5728\u6b64\u6587\u4ef6\u4e2d\uff0c\u7a7a\u884c\u4f1a\u88ab\u5ffd\u7565\uff0c\u9996\u4e2a\u975e\u7a7a\u767d\u5b57\u7b26\u4e14\u4ee5 # \u5f00\u5934\u7684\u884c\u4e3a\u6ce8\u91ca\u884c\uff0c\u4f46 # \u4e0d\u80fd\u51fa\u73b0\u5728\u884c\u4e2d\u3002"),(0,o.kt)("li",{parentName:"ol"},'\u53ef\u4ee5\u5728 crontab file \u4e2d\u8bbe\u7f6e\u73af\u5883\u53d8\u91cf\uff0c\u65b9\u5f0f\u4e3a "name=value"\uff0c\u7b49\u53f7\u4e24\u8fb9\u7684\u7a7a\u683c\u53ef\u968f\u610f\uff0c\u5373 "name = value" \u4e5f\u662f\u5141\u8bb8\u7684\u3002\u4f46 value \u4e2d\u51fa\u73b0\u7684\u7a7a\u683c\u5fc5\u987b\u4f7f\u7528\u5f15\u53f7\u5305\u56f4\u3002'),(0,o.kt)("li",{parentName:"ol"},"\u9ed8\u8ba4 crond \u547d\u4ee4\u542f\u52a8\u7684\u65f6\u5019\u4f1a\u521d\u59cb\u5316\u6240\u6709\u53d8\u91cf\uff0c\u9664\u4e86\u67d0\u51e0\u4e2a\u53d8\u91cf\u4f1a\u88ab crond daemon \u81ea\u52a8\u8bbe\u7f6e\u597d\uff0c\u5176\u4ed6\u6240\u6709\u53d8\u91cf\u90fd\u88ab\u8bbe\u7f6e\u4e3a\u7a7a\u503c\u3002\u81ea\u52a8\u8bbe\u7f6e\u7684\u53d8\u91cf\u5305\u62ec SHELL=/bin/sh\uff0c\u4ee5\u53ca HOME \u548c LOGNAME(\u5728 CentOS \u4e0a\u5219\u79f0\u4e3a USER)\uff0c\u540e\u4e24\u8005\u5c06\u88ab\u9ed8\u8ba4\u8bbe\u7f6e\u4e3a /etc/passwd \u4e2d\u6307\u5b9a\u7684\u503c\u3002\u5176\u4e2d SHELL \u548c HOME \u53ef\u4ee5\u88ab crontab file \u4e2d\u81ea\u5b9a\u4e49\u7684\u53d8\u91cf\u8986\u76d6\uff0c\u4f46 LOGNAME \u4e0d\u5141\u8bb8\u8986\u76d6\u3002\u5f53\u7136\uff0c\u81ea\u884c\u5b9a\u4e49\u7684\u53d8\u91cf\u4e5f\u4f1a\u88ab\u52a0\u8f7d\u5230\u5185\u5b58\u3002"),(0,o.kt)("li",{parentName:"ol"},'\u9664\u4e86 LOGNAME/HOME/SHELL \u53d8\u91cf\u4e4b\u5916\uff0c\u5982\u679c\u8bbe\u7f6e\u4e86\u53d1\u9001\u90ae\u4ef6\uff0c\u5219 crond \u8fd8\u4f1a\u5bfb\u627e MAILTO \u53d8\u91cf\u3002\u5982\u679c\u8bbe\u7f6e\u4e86 MAILTO\uff0c\u5219\u90ae\u4ef6\u5c06\u53d1\u9001\u7ed9\u6b64\u53d8\u91cf\u6307\u5b9a\u7684\u5730\u5740\uff0c\u5982\u679c MAILTO \u5b9a\u4e49\u7684\u503c\u4e3a\u7a7a(MAILTO="")\uff0c\u5c06\u4e0d\u53d1\u9001\u90ae\u4ef6\uff0c\u5176\u4ed6\u6240\u6709\u60c5\u51b5\u90ae\u4ef6\u90fd\u4f1a\u53d1\u9001\u7ed9 crontab file \u7684\u6240\u6709\u8005\u3002'),(0,o.kt)("li",{parentName:"ol"},"\u5728\u7cfb\u7edf\u5b9a\u65f6\u4efb\u52a1\u6587\u4ef6 /etc/crontab \u4e2d\uff0c\u9ed8\u8ba4\u5df2\u5b9a\u4e49 PATH \u73af\u5883\u53d8\u91cf\u548c SHELL \u73af\u5883\u53d8\u91cf\uff0c\u5176\u4e2d PATH=/sbin:/bin:/usr/sbin:/usr/bin\u3002"),(0,o.kt)("li",{parentName:"ol"},"crond daemon \u6bcf\u5206\u949f\u68c0\u6d4b\u4e00\u6b21 crontab file \u770b\u662f\u5426\u6709\u4efb\u52a1\u8ba1\u5212\u6761\u76ee\u9700\u8981\u6267\u884c\u3002")),(0,o.kt)("h3",{id:"1212crond-\u547d\u4ee4\u8c03\u8bd5"},"12.1.2\u3001crond \u547d\u4ee4\u8c03\u8bd5"),(0,o.kt)("p",null,"\u5f88\u591a\u65f6\u5019\u5199\u4e86\u5b9a\u65f6\u4efb\u52a1\u5374\u53d1\u73b0\u6ca1\u6709\u6267\u884c\uff0c\u6216\u8005\u6267\u884c\u5931\u8d25\uff0c\u4f46\u56e0\u4e3a crond \u662f\u540e\u53f0\u8fd0\u884c\u7684\uff0c\u53c8\u6ca1\u6709\u4efb\u4f55\u63d0\u793a\uff0c\u5f88\u96be\u8fdb\u884c\u6392\u9519\u3002\u4f46\u662f\u53ef\u4ee5\u8ba9 crond \u8fd0\u884c\u5728\u524d\u7aef\u5e76\u8fdb\u884c\u8c03\u8bd5\u7684\u3002"),(0,o.kt)("p",null,"\u5148\u8bf4\u660e\u4e0b\u4efb\u52a1\u8ba1\u5212\u7a0b\u5e8f crond \u7684\u9ed8\u8ba4\u6267\u884c\u65b9\u5f0f\u3002"),(0,o.kt)("p",null,"\u4f7f\u7528\u4e0b\u9762\u4e09\u6761\u547d\u4ee4\u542f\u52a8\u7684 crond \u90fd\u662f\u5728\u540e\u53f0\u8fd0\u884c\u7684\uff0c\u4e14\u90fd\u4e0d\u4f9d\u8d56\u4e8e\u7ec8\u7aef\u3002"),(0,o.kt)("pre",null,(0,o.kt)("code",{parentName:"pre",className:"language-bash"},"[root@arm64v8 ~]# systemctl start crond.service         # systemctl \u542f\u52a8 crond\n[root@arm64v8 ~]# service crond start                   # \u91cd\u5b9a\u5411\u4f7f\u7528 systemctl \u542f\u52a8 crond\nRedirecting to /bin/systemctl start crond.service\n[root@arm64v8 ~]# \n[root@arm64v8 ~]# crond                                 # \u5df2\u542f\u52a8 crond\uff0c\u518d\u542f\u52a8\u62a5\u9519\ncrond: can't lock /var/run/crond.pid, otherpid may be 780: Resource temporarily unavailable\n[root@arm64v8 ~]#\n")),(0,o.kt)("p",null,"\u4f46 crond \u662f\u5141\u8bb8\u63a5\u53d7\u9009\u9879\u7684\uff1a"),(0,o.kt)("pre",null,(0,o.kt)("code",{parentName:"pre",className:"language-bash"},'crond [-n] [-P] [-x flags]\n\u9009\u9879\u8bf4\u660e\uff1a\n-n\uff1a\u8ba9crond\u4ee5\u524d\u7aef\u65b9\u5f0f\u8fd0\u884c\uff0c\u5373\u4e0d\u4f9d\u8d56\u4e8e\u7ec8\u7aef\u3002\n-P\uff1a\u4e0d\u91cd\u8bbe\u73af\u5883\u53d8\u91cfPATH\uff0c\u800c\u662f\u4ece\u7236\u8fdb\u7a0b\u4e2d\u7ee7\u627f\u3002\n-x\uff1a\u8bbe\u7f6e\u8c03\u8bd5\u9879\uff0cflags\u662f\u8c03\u8bd5\u65b9\u5f0f\uff0c\u6bd4\u8f83\u6709\u7528\u7684\u65b9\u5f0f\u662ftest\u548csch\uff0c\u5373"-x test"\u548c"-x sch"\u3002\n  \uff1a\u5176\u4e2dtest\u8c03\u8bd5\u5c06\u4e0d\u4f1a\u771f\u6b63\u7684\u6267\u884c\uff0csch\u8c03\u8bd5\u663e\u793a\u8c03\u5ea6\u4fe1\u606f\uff0c\u53ef\u4ee5\u770b\u5230\u7b49\u5f85\u65f6\u95f4\u3002\u5177\u4f53\u7684\u89c1\u4e0b\u9762\u7684\u793a\u4f8b\u3002\n')),(0,o.kt)("p",null,"\u5148\u770b\u770b\u542f\u52a8\u811a\u672c\u542f\u52a8 crond \u7684\u65b9\u5f0f\u3002"),(0,o.kt)("pre",null,(0,o.kt)("code",{parentName:"pre",className:"language-bash"},"[root@arm64v8 ~]# cat /lib/systemd/system/crond.service \n[Unit]\nDescription=Command Scheduler\nAfter=auditd.service systemd-user-sessions.service time-sync.target\n\n[Service]\nEnvironmentFile=/etc/sysconfig/crond\nExecStart=/usr/sbin/crond -n $CRONDARGS\nExecReload=/bin/kill -HUP $MAINPID\nKillMode=process\n\n[Install]\nWantedBy=multi-user.target\n\n[root@arm64v8 ~]#\n")),(0,o.kt)("p",null,"\u5b83\u7684\u73af\u5883\u914d\u7f6e\u6587\u4ef6\u4e3a /etc/sysconfig/crond\uff0c\u8be5\u6587\u4ef6\u4e2d\u4ec0\u4e48\u4e5f\u6ca1\u8bbe\u7f6e\u3002"),(0,o.kt)("pre",null,(0,o.kt)("code",{parentName:"pre",className:"language-bash"},"[root@arm64v8 ~]# cat /etc/sysconfig/crond \n# Settings for the CRON daemon.\n# CRONDARGS= :  any extra command-line startup arguments for crond\nCRONDARGS=\n[root@arm64v8 ~]#\n")),(0,o.kt)("p",null,'\u6240\u6709\u5b83\u7684\u542f\u52a8\u547d\u4ee4\u4e3a\uff1a/usr/sbin/crond -n\u3002\u4f46\u5c3d\u7ba1\u6b64\u5904\u52a0\u4e86 "-n" \u9009\u9879\uff0ccrond \u4e5f\u4e0d\u4f1a\u524d\u7aef\u8fd0\u884c\uff0c\u4e14\u4e0d\u4f1a\u4f9d\u8d56\u4e8e\u7ec8\u7aef\uff0c\u8fd9\u662f systemctl \u51b3\u5b9a\u7684\u3002'),(0,o.kt)("p",null,"\u518d\u89e3\u91ca\u4e0b\u5982\u4f55\u8fdb\u884c\u8c03\u8bd5\u3002\u4ee5\u4e0b\u9762\u7684\u4efb\u52a1\u6761\u76ee\u4e3a\u4f8b\u3002"),(0,o.kt)("pre",null,(0,o.kt)("code",{parentName:"pre",className:"language-bash"},'[root@arm64v8 ~]# crontab -l\n* * * * * echo "hello world" >> /tmp/hello.txt\n[root@arm64v8 ~]#\n')),(0,o.kt)("p",null,"\u6267\u884c crond \u5e76\u5e26\u4e0a\u8c03\u8bd5\u9009\u9879 test\u3002"),(0,o.kt)("pre",null,(0,o.kt)("code",{parentName:"pre",className:"language-bash"},'[root@arm64v8 ~]# crond -x test\ndebug flags enabled: test\n[19547] cron started\nlog_it: (CRON 19547) INFO (RANDOM_DELAY will be scaled with factor 28% if used.)\nlog_it: (CRON 19547) INFO (running with inotify support)\nlog_it: (CRON 19547) INFO (@reboot jobs will be run at computer\'s startup.)\nlog_it: (root 19551) CMD (echo "hello world" >> /tmp/hello.txt)\n')),(0,o.kt)("p",null,"\u6267\u884c crond \u5e76\u5e26\u4e0a\u8c03\u8bd5\u9009\u9879 sch\u3002"),(0,o.kt)("pre",null,(0,o.kt)("code",{parentName:"pre",className:"language-bash"},'[root@arm64v8 ~]# crond -x sch\ndebug flags enabled: sch\n[19559] cron started\nlog_it: (CRON 19559) INFO (RANDOM_DELAY will be scaled with factor 8% if used.)\nlog_it: (CRON 19559) INFO (running with inotify support)\n[19559] GMToff=28800\nlog_it: (CRON 19559) INFO (@reboot jobs will be run at computer\'s startup.)\n[19559] Target time=1628343840, sec-to-wait=7   # \u7b49\u5f85crond daemon\u4e0b\u4e00\u6b21\u7684\u68c0\u6d4b\uff0c\u6240\u4ee5\u8868\u793a7\u79d2\u540ecrond\u5c06\u68c0\u6d4bcrontab file\nuser [root:0:0:...] cmd="echo "hello world" >> /tmp/hello.txt"\nMinute-ly job. Recording time 1628315041\n[19559] Target time=1628343900, sec-to-wait=60\nlog_it: (root 19562) CMD (echo "hello world" >> /tmp/hello.txt)\n')),(0,o.kt)("p",null,"\u4f46\u8981\u6ce8\u610f\uff0c\u5728 sch \u8c03\u8bd5\u7ed3\u679c\u4e2d\u7684\u7b49\u5f85\u65f6\u95f4\u662f crond \u8fd9\u4e2a daemon \u7684\u68c0\u6d4b\u65f6\u95f4\uff0c\u6240\u4ee5\u5b83\u8868\u793a\u7b49\u5f85\u4e0b\u4e00\u6b21\u68c0\u6d4b\u7684\u65f6\u95f4\uff0c\u56e0\u6b64\u9664\u4e86\u7b2c\u4e00\u6b21\uff0c\u4e4b\u540e\u6bcf\u6b21\u90fd\u662f 60 \u79d2\uff0c\u56e0\u4e3a\u9ed8\u8ba4 crond \u662f\u6bcf\u5206\u949f\u68c0\u6d4b\u4e00\u6b21 crontab file \u7684\u3002"),(0,o.kt)("p",null,"\u4f8b\u5982\uff0c\u4e0b\u9762\u662f\u67d0\u6b21\u7684\u7b49\u5f85\u7ed3\u679c\uff0c\u5728\u8fd9\u51e0\u6b21\u7b49\u5f85\u68c0\u6d4b\u8fc7\u7a0b\u4e2d\u6ca1\u6709\u6267\u884c\u4efb\u4f55\u4efb\u52a1\u3002"),(0,o.kt)("pre",null,(0,o.kt)("code",{parentName:"pre",className:"language-bash"},"[19567] Target time=1628344380, sec-to-wait=2\n[19567] Target time=1628344440, sec-to-wait=60\n[19567] Target time=1628344500, sec-to-wait=60\n")),(0,o.kt)("p",null,"\u8fd8\u53ef\u4ee5\u540c\u65f6\u5e26\u591a\u4e2a\u8c03\u8bd5\u65b9\u5f0f\uff0c\u5982\uff1a"),(0,o.kt)("pre",null,(0,o.kt)("code",{parentName:"pre",className:"language-bash"},'[root@arm64v8 ~]# crond -x sch,test\ndebug flags enabled: sch test\n[19576] cron started\nlog_it: (CRON 19576) INFO (RANDOM_DELAY will be scaled with factor 32% if used.)\nlog_it: (CRON 19576) INFO (running with inotify support)\n[19576] GMToff=28800\nlog_it: (CRON 19576) INFO (@reboot jobs will be run at computer\'s startup.)\n[19576] Target time=1628344500, sec-to-wait=6\nuser [root:0:0:...] cmd="echo "hello world" >> /tmp/hello.txt"\nMinute-ly job. Recording time 1628315701\n[19576] Target time=1628344560, sec-to-wait=60\nlog_it: (root 19579) CMD (echo "hello world" >> /tmp/hello.txt)\nuser [root:0:0:...] cmd="echo "hello world" >> /tmp/hello.txt"\n[19576] Target time=1628344620, sec-to-wait=60\nMinute-ly job. Recording time 1628315761\nlog_it: (root 19587) CMD (echo "hello world" >> /tmp/hello.txt)\nuser [root:0:0:...] cmd="echo "hello world" >> /tmp/hello.txt"\nMinute-ly job. Recording time 1628315821\n[19576] Target time=1628344680, sec-to-wait=60\n')),(0,o.kt)("p",null,"\u8fd9\u6837\u5728\u8c03\u8bd5\u5b9a\u65f6\u4efb\u52a1\u65f6\u95f4\u65f6\uff0c\u4e5f\u4e0d\u4f1a\u771f\u6b63\u6267\u884c\u547d\u4ee4\u3002"),(0,o.kt)("h2",{id:"122\u914d\u7f6e-at-\u5b9a\u65f6\u4efb\u52a1"},"12.2\u3001\u914d\u7f6e at \u5b9a\u65f6\u4efb\u52a1"),(0,o.kt)("p",null,"at \u5957\u4ef6\u547d\u4ee4\u8bed\u6cd5\uff1a"),(0,o.kt)("pre",null,(0,o.kt)("code",{parentName:"pre",className:"language-bash"},"at [-V] [-q queue] [-f file] [-mMlv] timespec...\nat [-V] [-q queue] [-f file] [-mMkv] [-t time]\nat -c job [job...]\natq [-V] [-q queue]\nat [-rd] job [job...]\natrm [-V] job [job...]\nbatch\nat -b\n\n-m:      \u5f53\u6307\u5b9a\u7684\u4efb\u52a1\u88ab\u5b8c\u6210\u4e4b\u540e\uff0c\u5c06\u7ed9\u7528\u6237\u53d1\u9001\u90ae\u4ef6\uff0c\u5373\u4f7f\u6ca1\u6709\u6807\u51c6\u8f93\u51fa\n-I:      atq\u7684\u522b\u540d\n-d:      atrm\u7684\u522b\u540d\n-v:      \u663e\u793a\u4efb\u52a1\u5c06\u88ab\u6267\u884c\u7684\u65f6\u95f4\n-c:      \u6253\u5370\u4efb\u52a1\u7684\u5185\u5bb9\u5230\u6807\u51c6\u8f93\u51fa\n-V:      \u663e\u793a\u7248\u672c\u4fe1\u606f\n-q<\u5217\u961f>:   \u4f7f\u7528\u6307\u5b9a\u7684\u5217\u961f\n-f<\u6587\u4ef6>:   \u4ece\u6307\u5b9a\u6587\u4ef6\u8bfb\u5165\u4efb\u52a1\u800c\u4e0d\u662f\u4ece\u6807\u51c6\u8f93\u5165\u8bfb\u5165\n-t<\u65f6\u95f4>:   \u4ee5\u65f6\u95f4\u53c2\u6570\u7684\u5f62\u5f0f\u63d0\u4ea4\u8981\u8fd0\u884c\u7684\u4efb\u52a1\n")),(0,o.kt)("ul",null,(0,o.kt)("li",{parentName:"ul"},"at and batch\uff1a\u4ece\u6807\u51c6\u8f93\u5165\u8bfb\u53d6\u547d\u4ee4\u6216\u8005\u4f7f\u7528\u9ed8\u8ba4 /bin/sh \u8bfb\u53d6\u811a\u672c\u6587\u4ef6\uff0c\u5728\u6307\u5b9a\u65f6\u523b\u6b63\u5f0f\u6267\u884c\u3002",(0,o.kt)("ul",{parentName:"li"},(0,o.kt)("li",{parentName:"ul"},"at\uff1a\u5728\u6307\u5b9a\u7684\u65f6\u95f4\u6267\u884c\u547d\u4ee4\u3002"),(0,o.kt)("li",{parentName:"ul"},"batch\uff1a\u5728\u7cfb\u7edf\u8d1f\u8f7d\u5141\u8bb8\u7684\u60c5\u51b5\u4e0b\u6267\u884c\u547d\u4ee4\uff0c\u4e00\u822c\u662f\u7cfb\u7edf\u8d1f\u8f7d\u5c0f\u4e8e 0.8 \u6216\u8005 atd \u6307\u5b9a\u7684\u503c\u3002"))),(0,o.kt)("li",{parentName:"ul"},"atq\uff1a\u5982\u679c\u662f root \u7528\u6237\uff0c\u5217\u51fa\u6240\u6709\u7528\u6237\u7684\u5f85\u6267\u884c jobs\uff0c\u8f93\u51fa\u683c\u5f0f\uff1aJob number, date, hour, queue, and username\u3002"),(0,o.kt)("li",{parentName:"ul"},"atrm\uff1a\u5220\u9664 jobs\uff0c\u901a\u8fc7 job number \u6807\u8bc6\u3002")),(0,o.kt)("p",null,(0,o.kt)("inlineCode",{parentName:"p"},"at")," \u5141\u8bb8\u4f7f\u7528\u4e00\u5957\u76f8\u5f53\u590d\u6742\u7684\u6307\u5b9a\u65f6\u95f4\u7684\u65b9\u6cd5\u3002"),(0,o.kt)("ul",null,(0,o.kt)("li",{parentName:"ul"},"hh:mm(\u5c0f\u65f6:\u5206\u949f)\uff1a\u5f53\u5929\u6267\u884c\uff0c\u65f6\u95f4\u8fc7\u4e86\uff0c\u7b2c\u4e8c\u5929\u6267\u884c\u3002"),(0,o.kt)("li",{parentName:"ul"},"midnight\uff0cnoon\uff0cor teatime (4pm)\uff1a\u6a21\u7cca\u6307\u5b9a\u65f6\u95f4\u3002"),(0,o.kt)("li",{parentName:"ul"},"AM or PM\uff1a\u901a\u8fc7 12 \u5c0f\u65f6\u5236\u6307\u5b9a\u65f6\u95f4\u3002"),(0,o.kt)("li",{parentName:"ul"},"MMDD","[","CC","]","YY, MM/DD/","[","CC","]","YY, DD.MM.","[","CC","]","YY or ","[","CC","]","YY-MM-DD\uff1a\u5e38\u89c4\u7684\u5e74\u6708\u65e5\u8868\u793a\u65b9\u5f0f\u6307\u5b9a\u65f6\u95f4\u3002"),(0,o.kt)("li",{parentName:"ul"},"now + count time-units\uff1anow \u5c31\u662f\u5f53\u524d\u65f6\u95f4\uff0ctime-units \u662f\u65f6\u95f4\u5355\u4f4d\uff0c\u8fd9\u91cc\u80fd\u591f\u662f minutes(\u5206\u949f)\u3001hours(\u5c0f\u65f6)\u3001days(\u5929)\u3001weeks(\u661f\u671f)\u3002count \u662f\u65f6\u95f4\u7684\u6570\u91cf\uff0c\u7a76\u7adf\u662f\u51e0\u5929\uff0c\u8fd8\u662f\u51e0\u5c0f\u65f6\uff0c\u7b49\u7b49\u3002"),(0,o.kt)("li",{parentName:"ul"},"today\uff0ctomorrow\uff1a\u6a21\u7cca\u6307\u5b9a\u65f6\u95f4\u3002")),(0,o.kt)("h3",{id:"1221atd-\u670d\u52a1"},"12.2.1\u3001atd \u670d\u52a1"),(0,o.kt)("p",null,"\u9ed8\u8ba4 CentOS Linux release 7.5.1804 (AltArch) \u6ca1\u6709\u5b89\u88c5 at \u7684\u4e8c\u8fdb\u5236\u5305\uff0c\u9700\u8981\u624b\u52a8\u5b89\u88c5"),(0,o.kt)("pre",null,(0,o.kt)("code",{parentName:"pre",className:"language-bash"},"[root@arm64v8 ~]# yum install at -y\nLoaded plugins: fastestmirror\nLoading mirror speeds from cached hostfile\nPackage at-3.1.13-24.el7.aarch64 already installed and latest version\nNothing to do\n[root@arm64v8 ~]#\n")),(0,o.kt)("p",null,"\u5982\u679c\u5b9a\u5236\u4e86 at \u8ba1\u5212\u4efb\u52a1\uff0c\u60f3\u8981\u4f7f\u5176\u751f\u6548\uff0c\u5fc5\u987b\u5f00\u542f atd \u670d\u52a1"),(0,o.kt)("pre",null,(0,o.kt)("code",{parentName:"pre",className:"language-bash"},"[root@arm64v8 ~]# systemctl start atd\n[root@arm64v8 ~]# systemctl status atd\n\u25cf atd.service - Job spooling tools\n   Loaded: loaded (/usr/lib/systemd/system/atd.service; enabled; vendor preset: enabled)\n   Active: active (running) since Sat 2021-08-07 14:34:24 CST; 56min ago\n Main PID: 19770 (atd)\n   CGroup: /system.slice/atd.service\n           \u2514\u250019770 /usr/sbin/atd -f\n\nAug 07 14:34:24 arm64v8 systemd[1]: Started Job spooling tools.\n[root@arm64v8 ~]#\n[root@arm64v8 ~]# systemctl enable atd\n")),(0,o.kt)("h3",{id:"1222at-\u8fd0\u884c\u65b9\u5f0f"},"12.2.2\u3001at \u8fd0\u884c\u65b9\u5f0f"),(0,o.kt)("p",null,"at \u65e2\u7136\u662f\u8ba1\u5212\u4efb\u52a1\uff0c\u90a3\u4e48\u5e94\u8be5\u4f1a\u6709\u4efb\u52a1\u6267\u884c\u7684\u65b9\u5f0f\uff0c\u5e76\u4e14\u5c06\u8fd9\u4e9b\u4efb\u52a1\u6392\u8fdb\u884c\u7a0b\u8868\u4e2d\u3002\u90a3\u4e48\u4ea7\u751f\u8ba1\u5212\u4efb\u52a1\u7684\u65b9\u5f0f\u662f\u600e\u4e48\u8fdb\u884c\u7684\uff1f"),(0,o.kt)("ul",null,(0,o.kt)("li",{parentName:"ul"},"\u4e8b\u5b9e\u4e0a\uff0c\u6211\u4eec\u4f7f\u7528 at \u8fd9\u4e2a\u547d\u4ee4\u6765\u4ea7\u751f\u6240\u8981\u8fd0\u884c\u7684\u8ba1\u5212\u4efb\u52a1\uff0c\u5e76\u5c06\u8fd9\u4e2a\u8ba1\u5212\u4efb\u52a1\u4ee5\u6587\u5b57\u6863\u7684\u65b9\u5f0f\u5199\u5165 ",(0,o.kt)("inlineCode",{parentName:"li"},"/var/spool/at/")," \u76ee\u5f55\u5185\uff0c\u8be5\u4efb\u52a1\u4fbf\u80fd\u7b49\u5f85 ",(0,o.kt)("inlineCode",{parentName:"li"},"atd")," \u8fd9\u4e2a\u670d\u52a1\u6765\u6267\u884c\u3002"),(0,o.kt)("li",{parentName:"ul"},"\u4e3a\u4e86\u9632\u6b62\u9ed1\u5ba2\u653b\u51fb\uff0c\u5e76\u4e0d\u662f\u6240\u6709\u4eba\u90fd\u53ef\u4ee5\u4f7f\u7528 at \u8ba1\u5212\u4efb\u52a1\uff0c\u9700\u8981\u4e00\u5b9a\u7684\u63a7\u5236\u7b56\u7565\u3002",(0,o.kt)("ul",{parentName:"li"},(0,o.kt)("li",{parentName:"ul"},"at \u5148\u5bfb\u627e ",(0,o.kt)("inlineCode",{parentName:"li"},"/etc/at.allow")," \u8fd9\u4e2a\u6587\u4ef6\uff0c\u5199\u5728\u8fd9\u4e2a\u6587\u4ef6\u4e2d\u7684\u4f7f\u7528\u8005\u624d\u80fd\u4f7f\u7528 at \uff0c\u6ca1\u6709\u5728\u8fd9\u4e2a\u6587\u4ef6\u4e2d\u7684\u4f7f\u7528\u8005\u5219\u4e0d\u80fd\u4f7f\u7528 at (\u5373\u4f7f\u6ca1\u6709\u5199\u5728 ",(0,o.kt)("inlineCode",{parentName:"li"},"at.deny")," \u5f53\u4e2d)\uff1b"),(0,o.kt)("li",{parentName:"ul"},"\u5982\u679c ",(0,o.kt)("inlineCode",{parentName:"li"},"/etc/at.allow")," \u4e0d\u5b58\u5728\uff0c\u5c31\u5bfb\u627e ",(0,o.kt)("inlineCode",{parentName:"li"},"/etc/at.deny")," \u8fd9\u4e2a\u6587\u4ef6\uff0c\u82e5\u5199\u5728\u8fd9\u4e2a ",(0,o.kt)("inlineCode",{parentName:"li"},"at.deny")," \u7684\u4f7f\u7528\u8005\u5219\u4e0d\u80fd\u4f7f\u7528 at \uff0c\u800c\u6ca1\u6709\u5728\u8fd9\u4e2a ",(0,o.kt)("inlineCode",{parentName:"li"},"at.deny")," \u6587\u4ef6\u4e2d\u7684\u4f7f\u7528\u8005\uff0c\u5c31\u53ef\u4ee5\u4f7f\u7528 at \u547d\u4ee4\u4e86\u3002"),(0,o.kt)("li",{parentName:"ul"},"\u5982\u679c\u4e24\u4e2a\u6587\u4ef6\u90fd\u4e0d\u5b58\u5728\uff0c\u90a3\u4e48\u53ea\u6709 root \u53ef\u4ee5\u4f7f\u7528 ",(0,o.kt)("inlineCode",{parentName:"li"},"at")," \u8fd9\u4e2a\u547d\u4ee4\u3002")))),(0,o.kt)("h3",{id:"1223\u4e3e\u4f8b\u8bf4\u660e"},"12.2.3\u3001\u4e3e\u4f8b\u8bf4\u660e"),(0,o.kt)("ol",null,(0,o.kt)("li",{parentName:"ol"},(0,o.kt)("p",{parentName:"li"},"\u4e09\u5929\u540e\u7684\u4e0b\u5348 5 \u70b9\u6267\u884c /bin/ls"),(0,o.kt)("pre",{parentName:"li"},(0,o.kt)("code",{parentName:"pre",className:"language-bash"},"[root@arm64v8 ~]# at 5pm+3 days\nat> /bin/ls\nat>     ## Ctr+D\njob 1 at Tue Aug 10 17:00:00 2021\n[root@arm64v8 ~]#\n"))),(0,o.kt)("li",{parentName:"ol"},(0,o.kt)("p",{parentName:"li"},"\u660e\u592917\u70b9\u949f\uff0c\u8f93\u51fa\u65f6\u95f4\u5230\u6307\u5b9a\u6587\u4ef6\u5185"),(0,o.kt)("pre",{parentName:"li"},(0,o.kt)("code",{parentName:"pre",className:"language-bash"},"[root@arm64v8 ~]# at 17:20 tomorrow\nat> date > /tmp/date.log\nat> \njob 2 at Sun Aug  8 17:20:00 2021\n[root@arm64v8 ~]#\n"))),(0,o.kt)("li",{parentName:"ol"},(0,o.kt)("p",{parentName:"li"},"\u8ba1\u5212\u4efb\u52a1\u8bbe\u5b9a\u540e\uff0c\u5728\u6ca1\u6709\u6267\u884c\u4e4b\u524d\u6211\u4eec\u53ef\u4ee5\u7528 atq \u547d\u4ee4\u6765\u67e5\u770b\u7cfb\u7edf\u6ca1\u6709\u6267\u884c\u5de5\u4f5c\u4efb\u52a1"),(0,o.kt)("pre",{parentName:"li"},(0,o.kt)("code",{parentName:"pre",className:"language-bash"},"[root@arm64v8 ~]# atq\n2    Sun Aug  8 17:20:00 2021 a root\n1    Tue Aug 10 17:00:00 2021 a root\n[root@arm64v8 ~]#\n"))),(0,o.kt)("li",{parentName:"ol"},(0,o.kt)("p",{parentName:"li"},"\u5220\u9664\u5df2\u7ecf\u8bbe\u7f6e\u7684\u4efb\u52a1"),(0,o.kt)("pre",{parentName:"li"},(0,o.kt)("code",{parentName:"pre",className:"language-bash"},"[root@arm64v8 ~]# atq\n2    Sun Aug  8 17:20:00 2021 a root\n1    Tue Aug 10 17:00:00 2021 a root\n[root@arm64v8 ~]# \n[root@arm64v8 ~]# atrm 1\n[root@arm64v8 ~]# atrm 2\n"))),(0,o.kt)("li",{parentName:"ol"},(0,o.kt)("p",{parentName:"li"},"\u663e\u793a\u5df2\u7ecf\u8bbe\u7f6e\u7684\u4efb\u52a1\u5185\u5bb9"),(0,o.kt)("pre",{parentName:"li"},(0,o.kt)("code",{parentName:"pre",className:"language-bash"},"[root@arm64v8 ~]# at 5pm+3 days\nat> /bin/ls\nat> \njob 4 at Tue Aug 10 17:00:00 2021\n[root@arm64v8 ~]# \n[root@arm64v8 ~]# at -c 4 | tail -3\n/bin/ls\n\nmarcinDELIMITER3e93b3bc\n[root@arm64v8 ~]#\n")))))}d.isMDXComponent=!0}}]);