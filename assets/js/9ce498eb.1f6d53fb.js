"use strict";(self.webpackChunkblog=self.webpackChunkblog||[]).push([[2011],{3905:function(e,t,a){a.d(t,{Zo:function(){return u},kt:function(){return d}});var n=a(67294);function r(e,t,a){return t in e?Object.defineProperty(e,t,{value:a,enumerable:!0,configurable:!0,writable:!0}):e[t]=a,e}function l(e,t){var a=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),a.push.apply(a,n)}return a}function o(e){for(var t=1;t<arguments.length;t++){var a=null!=arguments[t]?arguments[t]:{};t%2?l(Object(a),!0).forEach((function(t){r(e,t,a[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(a)):l(Object(a)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(a,t))}))}return e}function p(e,t){if(null==e)return{};var a,n,r=function(e,t){if(null==e)return{};var a,n,r={},l=Object.keys(e);for(n=0;n<l.length;n++)a=l[n],t.indexOf(a)>=0||(r[a]=e[a]);return r}(e,t);if(Object.getOwnPropertySymbols){var l=Object.getOwnPropertySymbols(e);for(n=0;n<l.length;n++)a=l[n],t.indexOf(a)>=0||Object.prototype.propertyIsEnumerable.call(e,a)&&(r[a]=e[a])}return r}var i=n.createContext({}),s=function(e){var t=n.useContext(i),a=t;return e&&(a="function"==typeof e?e(t):o(o({},t),e)),a},u=function(e){var t=s(e.components);return n.createElement(i.Provider,{value:t},e.children)},c={inlineCode:"code",wrapper:function(e){var t=e.children;return n.createElement(n.Fragment,{},t)}},m=n.forwardRef((function(e,t){var a=e.components,r=e.mdxType,l=e.originalType,i=e.parentName,u=p(e,["components","mdxType","originalType","parentName"]),m=s(a),d=r,h=m["".concat(i,".").concat(d)]||m[d]||c[d]||l;return a?n.createElement(h,o(o({ref:t},u),{},{components:a})):n.createElement(h,o({ref:t},u))}));function d(e,t){var a=arguments,r=t&&t.mdxType;if("string"==typeof e||r){var l=a.length,o=new Array(l);o[0]=m;var p={};for(var i in t)hasOwnProperty.call(t,i)&&(p[i]=t[i]);p.originalType=e,p.mdxType="string"==typeof e?e:r,o[1]=p;for(var s=2;s<l;s++)o[s]=a[s];return n.createElement.apply(null,o)}return n.createElement.apply(null,a)}m.displayName="MDXCreateElement"},41218:function(e,t,a){a.r(t),a.d(t,{assets:function(){return u},contentTitle:function(){return i},default:function(){return d},frontMatter:function(){return p},metadata:function(){return s},toc:function(){return c}});var n=a(87462),r=a(63366),l=(a(67294),a(3905)),o=["components"],p={id:"linux-advanced-7",slug:"/linux-advanced-7",title:"\u7b2c 7 \u7ae0 Linux httpd \u670d\u52a1\u8fdb\u9636\u914d\u7f6e",authors:"zhangqf",keywords:["linux","httpd"]},i=void 0,s={unversionedId:"linux/advanced/linux-advanced-7",id:"linux/advanced/linux-advanced-7",title:"\u7b2c 7 \u7ae0 Linux httpd \u670d\u52a1\u8fdb\u9636\u914d\u7f6e",description:"6.1\u3001httpd \u865a\u62df\u4e3b\u673a\u914d\u7f6e",source:"@site/docs/linux/advanced/\u7b2c 7 \u7ae0 Linux httpd \u670d\u52a1\u8fdb\u9636\u914d\u7f6e.md",sourceDirName:"linux/advanced",slug:"/linux-advanced-7",permalink:"/docs/linux-advanced-7",draft:!1,tags:[],version:"current",frontMatter:{id:"linux-advanced-7",slug:"/linux-advanced-7",title:"\u7b2c 7 \u7ae0 Linux httpd \u670d\u52a1\u8fdb\u9636\u914d\u7f6e",authors:"zhangqf",keywords:["linux","httpd"]},sidebar:"linux",previous:{title:"\u7b2c 6 \u7ae0 Linux httpd \u670d\u52a1\u57fa\u7840\u914d\u7f6e",permalink:"/docs/linux-advanced-6"},next:{title:"\u7b2c 8 \u7ae0 Linux httpd \u670d\u52a1\u9ad8\u7ea7\u914d\u7f6e",permalink:"/docs/linux-advanced-8"}},u={},c=[{value:"6.1\u3001httpd \u865a\u62df\u4e3b\u673a\u914d\u7f6e",id:"61httpd-\u865a\u62df\u4e3b\u673a\u914d\u7f6e",level:2},{value:"6.1.1\u3001\u57fa\u4e8e IP \u7684\u865a\u62df\u4e3b\u673a",id:"611\u57fa\u4e8e-ip-\u7684\u865a\u62df\u4e3b\u673a",level:3},{value:"6.1.2\u3001\u57fa\u4e8e\u7aef\u53e3\u7684\u865a\u62df\u4e3b\u673a",id:"612\u57fa\u4e8e\u7aef\u53e3\u7684\u865a\u62df\u4e3b\u673a",level:3},{value:"6.1.3\u3001\u57fa\u4e8e\u540d\u79f0\u7684\u865a\u62df\u4e3b\u673a",id:"613\u57fa\u4e8e\u540d\u79f0\u7684\u865a\u62df\u4e3b\u673a",level:3},{value:"6.2\u3001httpd \u7f51\u9875\u8eab\u4efd\u8ba4\u8bc1",id:"62httpd-\u7f51\u9875\u8eab\u4efd\u8ba4\u8bc1",level:2},{value:"6.2.1\u3001htpasswd \u547d\u4ee4",id:"621htpasswd-\u547d\u4ee4",level:3},{value:"6.2.2\u3001\u8eab\u4efd\u8ba4\u8bc1\u7c7b\u57fa\u672c\u6307\u4ee4",id:"622\u8eab\u4efd\u8ba4\u8bc1\u7c7b\u57fa\u672c\u6307\u4ee4",level:3},{value:"6.2.3\u3001Require \u6307\u4ee4",id:"623require-\u6307\u4ee4",level:3},{value:"6.2.4\u3001web \u8eab\u4efd\u8ba4\u8bc1\u793a\u4f8b",id:"624web-\u8eab\u4efd\u8ba4\u8bc1\u793a\u4f8b",level:3},{value:"6.2.4.1\u3001\u57fa\u4e8e\u7528\u6237\u7684\u8ba4\u8bc1",id:"6241\u57fa\u4e8e\u7528\u6237\u7684\u8ba4\u8bc1",level:4},{value:"6.2.4.2\u3001\u57fa\u4e8e\u7ec4\u7684\u8ba4\u8bc1",id:"6242\u57fa\u4e8e\u7ec4\u7684\u8ba4\u8bc1",level:4},{value:"6.3\u3001httpd \u65e5\u5fd7\u548c\u65e5\u5fd7\u8f6e\u66ff\u5de5\u5177",id:"63httpd-\u65e5\u5fd7\u548c\u65e5\u5fd7\u8f6e\u66ff\u5de5\u5177",level:2},{value:"6.3.1\u3001\u9519\u8bef\u65e5\u5fd7 ErrorLog",id:"631\u9519\u8bef\u65e5\u5fd7-errorlog",level:3},{value:"6.3.2\u3001\u8bbf\u95ee\u65e5\u5fd7 CustomLog",id:"632\u8bbf\u95ee\u65e5\u5fd7-customlog",level:3},{value:"6.3.3\u3001\u65e5\u5fd7\u8f6e\u66ff rotatelogs \u5de5\u5177",id:"633\u65e5\u5fd7\u8f6e\u66ff-rotatelogs-\u5de5\u5177",level:3},{value:"6.3.4\u3001\u65e5\u5fd7\u8f6e\u66ff cronolog \u5de5\u5177",id:"634\u65e5\u5fd7\u8f6e\u66ff-cronolog-\u5de5\u5177",level:3},{value:"6.3.5\u3001rotatelogs \u548c cronolog \u7684\u6bd4\u8f83",id:"635rotatelogs-\u548c-cronolog-\u7684\u6bd4\u8f83",level:3},{value:"6.4\u3001httpd \u8def\u5f84\u6620\u5c04\u548c\u91cd\u5b9a\u5411",id:"64httpd-\u8def\u5f84\u6620\u5c04\u548c\u91cd\u5b9a\u5411",level:2},{value:"6.4.1\u3001\u5904\u7406\u987a\u5e8f",id:"641\u5904\u7406\u987a\u5e8f",level:3},{value:"6.4.2\u3001Alias \u548c AliasMatch",id:"642alias-\u548c-aliasmatch",level:3},{value:"6.4.3\u3001Redirect \u548c RedirectMatch \u6307\u4ee4",id:"643redirect-\u548c-redirectmatch-\u6307\u4ee4",level:3},{value:"6.5\u3001httpd \u6dfb\u52a0\u65b0\u6a21\u5757",id:"65httpd-\u6dfb\u52a0\u65b0\u6a21\u5757",level:2}],m={toc:c};function d(e){var t=e.components,p=(0,r.Z)(e,o);return(0,l.kt)("wrapper",(0,n.Z)({},m,p,{components:t,mdxType:"MDXLayout"}),(0,l.kt)("h2",{id:"61httpd-\u865a\u62df\u4e3b\u673a\u914d\u7f6e"},"6.1\u3001httpd \u865a\u62df\u4e3b\u673a\u914d\u7f6e"),(0,l.kt)("p",null,"httpd \u4f7f\u7528 VirtualHost \u6307\u4ee4\u8fdb\u884c\u865a\u62df\u4e3b\u673a\u7684\u5b9a\u4e49\u3002\u652f\u6301\u4e09\u79cd\u865a\u62df\u4e3b\u673a\uff1a\u57fa\u4e8e ip\uff0c\u57fa\u4e8e\u7aef\u53e3\u548c\u57fa\u4e8e\u540d\u79f0\u3002\u5176\u4e2d\u57fa\u4e8e\u7aef\u53e3\u7684\u865a\u62df\u4e3b\u673a\u5728 httpd \u7684\u672f\u8bed\u4e0a\u4e5f\u5c5e\u4e8e\u57fa\u4e8e IP \u7684\u3002"),(0,l.kt)("p",null,"\u5f53\u4e00\u4e2a\u8bf7\u6c42\u5230\u8fbe\u65f6\uff0c\u5c06\u9996\u5148\u5339\u914d\u865a\u62df\u4e3b\u673a\u3002\u5339\u914d\u865a\u62df\u4e3b\u673a\u7684\u89c4\u5219\u4e3a\u6700\u4f73\u5339\u914d\u6cd5\u3002\u6240\u8c13\u6700\u4f73\uff0c\u662f\u6307\u901a\u914d\u7684\u8d8a\u5c11\uff0c\u5339\u914d\u7684",(0,l.kt)("strong",{parentName:"p"},"\u4f18\u5148\u7ea7"),"\u8d8a\u9ad8\u3002"),(0,l.kt)("ul",null,(0,l.kt)("li",{parentName:"ul"},'\u4f8b\u5982 "192.168.0.99:80" \u7684\u4f18\u5148\u7ea7\u9ad8\u4e8e "',"*",':80"\u3002'),(0,l.kt)("li",{parentName:"ul"},"\u5982\u679c\u57fa\u4e8e\u540d\u79f0\u7684\u865a\u62df\u4e3b\u673a\u65e0\u6cd5\u5339\u914d\u4e0a\uff0c\u5219\u91c7\u7528\u865a\u62df\u4e3b\u673a\u5217\u8868\u4e2d\u7684\u7b2c\u4e00\u4e2a\u865a\u62df\u4e3b\u673a\u4f5c\u4e3a\u54cd\u5e94\u4e3b\u673a\u3002"),(0,l.kt)("li",{parentName:"ul"},"\u5982\u679c\u6240\u6709\u865a\u62df\u4e3b\u673a\u90fd\u65e0\u6cd5\u5339\u914d\u4e0a\uff0c\u5219\u91c7\u7528\u4ece\u4e3b\u914d\u7f6e\u6bb5\u843d\u4e2d\u7684\u4e3b\u673a\uff0c\u5982\u679c\u4e3b\u914d\u7f6e\u6bb5\u843d\u4e2d\u6ce8\u91ca\u4e86 DocumentRoot\uff0c\u5219\u8fd4\u56de\u5bf9\u5e94\u7684\u9519\u8bef\u3002")),(0,l.kt)("p",null,"\u4e3b\u914d\u7f6e\u6bb5\u843d\u7684\u6307\u4ee4\u57fa\u672c\u4e0a\u90fd\u80fd\u4f7f\u7528\u5728\u865a\u62df\u4e3b\u673a\u5bb9\u5668\u4e2d\u3002\u81f3\u4e8e\u865a\u62df\u4e3b\u673a\u4e2d\u5fc5\u987b\u914d\u6709\u4ec0\u4e48\u6307\u4ee4\uff0c\u8fd9\u6ca1\u6709\u89c4\u5b9a\uff0c\u56e0\u4e3a\u865a\u62df\u4e3b\u673a\u53ea\u662f\u5c01\u88c5\u4e00\u7ec4\u6307\u4ee4\u800c\u5df2\uff0c\u5373\u4f7f\u5176\u4e2d\u6ca1\u6709\u4efb\u4f55\u6307\u4ee4\uff0c\u5b83\u4e5f\u4f1a\u4ece\u4e3b\u914d\u7f6e\u6bb5\u843d\u4e2d\u7ee7\u627f\u3002"),(0,l.kt)("p",null,"\u4f46\u662f\uff0c\u65e2\u7136\u8981\u4f7f\u7528\u4e14\u5df2\u7ecf\u4f7f\u7528\u4e86\u865a\u62df\u4e3b\u673a\uff0c\u6309\u7167\u5e38\u7406\u6765\u8bf4\uff0c\u81f3\u5c11\u5f97\u63d0\u4f9b\u4e0d\u540c\u7684 ServerName\uff0cDocumentRoot \u7b49\u6307\u4ee4\u4ee5\u8ba9\u5b83\u4eec\u5404\u81ea\u72ec\u7acb\u3002"),(0,l.kt)("p",null,'\u6700\u540e\u9700\u8981\u8bf4\u660e\u7684\u662f\uff0chttpd \u7684 "-S" \u9009\u9879\u5728\u8c03\u8bd5\u865a\u62df\u4e3b\u673a\u914d\u7f6e\u9009\u9879\u65f6\u975e\u5e38\u6709\u7528\u3002'),(0,l.kt)("h3",{id:"611\u57fa\u4e8e-ip-\u7684\u865a\u62df\u4e3b\u673a"},"6.1.1\u3001\u57fa\u4e8e IP \u7684\u865a\u62df\u4e3b\u673a"),(0,l.kt)("p",null,"\u57fa\u4e8e IP \u7684\u865a\u62df\u4e3b\u673a\u662f\u5728\u4e0d\u540c\u7684 IP+PORT \u4e0a\u63d0\u4f9b\u4e0d\u540c\u7684\u7ad9\u70b9\u670d\u52a1\uff0c\u6700\u5e38\u89c1\u7684\u662f\u5728\u4e0d\u540c\u7aef\u53e3\u4e0a\u63d0\u4f9b\u4e0d\u540c\u7ad9\u70b9\u3002"),(0,l.kt)("p",null,"\u5982\u679c\u4ec5\u57fa\u4e8e IP\uff0c\u4f7f\u7528\u4e0d\u540c IP \u5730\u5740\uff0c\u90a3\u4e48\u8981\u6c42\u64cd\u4f5c\u7cfb\u7edf\u4e0a\u6709\u4e24\u4e2a\u6216\u66f4\u591a IP \u5730\u5740\uff0c\u53ef\u4ee5\u63d0\u4f9b\u591a\u4e2a\u7f51\u5361\uff0c\u6216\u8005\u901a\u8fc7\u7f51\u5361\u522b\u540d\u6765\u5b9e\u73b0\u3002"),(0,l.kt)("p",null,"\u5982\u679c\u57fa\u4e8e\u7aef\u53e3\uff0c\u4f7f\u7528\u4e0d\u540c\u7aef\u53e3\uff0c\u5219\u4f7f\u7528\u76f8\u540c IP \u6216\u4e0d\u540c IP \u5747\u53ef\uff0c\u4f46\u5728 httpd \u672f\u8bed\u4e2d\uff0c\u57fa\u4e8e\u5355\u4e2a IP \u4f46\u4e0d\u540c\u7aef\u53e3\u7684\u865a\u62df\u4e3b\u673a\uff0c\u4e5f\u662f\u57fa\u4e8e IP \u7684\u865a\u62df\u4e3b\u673a\u3002"),(0,l.kt)("p",null,"\u5047\u8bbe\u672c\u673a\u4e3a 192.168.0.99\uff1a"),(0,l.kt)("pre",null,(0,l.kt)("code",{parentName:"pre",className:"language-bash"},"# \u9996\u5148\u8bbe\u7f6e\u4e2a\u865a\u62df\u7f51\u5361\u3002\n[root@aarch64 ~]# ip add add 192.168.0.111 dev eth0 label eth0:0\n\n# \u6dfb\u52a0\u57fa\u4e8eIP\u5730\u5740\u7684\u865a\u62df\u4e3b\u673a\uff0cDocumentRoot\u4f7f\u7528\u7684\u76f8\u5bf9\u8def\u5f84\uff0c\u57fa\u4e8eServerRoot\n[root@aarch64 ~]# vim /etc/apache/extra/vhosts.conf\n\n<VirtualHost 192.168.0.99:80>\n    ServerName www.a.com\n    DocumentRoot htdocs/a.com\n</VirtualHost>\n\n<VirtualHost 192.168.0.111:80>\n    ServerName www.b.com\n    DocumentRoot htdocs/b.com\n</VirtualHost>\n")),(0,l.kt)("p",null,"\u5728\u4e3b\u914d\u7f6e\u6587\u4ef6\u4e2d\uff0c\u5c06\u8be5\u865a\u62df\u4e3b\u673a\u914d\u7f6e\u6587\u4ef6 vhosts.conf \u5305\u542b\u8fdb\u53bb\uff1a"),(0,l.kt)("pre",null,(0,l.kt)("code",{parentName:"pre",className:"language-bash"},"Include /etc/apache/extra/vhosts.conf\n")),(0,l.kt)("p",null,"\u518d\u63d0\u4f9b DocumentRoot \u548c\u5404\u81ea\u7684 index.html\uff1a"),(0,l.kt)("pre",null,(0,l.kt)("code",{parentName:"pre",className:"language-bash"},"[root@aarch64 ~]# mkdir /usr/local/apache/htdocs/{a.com,b.com}\n[root@aarch64 ~]# echo '<h1>a.com<h1>' >/usr/local/apache/htdocs/a.com/index.html\n[root@aarch64 ~]# echo '<h1>b.com<h1>' >/usr/local/apache/htdocs/b.com/index.html\n")),(0,l.kt)("p",null,"\u4f7f\u7528 ",(0,l.kt)("inlineCode",{parentName:"p"},"httpd -S")," \u67e5\u770b\u914d\u7f6e\u6587\u4ef6\u52a0\u8f7d\u8fc7\u7a0b\uff1a"),(0,l.kt)("pre",null,(0,l.kt)("code",{parentName:"pre",className:"language-bash"},'[root@aarch64 ~]# /usr/local/apache/bin/httpd -S -f /etc/apache/httpd.conf\nVirtualHost configuration:\n192.168.0.111:80       www.b.com (/etc/apache/extra/vhosts.conf:6)\n192.168.0.99:80        www.a.com (/etc/apache/extra/vhosts.conf:1)\nServerRoot: "/usr/local/apache"\nMain DocumentRoot: "/usr/local/apache/htdocs"\nMain ErrorLog: "/usr/local/apache/logs/error_log"\nMutex default: dir="/usr/local/apache/logs/" mechanism=default \nPidFile: "/usr/local/apache/logs/httpd.pid"\nDefine: DUMP_VHOSTS\nDefine: DUMP_RUN_CFG\nUser: name="daemon" id=2\nGroup: name="daemon" id=2\n[root@aarch64 ~]#\n')),(0,l.kt)("p",null,"\u91cd\u542f httpd\uff1a"),(0,l.kt)("pre",null,(0,l.kt)("code",{parentName:"pre",className:"language-bash"},"service httpd restart\n")),(0,l.kt)("p",null,"\u6d4b\u8bd5\uff1a"),(0,l.kt)("pre",null,(0,l.kt)("code",{parentName:"pre",className:"language-bash"},"[root@aarch64 ~]# curl 192.168.0.99:80\n<h1>a.com<h1>\n[root@aarch64 ~]# \n[root@aarch64 ~]# curl 192.168.0.111:80\n<h1>b.com<h1>\n[root@aarch64 ~]#\n")),(0,l.kt)("p",null,(0,l.kt)("em",{parentName:"p"},"\u6ce8\u610f\uff1a\u4ee5\u4e0a\u7684\u5b9e\u9a8c\u662f\u57fa\u4e8e httpd \u6e90\u7801\u7f16\u8bd1\u5b9e\u9a8c\u540e\uff0c\u8fdb\u884c\u7684\u865a\u62df\u4e3b\u673a\u5b9e\u9a8c\u3002httpd \u6e90\u7801\u7f16\u8bd1\u540e\u8fd8\u6709\u4e00\u4e9b\u914d\u7f6e\u9700\u8981\u5b8c\u5584\uff0c\u8bf7\u53c2\u89c1 ",(0,l.kt)("a",{parentName:"em",href:"https://www.brinnatt.com/high/%e7%ac%ac-6-%e7%ab%a0-linux-httpd-%e6%9c%8d%e5%8a%a1%e9%ab%98%e7%ba%a7%e9%85%8d%e7%bd%ae/#67%E3%80%81%E5%BC%80%E5%A7%8B%E7%BC%96%E8%AF%91_httpd"},"httpd \u6e90\u7801\u7f16\u8bd1"),"\u3002")),(0,l.kt)("h3",{id:"612\u57fa\u4e8e\u7aef\u53e3\u7684\u865a\u62df\u4e3b\u673a"},"6.1.2\u3001\u57fa\u4e8e\u7aef\u53e3\u7684\u865a\u62df\u4e3b\u673a"),(0,l.kt)("p",null,"\u57fa\u4e8e\u7aef\u53e3\u7684\u865a\u62df\u4e3b\u673a\u9700\u8981\u76d1\u542c\u4e24\u4e2a\u5957\u63a5\u5b57\u3002"),(0,l.kt)("p",null,"\u9996\u5148\u5728\u914d\u7f6e\u6587\u4ef6\u4e2d\u4f7f\u7528 Listen \u6307\u4ee4\u4fee\u6539\u76d1\u542c\u5957\u63a5\u5b57\uff0c\u8fd9\u91cc\u5047\u8bbe\u53ea\u57fa\u4e8e\u7aef\u53e3\uff0c\u6240\u4ee5\u53ea\u9700\u4fee\u6539\u7aef\u53e3\u53f7\u5373\u53ef\u3002"),(0,l.kt)("pre",null,(0,l.kt)("code",{parentName:"pre",className:"language-bash"},"listen 80\nlisten 8080\n")),(0,l.kt)("p",null,"\u4fee\u6539\u865a\u62df\u4e3b\u673a\u914d\u7f6e\u6587\u4ef6 vhosts.conf \u6587\u4ef6\u5982\u4e0b\uff1a"),(0,l.kt)("pre",null,(0,l.kt)("code",{parentName:"pre",className:"language-bash"},"[root@aarch64 ~]# cat /etc/apache/extra/vhosts.conf \n<VirtualHost 192.168.0.99:80>\n    ServerName www.a.com\n    DocumentRoot htdocs/a.com\n</VirtualHost>\n\n<VirtualHost 192.168.0.99:8080>\n    ServerName www.b.com\n    DocumentRoot htdocs/b.com\n</VirtualHost>\n[root@aarch64 ~]#\n")),(0,l.kt)("p",null,"\u91cd\u542fhttpd\uff0c\u6d4b\u8bd5 ",(0,l.kt)("a",{parentName:"p",href:"http://www.a.com"},"www.a.com")," \u548c ",(0,l.kt)("a",{parentName:"p",href:"http://www.b.com"},"www.b.com")," \u80fd\u5426\u663e\u793a\uff1a"),(0,l.kt)("pre",null,(0,l.kt)("code",{parentName:"pre",className:"language-bash"},"[root@aarch64 ~]# systemctl daemon-reload \n[root@aarch64 ~]# systemctl restart httpd\n[root@aarch64 ~]# curl 192.168.0.99:80\n<h1>a.com<h1>\n[root@aarch64 ~]# curl 192.168.0.99:8080\n<h1>b.com<h1>\n[root@aarch64 ~]#\n")),(0,l.kt)("h3",{id:"613\u57fa\u4e8e\u540d\u79f0\u7684\u865a\u62df\u4e3b\u673a"},"6.1.3\u3001\u57fa\u4e8e\u540d\u79f0\u7684\u865a\u62df\u4e3b\u673a"),(0,l.kt)("p",null,"\u8bf7\u6c42\u62a5\u6587\u4e2d\u83b7\u53d6\u8d44\u6e90\u65f6\u5305\u542b\u4e86\u4e24\u90e8\u5206\u8d44\u6e90\u5b9a\u4f4d\u7684\u683c\u5f0f\uff1aTCP/IP \u534f\u8bae\u548c HTTP \u534f\u8bae\uff0c\u867d\u7136 TCP/IP \u90e8\u5206\u76f8\u540c\uff0c\u4f46\u662f HTTP \u534f\u8bae\u7684\u8bf7\u6c42\u62a5\u6587\u4e2d\u6307\u5b9a\u4e86 HOST\uff0c\u8fd9\u5c31\u662f\u57fa\u4e8e\u57df\u540d\u7684\u865a\u62df\u4e3b\u673a\u80fd\u5b9e\u73b0\u7684\u539f\u56e0\u3002\u4e5f\u56e0\u6b64\uff0c\u57fa\u4e8e\u540d\u79f0\u7684\u865a\u62df\u4e3b\u673a\u5fc5\u987b\u6307\u5b9a ServerName \u6307\u4ee4\uff0c\u5426\u5219\u5b83\u5c06\u4f1a\u7ee7\u627f\u64cd\u4f5c\u7cfb\u7edf\u7684 FQDN\u3002"),(0,l.kt)("pre",null,(0,l.kt)("code",{parentName:"pre",className:"language-bash"},"[root@aarch64 ~]# cat /etc/apache/extra/vhosts.conf\n<VirtualHost 192.168.0.99:80>\n    ServerName www.a.com\n    DocumentRoot htdocs/a.com\n</VirtualHost>\n\n<VirtualHost 192.168.0.99:80>\n    ServerName www.b.com\n    DocumentRoot htdocs/b.com\n</VirtualHost>\n[root@aarch64 ~]#\n")),(0,l.kt)("p",null,"\u6d4b\u8bd5\uff1a\u4e3a\u4e86\u65b9\u4fbf\u6d4b\u8bd5\uff0c\u5728\u6ca1\u6709 DNS \u670d\u52a1\u7684\u524d\u63d0\u4e0b\uff0c\u9700\u8981\u5728 hosts \u6587\u4ef6\u4e2d\u914d\u7f6e\u4e34\u65f6\u57df\u540d\u89e3\u6790\uff0c\u7136\u540e\u91cd\u542f\u670d\u52a1\uff0c\u6d4b\u8bd5\u57df\u540d\u8bf7\u6c42\u3002"),(0,l.kt)("pre",null,(0,l.kt)("code",{parentName:"pre",className:"language-bash"},"[root@aarch64 ~]# cat /etc/hosts\n127.0.0.1   localhost localhost.localdomain localhost4 localhost4.localdomain4\n::1         localhost localhost.localdomain localhost6 localhost6.localdomain6\n\n192.168.0.99 www.a.com\n192.168.0.99 www.b.com\n[root@aarch64 ~]#\n[root@aarch64 ~]# service httpd restart\nRestarting httpd (via systemctl):                          [  OK  ]\n[root@aarch64 ~]# \n[root@aarch64 ~]# curl www.a.com\n<h1>a.com<h1>\n[root@aarch64 ~]# curl www.b.com\n<h1>b.com<h1>\n[root@aarch64 ~]#\n")),(0,l.kt)("ul",null,(0,l.kt)("li",{parentName:"ul"},(0,l.kt)("p",{parentName:"li"},(0,l.kt)("em",{parentName:"p"},"\u6ce8\u610f\uff1a\u5bf9\u4e8e\u57fa\u4e8e\u540d\u79f0\u7684\u865a\u62df\u4e3b\u673a\uff0c\u5f53\u4f7f\u7528 IP \u5730\u5740\u8bf7\u6c42(\u4f8b\u5982\u6d4f\u89c8\u5668\u4e2d\u8f93\u5165\u7684\u662f IP \u5730\u5740)\uff0c\u6216\u8005\u65e0\u6cd5\u5339\u914d\u5230\u4efb\u4f55\u865a\u62df\u4e3b\u673a\u65f6\uff0c\u5c06\u91c7\u7528\u7b2c\u4e00\u4e2a\u865a\u62df\u4e3b\u673a\u4f5c\u4e3a\u9ed8\u8ba4\u865a\u62df\u4e3b\u673a\u3002")),(0,l.kt)("pre",{parentName:"li"},(0,l.kt)("code",{parentName:"pre",className:"language-bash"},'[root@aarch64 ~]# curl 192.168.0.99\na.com\n[root@aarch64 ~]# echo "192.168.0.99 www.c.com" >> /etc/hosts # \u6ca1\u6709\u914d\u7f6e\u5bf9\u5e94\u865a\u62df\u4e3b\u673a\n[root@aarch64 ~]# curl www.c.com\na.com\n'))),(0,l.kt)("li",{parentName:"ul"},(0,l.kt)("p",{parentName:"li"},(0,l.kt)("em",{parentName:"p"},"\u6ce8\u610f\uff1aServerName \u7528\u4e8e\u552f\u4e00\u6807\u8bc6\u63d0\u4f9b web \u670d\u52a1\u7684\u4e3b\u673a\u540d\uff0c\u53ea\u6709\u5728\u57fa\u4e8e\u540d\u79f0\u7684\u865a\u62df\u4e3b\u673a\u4e2d\u8be5\u6307\u4ee4\u624d\u662f\u5fc5\u987b\u63d0\u4f9b\u7684\u3002")),(0,l.kt)("ul",{parentName:"li"},(0,l.kt)("li",{parentName:"ul"},(0,l.kt)("em",{parentName:"li"},"\u5982\u679c\u4e0d\u662f\u5728\u57fa\u4e8e\u540d\u79f0\u7684\u865a\u62df\u4e3b\u673a\u4e2d\uff0c\u53ef\u4ee5\u4efb\u610f\u6307\u5b9a\u8be5\u6307\u4ee4\u7684\u503c\uff0c\u53ea\u8981\u4f60\u8ba4\u4e3a\u5b83\u80fd\u552f\u4e00\u6807\u8bc6\u4f60\u7684\u4e3b\u673a\u3002")),(0,l.kt)("li",{parentName:"ul"},(0,l.kt)("em",{parentName:"li"},"\u4f46\u5982\u679c\u4e0d\u8bbe\u7f6e\u8be5\u6307\u4ee4\uff0c\u90a3\u4e48 httpd \u5728\u542f\u52a8\u65f6\uff0c\u5c06\u4f1a\u53cd\u89e3\u64cd\u4f5c\u7cfb\u7edf\u7684 IP \u5730\u5740\u3002"))))),(0,l.kt)("h2",{id:"62httpd-\u7f51\u9875\u8eab\u4efd\u8ba4\u8bc1"},"6.2\u3001httpd \u7f51\u9875\u8eab\u4efd\u8ba4\u8bc1"),(0,l.kt)("p",null,"httpd \u5bf9 web \u8eab\u4efd\u8ba4\u8bc1\u7684\u652f\u6301\u5f88\u4e30\u5bcc\uff0c\u63d0\u4f9b\u7684\u63a7\u5236\u4e5f\u975e\u5e38\u7ec6\u81f4\u3002\u65e0\u7591\uff0c\u529f\u80fd\u4e30\u5bcc\u610f\u5473\u7740\u6a21\u5757\u591a\u3002\u5173\u4e8e\u5b8c\u6574\u7684\u6a21\u5757\uff0c\u89c1 ",(0,l.kt)("a",{parentName:"p",href:"https://httpd.apache.org/docs/2.4/mod/"},"https://httpd.apache.org/docs/2.4/mod/")," \uff0c\u5176\u4e2d mod","_","authX","_","XXX \u90fd\u662f\u548c\u8ba4\u8bc1\u6709\u5173\u7684\u6a21\u5757\u3002"),(0,l.kt)("p",null,"\u8981\u5b9e\u73b0\u6700\u57fa\u672c\u7684\u5e10\u6237\u8ba4\u8bc1\u8bbf\u95ee\u63a7\u5236\uff0c\u53ea\u9700\u51e0\u4e2a\u5e38\u89c1\u7684\u6a21\u5757\u5373\u53ef\uff1amod","_","authz","_","core\uff0cmod","_","authz","_","user\uff0cmod","_","authz","_","host ... \u3002"),(0,l.kt)("h3",{id:"621htpasswd-\u547d\u4ee4"},"6.2.1\u3001htpasswd \u547d\u4ee4"),(0,l.kt)("p",null,"htpasswd \u7528\u4e8e\u4e3a\u6307\u5b9a\u7528\u6237\u751f\u6210\u57fa\u4e8e\u7f51\u9875\u7528\u6237\u8eab\u4efd\u8ba4\u8bc1\u7684\u5bc6\u7801\uff0c\u7531 httpd-tools \u8f6f\u4ef6\u5305\u63d0\u4f9b\u3002\u652f\u6301 3 \u79cd\u52a0\u5bc6\u7b97\u6cd5\uff1aMD5\u3001SHA \u548c\u7cfb\u7edf\u4e0a\u7684 crypt() \u51fd\u6570\uff0c\u4e0d\u6307\u5b9a\u7b97\u6cd5\u65f6\uff0c\u9ed8\u8ba4\u4e3a md5\u3002"),(0,l.kt)("pre",null,(0,l.kt)("code",{parentName:"pre",className:"language-bash"},'htpasswd [ -c ] [ -m ] [ -D ] passwdfile username\nhtpasswd -b [ -c ] [ -m | -d | -p | -s ] [ -D ] passwdfile username password\nhtpasswd -n [ -m | -d | -s | -p ] username\nhtpasswd -nb [ -m | -d | -s | -p ] username password\n\u9009\u9879\u8bf4\u660e\uff1a\npasswdfile\uff1a\u5305\u542b\u7528\u6237\u540d\u53ca\u5176\u5bc6\u7801\u7684\u7528\u6237\u5bc6\u7801\u6587\u4ef6\u3002\u5982\u679c\u4f7f\u7528\u4e86"-c"\u9009\u9879\uff0c\u5219\u4f1a\u521b\u5efa\u6216\u8986\u76d6\u6587\u4ef6\u3002\u4e0d\u4f7f\u7528"-n"\u9009\u9879\u65f6\u5fc5\u987b\u6307\u5b9apasswdfile\u53c2\u6570\u3002\nusername\uff1a\u4e3a\u6307\u5b9a\u7684\u7528\u6237\u540d\u521b\u5efa\u5bc6\u7801\u3002\u5982\u679c\u8be5\u7528\u6237\u8bb0\u5f55\u5df2\u5b58\u5728\uff0c\u5219\u66f4\u65b0\u3002\n-c\uff1a\u521b\u5efa\u7528\u6237\u5bc6\u7801\u6587\u4ef6passwdfile\uff0c\u5982\u679c\u6587\u4ef6\u5df2\u7ecf\u5b58\u5728\u5219\u4f1a\u8986\u76d6\u5df2\u5b58\u5728\u7684\u6587\u4ef6\u3002\u4e0d\u80fd\u548c"-n"\u4e00\u8d77\u4f7f\u7528\u3002\n-n\uff1a\u5728\u6807\u51c6\u8f93\u51fa\u4e2d\u8f93\u51fa\u7ed3\u679c\uff0c\u800c\u4e0d\u662f\u5c06\u5176\u5199\u5165\u5230\u7528\u6237\u5bc6\u7801\u6587\u4ef6\u4e2d\u3002\u8be5\u9009\u9879\u4f1a\u5ffd\u7565\u7528\u6237\u5bc6\u7801\u6587\u4ef6passwdfile\u53c2\u6570\u3002\u4e0d\u80fd\u548c"-c"\u9009\u9879\u4e00\u8d77\u4f7f\u7528\u3002\n-m\uff1a\u4f7f\u7528MD5\u52a0\u5bc6\u7b97\u6cd5\u3002\u9ed8\u8ba4\u3002\n-d\uff1a\u4f7f\u7528crypt()\u51fd\u6570\u8ba1\u7b97\u5bc6\u7801\uff0c\u4e0d\u5b89\u5168\u3002\n-s\uff1a\u4f7f\u7528SHA\u52a0\u5bc6\u7b97\u6cd5\u3002\u5b89\u5168\u3002\n-P\uff1a\u5f3a\u5236\u4e0d\u52a0\u5bc6\u5bc6\u7801\uff0c\u4fdd\u6301\u660e\u6587\u72b6\u6001\uff0c\u4e0d\u5b89\u5168\u3002\n-B\uff1a\u5f3a\u5236bcrypt\u52a0\u5bc6\u5bc6\u7801\uff0c\u975e\u5e38\u5b89\u5168\u3002\n-D\uff1a\u4ece\u7528\u6237\u5bc6\u7801\u6587\u4ef6\u4e2d\u5220\u9664\u6307\u5b9a\u7684\u7528\u6237\u53ca\u5176\u5bc6\u7801\u3002\n-b\uff1a\u4f7f\u7528\u6279\u5904\u7406\u6a21\u5f0f\uff0c\u5373\u975e\u4ea4\u4e92\u6a21\u5f0f\uff0c\u53ef\u4ee5\u76f4\u63a5\u5f85\u52a0\u5bc6\u7684\u4f20\u9012\u660e\u6587\u5bc6\u7801\u3002\npassword\uff1a\u6307\u5b9a\u8981\u8f93\u5165\u7684\u660e\u6587\u5bc6\u7801\u3002\u53ea\u80fd\u5728\u6279\u5904\u7406\u6a21\u5f0f\u4e2d\u4f7f\u7528\uff0c\u5373\u548c"-b"\u4e00\u8d77\u4f7f\u7528\u3002\n')),(0,l.kt)("ol",null,(0,l.kt)("li",{parentName:"ol"},(0,l.kt)("p",{parentName:"li"},'\u4f7f\u7528 "-n" \u9009\u9879\u76f4\u63a5\u5c06\u7ed3\u679c\u8f93\u51fa\u5230\u6807\u51c6\u8f93\u51fa\u800c\u4e0d\u521b\u5efa passwdfile\u3002'),(0,l.kt)("pre",{parentName:"li"},(0,l.kt)("code",{parentName:"pre",className:"language-bash"},"[root@aarch64 ~]# htpasswd -n brinnatt\nNew password: \nRe-type new password: \nbrinnatt:$apr1$LchJiq9J$JpMVs4SxFvXP.Wrt5/ETU1\n\n[root@aarch64 ~]#\n"))),(0,l.kt)("li",{parentName:"ol"},(0,l.kt)("p",{parentName:"li"},"\u4f7f\u7528\u6279\u5904\u7406\u6a21\u5f0f\u76f4\u63a5\u4f20\u9012\u5bc6\u7801\u3002"),(0,l.kt)("pre",{parentName:"li"},(0,l.kt)("code",{parentName:"pre",className:"language-bash"},"[root@aarch64 ~]# htpasswd -nb brinnatt Firewall; htpasswd -nb brinnatt Firewall\nbrinnatt:$apr1$f5FXdjZ2$hK3MzwAs2HV.oX9Kw5Evi0\n\nbrinnatt:$apr1$ay7Tf9Wt$Sjp3FekQyNqOgwZwNNED5/\n\n[root@aarch64 ~]#\n")),(0,l.kt)("ul",{parentName:"li"},(0,l.kt)("li",{parentName:"ul"},"\u53d1\u73b0\u5bc6\u7801\u5b8c\u5168\u662f\u968f\u673a\u7684\u3002"))),(0,l.kt)("li",{parentName:"ol"},(0,l.kt)("p",{parentName:"li"},"\u521b\u5efa\u7528\u6237\u5bc6\u7801\u6587\u4ef6 passwdfile\u3002"),(0,l.kt)("pre",{parentName:"li"},(0,l.kt)("code",{parentName:"pre",className:"language-bash"},"[root@aarch64 ~]# htpasswd -cb usercryfile brinnatt Firewall\nAdding password for user brinnatt\n[root@aarch64 ~]# cat usercryfile \nbrinnatt:$apr1$0E6btbxL$NuKbnLvfu.277/a8R5aMw1\n[root@aarch64 ~]#\n"))),(0,l.kt)("li",{parentName:"ol"},(0,l.kt)("p",{parentName:"li"},"\u5220\u9664\u7528\u6237\u6587\u4ef6\u4e2d\u7684\u67d0\u7528\u6237\u3002"),(0,l.kt)("pre",{parentName:"li"},(0,l.kt)("code",{parentName:"pre",className:"language-bash"},"[root@aarch64 ~]# htpasswd -D usercryfile brinnatt\nDeleting password for user brinnatt\n[root@aarch64 ~]# cat usercryfile \n[root@aarch64 ~]#\n"))),(0,l.kt)("li",{parentName:"ol"},(0,l.kt)("p",{parentName:"li"},"\u4f7f\u7528 sha \u548c md5 \u52a0\u5bc6\u7b97\u6cd5\u8ba1\u7b97\u5bc6\u7801\u3002"),(0,l.kt)("pre",{parentName:"li"},(0,l.kt)("code",{parentName:"pre",className:"language-bash"},"[root@aarch64 ~]# htpasswd -sb usercryfile brinnatt Firewall\nAdding password for user brinnatt\n[root@aarch64 ~]# cat usercryfile \nbrinnatt:{SHA}SZotReXw4wRZa3tm9mgzEk8zAFg=\n[root@aarch64 ~]# \n[root@aarch64 ~]# htpasswd -mb usercryfile Tina Passkey\nAdding password for user Tina\n[root@aarch64 ~]# cat usercryfile \nbrinnatt:{SHA}SZotReXw4wRZa3tm9mgzEk8zAFg=\nTina:$apr1$mFxN/NhQ$VYNBh1D/1O2S2R/Q4ndGn0\n[root@aarch64 ~]#\n")))),(0,l.kt)("h3",{id:"622\u8eab\u4efd\u8ba4\u8bc1\u7c7b\u57fa\u672c\u6307\u4ee4"},"6.2.2\u3001\u8eab\u4efd\u8ba4\u8bc1\u7c7b\u57fa\u672c\u6307\u4ee4"),(0,l.kt)("p",null,(0,l.kt)("inlineCode",{parentName:"p"},"AuthType"),"\uff1a\u6307\u5b9a web \u8eab\u4efd\u8ba4\u8bc1\u7684\u7c7b\u578b\u3002\u6709\u6548\u503c\u4e3a none\u3001basic\u3001digest \u4ee5\u53ca form\u3002\u901a\u5e38\u6700\u57fa\u672c\u7684\u8ba4\u8bc1\u4f7f\u7528\u7684\u662f\u6587\u4ef6\u8ba4\u8bc1\uff0c\u6240\u4ee5\u901a\u5e38\u4f7f\u7528 basic\u3002"),(0,l.kt)("p",null,(0,l.kt)("inlineCode",{parentName:"p"},"AuthName"),"\uff1a\u8bbe\u7f6e\u8eab\u4efd\u8ba4\u8bc1\u65f6\u7684\u63d0\u793a\u4fe1\u606f\u3002"),(0,l.kt)("p",null,(0,l.kt)("inlineCode",{parentName:"p"},"AuthUserFile file-path"),"\uff1a\u6307\u5b9a web \u7528\u6237\u8ba4\u8bc1\u5217\u8868\u3002\u7531 htpasswd \u547d\u4ee4\u751f\u6210\u3002"),(0,l.kt)("p",null,(0,l.kt)("inlineCode",{parentName:"p"},"AuthGroupFile file-path"),'\uff1a\u6307\u5b9a\u7ec4\u8ba4\u8bc1\u6587\u4ef6\uff0c\u6587\u4ef6\u4e2d\u5206\u7ec4\u683c\u5f0f\u4e3a "mygroup: Jim Bob Alice"\u3002\u5982\u679c\u6587\u4ef6\u8def\u5f84\u4e3a\u76f8\u5bf9\u8def\u5f84\uff0c\u5219\u76f8\u5bf9\u4e8e ServerRoot\u3002'),(0,l.kt)("p",null,"\u57fa\u4e8e basic \u7c7b\u578b\u7684\u8ba4\u8bc1\u5c31\u8fd9\u4e48\u51e0\u4e2a\u6307\u4ee4\uff0c\u6700\u4e3b\u8981\u7684\u8fd8\u662f require \u6307\u4ee4\u7684\u4f7f\u7528\u3002\u66f4\u591a\u7684\u8ba4\u8bc1\u65b9\u6cd5\u89c1\u5b98\u65b9\u624b\u518c\u7684 auth \u7c7b\u6a21\u5757\u3002"),(0,l.kt)("h3",{id:"623require-\u6307\u4ee4"},"6.2.3\u3001Require \u6307\u4ee4"),(0,l.kt)("p",null,"\u8be5\u6307\u4ee4\u53ea\u80fd\u653e\u5728 Directory \u5bb9\u5668\u4e2d\uff0c\u7528\u4e8e\u63a7\u5236\u5bf9\u76ee\u5f55\u7684\u8bbf\u95ee\u6743\u9650\u3002\u5b83\u7684\u4e3b\u8981\u529f\u80fd\u662f\u7531 mod","_","authz","_","core \u6a21\u5757\u63d0\u4f9b\uff0c\u4f46\u6709\u4e9b\u8eab\u4efd\u8ba4\u8bc1\u7c7b\u6a21\u5757\u4e5f\u63d0\u4f9b\u5b83\u989d\u5916\u7684\u529f\u80fd\uff0c\u8fd9\u65f6\u5b83\u53ef\u4ee5\u653e\u5728 < Directory >\u3001< Files > \u6216 < Location > \u5bb9\u5668\u4e2d\u3002"),(0,l.kt)("p",null,"\u4e3b\u8981\u529f\u80fd\uff1a"),(0,l.kt)("ul",null,(0,l.kt)("li",{parentName:"ul"},"Require all granted\uff1a\u65e0\u6761\u4ef6\u5141\u8bb8\u6240\u6709\u4eba\u8bbf\u95ee\u8be5\u76ee\u5f55"),(0,l.kt)("li",{parentName:"ul"},"Require all denied\uff1a\u65e0\u6761\u4ef6\u62d2\u7edd\u6240\u6709\u4eba\u8bbf\u95ee\u8be5\u76ee\u5f55"),(0,l.kt)("li",{parentName:"ul"},"Require env env-var ","[","env-var","]"," ...\uff1a\u53ea\u6709\u7ed9\u5b9a\u7684\u73af\u5883\u53d8\u91cf var-env \u5df2\u7ecf\u5b9a\u4e49\u624d\u5141\u8bb8\u8bbf\u95ee\u8be5\u76ee\u5f55"),(0,l.kt)("li",{parentName:"ul"},"Require method http-method ","[","http-method","]"," ...\uff1a\u53ea\u6709\u7ed9\u5b9a\u7684 HTTP \u8bf7\u6c42\u65b9\u6cd5\u624d\u5141\u8bb8\u8bbf\u95ee\u8be5\u76ee\u5f55\uff0c\u5982\u53ea\u5141\u8bb8 GET \u624d\u80fd\u8bbf\u95ee"),(0,l.kt)("li",{parentName:"ul"},"Require expr expression\uff1a\u53ea\u6709\u7ed9\u5b9a\u7684\u8868\u8fbe\u5f0f\u4e3a true \u624d\u5141\u8bb8\u8bbf\u95ee\u8be5\u76ee\u5f55")),(0,l.kt)("p",null,"\u8eab\u4efd\u8ba4\u8bc1\u7c7b\u6a21\u5757\u63d0\u4f9b\u7684 require \u6307\u4ee4\u529f\u80fd\u5305\u62ec\uff1a"),(0,l.kt)("ul",null,(0,l.kt)("li",{parentName:"ul"},"mod","_","authz","_","user \u4e3a require \u6307\u4ee4\u63d0\u4f9b\u7684\u529f\u80fd\uff1a",(0,l.kt)("ul",{parentName:"li"},(0,l.kt)("li",{parentName:"ul"},"Require user userid ","[","userid","]"," ...\uff1a\u8ba4\u8bc1\u5217\u8868\u4e2d\u53ea\u6709\u6307\u5b9a\u7684 userid \u624d\u80fd\u8bbf\u95ee"),(0,l.kt)("li",{parentName:"ul"},"Require valid-user\uff1a\u8ba4\u8bc1\u5217\u8868\u4e2d\u7684\u6240\u6709\u7528\u6237\u90fd\u53ef\u4ee5\u8bbf\u95ee"))),(0,l.kt)("li",{parentName:"ul"},"mod","_","authz","_","groupfile \u4e3a require \u6307\u4ee4\u63d0\u4f9b\u7684\u529f\u80fd\uff1a",(0,l.kt)("ul",{parentName:"li"},(0,l.kt)("li",{parentName:"ul"},"Require group group1 ","[","group2","]"," ...\uff1a\u6307\u5b9a\u7ec4\u5185\u7684\u7528\u6237\u90fd\u53ef\u4ee5\u8bbf\u95ee"))),(0,l.kt)("li",{parentName:"ul"},"\u672c\u5730\u6587\u4ef6\u7cfb\u7edf\u8eab\u4efd\u53c2\u8003\u7c7b\uff1a",(0,l.kt)("ul",{parentName:"li"},(0,l.kt)("li",{parentName:"ul"},"Require file-owner\uff1a\u8981\u6c42 web \u7528\u6237\u540d\u5fc5\u987b\u548c\u8bf7\u6c42\u6587\u4ef6\u7684 uid \u5bf9\u5e94\u7684 username \u5b8c\u5168\u76f8\u540c"),(0,l.kt)("li",{parentName:"ul"},"Require file-group\uff1a\u8981\u6c42 web \u7528\u6237\u540d\u5fc5\u987b\u4e3a\u8bf7\u6c42\u6587\u4ef6\u7684 gid \u7ec4\u4e2d\u7684\u4e00\u5458"))),(0,l.kt)("li",{parentName:"ul"},"mod","_","authz","_","host \u4e3a require \u6307\u4ee4\u63d0\u4f9b\u7684 ip \u548c host \u529f\u80fd\uff1a",(0,l.kt)("ul",{parentName:"li"},(0,l.kt)("li",{parentName:"ul"},"Require ip 192.168.1.104 192.168.1.205"),(0,l.kt)("li",{parentName:"ul"},"Require ip 10.1"),(0,l.kt)("li",{parentName:"ul"},"Require ip 10 172.20 192.168.2"),(0,l.kt)("li",{parentName:"ul"},"Require ip 10.1.0.0/255.255.0.0"),(0,l.kt)("li",{parentName:"ul"},"Require ip 10.1.0.0/16"),(0,l.kt)("li",{parentName:"ul"},"Require host ",(0,l.kt)("a",{parentName:"li",href:"http://www.example.org"},"www.example.org")),(0,l.kt)("li",{parentName:"ul"},"Require host example.org"),(0,l.kt)("li",{parentName:"ul"},"Require host .net example.edu"),(0,l.kt)("li",{parentName:"ul"},"Require local")))),(0,l.kt)("p",null,'\u53ef\u4ee5\u5728 require \u6307\u4ee4\u540e\u7d27\u8ddf not \u5173\u952e\u5b57\uff0c\u8868\u793a\u53d6\u53cd\u3002\u4f8b\u5982 "require not group group1"\u3001"require not local" \u7b49\u3002'),(0,l.kt)("p",null,"\u8fd8\u652f\u6301 require \u6761\u4ef6\u5bb9\u5668\uff0c\u5305\u62ec < RequireAll >\u3001< RequireAny > \u548c < RequireNone >\uff0c\u5f53 require \u6307\u4ee4\u6ca1\u6709\u5199\u5728\u4efb\u4f55 Require \u5bb9\u5668\u4e2d\u65f6\uff0c\u5b83\u4eec\u9690\u5f0f\u5305\u542b\u5728\u4e00\u4e2a < RequireAny > \u5bb9\u5668\u4e2d\u3002"),(0,l.kt)("ul",null,(0,l.kt)("li",{parentName:"ul"},"< RequireAll >\uff1a\u5176\u5185\u5c01\u88c5\u7684 Require \u6307\u4ee4\u5fc5\u987b\u5168\u90fd\u4e0d\u80fd\u5931\u8d25\uff0c\u4e14\u81f3\u5c11\u6709\u4e00\u4e2a\u6210\u529f\u65f6\uff0c\u8be5\u5bb9\u5668\u6210\u529f\u3002\u5982\u679c\u5176\u5185\u6240\u6709\u6307\u4ee4\u65e2\u4e0d\u6210\u529f\u53c8\u4e0d\u5931\u8d25\uff0c\u5219\u8be5\u5bb9\u5668\u4e2d\u7acb\u3002\u5176\u4f59\u6240\u6709\u60c5\u51b5\u90fd\u4f1a\u5bfc\u81f4\u8be5\u5bb9\u5668\u5931\u8d25\u3002"),(0,l.kt)("li",{parentName:"ul"},"< RequireAny >\uff1a\u5176\u5185\u5c01\u88c5\u7684 Require \u6307\u4ee4\u53ea\u8981\u6709\u4e00\u4e2a\u6210\u529f\uff0c\u8be5\u5bb9\u5668\u5c31\u6210\u529f\u3002\u5982\u679c\u5176\u5185\u6240\u6709\u6307\u4ee4\u65e2\u4e0d\u6210\u529f\u53c8\u4e0d\u5931\u8d25\uff0c\u5219\u8be5\u5bb9\u5668\u4e2d\u7acb\u3002\u5176\u4f59\u6240\u6709\u60c5\u51b5(\u5373\u5168\u90e8\u5931\u8d25\u65f6)\u90fd\u4f1a\u5bfc\u81f4\u8be5\u5bb9\u5668\u5931\u8d25\u3002"),(0,l.kt)("li",{parentName:"ul"},"< RequireNone >\uff1a\u5176\u5185\u5c01\u88c5\u7684 Require \u6307\u4ee4\u53ea\u8981\u6709\u4e00\u4e2a\u6210\u529f\u65f6\u8be5\u5bb9\u5668\u5c31\u5931\u8d25\uff0c\u5426\u5219\u5c31\u4e2d\u7acb\u3002")),(0,l.kt)("h3",{id:"624web-\u8eab\u4efd\u8ba4\u8bc1\u793a\u4f8b"},"6.2.4\u3001web \u8eab\u4efd\u8ba4\u8bc1\u793a\u4f8b"),(0,l.kt)("p",null,"\u4ee5\u6700\u5e38\u89c1\u7684 Basic \u8ba4\u8bc1\u65b9\u5f0f\u4e3a\u4f8b\u3002\u652f\u6301\u57fa\u4e8e\u7528\u6237\u7684\u8ba4\u8bc1\u548c\u57fa\u4e8e\u7ec4\u7684\u8ba4\u8bc1\u3002"),(0,l.kt)("h4",{id:"6241\u57fa\u4e8e\u7528\u6237\u7684\u8ba4\u8bc1"},"6.2.4.1\u3001\u57fa\u4e8e\u7528\u6237\u7684\u8ba4\u8bc1"),(0,l.kt)("p",null,"\u5148\u521b\u5efa\u4e00\u4e2a web \u7528\u6237\u53ca\u5176\u5bc6\u7801\u5217\u8868\u6587\u4ef6\u3002\u5176\u5185\u6709 4 \u4e2a\u7528\u6237\uff1aEast\u3001South\u3001West \u548c North\u3002"),(0,l.kt)("pre",null,(0,l.kt)("code",{parentName:"pre",className:"language-bash"},"[root@aarch64 ~]# htpasswd -cb /usr/local/apache/a_com.pass East EpassKey\nAdding password for user East\n[root@aarch64 ~]# htpasswd -b /usr/local/apache/a_com.pass South SpassKey\nAdding password for user South\n[root@aarch64 ~]# htpasswd -b /usr/local/apache/a_com.pass West WpassKey\nAdding password for user West\n[root@aarch64 ~]# htpasswd -b /usr/local/apache/a_com.pass North NpassKey\nAdding password for user North\n[root@aarch64 ~]# \n[root@aarch64 ~]# cat /usr/local/apache/a_com.pass \nEast:$apr1$SnPs00ty$u/5llOVRdnmJ/fM8XAPBF1\nSouth:$apr1$AxSf3CFN$PjbY2TSWe.lDHpGF7y.Dq.\nWest:$apr1$B5A7z4yL$MOQD1DGWkecdMCBfQ43eV0\nNorth:$apr1$Ois62HWt$fFiXEzVcqf/q2mVim1AGL1\n[root@aarch64 ~]#\n")),(0,l.kt)("p",null,"\u4fee\u6539 httpd \u914d\u7f6e\u6587\u4ef6\uff0c\u5047\u8bbe\u53ea\u6709 ",(0,l.kt)("a",{parentName:"p",href:"http://www.a.com"},"www.a.com")," \u4e2d\u7684 a.com \u76ee\u5f55\u624d\u9700\u8981\u8ba4\u8bc1\u4e14\u53ea\u6709 East \u548c West \u53ef\u4ee5\u8ba4\u8bc1\uff0c\u800c\u5176\u4ed6\u76ee\u5f55\u4ee5\u53ca ",(0,l.kt)("a",{parentName:"p",href:"http://www.b.com"},"www.b.com")," \u4e0d\u9700\u8981\u8ba4\u8bc1\uff0c\u5176\u4ed6\u7528\u6237\u8ba4\u8bc1\u4e0d\u901a\u8fc7\u3002"),(0,l.kt)("pre",null,(0,l.kt)("code",{parentName:"pre",className:"language-bash"},'[root@aarch64 ~]# cat /etc/apache/extra/vhosts.conf\n<VirtualHost 192.168.0.99:80>\n    ServerName www.a.com\n    DocumentRoot /usr/local/apache/htdocs/a.com\n    <Directory /usr/local/apache/htdocs/a.com>\n        AllowOverride Authconfig\n        AuthType Basic\n        AuthName "please enter your name & passwd"\n        AuthUserFile a_com.pass\n        Require user East West \n    </Directory>\n</VirtualHost>\n\n<VirtualHost 192.168.0.99:80>\n    ServerName www.b.com\n    DocumentRoot /usr/local/apache/htdocs/b.com\n</VirtualHost>\n[root@aarch64 ~]#\n')),(0,l.kt)("ul",null,(0,l.kt)("li",{parentName:"ul"},'\u6b64\u5904 AuthUserFile \u4f7f\u7528\u7684\u76f8\u5bf9\u8def\u5f84\uff0c\u6240\u4ee5\u8be5\u6587\u4ef6\u5fc5\u987b\u653e\u5728 ServerRoot(\u6211\u7684\u6d4b\u8bd5\u73af\u5883 ServerRoot \u4e3a /usr/local/apache)\u4e0b\u3002\u4e14 Require user \u884c\u53ef\u4ee5\u66ff\u6362\u4e3a "Require valid-user" \u8868\u793a a',"_","com.pass \u4e2d\u7684\u6240\u6709\u7528\u6237\u90fd\u5141\u8bb8\u8ba4\u8bc1\u3002")),(0,l.kt)("p",null,"\u7136\u540e\u91cd\u542f httpd\uff0c\u5e76\u4fee\u6539\u5ba2\u6237\u7aef hosts \u6587\u4ef6\uff1a"),(0,l.kt)("pre",null,(0,l.kt)("code",{parentName:"pre",className:"language-bash"},"[root@aarch64 ~]# service httpd restart\nRestarting httpd (via systemctl):                          [  OK  ]\n[root@aarch64 ~]#\n\n\u7f16\u8f91 windows C:\\Windows\\System32\\Drivers\\etc\\hosts\n192.168.0.99 www.a.com www.b.com\n")),(0,l.kt)("p",null,"windows \u6d4b\u8bd5\u8bbf\u95ee\uff1a"),(0,l.kt)("p",null,(0,l.kt)("img",{alt:"httpd auth",src:a(93903).Z,width:"415",height:"178"})),(0,l.kt)("h4",{id:"6242\u57fa\u4e8e\u7ec4\u7684\u8ba4\u8bc1"},"6.2.4.2\u3001\u57fa\u4e8e\u7ec4\u7684\u8ba4\u8bc1"),(0,l.kt)("p",null,"\u57fa\u4e8e\u7ec4\u7684\u8ba4\u8bc1\u53ea\u9700\u521b\u5efa\u4e00\u4e2a\u7ec4\u6587\u4ef6\uff0c\u6587\u4ef6\u4e2d\u5305\u542b\u7684\u662f\u7ec4\u540d\u548c\u7ec4\u4e2d\u7528\u6237\u6210\u5458\u3002"),(0,l.kt)("p",null,"\u4f8b\u5982\uff0c\u5c06 South \u548c North \u52a0\u5165\u5230 allow \u7ec4\uff0c\u4f7f\u5b83\u4eec\u4e5f\u53ef\u4ee5\u8bbf\u95ee a.com \u76ee\u5f55\u3002"),(0,l.kt)("pre",null,(0,l.kt)("code",{parentName:"pre",className:"language-bash"},"[root@aarch64 ~]# echo 'allow:North South' > /usr/local/apache/auth_group\n")),(0,l.kt)("p",null,"\u4fee\u6539\u914d\u7f6e\u6587\u4ef6\uff0c\u4f8b\u5982\uff1a"),(0,l.kt)("pre",null,(0,l.kt)("code",{parentName:"pre",className:"language-bash"},'[root@aarch64 ~]# cat /etc/apache/extra/vhosts.conf\n<VirtualHost 192.168.0.99:80>\n    ServerName www.a.com\n    DocumentRoot /usr/local/apache/htdocs/a.com\n    <Directory /usr/local/apache/htdocs/a.com>\n        AllowOverride Authconfig\n        AuthType Basic\n        AuthName "please enter your name & passwd"\n        AuthUserFile a_com.pass\n        AuthGroupFile auth_group\n        Require user East West \n        Require group allow\n    </Directory>\n</VirtualHost>\n\n<VirtualHost 192.168.0.99:80>\n    ServerName www.b.com\n    DocumentRoot /usr/local/apache/htdocs/b.com\n</VirtualHost>\n[root@aarch64 ~]#\n')),(0,l.kt)("p",null,"\u518d\u91cd\u542f httpd \u670d\u52a1\u8fdb\u884c\u6d4b\u8bd5\u3002"),(0,l.kt)("h2",{id:"63httpd-\u65e5\u5fd7\u548c\u65e5\u5fd7\u8f6e\u66ff\u5de5\u5177"},"6.3\u3001httpd \u65e5\u5fd7\u548c\u65e5\u5fd7\u8f6e\u66ff\u5de5\u5177"),(0,l.kt)("p",null,"\u9700\u8981\u8bb0\u5f55\u7684\u65e5\u5fd7\u7c7b\u578b\u6709\uff1a\u9519\u8bef\u65e5\u5fd7 ErrorLog\u3001\u8bbf\u95ee\u65e5\u5fd7 CustomLog\u3002\u9519\u8bef\u65e5\u5fd7\u4e00\u822c\u91c7\u7528\u9ed8\u8ba4\u5373\u53ef\uff0c\u6700\u591a\u6539\u4e0b\u9519\u8bef\u65e5\u5fd7\u7684\u5b58\u653e\u8def\u5f84\uff0c\u800c CustomLog \u56e0\u4e3a\u91cf\u6bd4\u8f83\u591a\uff0c\u5f88\u53ef\u80fd\u9700\u8981\u5b9a\u5236\u3002"),(0,l.kt)("p",null,"\u4e8b\u5b9e\u4e0a\uff0cErrorLog \u7531 httpd \u7684\u6838\u5fc3\u6a21\u5757\u63d0\u4f9b\uff0c\u800c CustomLog \u5374\u63d0\u4f9b\u4e86\u4e13\u95e8\u7684\u6a21\u5757 mod","_","log","_","config \u6765\u5904\u7406\uff0c\u8be5\u6a21\u5757\u8fd8\u652f\u6301 TransferLog \u6307\u4ee4\uff0c\u8be5\u6307\u4ee4\u548c CustomLog \u4f5c\u7528\u548c\u7528\u6cd5\u57fa\u672c\u7c7b\u4f3c\uff0c\u5982\u6709\u9700\u8981\u53ef\u67e5\u5b98\u65b9\u624b\u518c\uff0c\u672c\u6587\u7565\u8fc7\u3002"),(0,l.kt)("p",null,"\u6700\u540e\u4ecb\u7ecd\u4e24\u79cd\u65e5\u5fd7\u8f6e\u66ff\u5de5\u5177\uff1aapache httpd \u81ea\u5e26\u7684 rotatelogs \u5de5\u5177\u548c cronolog \u5de5\u5177\u3002"),(0,l.kt)("h3",{id:"631\u9519\u8bef\u65e5\u5fd7-errorlog"},"6.3.1\u3001\u9519\u8bef\u65e5\u5fd7 ErrorLog"),(0,l.kt)("p",null,"\u9519\u8bef\u65e5\u5fd7\u7684\u7ea7\u522b LogLevel\uff1adebug, info, notice, warn(\u9ed8\u8ba4), error, crit, alert, emerg\u3002"),(0,l.kt)("p",null,"\u9519\u8bef\u65e5\u5fd7\u7684\u5b9a\u4e49\u8bed\u6cd5\uff1a"),(0,l.kt)("pre",null,(0,l.kt)("code",{parentName:"pre",className:"language-bash"},"ErrorLog file-path|syslog[:[facility][:tag]]\n")),(0,l.kt)("p",null,"\u5982\u679c\u4f7f\u7528 syslog \u66ff\u6362 file-path\uff0c\u5219\u8868\u793a\u91c7\u7528\u7cfb\u7edf\u81ea\u5e26\u7684 syslog \u65e5\u5fd7\u5de5\u5177\uff0cfacility \u662f\u8bb0\u5f55 syslog \u65e5\u5fd7\u7684\u8bbe\u65bd\u7c7b\u578b\u3002\u4e00\u822c\u6765\u8bf4\uff0c\u4e0d\u4f1a\u91c7\u7528\u8fd9\u79cd\u65b9\u6cd5\u8bb0\u5f55\u65e5\u5fd7\u3002"),(0,l.kt)("p",null,"\u5982\u679c\u91c7\u7528 file-path\uff0c\u5219\u6709\u4e24\u79cd\u65b9\u5f0f\uff1a\u76f4\u63a5\u6307\u5b9a\u6587\u4ef6\u8def\u5f84\uff1b\u524d\u9762\u4f7f\u7528\u7ba1\u9053\uff0c\u8868\u793a\u5c06\u8f93\u51fa\u7684\u65e5\u5fd7\u4f5c\u4e3a\u6807\u51c6\u8f93\u5165\u4f20\u9012\u7ed9\u7ba1\u9053\u540e\u7684\u65e5\u5fd7\u5904\u7406\u7a0b\u5e8f\uff0c\u4f8b\u5982\u4f20\u9012\u7ed9 apache \u81ea\u5e26\u7684 rotatelogs \u5de5\u5177\u3002\u4f8b\u5982\uff1a"),(0,l.kt)("pre",null,(0,l.kt)("code",{parentName:"pre",className:"language-bash"},'ErrorLog "logs/error_log"\nErrorLog "|/usr/local/apache/bin/rotatelogs /var/log/error_log 86400" common\n')),(0,l.kt)("p",null,"\u5f53\u7136\uff0c\u5bf9\u4e8e ErrorLog \u6765\u8bf4\uff0c\u6570\u636e\u91cf\u5e76\u4e0d\u4f1a\u592a\u591a\uff0c\u4e00\u822c\u76f4\u63a5\u4f7f\u7528\u6587\u4ef6\u8bb0\u5f55\u5373\u53ef\u3002\u5bf9\u4e8e CustomLog\uff0c\u5219\u53ef\u4ee5\u8003\u8651\u4f7f\u7528\u65e5\u5fd7\u5207\u5272\u5de5\u5177\u8fdb\u884c\u5206\u5272\u3001\u8f6e\u66ff\u7b49\u884c\u4e3a\u3002"),(0,l.kt)("p",null,"\u9519\u8bef\u65e5\u5fd7\u7684\u8bb0\u5f55\u683c\u5f0f\u7531 ErrorLogFormat \u6307\u4ee4\u63a7\u5236\uff0c\u4f8b\u5982\u4ee5\u4e0b\u662f worker \u548c event \u6a21\u5f0f\u4e0b\u9519\u8bef\u65e5\u5fd7\u7684\u9ed8\u8ba4\u8bb0\u5f55\u683c\u5f0f\uff0c\u5176\u4e2d\u5404\u53c2\u6570\u4ee3\u8868\u7684\u610f\u4e49\u89c1\u5b98\u65b9\u624b\u518c ",(0,l.kt)("a",{parentName:"p",href:"http://httpd.apache.org/docs/2.4/mod/core.html#errorlogformat"},"ErrorLogFormat"),"\u3002"),(0,l.kt)("pre",null,(0,l.kt)("code",{parentName:"pre",className:"language-bash"},'ErrorLogFormat "[%{u}t] [%-m:%l] [pid %P:tid %T] %7F: %E: [client\\ %a] %M% ,\\ referer\\ %{Referer}i"\n')),(0,l.kt)("h3",{id:"632\u8bbf\u95ee\u65e5\u5fd7-customlog"},"6.3.2\u3001\u8bbf\u95ee\u65e5\u5fd7 CustomLog"),(0,l.kt)("p",null,"\u4f7f\u7528 CustomLog \u6307\u4ee4\u6307\u5b9a\u8bbf\u95ee\u65e5\u5fd7\u8bb0\u5f55\u7684\u4f4d\u7f6e\uff0c\u53ef\u4ee5\u5728\u540c\u4e00\u4e2a host \u4e0b\u591a\u6b21\u4f7f\u7528\u8be5\u6307\u4ee4\u8868\u793a\u540c\u4e00\u6761\u65e5\u5fd7\u8bb0\u5f55\u5230\u591a\u4e2a\u4f4d\u7f6e\u3002\u8bed\u6cd5\u683c\u5f0f\u4e3a\uff1a"),(0,l.kt)("pre",null,(0,l.kt)("code",{parentName:"pre",className:"language-bash"},"CustomLog file|pipe format|nickname [env=[!]environment-variable| expr=expression]\n")),(0,l.kt)("p",null,"\u4f7f\u7528 LogFormat \u53ef\u4ee5\u6307\u5b9a\u65e5\u5fd7\u8bb0\u5f55\u7684\u4e8b\u9879\uff0c\u4f8b\u5982\u662f\u5426\u8981\u8bb0\u5f55\u5ba2\u6237\u7aef IP \u5730\u5740\uff0c\u662f\u5426\u8981\u8bb0\u5f55\u8bf7\u6c42\u65b9\u6cd5\u7b49\u3002\u4f7f\u7528 LogFormat \u8fd8\u53ef\u4ee5\u5b9a\u4e49\u65e5\u5fd7\u5206\u7c7b(\u5728 httpd \u672f\u8bed\u4e2d\u79f0\u4e3a nickname)\uff0c\u4f8b\u5982 common \u7c7b\u3001combined \u7c7b\u3001combinedio \u7c7b\u3002\u5b83\u652f\u6301\u975e\u5e38\u5f39\u6027\u5316\u7684\u8bb0\u5f55\u4e8b\u9879\uff0c\u5177\u4f53\u7684\u89c1\u5b98\u65b9\u624b\u518c ",(0,l.kt)("a",{parentName:"p",href:"http://httpd.apache.org/docs/2.4/mod/mod_log_config.html#formats"},"LogFormat"),"\u3002"),(0,l.kt)("pre",null,(0,l.kt)("code",{parentName:"pre",className:"language-bash"},'LogFormat "%h %l %u %t \\"%r\\" %>s %b \\"%{Referer}i\\" \\"%{User-Agent}i\\"" combined\nLogFormat "%h %l %u %t \\"%r\\" %>s %b" common\n\n<IfModule logio_module>\n  # You need to enable mod_logio.c to use %I and %O\n  LogFormat "%h %l %u %t \\"%r\\" %>s %b \\"%{Referer}i\\" \\"%{User-Agent}i\\" %I %O" combinedio\n</IfModule>\n')),(0,l.kt)("p",null,"\u7136\u540e\u4f7f\u7528 CustomLog \u6307\u4ee4\u5c31\u53ef\u4ee5\u4f7f\u7528\u5df2\u7ecf\u5b9a\u4e49\u7684\u65e5\u5fd7\u7c7b\u3002\u4f8b\u5982\uff1a"),(0,l.kt)("pre",null,(0,l.kt)("code",{parentName:"pre",className:"language-bash"},'CustomLog "logs/access_log" combined\n')),(0,l.kt)("p",null,"\u5f53\u7136\uff0c\u4f7f\u7528 LogFormat \u5b9a\u4e49\u5206\u7c7b\u53ea\u662f\u4e3a\u4e86\u65b9\u4fbf\uff0cCustomLog \u6307\u4ee4\u5b8c\u5168\u53ef\u4ee5\u4e0d\u4f7f\u7528 nickname \u800c\u662f\u76f4\u63a5\u5b9a\u4e49\u8981\u8bb0\u5f55\u7684\u4e8b\u9879\u3002\u4f8b\u5982\uff1a"),(0,l.kt)("pre",null,(0,l.kt)("code",{parentName:"pre",className:"language-bash"},'CustomLog "logs/access_log" "%h %l %u %t \\"%r\\" %>s %b \\"%{Referer}i\\" \\"%{User-Agent}i\\""\n')),(0,l.kt)("p",null,"\u5982\u679c\u63d0\u4f9b CustomLog \u7684\u7b2c\u4e09\u4e2a\u53c2\u6570\uff0c\u5373 env \u6216\u8005 expr\uff0c\u5219\u8868\u793a\u6ee1\u8db3\u6761\u4ef6\u7684\u8bf7\u6c42\u624d\u4f1a\u8bb0\u5f55\u65e5\u5fd7\u3002\u4f8b\u5982\uff0c\u5f53\u8bf7\u6c42\u7684\u662f gif \u6587\u4ef6\u65f6\u5c06\u72ec\u7acb\u8bb0\u5f55\u8be5\u65e5\u5fd7\uff0c\u800c\u5176\u4ed6\u8bf7\u6c42\u5219\u8bb0\u5f55\u5728\u53e6\u4e00\u4e2a\u65e5\u5fd7\u4e2d\u3002"),(0,l.kt)("pre",null,(0,l.kt)("code",{parentName:"pre",className:"language-bash"},'SetEnvIf Request_URI \\.gif$ gif-image\nCustomLog "gif-requests.log" common env=gif-image\nCustomLog "nongif-requests.log" common env=!gif-image\n')),(0,l.kt)("p",null,"\u901a\u5e38\u6765\u8bf4\uff0c\u9664\u4e86\u7279\u6b8a\u9700\u6c42\uff0c\u4e00\u822c\u90fd\u53ea\u9700\u4f7f\u7528 LogFormat \u63d0\u4f9b\u7684\u5404\u4e2a\u4e8b\u9879\u5373\u53ef\u3002"),(0,l.kt)("h3",{id:"633\u65e5\u5fd7\u8f6e\u66ff-rotatelogs-\u5de5\u5177"},"6.3.3\u3001\u65e5\u5fd7\u8f6e\u66ff rotatelogs \u5de5\u5177"),(0,l.kt)("p",null,"\u9996\u5148\u8bf4\u660e rotatelogs \u5de5\u5177\uff0c\u5b83\u662f apache httpd \u63d0\u4f9b\u7684\u4e00\u4e2a\u57fa\u4e8e\u65f6\u95f4\u95f4\u9694\u3001\u5927\u5c0f\u5207\u5206\u65e5\u5fd7\u7684\u7b80\u5355\u5de5\u5177\u3002"),(0,l.kt)("p",null,"\u9ed8\u8ba4\uff0c\u5b83\u5728\u542f\u52a8\u65f6\u4e0d\u4f1a\u7acb\u5373\u521b\u5efa\u65e5\u5fd7\u6587\u4ef6\uff0c\u800c\u662f\u5728\u6709\u8bf7\u6c42\u5230\u8fbe\u65f6\u624d\u4f1a\u521b\u5efa\u3002\u540c\u7406\u5728\u8f6e\u66ff\u65f6\u4e5f\u5982\u6b64\uff0c\u5982\u679c\u5230\u8fbe\u4e86\u8f6e\u66ff\u7684\u65f6\u95f4\u95f4\u9694\uff0c\u5982\u679c\u6ca1\u6709\u65b0\u8bf7\u6c42\u5230\u8fbe\uff0c\u5219\u6682\u65f6\u4e0d\u4f1a\u521b\u5efa\u65b0\u7684\u65e5\u5fd7\u6587\u4ef6\u3002"),(0,l.kt)("p",null,'\u5982\u679c\u4f7f\u7528 "-f" \u9009\u9879\uff0c\u5219\u5728\u542f\u52a8\u65f6\uff0c\u4e0d\u7ba1\u662f\u5426\u6709\u6ca1\u6709\u8bf7\u6c42\uff0c\u90fd\u7acb\u5373\u521b\u5efa\u65e5\u5fd7\u6587\u4ef6\u3002\u5982\u679c\u4f7f\u7528 "-c" \u9009\u9879\uff0c\u5219\u5728\u6bcf\u6b21\u8f6e\u66ff\u65f6\u65e0\u8bba\u662f\u5426\u6709\u65b0\u8bf7\u6c42\u5230\u8fbe\uff0c\u90fd\u521b\u5efa\u65b0\u65e5\u5fd7\u6587\u4ef6\u3002'),(0,l.kt)("pre",null,(0,l.kt)("code",{parentName:"pre",className:"language-bash"},"rotatelogs [ -l ] [ -f ] [ -t ] [ -v ] [ -e ] [ -c ] [ -n number-of-files ] logfile rotationtime|filesize(B|K|M|G)\n")),(0,l.kt)("p",null,"\u9009\u9879\u8bf4\u660e\uff1a"),(0,l.kt)("ul",null,(0,l.kt)("li",{parentName:"ul"},(0,l.kt)("inlineCode",{parentName:"li"},"logfile"),"\uff1a\u6307\u5b9a\u65e5\u5fd7\u8bb0\u5f55\u8def\u5f84\u3002\u53ef\u4ee5\u52a0\u4e0a\u4e00\u4e9b\u4fee\u9970\u7b26\uff0c\u4f8b\u5982\u65f6\u95f4\u7c7b\u7684 ",(0,l.kt)("inlineCode",{parentName:"li"},"a.log_%Y.%m.%d")," \u5c06\u5728 a.log \u540e\u8ffd\u52a0\u5e74\u3001\u6708\u3001\u65e5\u7684\u540e\u7f00\uff0c\u5982\u679c\u6ca1\u6709\u7ed9\u5b9a\u4efb\u4f55\u540e\u7f00\u4fee\u9970\uff0c\u5219\u81ea\u52a8\u52a0\u4e0a ",(0,l.kt)("inlineCode",{parentName:"li"},'".nnnnnnnn"'),"\uff0c\u8868\u793a\u521b\u5efa\u65f6\u7684\u65f6\u95f4\u70b9\u6362\u7b97\u6210\u8ddd\u79bb ",(0,l.kt)("inlineCode",{parentName:"li"},"1970-01-01 00:00:00")," \u7684\u603b\u79d2\u6570\uff0c\u4e5f\u5c31\u662f ",(0,l.kt)("inlineCode",{parentName:"li"},'"date +%s"'),"\uff0c\u6bcf\u6b21\u8f6e\u66ff\u65f6\u4e5f\u4f1a\u52a0\u4e0a\u8be5\u540e\u7f00\u3002\u5982\u679c\u4f7f\u7528\u76f8\u5bf9\u8def\u5f84\uff0c\u5219\u76f8\u5bf9\u4e8e ServerRoot\u3002"),(0,l.kt)("li",{parentName:"ul"},(0,l.kt)("inlineCode",{parentName:"li"},"-n"),"\uff1a\u4f7f\u7528\u6570\u5b57\u4f5c\u4e3a\u540e\u7f00\uff0c\u4e14\u8868\u793a\u8f6e\u66ff\u7684\u5faa\u73af\u5217\u8868\uff0c\u4f8b\u5982 ",(0,l.kt)("inlineCode",{parentName:"li"},'"-n 3"')," \u8868\u793a\u4e00\u76f4\u5728 log.1\u3001log.2\u3001log.3 \u8fd9\u4e09\u4e2a\u6587\u4ef6\u4e2d\u8bb0\u5f55\uff0c\u4e0d\u4f1a\u518d\u521b\u5efa\u4efb\u4f55\u65b0\u7684\u65e5\u5fd7\u6587\u4ef6\u3002"),(0,l.kt)("li",{parentName:"ul"},(0,l.kt)("inlineCode",{parentName:"li"},"rotationtime"),"\uff1a\u6307\u5b9a\u8f6e\u66ff\u7684\u65f6\u95f4\u95f4\u9694\u3002\u5c06\u521d\u59cb\u5316\u4e3a\u5bf9\u5e94\u65f6\u95f4\u683c\u5f0f\u7684\u8d77\u59cb\u503c\u3002\u4f8b\u5982\uff0c\u8bbe\u7f6e\u4e3a 3600 \u65f6\uff0c\u5c06\u8868\u793a\u5728\u6bcf\u4e2a\u5c0f\u65f6\u7684\u5f00\u5934\u8fdb\u884c\u8f6e\u66ff\uff0c\u5c3d\u7ba1\u5f53\u524d\u65f6\u95f4\u70b9\u8fdb\u5165\u4e0b\u4e00\u4e2a\u5c0f\u65f6\u53ef\u80fd\u53ea\u6709 5 \u5206\u949f\uff0c\u5728 5 \u5206\u949f\u4e4b\u540e\u4e5f\u4f1a\u8fdb\u884c\u4e00\u6b21\u8f6e\u66ff\u3002"),(0,l.kt)("li",{parentName:"ul"},(0,l.kt)("inlineCode",{parentName:"li"},"filesize"),"\uff1a\u4ee5\u5927\u5c0f\u65b9\u5f0f\u8f6e\u66ff\u65e5\u5fd7\u3002"),(0,l.kt)("li",{parentName:"ul"},(0,l.kt)("inlineCode",{parentName:"li"},"-l"),"\uff1a\u4f7f\u7528\u672c\u5730\u65f6\u95f4\u8ba1\u7b97\u65f6\u95f4\u95f4\u9694\u3002\u9ed8\u8ba4\u4f7f\u7528\u7684\u662f UTC \u65f6\u95f4\u3002"),(0,l.kt)("li",{parentName:"ul"},(0,l.kt)("inlineCode",{parentName:"li"},"-f"),"\uff1a\u5f3a\u5236\u7acb\u5373\u6253\u5f00\u65e5\u5fd7\u6587\u4ef6\u3002\u56e0\u4e3a\u6709\u4e9b\u65f6\u5019\u5728\u542f\u52a8 httpd \u65f6\uff0c\u53ef\u80fd\u4e00\u5c0f\u6bb5\u65f6\u95f4\u5185\u6ca1\u6709\u4efb\u4f55\u8bf7\u6c42\u5230\u8fbe\uff0c\u56e0\u4e3a\u6ca1\u6709\u65e5\u5fd7\u9700\u8981\u8bb0\u5f55\uff0c\u6240\u4ee5\u6682\u65f6\u4e0d\u4f1a\u521b\u5efa\u65e5\u5fd7\u6587\u4ef6\u3002\u4f7f\u7528\u8be5\u9009\u9879\u53ef\u7acb\u5373\u521b\u5efa\u6587\u4ef6\u3002"),(0,l.kt)("li",{parentName:"ul"},(0,l.kt)("inlineCode",{parentName:"li"},"-t"),"\uff1a\u622a\u65ad\u65e5\u5fd7\u800c\u4e0d\u518d\u662f\u8f6e\u66ff\u65e5\u5fd7\u3002\u8fd9\u79cd\u60c5\u51b5\u4e0b\uff0c\u4e0d\u4f1a\u518d\u6dfb\u52a0\u4efb\u4f55\u6587\u4ef6\u540e\u7f00\u3002"),(0,l.kt)("li",{parentName:"ul"},(0,l.kt)("inlineCode",{parentName:"li"},"-v"),"\uff1a\u8be6\u7ec6\u8bb0\u5f55\u8f6e\u66ff\u6216\u622a\u65ad\u65f6\u7684\u4fe1\u606f\u3002"),(0,l.kt)("li",{parentName:"ul"},(0,l.kt)("inlineCode",{parentName:"li"},"-e"),"\uff1a\u5c06\u65e5\u5fd7\u4e5f\u8f93\u51fa\u5230\u6807\u51c6\u9519\u8bef\u8f93\u51fa\u4e2d\u3002\u5f53\u65e5\u5fd7\u8fd8\u9700\u8981\u88ab\u5176\u4ed6\u5de5\u5177\u5904\u7406\u65f6\uff0c\u8be5\u9009\u9879\u6709\u7528\u3002"),(0,l.kt)("li",{parentName:"ul"},(0,l.kt)("inlineCode",{parentName:"li"},"-c"),"\uff1a\u6bcf\u4e2a\u65f6\u95f4\u95f4\u9694\u5230\u4e86\u90fd\u521b\u5efa\u65b0\u6587\u4ef6\uff0c\u5c3d\u7ba1\u6ca1\u6709\u65e5\u5fd7\u5230\u8fbe\u3002\u800c\u9ed8\u8ba4\u7684\u60c5\u51b5\u4e0b\uff0c\u5728\u8f6e\u66ff\u65f6\u95f4\u95f4\u9694\u5230\u8fbe\u65f6\uff0c\u5982\u679c\u6ca1\u6709\u65e5\u5fd7\u5230\u8fbe\uff0c\u5c06\u6682\u65f6\u4e0d\u4f1a\u521b\u5efa\u65e5\u5fd7\uff0c\u800c\u662f\u7b49\u5f85\u7b2c\u4e00\u4e2a\u8bf7\u6c42\u5230\u8fbe\u540e\u624d\u521b\u5efa\u3002")),(0,l.kt)("p",null,"\u6ce8\u610f\uff0c\u5982\u679c\u51fa\u73b0\u4e86\u8f6e\u66ff\u65f6\u6587\u4ef6\u540d\u91cd\u590d\u7684\u60c5\u51b5\uff0c\u4f8b\u5982\u6309\u7167 5M \u5927\u5c0f\u8fdb\u884c\u8f6e\u66ff\uff0c\u4f46\u6587\u4ef6\u540d\u7684\u683c\u5f0f\u4e3a ",(0,l.kt)("inlineCode",{parentName:"p"},'"a.log_%Y.%m.%d"'),"\uff0c\u5982\u679c\u540c\u4e00\u5929\u5185\u51fa\u73b0\u4e86\u591a\u6b21\u8f6e\u66ff\uff0c\u7531\u4e8e\u6587\u4ef6\u540d\u76f8\u540c\uff0c\u5219\u4f1a\u8986\u76d6\u65e7\u6587\u4ef6\u8fdb\u884c\u8bb0\u5f55\u3002"),(0,l.kt)("p",null,"\u53e6\u5916\uff0crotatelogs \u53ea\u80fd\u5bf9\u65e5\u5fd7\u6587\u4ef6\u540d\u672c\u8eab\u4f7f\u7528\u65f6\u95f4\u7c7b\u4fee\u9970\u7b26\uff0c\u65e0\u6cd5\u5c06\u5176\u8bbe\u7f6e\u5728\u76ee\u5f55\u4e0a\uff0c\u5426\u5219\u542f\u52a8 httpd \u65f6\u4f1a\u56e0\u4e3a\u65e0\u6cd5\u6253\u5f00\u65e5\u5fd7\u800c\u62a5\u9519\u3002"),(0,l.kt)("p",null,'\u793a\u4f8b\uff1a\u4ee5\u4e0b\u4f7f\u7528\u4e86\u65e5\u5fd7\u7ba1\u9053 "|"\uff0c\u8868\u793a\u8bb0\u5f55\u7684\u65e5\u5fd7\u4f20\u9012\u7ed9\u540e\u9762\u7684\u7a0b\u5e8f(\u6b64\u5904\u4e3a rotatelogs) \u8fdb\u884c\u5904\u7406\u3002'),(0,l.kt)("p",null,"\u6bcf\u5929\u8f6e\u66ff\u4e00\u6b21 ",(0,l.kt)("inlineCode",{parentName:"p"},"$ServerRoot/logs/mylog.nnnnnnnn"),"\uff0c\u5176\u4e2d nnnnnnnn \u662f\u5f53\u524d\u65f6\u95f4\u6362\u7b97\u6210\u79d2\u7684\u6570\u503c\u3002\u4e14\u5728\u542f\u52a8\u65f6\u4e0d\u7acb\u5373\u521b\u5efa\u65e5\u5fd7\u6587\u4ef6\uff0c\u8f6e\u66ff\u65f6\u4e5f\u4e0d\u7acb\u5373\u521b\u5efa\u65b0\u65e5\u5fd7\u6587\u4ef6\u3002"),(0,l.kt)("pre",null,(0,l.kt)("code",{parentName:"pre",className:"language-bash"},'CustomLog "|/usr/local/apache/bin/rotatelogs logs/mylog 86400" common\n')),(0,l.kt)("p",null,"\u6309\u7167\u6587\u4ef6\u5927\u5c0f\u8f6e\u66ff\u3002"),(0,l.kt)("pre",null,(0,l.kt)("code",{parentName:"pre",className:"language-bash"},'CustomLog "|bin/rotatelogs /var/log/logfile 5M" common\n')),(0,l.kt)("p",null,"\u8f6e\u66ff\u9519\u8bef\u65e5\u5fd7\uff0c\u8fbe\u5230 5M \u65f6\u5c31\u8f6e\u66ff\u3002"),(0,l.kt)("pre",null,(0,l.kt)("code",{parentName:"pre",className:"language-bash"},'ErrorLog "|bin/rotatelogs /var/log/errorlog.%Y-%m-%d-%H_%M_%S 5M"\n')),(0,l.kt)("p",null,"\u622a\u65ad\u65e5\u5fd7\u800c\u975e\u8f6e\u66ff\u65e5\u5fd7\u3002"),(0,l.kt)("pre",null,(0,l.kt)("code",{parentName:"pre",className:"language-bash"},'CustomLog "|bin/rotatelogs -t /var/log/logfile 86400" common\n')),(0,l.kt)("p",null,"\u4ee5\u4e0b\u662f\u65e5\u671f\u7c7b\u7684\u4fee\u9970\u7b26\u3002\u4e0b\u9762\u7684 cronolog \u5de5\u5177\u4e5f\u91c7\u7528\u8fd9\u540c\u4e00\u5957\u4fee\u9970\u7b26\u3002"),(0,l.kt)("pre",null,(0,l.kt)("code",{parentName:"pre",className:"language-bash"},'%    %\u5b57\u7b26\nn    \u6362\u884c\nt    \u6c34\u5e73\u5236\u8868\u7b26\n\n\u65f6\u95f4\u7c7b:  \nH    \u5c0f\u65f6(00..23)\nI    \u5c0f\u65f6(01..12)\np    \u8be5locale\u4e0b\u7684AM\u6216PM\u6807\u8bc6\nM    \u5206\u949f(00..59)\nS    \u79d2 (00..61, which allows for leap seconds)\nX    \u8be5locale\u4e0b\u65f6\u95f4\u8868\u793a\u7b26(e.g.: "15:12:47")\nZ    \u65f6\u533a\u3002\u82e5\u65f6\u533a\u4e0d\u80fd\u786e\u5b9a\uff0c\u5219\u65e0\u610f\u4e49\n\n\u65e5\u671f\u7c7b:  \na    \u8be5locale\u4e0b\u7684\u5de5\u4f5c\u65e5\u7b80\u540d(e.g.: Sun..Sat)\nA    \u8be5locale\u4e0b\u7684\u5de5\u4f5c\u65e5\u5168\u540d(e.g.: Sunday ..  Satur-ay)\nb    \u8be5locale\u4e0b\u7684\u6708\u4efd\u7b80\u79f0(e.g.: Jan .. Dec)\nB    \u8be5locale\u4e0b\u7684\u6708\u4efd\u5168\u79f0(e.g.:  January .. December)\nc    \u8be5locale\u4e0b\u7684\u65e5\u671f\u548c\u65f6\u95f4(e.g.: "Sun Dec 15  14:12:47 GMT 1996")\nd    \u5f53\u6708\u4e2d\u7684\u5929\u6570 (01 .. 31)\nj    \u5f53\u5e74\u4e2d\u7684\u5929\u6570 (001 .. 366)\nm    \u6708\u6570 (01 .. 12)\nU    \u5f53\u5e74\u4e2d\u7684\u661f\u671f\u6570\uff0c\u4ee5\u5468\u65e5\u4f5c\u4e3a\u4e00\u5468\u5f00\u59cb,\u5176\u4e2d\u7b2c\u4e00\u5468\u4e3a\u9996\u4e2a\u542b\u661f\u671f\u5929\u7684\u661f\u671f(00..53)\nW    \u5f53\u5e74\u4e2d\u7684\u661f\u671f\u6570\uff0c\u4ee5\u661f\u671f\u4e00\u4f5c\u4e3a\u4e00\u5468\u7684\u5f00\u59cb,\u5176\u4e2d\u7b2c\u4e00\u5468\u4e3a\u9996\u4e2a\u542b\u661f\u671f\u5929\u7684\u661f\u671f(00..53)\nw    \u5de5\u4f5c\u65e5\u6570(0 .. 6, 0\u8868\u793a\u661f\u671f\u5929)\nx    \u8be5locale\u4e0b\u7684\u65e5\u671f\u8868\u793a(e.g. "13/04/97")\ny    \u4e24\u4f4d\u6570\u7684\u5e74\u4efd(00 .. 99)\nY    \u56db\u4f4d\u6570\u7684\u5e74\u4efd(1970 .. 2038)\n')),(0,l.kt)("h3",{id:"634\u65e5\u5fd7\u8f6e\u66ff-cronolog-\u5de5\u5177"},"6.3.4\u3001\u65e5\u5fd7\u8f6e\u66ff cronolog \u5de5\u5177"),(0,l.kt)("p",null,"\u901a\u8fc7 epel \u6e90\u5b89\u88c5\uff1a"),(0,l.kt)("pre",null,(0,l.kt)("code",{parentName:"pre",className:"language-bash"},"[root@arm64v8 ~]# wget -O /etc/yum.repos.d/epel.repo http://mirrors.aliyun.com/repo/epel-7.repo\n[root@arm64v8 ~]# yum install cronolog -y\n")),(0,l.kt)("pre",null,(0,l.kt)("code",{parentName:"pre",className:"language-bash"},'[root@arm64v8 ~]# cronolog -h\nusage: cronolog [OPTIONS] logfile-spec\n\n   -H NAME,   --hardlink=NAME maintain a hard link from NAME to current log\n   -S NAME,   --symlink=NAME  maintain a symbolic link from NAME to current log\n   -P NAME,   --prev-symlink=NAME  maintain a symbolic link from NAME to previous log\n   -l NAME,   --link=NAME     same as -S/--symlink\n   -h,        --help          print this help, then exit\n   -p PERIOD, --period=PERIOD set the rotation period explicitly\n   -d DELAY,  --delay=DELAY   set the rotation period delay\n   -o,        --once-only     create single output log from template (not rotated)\n   -x FILE,   --debug=FILE    write debug messages to FILE\n                              ( or to standard error if FILE is "-")\n   -a,        --american         American date formats\n   -e,        --european         European date formats (default)\n   -s,    --start-time=TIME   starting time\n   -z TZ, --time-zone=TZ      use TZ for timezone\n   -V,      --version         print version number, then exit\n[root@arm64v8 ~]#\n')),(0,l.kt)("p",null,"\u8fd9\u4e2a\u5de5\u5177\u7684\u4f7f\u7528\u975e\u5e38\u7b80\u5355\uff0c\u4f46\u5fc5\u987b\u5f97\u641e\u61c2\u5b83\u7684\u8f6e\u66ff\u539f\u7406\u3002\u4ee5\u4e0b\u9762\u8bbe\u7f6e\u4e3a\u4f8b\uff1a"),(0,l.kt)("pre",null,(0,l.kt)("code",{parentName:"pre",className:"language-bash"},'CustomLog "|/usr/local/sbin/cronolog logs/%Y/%m/%d/access.log" combined\n')),(0,l.kt)("ul",null,(0,l.kt)("li",{parentName:"ul"},"\u7531\u4e8e\u4f7f\u7528\u7684\u662f\u76f8\u5bf9\u8def\u5f84\uff0c\u6240\u4ee5\u5b83\u76f8\u5bf9\u4e8e ServerRoot\u3002\u5047\u8bbe ServerRoot \u4e3a /usr/local/apache\uff0c\u5219\u8fd9\u91cc\u7684\u65e5\u5fd7\u5c06\u521b\u5efa\u5728 ",(0,l.kt)("inlineCode",{parentName:"li"},"/usr/local/apache/logs/%Y/%m/%d/access.log"),"\uff0c\u5176\u4e2d ",(0,l.kt)("inlineCode",{parentName:"li"},"%Y\u3001%m\u3001%d")," \u5206\u522b\u8868\u793a\u7684\u662f\u5e74\u3001\u6708\u3001\u65e5\u3002\u8fd9\u4e9b\u4fee\u9970\u7b26\u7ec4\u6210\u7684\u6587\u4ef6\u540d\u6216\u76ee\u5f55\u88ab\u79f0\u4e3a\u6a21\u677f\u3002")),(0,l.kt)("p",null,"cronolog \u7684\u8f6e\u66ff\u539f\u7406\u662f\uff1a"),(0,l.kt)("ul",null,(0,l.kt)("li",{parentName:"ul"},"\u6839\u636e\u5f53\u524d\u65e5\u5fd7\u6587\u4ef6\u6a21\u677f\u7684\u65f6\u95f4\u70b9\uff0c\u548c\u5f53\u524d\u65f6\u95f4\u8fdb\u884c\u6bd4\u8f83\uff0c\u5982\u679c\u6a21\u677f\u4e2d\u7684\u67d0\u4e2a\u90e8\u5206\u548c\u5f53\u524d\u65f6\u95f4\u70b9\u4e0d\u540c\uff0c\u5219\u9700\u8981\u8fdb\u884c\u8f6e\u66ff\uff0c\u8f6e\u66ff\u65f6\u4f1a\u81ea\u52a8\u521b\u5efa\u7f3a\u5931\u7684\u76ee\u5f55\uff0c\u5e76\u4e14\u8ba1\u7b97\u4e0b\u4e00\u6b21\u8fdb\u884c\u8f6e\u66ff\u7684\u65f6\u95f4\u70b9\u3002"),(0,l.kt)("li",{parentName:"ul"},"\u5728\u8f6e\u66ff\u65f6\uff0c\u5148\u5173\u95ed\u5f53\u524d\u65e5\u5fd7\u6587\u4ef6\uff0c\u518d\u6839\u636e\u5f53\u524d\u65f6\u95f4\u70b9\u521b\u5efa\u65b0\u65e5\u5fd7\u6587\u4ef6\uff0c\u5e76\u6253\u5f00\u65b0\u65e5\u5fd7\u6587\u4ef6\u3002"),(0,l.kt)("li",{parentName:"ul"},"\u4f46\u6ce8\u610f\uff0ccronolog \u5de5\u5177\u5728\u521b\u5efa\u6216\u8f6e\u66ff\u65f6\uff0c\u5982\u679c\u6ca1\u6709\u8bf7\u6c42\u5230\u8fbe\uff0c\u5219\u4e0d\u4f1a\u7acb\u5373\u521b\u5efa\u65e5\u5fd7\u6587\u4ef6\uff0c\u8fd9\u548c rotatelogs \u5de5\u5177\u7684\u9ed8\u8ba4\u60c5\u51b5\u662f\u4e00\u6837\u7684\u3002")),(0,l.kt)("p",null,"\u770b\u4e0a\u53bb\u5f88\u7b80\u5355\uff0c\u786e\u5b9e\u5f88\u7b80\u5355\uff0c\u5b83\u53ea\u9700\u8981\u6839\u636e\u6307\u5b9a\u7684\u65f6\u95f4\u4fee\u9970\u7b26\u548c\u5f53\u524d\u65f6\u95f4\u70b9\u8fdb\u884c\u6bd4\u8f83\u5c31\u53ef\u4ee5\u4e86\u3002"),(0,l.kt)("p",null,"\u4f8b\u5982\u4e0a\u9762\u7684\u914d\u7f6e\uff0c\u5982\u679c\u5f53\u524d\u65f6\u95f4\u70b9\u4e3a 2021-10-01\uff0c\u5219\u6309\u7167\u4ee5\u4e0b\u987a\u5e8f\u8fdb\u884c\u521b\u5efa\uff0c\u6ce8\u610f\uff0c\u53ea\u6709\u5728\u8bf7\u6c42\u5230\u8fbe\u65f6\u624d\u4f1a\u521b\u5efa\uff0c\u6ca1\u6709\u8bf7\u6c42\u65f6\u662f\u4e0d\u4f1a\u521b\u5efa\u7684\u3002"),(0,l.kt)("ol",null,(0,l.kt)("li",{parentName:"ol"},"Period 1\uff1a\u5728\u7b2c\u4e00\u4e2a\u8bf7\u6c42\u5230\u8fbe\u65f6\u521b\u5efa",(0,l.kt)("ul",{parentName:"li"},(0,l.kt)("li",{parentName:"ul"},"logs/2021 \u76ee\u5f55\u662f\u5426\u5b58\u5728\uff0c\u4e0d\u5b58\u5728\u5219\u521b\u5efa\u3002"),(0,l.kt)("li",{parentName:"ul"},"logs/2021/10 \u76ee\u5f55\u662f\u5426\u5b58\u5728\uff0c\u4e0d\u5b58\u5728\u5219\u521b\u5efa\u3002"),(0,l.kt)("li",{parentName:"ul"},"logs/2021/10/01 \u76ee\u5f55\u662f\u5426\u5b58\u5728\uff0c\u4e0d\u5b58\u5728\u5219\u521b\u5efa\u3002"),(0,l.kt)("li",{parentName:"ul"},"\u521b\u5efa logs/2021/10/01/access.log \u6587\u4ef6\uff0c\u5e76\u5199\u65e5\u5fd7\u3002"))),(0,l.kt)("li",{parentName:"ol"},"Period 2\uff1a\u5728 2021-10-02 \u51cc\u6668\u7b2c\u4e00\u4e2a\u8bf7\u6c42\u5230\u8fbe\u65f6\u521b\u5efa",(0,l.kt)("ul",{parentName:"li"},(0,l.kt)("li",{parentName:"ul"},"logs/2021 \u76ee\u5f55\u5df2\u5b58\u5728\uff0c\u4e0d\u521b\u5efa\u3002"),(0,l.kt)("li",{parentName:"ul"},"logs/2021/10 \u76ee\u5f55\u5df2\u5b58\u5728\uff0c\u4e0d\u521b\u5efa\u3002"),(0,l.kt)("li",{parentName:"ul"},"logs/2021/10/02 \u76ee\u5f55\u4e0d\u5b58\u5728\uff0c\u521b\u5efa\u3002"),(0,l.kt)("li",{parentName:"ul"},"\u521b\u5efa logs/2021/10/02/access.log \u6587\u4ef6\uff0c\u5e76\u5199\u65e5\u5fd7\u3002"))),(0,l.kt)("li",{parentName:"ol"},"\u4e4b\u540e\u5c06\u7ee7\u7eed\u6309\u7167\u6b64\u89c4\u5219\u4e0d\u65ad\u8fdb\u884c\u4e0b\u53bb ......")),(0,l.kt)("p",null,"\u4e5f\u5c31\u662f\u8bf4\uff0ccronolog \u9ed8\u8ba4\u5c06\u6309\u7167\u6700\u5c0f\u5355\u4f4d\u7684\u65f6\u95f4\u4fee\u9970\u7b26\u4e3a\u8f6e\u66ff\u65f6\u95f4\u95f4\u9694\u3002\u4f8b\u5982\uff0c\u6700\u5c0f\u5355\u4f4d\u4e3a ",(0,l.kt)("inlineCode",{parentName:"p"},"%d")," \u65f6\uff0c\u5c06\u6309\u7167\u5929\u8f6e\u66ff\uff0c\u6700\u5c0f\u5355\u4f4d\u4e3a ",(0,l.kt)("inlineCode",{parentName:"p"},"%W")," \u5c06\u6309\u5468\u8f6e\u66ff\uff0c\u6700\u5c0f\u5355\u4f4d\u4e3a ",(0,l.kt)("inlineCode",{parentName:"p"},"%S"),"\uff0c\u5c06\u6309\u79d2\u8f6e\u66ff\u3002\u4f46\u4ecd\u7136\u9700\u8981\u8bf4\u660e\u7684\u662f\uff0c\u53ea\u6709\u8bf7\u6c42\u5230\u8fbe\u65f6\uff0c\u624d\u4f1a\u6309\u7167\u5f53\u524d\u65f6\u95f4\u70b9\u521b\u5efa\u65b0\u7684\u65e5\u5fd7\u6587\u4ef6\u3002"),(0,l.kt)("ul",null,(0,l.kt)("li",{parentName:"ul"},"\u4f8b\u5982\uff0c\u5982\u679c\u6309\u79d2\u8f6e\u66ff\uff0c\u7b2c 10 \u79d2\u65f6\u521b\u5efa\u4e86\u4e00\u4e2a\u6587\u4ef6 10.log\uff0c\u7b2c 11 \u79d2\u5c06\u5173\u95ed\u8be5\u65e5\u5fd7\u6587\u4ef6\uff0c\u4f46\u662f\u4e0d\u4f1a\u7acb\u5373\u521b\u5efa\u65b0\u65e5\u5fd7\u6587\u4ef6\uff0c\u5047\u8bbe\u5728\u7b2c 15 \u79d2\u65f6\u65b0\u7684\u8bf7\u6c42\u5230\u8fbe\uff0c\u5219\u521b\u5efa\u4e00\u4e2a 15.log\uff0c\u800c\u4e0d\u662f 11.log\u3002")),(0,l.kt)("p",null,'\u6b64\u5916\uff0ccronolog \u53ef\u4f7f\u7528 "-p N UNITs" \u9009\u9879\u663e\u5f0f\u6307\u5b9a\u8f6e\u66ff\u65f6\u95f4\u95f4\u9694\uff0c\u6709\u6548\u5355\u4f4d UNITs \u4e3a\uff1aseconds, minutes, hours,days, weeks \u548c months\u3002'),(0,l.kt)("ul",null,(0,l.kt)("li",{parentName:"ul"},'\u4f8b\u5982 "-p 5 minutes" \u8868\u793a\u6bcf 5 \u5206\u949f\u8f6e\u66ff\u4e00\u6b21\u3002'),(0,l.kt)("li",{parentName:"ul"},'\u4f46\u9700\u8981\u6ce8\u610f\uff0cN \u7684\u503c\u5fc5\u987b\u4e3a\u66f4\u9ad8\u4e00\u7ea7 UNITs \u7684\u516c\u56e0\u6570(\u4e0d\u5305\u62ec\u6700\u5927\u516c\u56e0\u6570)\uff0c\u4f8b\u5982\u5c0f\u65f6\u7684\u957f\u5ea6\u4e3a 60 \u5206\u949f\uff0c\u5728\u6307\u5b9a minutes \u5355\u4f4d\u65f6\uff0c\u53ef\u4ee5\u6307\u5b9a "1,2,3,4,5,6,10,15,20,30 minutes"\uff0c\u4f46\u4e0d\u80fd\u6307\u5b9a\u4e3a "7,9,11,12,13,14" \u7b49 minutes\u3002')),(0,l.kt)("p",null,'\u5982\u679c\u4e0d\u60f3\u8f6e\u66ff\uff0c\u6709\u4e24\u79cd\u65b9\u6cd5\uff1a\u4e0d\u8981\u4f7f\u7528\u65f6\u95f4\u7c7b\u7684\u4fee\u9970\u7b26\uff1b\u4f7f\u7528 "-o" \u9009\u9879\u3002\u8fd9\u65f6\u5019\u4f1a\u4e00\u76f4\u5199\u540c\u4e00\u4e2a\u6587\u4ef6\u3002'),(0,l.kt)("p",null,"cronolog \u8fd8\u652f\u6301\u52a8\u6001\u7b26\u53f7\u94fe\u63a5\u529f\u80fd\uff0c\u4f8b\u5982\u4e0b\u9762\u7684\u914d\u7f6e\uff0c\u8fd9\u6837\u5c31\u4f7f\u5f97\u6bcf\u6b21\u8bbf\u95ee /usr/local/apache/logs/access","_","log \u90fd\u80fd\u8bbf\u95ee\u5230\u6700\u65b0\u7684\u65e5\u5fd7\u6587\u4ef6\u3002"),(0,l.kt)("pre",null,(0,l.kt)("code",{parentName:"pre",className:"language-bash"},'CustomLog "|/path/to/cronolog --symlink=/usr/local/apache/logs/access_log /usr/local/apache/logs/%Y/%m/access_log" combined\n')),(0,l.kt)("p",null,"\u6700\u540e\uff0ccronolog \u4e0d\u652f\u6301\u65e5\u5fd7\u622a\u65ad\u3002"),(0,l.kt)("h3",{id:"635rotatelogs-\u548c-cronolog-\u7684\u6bd4\u8f83"},"6.3.5\u3001rotatelogs \u548c cronolog \u7684\u6bd4\u8f83"),(0,l.kt)("p",null,"\u8fd9\u4e24\u4e2a\u5de5\u5177\u5404\u6709\u4f18\u7f3a\u70b9\uff1a"),(0,l.kt)("ol",null,(0,l.kt)("li",{parentName:"ol"},"\u5728\u65e5\u5fd7\u6587\u4ef6\u8def\u5f84\u4e0a\uff1arotatelogs \u65e0\u6cd5\u5c06\u65f6\u95f4\u7c7b\u4fee\u9970\u7b26\u4f5c\u4e3a\u76ee\u5f55\uff0c\u53ea\u80fd\u4f7f\u7528\u5728\u65e5\u5fd7\u6587\u4ef6\u540d\u4e0a\u3002\u800c cronolog \u53ef\u4ee5\u3002\u4f8b\u5982 ",(0,l.kt)("inlineCode",{parentName:"li"},"logs/%Y%m/%d/access.log"),"\u3002"),(0,l.kt)("li",{parentName:"ol"},"\u5728\u65e5\u5fd7\u63a7\u5236\u529b\u5ea6\u4e0a\uff1arotatelogs \u5bf9\u65e5\u5fd7\u7684\u63a7\u5236\u529b\u66f4\u5f3a\uff0c\u5b83\u53ef\u4ee5\u63a7\u5236\u542f\u52a8\u65f6\u3001\u8f6e\u66ff\u65f6\u662f\u5426\u7acb\u5373\u521b\u5efa\u65e5\u5fd7\u6587\u4ef6\u3002\u800c cronolog \u4ec5\u53ea\u80fd\u5728\u6709\u65b0\u8bf7\u6c42\u5230\u8fbe\u65f6\u624d\u521b\u5efa\u65e5\u5fd7\u6587\u4ef6\u3002"),(0,l.kt)("li",{parentName:"ol"},"\u5728\u7279\u6027\u4e0a\uff1arotatelogs \u66f4\u4e30\u5bcc\u4e00\u4e9b\uff0c\u5b83\u652f\u6301\u65e5\u5fd7\u622a\u65ad\uff0c\u652f\u6301\u5728\u4e00\u5b9a\u6570\u91cf\u5185\u5faa\u73af\u8f6e\u66ff\u3002\u800c cronolog \u53ea\u80fd\u8f6e\u66ff\uff0c\u4e14\u53ea\u80fd\u6309\u7167\u65f6\u95f4\u4e0d\u65ad\u5411\u540e\u8f6e\u66ff\u3002"),(0,l.kt)("li",{parentName:"ol"},"\u5728\u65e5\u5fd7\u8bbf\u95ee\u65b9\u4fbf\u6027\u4e0a\uff1acronolog \u901a\u8fc7\u5b83\u7684\u52a8\u6001\u7b26\u53f7\u94fe\u63a5\u529f\u80fd\u4f7f\u5f97\u8fd9\u4e00\u70b9\u6bd4 rotatelogs \u65b9\u4fbf\u7684\u591a\u3002")),(0,l.kt)("h2",{id:"64httpd-\u8def\u5f84\u6620\u5c04\u548c\u91cd\u5b9a\u5411"},"6.4\u3001httpd \u8def\u5f84\u6620\u5c04\u548c\u91cd\u5b9a\u5411"),(0,l.kt)("p",null,"\u4e3b\u8981\u5305\u62ec Alias \u6307\u4ee4\u3001AliasMatch\u3001Redirect\u3001RedirectMatch\u3001ScriptAlias \u548c ScriptAliasMatch\u3002\u5b83\u4eec\u7531 mod","_","alias \u6a21\u5757\u63d0\u4f9b\uff0c\u8be5\u6a21\u5757\u7528\u4e8e\u63d0\u4f9b\u7b80\u5355\u7684\u8def\u5f84\u6620\u5c04\u548c\u91cd\u5b9a\u5411\u9700\u6c42\uff0c\u66f4\u590d\u6742\u7684\u5185\u5bb9\u89c1 ",(0,l.kt)("a",{parentName:"p",href:"http://httpd.apache.org/docs/2.4/mod/mod_rewrite.html"},"URL\u91cd\u5199"),"\u3002"),(0,l.kt)("p",null,"\u5176\u4e2d ScriptAlias \u7528\u6cd5\u548c Alias \u5b8c\u5168\u4e00\u6837\uff0c\u552f\u4e00\u4e0d\u540c\u7684\u662f ScriptAlias \u6620\u5c04\u7684\u76ee\u6807\u8def\u5f84\u88ab\u8ba4\u4e3a\u662f CGI \u6587\u4ef6\u6216\u5305\u542b CGI \u6587\u4ef6\u7684\u76ee\u5f55\uff0c\u5b83\u4eec\u5c06\u4f1a\u88ab cgi \u5904\u7406\u5668\u5904\u7406\u6267\u884c\u3002"),(0,l.kt)("h3",{id:"641\u5904\u7406\u987a\u5e8f"},"6.4.1\u3001\u5904\u7406\u987a\u5e8f"),(0,l.kt)("p",null,"Redirect\u3001RedirectMatch \u6307\u4ee4\u4f18\u5148\u4e8e Alias\u3001AliasMatch \u8fdb\u884c\u5904\u7406\uff1b\u540c\u7c7b\u578b\u7684 Redirect \u6216 Alias \u6309\u7167\u51fa\u73b0\u987a\u5e8f\u8fdb\u884c\u5339\u914d\uff0c\u5339\u914d\u5230\u4e86\u7acb\u5373\u505c\u6b62\u3002"),(0,l.kt)("p",null,"\u4f8b\u5982\uff0c\u5982\u679c\u51e0\u4e2a\u6307\u4ee4\u6309\u7167\u4e0b\u9762\u7684\u987a\u5e8f\u51fa\u73b0\uff1a"),(0,l.kt)("pre",null,(0,l.kt)("code",{parentName:"pre",className:"language-bash"},"Redirect1\nAlias1\nAliasMatch2\nAlias3\nRedirectMatch2\nRedirect3\n")),(0,l.kt)("ul",null,(0,l.kt)("li",{parentName:"ul"},"\u90a3\u4e48\u5b83\u4eec\u5339\u914d\u7684\u987a\u5e8f\u4e3a\uff1aRedirect1 > RedirectMatch2 > Redirect3 > Alias1 > AliasMatch2 > Alias3\u3002\u4e14\u4e00\u88ab\u5339\u914d\u7acb\u5373\u751f\u6548\uff0c\u540e\u9762\u7684\u5c06\u88ab\u5ffd\u7565\u3002")),(0,l.kt)("h3",{id:"642alias-\u548c-aliasmatch"},"6.4.2\u3001Alias \u548c AliasMatch"),(0,l.kt)("p",null,"Alias \u6307\u4ee4\u7528\u4e8e\u5c06 URL \u8def\u5f84\u6620\u5c04\u5230\u672c\u5730\u6587\u4ef6\u7cfb\u7edf\u7684\u8def\u5f84\uff0c\u4e14\u672c\u5730\u8def\u5f84\u4e0d\u53d7 DocumentRoot \u7684\u9650\u5236\u3002AliasMatch \u662f\u6b63\u5219\u7248\u672c\u7684 Alias\u3002"),(0,l.kt)("pre",null,(0,l.kt)("code",{parentName:"pre",className:"language-bash"},'Alias "/image" "/ftp/pub/image"\n')),(0,l.kt)("p",null,"\u8fd9\u5c06\u4f7f\u5f97 ",(0,l.kt)("a",{parentName:"p",href:"http://myserver/image/foo.gif"},"http://myserver/image/foo.gif")," \u7684\u8bf7\u6c42\u5f97\u5230 /ftp/pub/image/foo.gif\uff0c\u7531\u4e8e\u662f\u7cbe\u786e\u5339\u914d\u7684\uff0c\u6240\u4ee5 ",(0,l.kt)("a",{parentName:"p",href:"http://myserver/image/foo.gif"},"http://myserver/image/foo.gif")," \u4e0d\u4f1a\u8fd4\u56de\u8be5\u8def\u5f84\u4e0b\u7684\u6587\u4ef6\u3002\u4f46 Alias \u6709\u652f\u6301\u6b63\u5219\u5339\u914d\u7684\u6307\u4ee4 AliasMatch\u3002"),(0,l.kt)("pre",null,(0,l.kt)("code",{parentName:"pre",className:"language-bash"},'AliasMatch "(?i)^/image(.*)" "/ftp/pub/image$1"\n')),(0,l.kt)("p",null,"Alias \u4e2d\u5982\u679c URL \u90e8\u5206\u5305\u542b\u4e86\u5c3e\u968f\u659c\u7ebf\uff0c\u5219\u6620\u5c04\u8def\u5f84\u4e5f\u5e94\u8be5\u5305\u542b\u659c\u7ebf\u3002\u4f8b\u5982\u4e0b\u9762\u7684\u4f8b\u5b50\uff0c\u8fd9\u65f6\u5982\u679c\u8bf7\u6c42 ",(0,l.kt)("a",{parentName:"p",href:"http://myserver/icons"},"http://myserver/icons")," \uff0c\u5c06\u4e0d\u4f1a\u5f97\u5230 /usr/local/apache/icons/$DirectoryIndex\u3002"),(0,l.kt)("pre",null,(0,l.kt)("code",{parentName:"pre",className:"language-bash"},'Alias "/icons/" "/usr/local/apache/icons/"\n')),(0,l.kt)("p",null,'\u8bbe\u7f6e\u4e86 Alias \u540e\uff0c\u9700\u8981\u8003\u8651\u6620\u5c04\u5230\u7684\u672c\u5730\u8def\u5f84\u7684\u6743\u9650\u662f\u5426\u653e\u884c\u3002\u7279\u522b\u662f\u5bf9\u4e8e DocumentRoot \u5916\u7684\u8def\u5f84\uff0c\u901a\u5e38\u4f1a\u56e0\u4e3a < Directory "/"> \u7684\u62d2\u7edd\u800c\u5bfc\u81f4\u8fd9\u4e9b\u6620\u5c04\u76ee\u6807\u4e0d\u80fd\u8bbf\u95ee\u3002\u6240\u4ee5\uff0c\u5bf9\u4e8e\u8fd9\u6837\u7684\u6620\u5c04\u8def\u5f84\u5e94\u8be5\u8fd8\u9700\u8981\u4e3a Alias \u6307\u4ee4\u914d\u4e00\u4e2a < Directory > \u5bb9\u5668\u653e\u884c\u3002\u4f8b\u5982\uff1a'),(0,l.kt)("pre",null,(0,l.kt)("code",{parentName:"pre",className:"language-bash"},'Alias "/image" "/ftp/pub/image"\n<Directory "/ftp/pub/image">\n    Require all granted\n</Directory>\n')),(0,l.kt)("p",null,"\u5982\u679c Alias \u6216 AliasMatch \u51fa\u73b0\u5728 < Location > \u5bb9\u5668\u4e2d\uff0c\u5219\u5b83\u4eec\u53ea\u9700\u8981\u4e00\u4e2a\u6620\u5c04\u8def\u5f84\u4f5c\u4e3a\u53c2\u6570\u5373\u53ef\uff0c\u56e0\u4e3a URL \u5df2\u7ecf\u5305\u542b\u5728\u5bb9\u5668\u8def\u5f84\u4e2d\u3002\u4f8b\u5982\uff1a"),(0,l.kt)("pre",null,(0,l.kt)("code",{parentName:"pre",className:"language-bash"},'<Location "/image">\n    Alias "/ftp/pub/image"\n</Location>\n')),(0,l.kt)("h3",{id:"643redirect-\u548c-redirectmatch-\u6307\u4ee4"},"6.4.3\u3001Redirect \u548c RedirectMatch \u6307\u4ee4"),(0,l.kt)("p",null,"\u5b83\u4eec\u544a\u77e5\u5ba2\u6237\u7aef\u8d44\u6e90\u5df2\u7ecf\u8f6c\u79fb\uff0c\u8ba9\u5b83\u4eec\u91cd\u65b0\u53d1\u9001\u5bf9\u65b0\u8def\u5f84\u8d44\u6e90\u7684 HTTP \u8bf7\u6c42\u3002"),(0,l.kt)("pre",null,(0,l.kt)("code",{parentName:"pre",className:"language-bash"},"Redirect [status] old-URL new-URL\n")),(0,l.kt)("p",null,'\u65e7\u7684 URL \u5fc5\u987b\u662f\u4ee5\u659c\u7ebf "/" \u5f00\u5934\u7684\u7edd\u5bf9\u8def\u5f84\uff0c\u65b0 URL \u4e5f\u5fc5\u987b\u662f\u7edd\u5bf9\u8def\u5f84\uff0c\u4f46\u53ef\u4ee5\u662f\u5305\u542b\u4e86 scheme://serverhost \u7684\u7edd\u5bf9\u8def\u5f84\uff0c\u4e5f\u53ef\u4ee5\u662f\u4f7f\u7528\u659c\u7ebf\u5f00\u5934\u7684\u7edd\u5bf9\u8def\u5f84\u3002\u4f8b\u5982\uff1a'),(0,l.kt)("pre",null,(0,l.kt)("code",{parentName:"pre",className:"language-bash"},'# \u91cd\u5b9a\u5411\u5230\u4e0d\u540c\u4e3b\u673a\u4e0a\nRedirect "/service" "http://foo2.example.com/service"\n\n# \u91cd\u5b9a\u5411\u5230\u76f8\u540c\u4e3b\u673a\u4e0a\nRedirect "/one" "/two"\n')),(0,l.kt)("ul",null,(0,l.kt)("li",{parentName:"ul"},"\u5982\u679c\u5ba2\u6237\u7aef\u8bf7\u6c42 ",(0,l.kt)("a",{parentName:"li",href:"http://example.com/service/foo.txt"},"http://example.com/service/foo.txt")," \uff0c\u5c06\u88ab\u544a\u77e5\u91cd\u65b0\u53bb\u8bf7\u6c42 ",(0,l.kt)("a",{parentName:"li",href:"http://foo2.example.com/service/foo.txt"},"http://foo2.example.com/service/foo.txt")," \u3002"),(0,l.kt)("li",{parentName:"ul"},"\u53ef\u4ee5\u662f\u5305\u542b GET \u53c2\u6570\u7684 URL\uff0c\u4f8b\u5982 ",(0,l.kt)("a",{parentName:"li",href:"http://example.com/service/foo.pl?q=23&a=42"},"http://example.com/service/foo.pl?q=23","&","a=42")," \uff0c\u5c06\u91cd\u5b9a\u5411\u5230 ",(0,l.kt)("a",{parentName:"li",href:"http://foo2.example.com/service/foo.pl?q=23&a=42"},"http://foo2.example.com/service/foo.pl?q=23","&","a=42")," \u3002\u4f46\u6ce8\u610f\uff0cPOST \u65b9\u6cd5\u4f1a\u88ab\u65e0\u89c6\u3002")),(0,l.kt)("p",null,"\u5982\u679c\u6ca1\u6709\u6307\u5b9a status \u53c2\u6570\uff0c\u5219\u91cd\u5b9a\u5411\u662f\u4e34\u65f6\u91cd\u5b9a\u5411(HTTP status 302)\u3002\u5bf9\u5ba2\u6237\u7aef\u6765\u8bf4\uff0c\u6b64\u8d44\u6e90\u7684\u8def\u5f84\u53d8\u52a8\u662f\u4e34\u65f6\u6027\u7684\u3002\u4ee5\u4e0b\u51e0\u4e2a status \u53c2\u6570\u53ef\u4ee5\u8fd4\u56de\u5404\u81ea\u4e0d\u540c\u7684 HTTP \u72b6\u6001\u7801\uff1a"),(0,l.kt)("ul",null,(0,l.kt)("li",{parentName:"ul"},"permanent\uff1a\u8fd4\u56de\u4e00\u4e2a\u6c38\u4e45\u6027\u91cd\u5b9a\u5411\u72b6\u6001\u7801(301)\uff0c\u8868\u793a\u6b64\u8d44\u6e90\u7684\u4f4d\u7f6e\u53d8\u52a8\u662f\u6c38\u4e45\u6027\u7684\u3002"),(0,l.kt)("li",{parentName:"ul"},"temp\uff1a\u8fd4\u56de\u4e00\u4e2a\u4e34\u65f6\u6027\u91cd\u5b9a\u5411\u72b6\u6001\u7801(302)\uff0c\u8fd9\u662f\u9ed8\u8ba4\u503c\u3002"),(0,l.kt)("li",{parentName:"ul"},'seeother\uff1a\u8fd4\u56de\u4e00\u4e2a "\u53c2\u89c1" \u72b6\u6001\u7801(303)\uff0c\u8868\u793a\u6b64\u8d44\u6e90\u5df2\u7ecf\u88ab\u66ff\u4ee3\u3002'),(0,l.kt)("li",{parentName:"ul"},'gone\uff1a\u8fd4\u56de\u4e00\u4e2a "\u5df2\u5e9f\u5f03" \u72b6\u6001\u7801(410)\uff0c\u8868\u793a\u6b64\u8d44\u6e90\u5df2\u7ecf\u88ab\u6c38\u4e45\u6027\u5730\u5220\u9664\u4e86\u3002\u5982\u679c\u6307\u5b9a\u4e86\u8fd9\u4e2a\u72b6\u6001\u7801\uff0c\u5219 new-URL \u53c2\u6570\u5c06\u88ab\u5ffd\u7565\u3002')),(0,l.kt)("p",null,"status \u53ef\u4ee5\u88ab\u6307\u5b9a\u4e3a\u67d0\u4e2a\u6570\u503c\u4ee5\u8fd4\u56de\u5176\u4ed6\u6307\u5b9a\u72b6\u6001\u7801\u3002\u5982\u679c\u6b64\u503c\u5728 300-399 \u4e4b\u95f4\uff0c\u5219\u5fc5\u987b\u63d0\u4f9b new-URL \u53c2\u6570\uff0c\u5426\u5219\u5fc5\u987b\u5ffd\u7565 new-URL\uff0c\u4f46\u4e0d\u7ba1\u5982\u4f55\uff0c\u503c\u5fc5\u987b\u662f\u6709\u6548\u7684 http \u72b6\u6001\u7801\u503c\u3002"),(0,l.kt)("p",null,"\u548c alias \u6307\u4ee4\u4e00\u6837\uff0c\u5982\u679c\u5199\u5728 Location \u5bb9\u5668\u4e2d\uff0c\u5219 old-URL \u5ffd\u7565\uff0c\u56e0\u4e3a\u5b83\u5df2\u7ecf\u5305\u542b\u5728 location \u5bb9\u5668\u7684\u8def\u5f84\u4e2d\u3002\u4f8b\u5982\uff1a"),(0,l.kt)("pre",null,(0,l.kt)("code",{parentName:"pre",className:"language-bash"},'<Location "/one">\n    Redirect permanent "http://example.com/two"\n</Location>\n<Location "/three">\n    Redirect 303 "http://example.com/other"\n</Location>\n<LocationMatch "/error/(?<NUMBER>[0-9]+)">\n    Redirect permanent "http://example.com/errors/%{env:MATCH_NUMBER}.html"\n</LocationMatch>\n')),(0,l.kt)("h2",{id:"65httpd-\u6dfb\u52a0\u65b0\u6a21\u5757"},"6.5\u3001httpd \u6dfb\u52a0\u65b0\u6a21\u5757"),(0,l.kt)("p",null,"\u6709\u4e9b\u65f6\u5019\u56e0\u4e3a\u7279\u6b8a\u9700\u6c42\uff0c\u9700\u8981\u5728\u5df2\u5b89\u88c5\u7684 httpd \u4e0a\u6dfb\u52a0\u4e00\u4e9b\u989d\u5916\u7684\u6a21\u5757\uff0c\u8fd9\u65f6\u5019\u8981\u4f7f\u7528 httpd-devel \u4e2d\u7684 apxs \u5de5\u5177\u3002\u8981\u4f7f\u7528\u8fd9\u4e2a\u6269\u5c55\u673a\u5236\uff0c\u4f60\u7684\u5e73\u53f0\u5fc5\u987b\u652f\u6301 DSO \u7279\u6027\uff0c\u5373\u8981\u6c42 Apache httpd \u5fc5\u987b\u5185\u5efa\u4e86 mod","_","so \u6a21\u5757\u3002"),(0,l.kt)("p",null,"apxs \u6dfb\u52a0\u6a21\u5757\u7684\u65b9\u6cd5\u5f88\u7b80\u5355\uff0c\u4ee5\u4e0b\u662f\u51e0\u4e2a\u53ef\u80fd\u7528\u4e0a\u7684\u9009\u9879\uff1a"),(0,l.kt)("ul",null,(0,l.kt)("li",{parentName:"ul"},(0,l.kt)("inlineCode",{parentName:"li"},"-c mod_foo.c"),"\uff1a\u5c06 c \u6587\u4ef6\u7f16\u8bd1\u4e3a .so \u6587\u4ef6\u3002"),(0,l.kt)("li",{parentName:"ul"},(0,l.kt)("inlineCode",{parentName:"li"},"-i"),"\uff1a\u8868\u793a\u5b89\u88c5\u4e00\u4e2a\u6216\u591a\u4e2a\u6a21\u5757\u5230 apache \u670d\u52a1\u6240\u5728\u76ee\u5f55\u7684 modules \u76ee\u5f55\u4e2d\u3002"),(0,l.kt)("li",{parentName:"ul"},(0,l.kt)("inlineCode",{parentName:"li"},"-a"),"\uff1a\u8868\u793a\u81ea\u52a8\u5728 httpd.conf \u4e2d\u52a0\u5165 LoadModule \u884c\u3002"),(0,l.kt)("li",{parentName:"ul"},(0,l.kt)("inlineCode",{parentName:"li"},"-A"),"\uff1a\u8868\u793a\u81ea\u52a8\u5728 httpd.conf \u4e2d\u52a0\u5165 #LoadModule \u884c\uff0c\u4e5f\u5c31\u662f\u8bf4\u5b89\u88c5\u4e86\u6a21\u5757\u4f46\u662f\u4e0d\u542f\u7528\u3002"),(0,l.kt)("li",{parentName:"ul"},(0,l.kt)("inlineCode",{parentName:"li"},"-n"),"\uff1a\u663e\u5f0f\u6307\u5b9a -i \u9700\u8981\u5b89\u88c5\u7684\u6a21\u5757\u540d\u3002")),(0,l.kt)("p",null,"\u4f8b\u5982\uff1a\u6dfb\u52a0 mod","_","proxy.so \u6a21\u5757\u3002"),(0,l.kt)("pre",null,(0,l.kt)("code",{parentName:"pre",className:"language-bash"},"cd httpd-2.4.51/modules  # \u8fdb\u5165\u5230httpd\u6e90\u7801\u7684\u89e3\u538b\u76ee\u5f55\napxs -c -i -A proxy/mod_proxy.c proxy/proxy_util.c\n")),(0,l.kt)("p",null,"\u5b89\u88c5\u6210\u529f\u540e\u7684\u6700\u540e\u51e0\u884c\u4f1a\u544a\u8bc9\u4f60\u8981\u53bb\u4fee\u6539\u914d\u7f6e\u6587\u4ef6\uff0c\u770b\u60c5\u51b5\u662f\u5426\u8981\u4fee\u6539 LoadModule \u6307\u4ee4\u6765\u52a0\u8f7d\u6a21\u5757\u3002"),(0,l.kt)("p",null,"\u6709\u65f6\u5019\u6dfb\u52a0\u4e00\u4e2a\u6a21\u5757\u540e\u91cd\u542f\u5931\u8d25\u4e86\u5e76\u63d0\u793a undefined Symbol\uff0c\u8bf4\u660e\u8fd8\u9700\u6dfb\u52a0\u53e6\u5916\u76f8\u5173\u7684\u6240\u9700\u6a21\u5757\u3002"),(0,l.kt)("p",null,"\u4f8b\u5982\uff0c\u4e0a\u9762\u5982\u679c\u53ea\u5b89\u88c5 ",(0,l.kt)("inlineCode",{parentName:"p"},"apxs -c -i -a proxy/mod_proxy.c")," \u65f6\u91cd\u542f httpd\u3002"),(0,l.kt)("pre",null,(0,l.kt)("code",{parentName:"pre",className:"language-bash"},"Starting httpd: httpd: Syntax error on line 117 of /etc/apache/httpd.conf: Cannot load modules/mod_proxy.so into server: /usr/local/apache/modules/mod_proxy.so: undefined symbol: ap_proxy_strmatch_domain\n")),(0,l.kt)("p",null,"\u8fd9\u8bf4\u660e\u8fd8\u9700\u8981\u88c5\u76f8\u5173\u7684 devel \u6216\u8005 util \u5bf9\u5e94\u7684\u6a21\u5757\u3002"))}d.isMDXComponent=!0},93903:function(e,t){t.Z="data:image/png;base64,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"}}]);